{"ast":null,"code":"import React$g__default, { useCallback, useMemo, useRef, useEffect, useState, useReducer, createContext, useContext, createElement, PureComponent, useLayoutEffect, forwardRef, useImperativeHandle } from 'react';\nimport { settings } from 'carbon-components';\nimport { Search, MultiSelect, Checkbox, RadioButtonGroup, RadioButton, Modal, Button, Pagination, Form, TextInput, FormLabel, SkeletonText, ToggleSmall, Tile, Link, Tooltip, Tabs, Tab, Dropdown, ComboBox, CodeSnippet } from 'carbon-components-react';\nimport ListBox from 'carbon-components-react/lib/components/ListBox';\nimport reactDom, { findDOMNode } from 'react-dom';\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\n\nvar _extendStatics = function extendStatics(d, b) {\n  _extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) {\n      if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    }\n  };\n\n  return _extendStatics(d, b);\n};\n\nfunction __extends(d, b) {\n  _extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nvar _assign = function __assign() {\n  _assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return _assign.apply(this, arguments);\n};\n\nfunction __rest(s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n}\n\nfunction __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\n\nfunction __generator(thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n}\n\nfunction __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) {\n    s += arguments[i].length;\n  }\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) {\n    for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) {\n      r[k] = a[j];\n    }\n  }\n\n  return r;\n}\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\n\n\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nvar _listCacheClear = listCacheClear;\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\n\nfunction eq(value, other) {\n  return value === other || value !== value && other !== other;\n}\n\nvar eq_1 = eq;\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\n\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n\n  while (length--) {\n    if (eq_1(array[length][0], key)) {\n      return length;\n    }\n  }\n\n  return -1;\n}\n\nvar _assocIndexOf = assocIndexOf;\n/** Used for built-in method references. */\n\nvar arrayProto = Array.prototype;\n/** Built-in value references. */\n\nvar splice = arrayProto.splice;\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\n\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = _assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n\n  var lastIndex = data.length - 1;\n\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n\n  --this.size;\n  return true;\n}\n\nvar _listCacheDelete = listCacheDelete;\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\n\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = _assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nvar _listCacheGet = listCacheGet;\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\n\nfunction listCacheHas(key) {\n  return _assocIndexOf(this.__data__, key) > -1;\n}\n\nvar _listCacheHas = listCacheHas;\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\n\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = _assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n\n  return this;\n}\n\nvar _listCacheSet = listCacheSet;\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\n\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n  this.clear();\n\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n} // Add methods to `ListCache`.\n\n\nListCache.prototype.clear = _listCacheClear;\nListCache.prototype['delete'] = _listCacheDelete;\nListCache.prototype.get = _listCacheGet;\nListCache.prototype.has = _listCacheHas;\nListCache.prototype.set = _listCacheSet;\nvar _ListCache = ListCache;\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\n\nfunction stackClear() {\n  this.__data__ = new _ListCache();\n  this.size = 0;\n}\n\nvar _stackClear = stackClear;\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\n\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n  this.size = data.size;\n  return result;\n}\n\nvar _stackDelete = stackDelete;\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\n\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nvar _stackGet = stackGet;\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\n\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nvar _stackHas = stackHas;\nvar commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nfunction unwrapExports(x) {\n  return x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\n}\n\nfunction createCommonjsModule(fn, module) {\n  return module = {\n    exports: {}\n  }, fn(module, module.exports), module.exports;\n}\n\nfunction getCjsExportFromNamespace(n) {\n  return n && n['default'] || n;\n}\n/** Detect free variable `global` from Node.js. */\n\n\nvar freeGlobal = typeof commonjsGlobal == 'object' && commonjsGlobal && commonjsGlobal.Object === Object && commonjsGlobal;\nvar _freeGlobal = freeGlobal;\n/** Detect free variable `self`. */\n\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n/** Used as a reference to the global object. */\n\nvar root = _freeGlobal || freeSelf || Function('return this')();\nvar _root = root;\n/** Built-in value references. */\n\nvar Symbol$1 = _root.Symbol;\nvar _Symbol = Symbol$1;\n/** Used for built-in method references. */\n\nvar objectProto = Object.prototype;\n/** Used to check objects for own properties. */\n\nvar hasOwnProperty = objectProto.hasOwnProperty;\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\n\nvar nativeObjectToString = objectProto.toString;\n/** Built-in value references. */\n\nvar symToStringTag = _Symbol ? _Symbol.toStringTag : undefined;\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\n\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n\n  return result;\n}\n\nvar _getRawTag = getRawTag;\n/** Used for built-in method references. */\n\nvar objectProto$1 = Object.prototype;\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\n\nvar nativeObjectToString$1 = objectProto$1.toString;\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\n\nfunction objectToString(value) {\n  return nativeObjectToString$1.call(value);\n}\n\nvar _objectToString = objectToString;\n/** `Object#toString` result references. */\n\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n/** Built-in value references. */\n\nvar symToStringTag$1 = _Symbol ? _Symbol.toStringTag : undefined;\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\n\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n\n  return symToStringTag$1 && symToStringTag$1 in Object(value) ? _getRawTag(value) : _objectToString(value);\n}\n\nvar _baseGetTag = baseGetTag;\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\n\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nvar isObject_1 = isObject;\n/** `Object#toString` result references. */\n\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\n\nfunction isFunction(value) {\n  if (!isObject_1(value)) {\n    return false;\n  } // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n\n\n  var tag = _baseGetTag(value);\n\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nvar isFunction_1 = isFunction;\n/** Used to detect overreaching core-js shims. */\n\nvar coreJsData = _root['__core-js_shared__'];\nvar _coreJsData = coreJsData;\n/** Used to detect methods masquerading as native. */\n\nvar maskSrcKey = function () {\n  var uid = /[^.]+$/.exec(_coreJsData && _coreJsData.keys && _coreJsData.keys.IE_PROTO || '');\n  return uid ? 'Symbol(src)_1.' + uid : '';\n}();\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\n\n\nfunction isMasked(func) {\n  return !!maskSrcKey && maskSrcKey in func;\n}\n\nvar _isMasked = isMasked;\n/** Used for built-in method references. */\n\nvar funcProto = Function.prototype;\n/** Used to resolve the decompiled source of functions. */\n\nvar funcToString = funcProto.toString;\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\n\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n\n    try {\n      return func + '';\n    } catch (e) {}\n  }\n\n  return '';\n}\n\nvar _toSource = toSource;\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\n\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n/** Used to detect host constructors (Safari). */\n\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n/** Used for built-in method references. */\n\nvar funcProto$1 = Function.prototype,\n    objectProto$2 = Object.prototype;\n/** Used to resolve the decompiled source of functions. */\n\nvar funcToString$1 = funcProto$1.toString;\n/** Used to check objects for own properties. */\n\nvar hasOwnProperty$1 = objectProto$2.hasOwnProperty;\n/** Used to detect if a method is native. */\n\nvar reIsNative = RegExp('^' + funcToString$1.call(hasOwnProperty$1).replace(reRegExpChar, '\\\\$&').replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$');\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\n\nfunction baseIsNative(value) {\n  if (!isObject_1(value) || _isMasked(value)) {\n    return false;\n  }\n\n  var pattern = isFunction_1(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(_toSource(value));\n}\n\nvar _baseIsNative = baseIsNative;\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\n\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nvar _getValue = getValue;\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\n\nfunction getNative(object, key) {\n  var value = _getValue(object, key);\n\n  return _baseIsNative(value) ? value : undefined;\n}\n\nvar _getNative = getNative;\n/* Built-in method references that are verified to be native. */\n\nvar Map$1 = _getNative(_root, 'Map');\n\nvar _Map = Map$1;\n/* Built-in method references that are verified to be native. */\n\nvar nativeCreate = _getNative(Object, 'create');\n\nvar _nativeCreate = nativeCreate;\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\n\nfunction hashClear() {\n  this.__data__ = _nativeCreate ? _nativeCreate(null) : {};\n  this.size = 0;\n}\n\nvar _hashClear = hashClear;\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\n\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nvar _hashDelete = hashDelete;\n/** Used to stand-in for `undefined` hash values. */\n\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n/** Used for built-in method references. */\n\nvar objectProto$3 = Object.prototype;\n/** Used to check objects for own properties. */\n\nvar hasOwnProperty$2 = objectProto$3.hasOwnProperty;\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\n\nfunction hashGet(key) {\n  var data = this.__data__;\n\n  if (_nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n\n  return hasOwnProperty$2.call(data, key) ? data[key] : undefined;\n}\n\nvar _hashGet = hashGet;\n/** Used for built-in method references. */\n\nvar objectProto$4 = Object.prototype;\n/** Used to check objects for own properties. */\n\nvar hasOwnProperty$3 = objectProto$4.hasOwnProperty;\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\n\nfunction hashHas(key) {\n  var data = this.__data__;\n  return _nativeCreate ? data[key] !== undefined : hasOwnProperty$3.call(data, key);\n}\n\nvar _hashHas = hashHas;\n/** Used to stand-in for `undefined` hash values. */\n\nvar HASH_UNDEFINED$1 = '__lodash_hash_undefined__';\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\n\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = _nativeCreate && value === undefined ? HASH_UNDEFINED$1 : value;\n  return this;\n}\n\nvar _hashSet = hashSet;\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\n\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n  this.clear();\n\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n} // Add methods to `Hash`.\n\n\nHash.prototype.clear = _hashClear;\nHash.prototype['delete'] = _hashDelete;\nHash.prototype.get = _hashGet;\nHash.prototype.has = _hashHas;\nHash.prototype.set = _hashSet;\nvar _Hash = Hash;\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\n\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new _Hash(),\n    'map': new (_Map || _ListCache)(),\n    'string': new _Hash()\n  };\n}\n\nvar _mapCacheClear = mapCacheClear;\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\n\nfunction isKeyable(value) {\n  var type = typeof value;\n  return type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean' ? value !== '__proto__' : value === null;\n}\n\nvar _isKeyable = isKeyable;\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\n\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return _isKeyable(key) ? data[typeof key == 'string' ? 'string' : 'hash'] : data.map;\n}\n\nvar _getMapData = getMapData;\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\n\nfunction mapCacheDelete(key) {\n  var result = _getMapData(this, key)['delete'](key);\n\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nvar _mapCacheDelete = mapCacheDelete;\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\n\nfunction mapCacheGet(key) {\n  return _getMapData(this, key).get(key);\n}\n\nvar _mapCacheGet = mapCacheGet;\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\n\nfunction mapCacheHas(key) {\n  return _getMapData(this, key).has(key);\n}\n\nvar _mapCacheHas = mapCacheHas;\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\n\nfunction mapCacheSet(key, value) {\n  var data = _getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nvar _mapCacheSet = mapCacheSet;\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\n\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n  this.clear();\n\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n} // Add methods to `MapCache`.\n\n\nMapCache.prototype.clear = _mapCacheClear;\nMapCache.prototype['delete'] = _mapCacheDelete;\nMapCache.prototype.get = _mapCacheGet;\nMapCache.prototype.has = _mapCacheHas;\nMapCache.prototype.set = _mapCacheSet;\nvar _MapCache = MapCache;\n/** Used as the size to enable large array optimizations. */\n\nvar LARGE_ARRAY_SIZE = 200;\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\n\nfunction stackSet(key, value) {\n  var data = this.__data__;\n\n  if (data instanceof _ListCache) {\n    var pairs = data.__data__;\n\n    if (!_Map || pairs.length < LARGE_ARRAY_SIZE - 1) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n\n    data = this.__data__ = new _MapCache(pairs);\n  }\n\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nvar _stackSet = stackSet;\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\n\nfunction Stack(entries) {\n  var data = this.__data__ = new _ListCache(entries);\n  this.size = data.size;\n} // Add methods to `Stack`.\n\n\nStack.prototype.clear = _stackClear;\nStack.prototype['delete'] = _stackDelete;\nStack.prototype.get = _stackGet;\nStack.prototype.has = _stackHas;\nStack.prototype.set = _stackSet;\nvar _Stack = Stack;\n/** Used to stand-in for `undefined` hash values. */\n\nvar HASH_UNDEFINED$2 = '__lodash_hash_undefined__';\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\n\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED$2);\n\n  return this;\n}\n\nvar _setCacheAdd = setCacheAdd;\n/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\n\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nvar _setCacheHas = setCacheHas;\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\n\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n  this.__data__ = new _MapCache();\n\n  while (++index < length) {\n    this.add(values[index]);\n  }\n} // Add methods to `SetCache`.\n\n\nSetCache.prototype.add = SetCache.prototype.push = _setCacheAdd;\nSetCache.prototype.has = _setCacheHas;\nvar _SetCache = SetCache;\n/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\n\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nvar _arraySome = arraySome;\n/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\n\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nvar _cacheHas = cacheHas;\n/** Used to compose bitmasks for value comparisons. */\n\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\n\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  } // Check that cyclic values are equal.\n\n\n  var arrStacked = stack.get(array);\n  var othStacked = stack.get(other);\n\n  if (arrStacked && othStacked) {\n    return arrStacked == other && othStacked == array;\n  }\n\n  var index = -1,\n      result = true,\n      seen = bitmask & COMPARE_UNORDERED_FLAG ? new _SetCache() : undefined;\n  stack.set(array, other);\n  stack.set(other, array); // Ignore non-index properties.\n\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial ? customizer(othValue, arrValue, index, other, array, stack) : customizer(arrValue, othValue, index, array, other, stack);\n    }\n\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n\n      result = false;\n      break;\n    } // Recursively compare arrays (susceptible to call stack limits).\n\n\n    if (seen) {\n      if (!_arraySome(other, function (othValue, othIndex) {\n        if (!_cacheHas(seen, othIndex) && (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n          return seen.push(othIndex);\n        }\n      })) {\n        result = false;\n        break;\n      }\n    } else if (!(arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n      result = false;\n      break;\n    }\n  }\n\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nvar _equalArrays = equalArrays;\n/** Built-in value references. */\n\nvar Uint8Array$1 = _root.Uint8Array;\nvar _Uint8Array = Uint8Array$1;\n/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\n\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n  map.forEach(function (value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nvar _mapToArray = mapToArray;\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\n\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n  set.forEach(function (value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nvar _setToArray = setToArray;\n/** Used to compose bitmasks for value comparisons. */\n\nvar COMPARE_PARTIAL_FLAG$1 = 1,\n    COMPARE_UNORDERED_FLAG$1 = 2;\n/** `Object#toString` result references. */\n\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n/** Used to convert symbols to primitives and strings. */\n\nvar symbolProto = _Symbol ? _Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\n\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if (object.byteLength != other.byteLength || object.byteOffset != other.byteOffset) {\n        return false;\n      }\n\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if (object.byteLength != other.byteLength || !equalFunc(new _Uint8Array(object), new _Uint8Array(other))) {\n        return false;\n      }\n\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq_1(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == other + '';\n\n    case mapTag:\n      var convert = _mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG$1;\n      convert || (convert = _setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      } // Assume cyclic values are equal.\n\n\n      var stacked = stack.get(object);\n\n      if (stacked) {\n        return stacked == other;\n      }\n\n      bitmask |= COMPARE_UNORDERED_FLAG$1; // Recursively compare objects (susceptible to call stack limits).\n\n      stack.set(object, other);\n\n      var result = _equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n\n  }\n\n  return false;\n}\n\nvar _equalByTag = equalByTag;\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\n\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n\n  return array;\n}\n\nvar _arrayPush = arrayPush;\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\n\nvar isArray = Array.isArray;\nvar isArray_1 = isArray;\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\n\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray_1(object) ? result : _arrayPush(result, symbolsFunc(object));\n}\n\nvar _baseGetAllKeys = baseGetAllKeys;\n/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\n\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n\n  return result;\n}\n\nvar _arrayFilter = arrayFilter;\n/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\n\nfunction stubArray() {\n  return [];\n}\n\nvar stubArray_1 = stubArray;\n/** Used for built-in method references. */\n\nvar objectProto$5 = Object.prototype;\n/** Built-in value references. */\n\nvar propertyIsEnumerable = objectProto$5.propertyIsEnumerable;\n/* Built-in method references for those with the same name as other `lodash` methods. */\n\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\n\nvar getSymbols = !nativeGetSymbols ? stubArray_1 : function (object) {\n  if (object == null) {\n    return [];\n  }\n\n  object = Object(object);\n  return _arrayFilter(nativeGetSymbols(object), function (symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\nvar _getSymbols = getSymbols;\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\n\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n\n  return result;\n}\n\nvar _baseTimes = baseTimes;\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\n\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nvar isObjectLike_1 = isObjectLike;\n/** `Object#toString` result references. */\n\nvar argsTag = '[object Arguments]';\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\n\nfunction baseIsArguments(value) {\n  return isObjectLike_1(value) && _baseGetTag(value) == argsTag;\n}\n\nvar _baseIsArguments = baseIsArguments;\n/** Used for built-in method references. */\n\nvar objectProto$6 = Object.prototype;\n/** Used to check objects for own properties. */\n\nvar hasOwnProperty$4 = objectProto$6.hasOwnProperty;\n/** Built-in value references. */\n\nvar propertyIsEnumerable$1 = objectProto$6.propertyIsEnumerable;\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\n\nvar isArguments = _baseIsArguments(function () {\n  return arguments;\n}()) ? _baseIsArguments : function (value) {\n  return isObjectLike_1(value) && hasOwnProperty$4.call(value, 'callee') && !propertyIsEnumerable$1.call(value, 'callee');\n};\nvar isArguments_1 = isArguments;\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\n\nfunction stubFalse() {\n  return false;\n}\n\nvar stubFalse_1 = stubFalse;\nvar isBuffer_1 = createCommonjsModule(function (module, exports) {\n  /** Detect free variable `exports`. */\n  var freeExports = exports && !exports.nodeType && exports;\n  /** Detect free variable `module`. */\n\n  var freeModule = freeExports && 'object' == 'object' && module && !module.nodeType && module;\n  /** Detect the popular CommonJS extension `module.exports`. */\n\n  var moduleExports = freeModule && freeModule.exports === freeExports;\n  /** Built-in value references. */\n\n  var Buffer = moduleExports ? _root.Buffer : undefined;\n  /* Built-in method references for those with the same name as other `lodash` methods. */\n\n  var nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n  /**\n   * Checks if `value` is a buffer.\n   *\n   * @static\n   * @memberOf _\n   * @since 4.3.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n   * @example\n   *\n   * _.isBuffer(new Buffer(2));\n   * // => true\n   *\n   * _.isBuffer(new Uint8Array(2));\n   * // => false\n   */\n\n  var isBuffer = nativeIsBuffer || stubFalse_1;\n  module.exports = isBuffer;\n});\n/** Used as references for various `Number` constants. */\n\nvar MAX_SAFE_INTEGER = 9007199254740991;\n/** Used to detect unsigned integer values. */\n\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\n\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length && (type == 'number' || type != 'symbol' && reIsUint.test(value)) && value > -1 && value % 1 == 0 && value < length;\n}\n\nvar _isIndex = isIndex;\n/** Used as references for various `Number` constants. */\n\nvar MAX_SAFE_INTEGER$1 = 9007199254740991;\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\n\nfunction isLength(value) {\n  return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER$1;\n}\n\nvar isLength_1 = isLength;\n/** `Object#toString` result references. */\n\nvar argsTag$1 = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag$1 = '[object Boolean]',\n    dateTag$1 = '[object Date]',\n    errorTag$1 = '[object Error]',\n    funcTag$1 = '[object Function]',\n    mapTag$1 = '[object Map]',\n    numberTag$1 = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag$1 = '[object RegExp]',\n    setTag$1 = '[object Set]',\n    stringTag$1 = '[object String]',\n    weakMapTag = '[object WeakMap]';\nvar arrayBufferTag$1 = '[object ArrayBuffer]',\n    dataViewTag$1 = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n/** Used to identify `toStringTag` values of typed arrays. */\n\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] = typedArrayTags[int8Tag] = typedArrayTags[int16Tag] = typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] = typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] = typedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag$1] = typedArrayTags[arrayTag] = typedArrayTags[arrayBufferTag$1] = typedArrayTags[boolTag$1] = typedArrayTags[dataViewTag$1] = typedArrayTags[dateTag$1] = typedArrayTags[errorTag$1] = typedArrayTags[funcTag$1] = typedArrayTags[mapTag$1] = typedArrayTags[numberTag$1] = typedArrayTags[objectTag] = typedArrayTags[regexpTag$1] = typedArrayTags[setTag$1] = typedArrayTags[stringTag$1] = typedArrayTags[weakMapTag] = false;\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\n\nfunction baseIsTypedArray(value) {\n  return isObjectLike_1(value) && isLength_1(value.length) && !!typedArrayTags[_baseGetTag(value)];\n}\n\nvar _baseIsTypedArray = baseIsTypedArray;\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\n\nfunction baseUnary(func) {\n  return function (value) {\n    return func(value);\n  };\n}\n\nvar _baseUnary = baseUnary;\n\nvar _nodeUtil = createCommonjsModule(function (module, exports) {\n  /** Detect free variable `exports`. */\n  var freeExports = exports && !exports.nodeType && exports;\n  /** Detect free variable `module`. */\n\n  var freeModule = freeExports && 'object' == 'object' && module && !module.nodeType && module;\n  /** Detect the popular CommonJS extension `module.exports`. */\n\n  var moduleExports = freeModule && freeModule.exports === freeExports;\n  /** Detect free variable `process` from Node.js. */\n\n  var freeProcess = moduleExports && _freeGlobal.process;\n  /** Used to access faster Node.js helpers. */\n\n  var nodeUtil = function () {\n    try {\n      // Use `util.types` for Node.js 10+.\n      var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n      if (types) {\n        return types;\n      } // Legacy `process.binding('util')` for Node.js < 10.\n\n\n      return freeProcess && freeProcess.binding && freeProcess.binding('util');\n    } catch (e) {}\n  }();\n\n  module.exports = nodeUtil;\n});\n/* Node.js helper references. */\n\n\nvar nodeIsTypedArray = _nodeUtil && _nodeUtil.isTypedArray;\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\n\nvar isTypedArray = nodeIsTypedArray ? _baseUnary(nodeIsTypedArray) : _baseIsTypedArray;\nvar isTypedArray_1 = isTypedArray;\n/** Used for built-in method references. */\n\nvar objectProto$7 = Object.prototype;\n/** Used to check objects for own properties. */\n\nvar hasOwnProperty$5 = objectProto$7.hasOwnProperty;\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\n\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray_1(value),\n      isArg = !isArr && isArguments_1(value),\n      isBuff = !isArr && !isArg && isBuffer_1(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray_1(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? _baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty$5.call(value, key)) && !(skipIndexes && ( // Safari 9 has enumerable `arguments.length` in strict mode.\n    key == 'length' || // Node.js 0.10 has enumerable non-index properties on buffers.\n    isBuff && (key == 'offset' || key == 'parent') || // PhantomJS 2 has enumerable non-index properties on typed arrays.\n    isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset') || // Skip index properties.\n    _isIndex(key, length)))) {\n      result.push(key);\n    }\n  }\n\n  return result;\n}\n\nvar _arrayLikeKeys = arrayLikeKeys;\n/** Used for built-in method references. */\n\nvar objectProto$8 = Object.prototype;\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\n\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = typeof Ctor == 'function' && Ctor.prototype || objectProto$8;\n  return value === proto;\n}\n\nvar _isPrototype = isPrototype;\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\n\nfunction overArg(func, transform) {\n  return function (arg) {\n    return func(transform(arg));\n  };\n}\n\nvar _overArg = overArg;\n/* Built-in method references for those with the same name as other `lodash` methods. */\n\nvar nativeKeys = _overArg(Object.keys, Object);\n\nvar _nativeKeys = nativeKeys;\n/** Used for built-in method references. */\n\nvar objectProto$9 = Object.prototype;\n/** Used to check objects for own properties. */\n\nvar hasOwnProperty$6 = objectProto$9.hasOwnProperty;\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\n\nfunction baseKeys(object) {\n  if (!_isPrototype(object)) {\n    return _nativeKeys(object);\n  }\n\n  var result = [];\n\n  for (var key in Object(object)) {\n    if (hasOwnProperty$6.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n\n  return result;\n}\n\nvar _baseKeys = baseKeys;\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\n\nfunction isArrayLike(value) {\n  return value != null && isLength_1(value.length) && !isFunction_1(value);\n}\n\nvar isArrayLike_1 = isArrayLike;\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\n\nfunction keys(object) {\n  return isArrayLike_1(object) ? _arrayLikeKeys(object) : _baseKeys(object);\n}\n\nvar keys_1 = keys;\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\n\nfunction getAllKeys(object) {\n  return _baseGetAllKeys(object, keys_1, _getSymbols);\n}\n\nvar _getAllKeys = getAllKeys;\n/** Used to compose bitmasks for value comparisons. */\n\nvar COMPARE_PARTIAL_FLAG$2 = 1;\n/** Used for built-in method references. */\n\nvar objectProto$a = Object.prototype;\n/** Used to check objects for own properties. */\n\nvar hasOwnProperty$7 = objectProto$a.hasOwnProperty;\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\n\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG$2,\n      objProps = _getAllKeys(object),\n      objLength = objProps.length,\n      othProps = _getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n\n  var index = objLength;\n\n  while (index--) {\n    var key = objProps[index];\n\n    if (!(isPartial ? key in other : hasOwnProperty$7.call(other, key))) {\n      return false;\n    }\n  } // Check that cyclic values are equal.\n\n\n  var objStacked = stack.get(object);\n  var othStacked = stack.get(other);\n\n  if (objStacked && othStacked) {\n    return objStacked == other && othStacked == object;\n  }\n\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n  var skipCtor = isPartial;\n\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial ? customizer(othValue, objValue, key, other, object, stack) : customizer(objValue, othValue, key, object, other, stack);\n    } // Recursively compare objects (susceptible to call stack limits).\n\n\n    if (!(compared === undefined ? objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack) : compared)) {\n      result = false;\n      break;\n    }\n\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor; // Non `Object` object instances with different constructors are not equal.\n\n    if (objCtor != othCtor && 'constructor' in object && 'constructor' in other && !(typeof objCtor == 'function' && objCtor instanceof objCtor && typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nvar _equalObjects = equalObjects;\n/* Built-in method references that are verified to be native. */\n\nvar DataView = _getNative(_root, 'DataView');\n\nvar _DataView = DataView;\n/* Built-in method references that are verified to be native. */\n\nvar Promise$1 = _getNative(_root, 'Promise');\n\nvar _Promise = Promise$1;\n/* Built-in method references that are verified to be native. */\n\nvar Set$1 = _getNative(_root, 'Set');\n\nvar _Set = Set$1;\n/* Built-in method references that are verified to be native. */\n\nvar WeakMap$1 = _getNative(_root, 'WeakMap');\n\nvar _WeakMap = WeakMap$1;\n/** `Object#toString` result references. */\n\nvar mapTag$2 = '[object Map]',\n    objectTag$1 = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag$2 = '[object Set]',\n    weakMapTag$1 = '[object WeakMap]';\nvar dataViewTag$2 = '[object DataView]';\n/** Used to detect maps, sets, and weakmaps. */\n\nvar dataViewCtorString = _toSource(_DataView),\n    mapCtorString = _toSource(_Map),\n    promiseCtorString = _toSource(_Promise),\n    setCtorString = _toSource(_Set),\n    weakMapCtorString = _toSource(_WeakMap);\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\n\n\nvar getTag = _baseGetTag; // Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\n\nif (_DataView && getTag(new _DataView(new ArrayBuffer(1))) != dataViewTag$2 || _Map && getTag(new _Map()) != mapTag$2 || _Promise && getTag(_Promise.resolve()) != promiseTag || _Set && getTag(new _Set()) != setTag$2 || _WeakMap && getTag(new _WeakMap()) != weakMapTag$1) {\n  getTag = function getTag(value) {\n    var result = _baseGetTag(value),\n        Ctor = result == objectTag$1 ? value.constructor : undefined,\n        ctorString = Ctor ? _toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString:\n          return dataViewTag$2;\n\n        case mapCtorString:\n          return mapTag$2;\n\n        case promiseCtorString:\n          return promiseTag;\n\n        case setCtorString:\n          return setTag$2;\n\n        case weakMapCtorString:\n          return weakMapTag$1;\n      }\n    }\n\n    return result;\n  };\n}\n\nvar _getTag = getTag;\n/** Used to compose bitmasks for value comparisons. */\n\nvar COMPARE_PARTIAL_FLAG$3 = 1;\n/** `Object#toString` result references. */\n\nvar argsTag$2 = '[object Arguments]',\n    arrayTag$1 = '[object Array]',\n    objectTag$2 = '[object Object]';\n/** Used for built-in method references. */\n\nvar objectProto$b = Object.prototype;\n/** Used to check objects for own properties. */\n\nvar hasOwnProperty$8 = objectProto$b.hasOwnProperty;\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\n\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray_1(object),\n      othIsArr = isArray_1(other),\n      objTag = objIsArr ? arrayTag$1 : _getTag(object),\n      othTag = othIsArr ? arrayTag$1 : _getTag(other);\n  objTag = objTag == argsTag$2 ? objectTag$2 : objTag;\n  othTag = othTag == argsTag$2 ? objectTag$2 : othTag;\n  var objIsObj = objTag == objectTag$2,\n      othIsObj = othTag == objectTag$2,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer_1(object)) {\n    if (!isBuffer_1(other)) {\n      return false;\n    }\n\n    objIsArr = true;\n    objIsObj = false;\n  }\n\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new _Stack());\n    return objIsArr || isTypedArray_1(object) ? _equalArrays(object, other, bitmask, customizer, equalFunc, stack) : _equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n\n  if (!(bitmask & COMPARE_PARTIAL_FLAG$3)) {\n    var objIsWrapped = objIsObj && hasOwnProperty$8.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty$8.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n      stack || (stack = new _Stack());\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n\n  if (!isSameTag) {\n    return false;\n  }\n\n  stack || (stack = new _Stack());\n  return _equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nvar _baseIsEqualDeep = baseIsEqualDeep;\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\n\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n\n  if (value == null || other == null || !isObjectLike_1(value) && !isObjectLike_1(other)) {\n    return value !== value && other !== other;\n  }\n\n  return _baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nvar _baseIsEqual = baseIsEqual;\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\n\nfunction isEqual(value, other) {\n  return _baseIsEqual(value, other);\n}\n\nvar isEqual_1 = isEqual; // Pulled from https://github.com/kentcdodds/use-deep-compare-effect\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\nfunction useDeepCompareMemoize(value) {\n  var ref = useRef();\n\n  if (!isEqual_1(value, ref.current)) {\n    ref.current = value;\n  }\n\n  return ref.current;\n}\n\nfunction useDeepCompareMemo(factory, // eslint-disable-next-line @typescript-eslint/no-explicit-any\ndependencies) {\n  return useMemo(factory, useDeepCompareMemoize(dependencies));\n} // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\nfunction useDeepCompareCallback(callback, // eslint-disable-next-line @typescript-eslint/no-explicit-any\ndependencies) {\n  return useCallback(callback, useDeepCompareMemoize(dependencies));\n} // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\nfunction useDeepCompareEffect(callback, dependencies) {\n  useEffect(callback, useDeepCompareMemoize(dependencies));\n}\n\nfunction deprecateReturnFields(queryParams) {\n  if (queryParams && queryParams.returnFields) {\n    var returnFields = queryParams.returnFields,\n        rest = __rest(queryParams, [\"returnFields\"]);\n\n    console.warn('\"returnFields\" has been renamed to \"_return\". Support for \"returnFields\" will be removed in the next major release');\n    return _assign(_assign({}, rest), {\n      _return: returnFields\n    });\n  }\n\n  return queryParams;\n}\n/**\r\n * generic reducer to handle updating loading, error, and data\r\n * @param state - incoming state to modify\r\n * @param action - contains type of action as well as payload to store in the reducer (if any)\r\n */\n\n\nvar dataFetchReducer = function dataFetchReducer(state, action) {\n  switch (action.type) {\n    case 'FETCH_REQUEST':\n      return _assign(_assign({}, state), {\n        isLoading: true,\n        isError: false,\n        error: null\n      });\n\n    case 'FETCH_SUCCESS':\n      return _assign(_assign({}, state), {\n        isLoading: false,\n        isError: false,\n        error: null,\n        data: action.payload\n      });\n\n    case 'FETCH_FAILURE':\n      return _assign(_assign({}, state), {\n        isLoading: false,\n        isError: true,\n        error: action.error || null\n      });\n\n    default:\n      throw new Error();\n  }\n};\n/**\r\n * Custom hook that fetches and stores data while handling complex condidions such as:\r\n * - request cancellation\r\n * - latest data fetching\r\n * - error handling\r\n * @param initialParameters - initial parameters used with this API\r\n * @param initialData - initial response data for this API\r\n * @param searchClientMethod - api method reference on the searchClient\r\n * @param searchClient - the client used to do data fetching\r\n */\n\n\nvar useDataApi = function useDataApi(initialParameters, searchClientMethod, searchClient, initialData, transformResult) {\n  // useRef stores state without rerenders\n  // token to pass by reference instead of by value to keep track of cancellation state on unmount\n  var cancelToken = useRef(false); // counter to keep track of the most recent API request\n\n  var requestIdRef = useRef(0); // token used to invoke the API call and optionally return the response data to the callback\n\n  var _a = useState({\n    trigger: false,\n    callback: undefined\n  }),\n      fetchToken = _a[0],\n      setFetchToken = _a[1];\n\n  var _b = useState(initialParameters),\n      parameters = _b[0],\n      setParameters = _b[1];\n\n  var _c = useReducer(dataFetchReducer, {\n    isLoading: false,\n    isError: false,\n    data: initialData,\n    error: null\n  }),\n      state = _c[0],\n      dispatch = _c[1];\n\n  var setData = function setData(data) {\n    dispatch({\n      type: 'FETCH_SUCCESS',\n      payload: data\n    });\n  };\n\n  var fetchData = useCallback(function (parameters, requestId, callback, storeResult) {\n    if (storeResult === void 0) {\n      storeResult = true;\n    }\n\n    return __awaiter(void 0, void 0, void 0, function () {\n      var result, payload, error_1;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            dispatch({\n              type: 'FETCH_REQUEST'\n            });\n            _a.label = 1;\n\n          case 1:\n            _a.trys.push([1, 3,, 4]);\n\n            return [4\n            /*yield*/\n            , searchClientMethod.call(searchClient, parameters)];\n\n          case 2:\n            result = _a.sent().result; // before storing the data, make sure the component hasn't been unmounted\n            // and make sure this request is the most recent one (discard old requests)\n\n            if (!cancelToken.current && requestId === requestIdRef.current) {\n              payload = result;\n\n              if (transformResult) {\n                payload = transformResult(result);\n              }\n\n              if (storeResult) {\n                dispatch({\n                  type: 'FETCH_SUCCESS',\n                  payload: payload\n                });\n              }\n\n              if (callback) {\n                callback(payload);\n              }\n            }\n\n            return [3\n            /*break*/\n            , 4];\n\n          case 3:\n            error_1 = _a.sent();\n\n            if (!cancelToken.current) {\n              dispatch({\n                type: 'FETCH_FAILURE',\n                error: error_1\n              });\n            }\n\n            return [3\n            /*break*/\n            , 4];\n\n          case 4:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  }, [searchClient, searchClientMethod, transformResult]); // in order to prevent state updates after component unmount, set the cancel token\n  // need pass by reference to allow us to change it before unmount\n\n  useEffect(function () {\n    return function () {\n      cancelToken.current = true;\n    };\n  }, []); // this effect invokes the API by changing whenever fetchToken is updated\n\n  useEffect(function () {\n    if (fetchToken.trigger) {\n      requestIdRef.current++; // pass the request id by value\n\n      fetchData(parameters, requestIdRef.current, fetchToken.callback, fetchToken.storeResult);\n      setFetchToken({\n        trigger: false,\n        callback: undefined\n      });\n    }\n  }, [fetchToken, fetchData, parameters]);\n  return {\n    state: state,\n    parameters: parameters,\n    setParameters: setParameters,\n    setData: setData,\n    setFetchToken: setFetchToken\n  };\n};\n/**\r\n * Concrete usage of the useDataApi helper method for fetching project fields\r\n * @param searchParameters - initial search parameters to set\r\n * @param searchClient - search client used to perform requests\r\n * @return a 2-element array containing the fields store data and fields-specific store actions\r\n */\n\n\nvar useFieldsApi = function useFieldsApi(fetchFieldsParams, searchClient) {\n  var _a = useDataApi(fetchFieldsParams, searchClient.listFields, searchClient),\n      fieldsState = _a.state,\n      setFieldsResponse = _a.setData,\n      setFetchToken = _a.setFetchToken;\n\n  var fetchFields = useCallback(function () {\n    return setFetchToken({\n      trigger: true\n    });\n  }, [setFetchToken]);\n  return [fieldsState, {\n    fetchFields: fetchFields,\n    setFieldsResponse: setFieldsResponse\n  }];\n};\n/**\r\n * concrete usage of the useDataApi helper method for search\r\n * @param searchParameters - initial search parameters to set\r\n * @param overrideSearchResults - initial search results to set\r\n * @param searchClient - search client used to perform requests\r\n * @return a 2-element array containing the search store data and search-specific store actions\r\n */\n\n\nvar useSearchResultsApi = function useSearchResultsApi(searchParameters, searchClient, overrideSearchResults) {\n  var _a = useDataApi(deprecateReturnFields(searchParameters), searchClient.query, searchClient, overrideSearchResults),\n      searchState = _a.state,\n      currentSearchParameters = _a.parameters,\n      setSearchParametersBackwardsCompatible = _a.setParameters,\n      setSearchResponse = _a.setData,\n      setFetchToken = _a.setFetchToken;\n\n  var setSearchParameters = useCallback(function (backwardsCompatibleSearchParameters) {\n    // if backwardsCompatibleSearchParameters is a function, we cannot modify the parameters, call it with previous state\n    if (typeof backwardsCompatibleSearchParameters === 'function') {\n      setSearchParametersBackwardsCompatible(function (prevState) {\n        return deprecateReturnFields(backwardsCompatibleSearchParameters(prevState));\n      });\n    } else {\n      // otherwise just modify the object\n      setSearchParametersBackwardsCompatible(deprecateReturnFields(backwardsCompatibleSearchParameters));\n    }\n  }, [setSearchParametersBackwardsCompatible]); // callback can be passed in here to return back data to the invoker of the search\n  // in the specific case here, we need to set our aggregation store after performing a search\n\n  var performSearch = useCallback(function (callback) {\n    return setFetchToken({\n      trigger: true,\n      callback: callback\n    });\n  }, [setFetchToken]);\n  return [_assign(_assign({}, searchState), {\n    parameters: currentSearchParameters\n  }), {\n    setSearchParameters: setSearchParameters,\n    setSearchResponse: setSearchResponse,\n    performSearch: performSearch\n  }];\n};\n\nvar useGlobalAggregationsApi = function useGlobalAggregationsApi(searchParameters, searchClient, overrideAggregationResults) {\n  var _a = useDataApi(searchParameters, searchClient.query, searchClient, overrideAggregationResults, function (result) {\n    return result.aggregations || [];\n  }),\n      aggregationState = _a.state,\n      currentGlobalAggregationParameters = _a.parameters,\n      setGlobalAggregationParameters = _a.setParameters,\n      setGlobalAggregationsResponse = _a.setData,\n      setFetchToken = _a.setFetchToken;\n\n  var fetchGlobalAggregations = useCallback(function (searchParameters, callback) {\n    setGlobalAggregationParameters(searchParameters);\n    setFetchToken({\n      trigger: true,\n      callback: callback\n    });\n  }, [setFetchToken, setGlobalAggregationParameters]); // allow us to chain the result without storing in our reducer state\n  // used alongside the fetchTypeForTopEntitiesAggregation\n\n  var fetchGlobalAggregationsWithoutStoring = useCallback(function (searchParameters, callback) {\n    setGlobalAggregationParameters(searchParameters);\n    setFetchToken({\n      trigger: true,\n      callback: callback,\n      storeResult: false\n    });\n  }, [setFetchToken, setGlobalAggregationParameters]);\n  return [_assign(_assign({}, aggregationState), {\n    parameters: currentGlobalAggregationParameters\n  }), {\n    setGlobalAggregationParameters: setGlobalAggregationParameters,\n    setGlobalAggregationsResponse: setGlobalAggregationsResponse,\n    fetchGlobalAggregations: fetchGlobalAggregations,\n    fetchGlobalAggregationsWithoutStoring: fetchGlobalAggregationsWithoutStoring\n  }];\n};\n/**\r\n * concrete usage of the useDataApi helper method for fetching individual documents\r\n * @param searchParameters - initial search parameters to set\r\n * @param searchClient - search client used to perform requests\r\n * @return a 2-element array containing the fetch documents store data and fetchDocuments-specific store actions\r\n */\n\n\nvar useFetchDocumentsApi = function useFetchDocumentsApi(searchParameters, searchClient) {\n  var _a = useDataApi(searchParameters, searchClient.query, searchClient),\n      searchState = _a.state,\n      setSearchParameters = _a.setParameters,\n      setFetchToken = _a.setFetchToken;\n\n  var fetchDocuments = useCallback(function (filter, callback) {\n    setSearchParameters(function (currentSearchParameters) {\n      return _assign(_assign({}, currentSearchParameters), {\n        filter: filter\n      });\n    });\n    setFetchToken({\n      trigger: true,\n      callback: callback\n    });\n  }, [setSearchParameters, setFetchToken]);\n  return [searchState, {\n    fetchDocuments: fetchDocuments\n  }];\n};\n/**\r\n * concrete usage of the useDataApi helper method for fetching autocompletions\r\n * @param autocompleteParmeters - initial autocomplete parameters to set\r\n * @param searchClient - search client used to perform requests\r\n * @param overrideAutocompletions - initial autocomplete results to set\r\n * @return a 2-element array containing the autocomplete store data and autocomplete-specific store actions\r\n */\n\n\nvar useAutocompleteApi = function useAutocompleteApi(autocompleteParmeters, searchClient, overrideAutocompletions) {\n  var _a = useDataApi(autocompleteParmeters, searchClient.getAutocompletion, searchClient, overrideAutocompletions),\n      autocompletionsState = _a.state,\n      currentAutocompleteParameters = _a.parameters,\n      setAutocompleteParameters = _a.setParameters,\n      setAutocompletions = _a.setData,\n      setFetchToken = _a.setFetchToken;\n\n  var fetchAutocompletions = useCallback(function (autocompleteParameters) {\n    setAutocompleteParameters(autocompleteParameters);\n    setFetchToken({\n      trigger: true\n    });\n  }, [setAutocompleteParameters, setFetchToken]);\n  return [_assign(_assign({}, autocompletionsState), {\n    parameters: currentAutocompleteParameters\n  }), {\n    setAutocompletions: setAutocompletions,\n    fetchAutocompletions: fetchAutocompletions\n  }];\n};\n/** @license React v16.13.1\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\nvar b = \"function\" === typeof Symbol && Symbol.for,\n    c = b ? Symbol.for(\"react.element\") : 60103,\n    d = b ? Symbol.for(\"react.portal\") : 60106,\n    e = b ? Symbol.for(\"react.fragment\") : 60107,\n    f = b ? Symbol.for(\"react.strict_mode\") : 60108,\n    g = b ? Symbol.for(\"react.profiler\") : 60114,\n    h = b ? Symbol.for(\"react.provider\") : 60109,\n    k = b ? Symbol.for(\"react.context\") : 60110,\n    l = b ? Symbol.for(\"react.async_mode\") : 60111,\n    m = b ? Symbol.for(\"react.concurrent_mode\") : 60111,\n    n = b ? Symbol.for(\"react.forward_ref\") : 60112,\n    p = b ? Symbol.for(\"react.suspense\") : 60113,\n    q = b ? Symbol.for(\"react.suspense_list\") : 60120,\n    r = b ? Symbol.for(\"react.memo\") : 60115,\n    t = b ? Symbol.for(\"react.lazy\") : 60116,\n    v = b ? Symbol.for(\"react.block\") : 60121,\n    w = b ? Symbol.for(\"react.fundamental\") : 60117,\n    x = b ? Symbol.for(\"react.responder\") : 60118,\n    y = b ? Symbol.for(\"react.scope\") : 60119;\n\nfunction z(a) {\n  if (\"object\" === typeof a && null !== a) {\n    var u = a.$$typeof;\n\n    switch (u) {\n      case c:\n        switch (a = a.type, a) {\n          case l:\n          case m:\n          case e:\n          case g:\n          case f:\n          case p:\n            return a;\n\n          default:\n            switch (a = a && a.$$typeof, a) {\n              case k:\n              case n:\n              case t:\n              case r:\n              case h:\n                return a;\n\n              default:\n                return u;\n            }\n\n        }\n\n      case d:\n        return u;\n    }\n  }\n}\n\nfunction A(a) {\n  return z(a) === m;\n}\n\nvar AsyncMode = l;\nvar ConcurrentMode = m;\nvar ContextConsumer = k;\nvar ContextProvider = h;\nvar Element$1 = c;\nvar ForwardRef = n;\nvar Fragment = e;\nvar Lazy = t;\nvar Memo = r;\nvar Portal = d;\nvar Profiler = g;\nvar StrictMode = f;\nvar Suspense = p;\n\nvar isAsyncMode = function isAsyncMode(a) {\n  return A(a) || z(a) === l;\n};\n\nvar isConcurrentMode = A;\n\nvar isContextConsumer = function isContextConsumer(a) {\n  return z(a) === k;\n};\n\nvar isContextProvider = function isContextProvider(a) {\n  return z(a) === h;\n};\n\nvar isElement = function isElement(a) {\n  return \"object\" === typeof a && null !== a && a.$$typeof === c;\n};\n\nvar isForwardRef = function isForwardRef(a) {\n  return z(a) === n;\n};\n\nvar isFragment = function isFragment(a) {\n  return z(a) === e;\n};\n\nvar isLazy = function isLazy(a) {\n  return z(a) === t;\n};\n\nvar isMemo = function isMemo(a) {\n  return z(a) === r;\n};\n\nvar isPortal = function isPortal(a) {\n  return z(a) === d;\n};\n\nvar isProfiler = function isProfiler(a) {\n  return z(a) === g;\n};\n\nvar isStrictMode = function isStrictMode(a) {\n  return z(a) === f;\n};\n\nvar isSuspense = function isSuspense(a) {\n  return z(a) === p;\n};\n\nvar isValidElementType = function isValidElementType(a) {\n  return \"string\" === typeof a || \"function\" === typeof a || a === e || a === m || a === g || a === f || a === p || a === q || \"object\" === typeof a && null !== a && (a.$$typeof === t || a.$$typeof === r || a.$$typeof === h || a.$$typeof === k || a.$$typeof === n || a.$$typeof === w || a.$$typeof === x || a.$$typeof === y || a.$$typeof === v);\n};\n\nvar typeOf = z;\nvar reactIs_production_min = {\n  AsyncMode: AsyncMode,\n  ConcurrentMode: ConcurrentMode,\n  ContextConsumer: ContextConsumer,\n  ContextProvider: ContextProvider,\n  Element: Element$1,\n  ForwardRef: ForwardRef,\n  Fragment: Fragment,\n  Lazy: Lazy,\n  Memo: Memo,\n  Portal: Portal,\n  Profiler: Profiler,\n  StrictMode: StrictMode,\n  Suspense: Suspense,\n  isAsyncMode: isAsyncMode,\n  isConcurrentMode: isConcurrentMode,\n  isContextConsumer: isContextConsumer,\n  isContextProvider: isContextProvider,\n  isElement: isElement,\n  isForwardRef: isForwardRef,\n  isFragment: isFragment,\n  isLazy: isLazy,\n  isMemo: isMemo,\n  isPortal: isPortal,\n  isProfiler: isProfiler,\n  isStrictMode: isStrictMode,\n  isSuspense: isSuspense,\n  isValidElementType: isValidElementType,\n  typeOf: typeOf\n};\nvar reactIs_development = createCommonjsModule(function (module, exports) {\n  if (process.env.NODE_ENV !== \"production\") {\n    (function () {\n      // The Symbol used to tag the ReactElement-like types. If there is no native Symbol\n      // nor polyfill, then a plain number is used for performance.\n      var hasSymbol = typeof Symbol === 'function' && Symbol.for;\n      var REACT_ELEMENT_TYPE = hasSymbol ? Symbol.for('react.element') : 0xeac7;\n      var REACT_PORTAL_TYPE = hasSymbol ? Symbol.for('react.portal') : 0xeaca;\n      var REACT_FRAGMENT_TYPE = hasSymbol ? Symbol.for('react.fragment') : 0xeacb;\n      var REACT_STRICT_MODE_TYPE = hasSymbol ? Symbol.for('react.strict_mode') : 0xeacc;\n      var REACT_PROFILER_TYPE = hasSymbol ? Symbol.for('react.profiler') : 0xead2;\n      var REACT_PROVIDER_TYPE = hasSymbol ? Symbol.for('react.provider') : 0xeacd;\n      var REACT_CONTEXT_TYPE = hasSymbol ? Symbol.for('react.context') : 0xeace; // TODO: We don't use AsyncMode or ConcurrentMode anymore. They were temporary\n      // (unstable) APIs that have been removed. Can we remove the symbols?\n\n      var REACT_ASYNC_MODE_TYPE = hasSymbol ? Symbol.for('react.async_mode') : 0xeacf;\n      var REACT_CONCURRENT_MODE_TYPE = hasSymbol ? Symbol.for('react.concurrent_mode') : 0xeacf;\n      var REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol.for('react.forward_ref') : 0xead0;\n      var REACT_SUSPENSE_TYPE = hasSymbol ? Symbol.for('react.suspense') : 0xead1;\n      var REACT_SUSPENSE_LIST_TYPE = hasSymbol ? Symbol.for('react.suspense_list') : 0xead8;\n      var REACT_MEMO_TYPE = hasSymbol ? Symbol.for('react.memo') : 0xead3;\n      var REACT_LAZY_TYPE = hasSymbol ? Symbol.for('react.lazy') : 0xead4;\n      var REACT_BLOCK_TYPE = hasSymbol ? Symbol.for('react.block') : 0xead9;\n      var REACT_FUNDAMENTAL_TYPE = hasSymbol ? Symbol.for('react.fundamental') : 0xead5;\n      var REACT_RESPONDER_TYPE = hasSymbol ? Symbol.for('react.responder') : 0xead6;\n      var REACT_SCOPE_TYPE = hasSymbol ? Symbol.for('react.scope') : 0xead7;\n\n      function isValidElementType(type) {\n        return typeof type === 'string' || typeof type === 'function' || // Note: its typeof might be other than 'symbol' or 'number' if it's a polyfill.\n        type === REACT_FRAGMENT_TYPE || type === REACT_CONCURRENT_MODE_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || typeof type === 'object' && type !== null && (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || type.$$typeof === REACT_FUNDAMENTAL_TYPE || type.$$typeof === REACT_RESPONDER_TYPE || type.$$typeof === REACT_SCOPE_TYPE || type.$$typeof === REACT_BLOCK_TYPE);\n      }\n\n      function typeOf(object) {\n        if (typeof object === 'object' && object !== null) {\n          var $$typeof = object.$$typeof;\n\n          switch ($$typeof) {\n            case REACT_ELEMENT_TYPE:\n              var type = object.type;\n\n              switch (type) {\n                case REACT_ASYNC_MODE_TYPE:\n                case REACT_CONCURRENT_MODE_TYPE:\n                case REACT_FRAGMENT_TYPE:\n                case REACT_PROFILER_TYPE:\n                case REACT_STRICT_MODE_TYPE:\n                case REACT_SUSPENSE_TYPE:\n                  return type;\n\n                default:\n                  var $$typeofType = type && type.$$typeof;\n\n                  switch ($$typeofType) {\n                    case REACT_CONTEXT_TYPE:\n                    case REACT_FORWARD_REF_TYPE:\n                    case REACT_LAZY_TYPE:\n                    case REACT_MEMO_TYPE:\n                    case REACT_PROVIDER_TYPE:\n                      return $$typeofType;\n\n                    default:\n                      return $$typeof;\n                  }\n\n              }\n\n            case REACT_PORTAL_TYPE:\n              return $$typeof;\n          }\n        }\n\n        return undefined;\n      } // AsyncMode is deprecated along with isAsyncMode\n\n\n      var AsyncMode = REACT_ASYNC_MODE_TYPE;\n      var ConcurrentMode = REACT_CONCURRENT_MODE_TYPE;\n      var ContextConsumer = REACT_CONTEXT_TYPE;\n      var ContextProvider = REACT_PROVIDER_TYPE;\n      var Element = REACT_ELEMENT_TYPE;\n      var ForwardRef = REACT_FORWARD_REF_TYPE;\n      var Fragment = REACT_FRAGMENT_TYPE;\n      var Lazy = REACT_LAZY_TYPE;\n      var Memo = REACT_MEMO_TYPE;\n      var Portal = REACT_PORTAL_TYPE;\n      var Profiler = REACT_PROFILER_TYPE;\n      var StrictMode = REACT_STRICT_MODE_TYPE;\n      var Suspense = REACT_SUSPENSE_TYPE;\n      var hasWarnedAboutDeprecatedIsAsyncMode = false; // AsyncMode should be deprecated\n\n      function isAsyncMode(object) {\n        {\n          if (!hasWarnedAboutDeprecatedIsAsyncMode) {\n            hasWarnedAboutDeprecatedIsAsyncMode = true; // Using console['warn'] to evade Babel and ESLint\n\n            console['warn']('The ReactIs.isAsyncMode() alias has been deprecated, ' + 'and will be removed in React 17+. Update your code to use ' + 'ReactIs.isConcurrentMode() instead. It has the exact same API.');\n          }\n        }\n        return isConcurrentMode(object) || typeOf(object) === REACT_ASYNC_MODE_TYPE;\n      }\n\n      function isConcurrentMode(object) {\n        return typeOf(object) === REACT_CONCURRENT_MODE_TYPE;\n      }\n\n      function isContextConsumer(object) {\n        return typeOf(object) === REACT_CONTEXT_TYPE;\n      }\n\n      function isContextProvider(object) {\n        return typeOf(object) === REACT_PROVIDER_TYPE;\n      }\n\n      function isElement(object) {\n        return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n      }\n\n      function isForwardRef(object) {\n        return typeOf(object) === REACT_FORWARD_REF_TYPE;\n      }\n\n      function isFragment(object) {\n        return typeOf(object) === REACT_FRAGMENT_TYPE;\n      }\n\n      function isLazy(object) {\n        return typeOf(object) === REACT_LAZY_TYPE;\n      }\n\n      function isMemo(object) {\n        return typeOf(object) === REACT_MEMO_TYPE;\n      }\n\n      function isPortal(object) {\n        return typeOf(object) === REACT_PORTAL_TYPE;\n      }\n\n      function isProfiler(object) {\n        return typeOf(object) === REACT_PROFILER_TYPE;\n      }\n\n      function isStrictMode(object) {\n        return typeOf(object) === REACT_STRICT_MODE_TYPE;\n      }\n\n      function isSuspense(object) {\n        return typeOf(object) === REACT_SUSPENSE_TYPE;\n      }\n\n      exports.AsyncMode = AsyncMode;\n      exports.ConcurrentMode = ConcurrentMode;\n      exports.ContextConsumer = ContextConsumer;\n      exports.ContextProvider = ContextProvider;\n      exports.Element = Element;\n      exports.ForwardRef = ForwardRef;\n      exports.Fragment = Fragment;\n      exports.Lazy = Lazy;\n      exports.Memo = Memo;\n      exports.Portal = Portal;\n      exports.Profiler = Profiler;\n      exports.StrictMode = StrictMode;\n      exports.Suspense = Suspense;\n      exports.isAsyncMode = isAsyncMode;\n      exports.isConcurrentMode = isConcurrentMode;\n      exports.isContextConsumer = isContextConsumer;\n      exports.isContextProvider = isContextProvider;\n      exports.isElement = isElement;\n      exports.isForwardRef = isForwardRef;\n      exports.isFragment = isFragment;\n      exports.isLazy = isLazy;\n      exports.isMemo = isMemo;\n      exports.isPortal = isPortal;\n      exports.isProfiler = isProfiler;\n      exports.isStrictMode = isStrictMode;\n      exports.isSuspense = isSuspense;\n      exports.isValidElementType = isValidElementType;\n      exports.typeOf = typeOf;\n    })();\n  }\n});\nvar reactIs_development_1 = reactIs_development.AsyncMode;\nvar reactIs_development_2 = reactIs_development.ConcurrentMode;\nvar reactIs_development_3 = reactIs_development.ContextConsumer;\nvar reactIs_development_4 = reactIs_development.ContextProvider;\nvar reactIs_development_5 = reactIs_development.Element;\nvar reactIs_development_6 = reactIs_development.ForwardRef;\nvar reactIs_development_7 = reactIs_development.Fragment;\nvar reactIs_development_8 = reactIs_development.Lazy;\nvar reactIs_development_9 = reactIs_development.Memo;\nvar reactIs_development_10 = reactIs_development.Portal;\nvar reactIs_development_11 = reactIs_development.Profiler;\nvar reactIs_development_12 = reactIs_development.StrictMode;\nvar reactIs_development_13 = reactIs_development.Suspense;\nvar reactIs_development_14 = reactIs_development.isAsyncMode;\nvar reactIs_development_15 = reactIs_development.isConcurrentMode;\nvar reactIs_development_16 = reactIs_development.isContextConsumer;\nvar reactIs_development_17 = reactIs_development.isContextProvider;\nvar reactIs_development_18 = reactIs_development.isElement;\nvar reactIs_development_19 = reactIs_development.isForwardRef;\nvar reactIs_development_20 = reactIs_development.isFragment;\nvar reactIs_development_21 = reactIs_development.isLazy;\nvar reactIs_development_22 = reactIs_development.isMemo;\nvar reactIs_development_23 = reactIs_development.isPortal;\nvar reactIs_development_24 = reactIs_development.isProfiler;\nvar reactIs_development_25 = reactIs_development.isStrictMode;\nvar reactIs_development_26 = reactIs_development.isSuspense;\nvar reactIs_development_27 = reactIs_development.isValidElementType;\nvar reactIs_development_28 = reactIs_development.typeOf;\nvar reactIs = createCommonjsModule(function (module) {\n  if (process.env.NODE_ENV === 'production') {\n    module.exports = reactIs_production_min;\n  } else {\n    module.exports = reactIs_development;\n  }\n});\n/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n/* eslint-disable no-unused-vars */\n\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty$9 = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n  if (val === null || val === undefined) {\n    throw new TypeError('Object.assign cannot be called with null or undefined');\n  }\n\n  return Object(val);\n}\n\nfunction shouldUseNative() {\n  try {\n    if (!Object.assign) {\n      return false;\n    } // Detect buggy property enumeration order in older V8 versions.\n    // https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\n\n    var test1 = new String('abc'); // eslint-disable-line no-new-wrappers\n\n    test1[5] = 'de';\n\n    if (Object.getOwnPropertyNames(test1)[0] === '5') {\n      return false;\n    } // https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\n\n    var test2 = {};\n\n    for (var i = 0; i < 10; i++) {\n      test2['_' + String.fromCharCode(i)] = i;\n    }\n\n    var order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n      return test2[n];\n    });\n\n    if (order2.join('') !== '0123456789') {\n      return false;\n    } // https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\n\n    var test3 = {};\n    'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n      test3[letter] = letter;\n    });\n\n    if (Object.keys(Object.assign({}, test3)).join('') !== 'abcdefghijklmnopqrst') {\n      return false;\n    }\n\n    return true;\n  } catch (err) {\n    // We don't expect any of the above to throw, but better to be safe.\n    return false;\n  }\n}\n\nvar objectAssign = shouldUseNative() ? Object.assign : function (target, source) {\n  var from;\n  var to = toObject(target);\n  var symbols;\n\n  for (var s = 1; s < arguments.length; s++) {\n    from = Object(arguments[s]);\n\n    for (var key in from) {\n      if (hasOwnProperty$9.call(from, key)) {\n        to[key] = from[key];\n      }\n    }\n\n    if (getOwnPropertySymbols) {\n      symbols = getOwnPropertySymbols(from);\n\n      for (var i = 0; i < symbols.length; i++) {\n        if (propIsEnumerable.call(from, symbols[i])) {\n          to[symbols[i]] = from[symbols[i]];\n        }\n      }\n    }\n  }\n\n  return to;\n};\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\nvar ReactPropTypesSecret_1 = ReactPropTypesSecret;\n\nvar printWarning = function printWarning() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactPropTypesSecret$1 = ReactPropTypesSecret_1;\n  var loggedTypeFailures = {};\n  var has = Function.call.bind(Object.prototype.hasOwnProperty);\n\n  printWarning = function printWarning(text) {\n    var message = 'Warning: ' + text;\n\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n/**\n * Assert that the values match with the type specs.\n * Error messages are memorized and will only be shown once.\n *\n * @param {object} typeSpecs Map of name to a ReactPropType\n * @param {object} values Runtime values that need to be type-checked\n * @param {string} location e.g. \"prop\", \"context\", \"child context\"\n * @param {string} componentName Name of the component for error messages.\n * @param {?Function} getStack Returns the component stack.\n * @private\n */\n\n\nfunction checkPropTypes(typeSpecs, values, location, componentName, getStack) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var typeSpecName in typeSpecs) {\n      if (has(typeSpecs, typeSpecName)) {\n        var error; // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          if (typeof typeSpecs[typeSpecName] !== 'function') {\n            var err = Error((componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' + 'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.');\n            err.name = 'Invariant Violation';\n            throw err;\n          }\n\n          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret$1);\n        } catch (ex) {\n          error = ex;\n        }\n\n        if (error && !(error instanceof Error)) {\n          printWarning((componentName || 'React class') + ': type specification of ' + location + ' `' + typeSpecName + '` is invalid; the type checker ' + 'function must return `null` or an `Error` but returned a ' + typeof error + '. ' + 'You may have forgotten to pass an argument to the type checker ' + 'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' + 'shape all require an argument).');\n        }\n\n        if (error instanceof Error && !(error.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error.message] = true;\n          var stack = getStack ? getStack() : '';\n          printWarning('Failed ' + location + ' type: ' + error.message + (stack != null ? stack : ''));\n        }\n      }\n    }\n  }\n}\n/**\n * Resets warning cache when testing.\n *\n * @private\n */\n\n\ncheckPropTypes.resetWarningCache = function () {\n  if (process.env.NODE_ENV !== 'production') {\n    loggedTypeFailures = {};\n  }\n};\n\nvar checkPropTypes_1 = checkPropTypes;\nvar has$1 = Function.call.bind(Object.prototype.hasOwnProperty);\n\nvar printWarning$1 = function printWarning$1() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  printWarning$1 = function printWarning$1(text) {\n    var message = 'Warning: ' + text;\n\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\nfunction emptyFunctionThatReturnsNull() {\n  return null;\n}\n\nvar factoryWithTypeCheckers = function factoryWithTypeCheckers(isValidElement, throwOnDirectAccess) {\n  /* global Symbol */\n  var ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.\n\n  /**\n   * Returns the iterator method function contained on the iterable object.\n   *\n   * Be sure to invoke the function with the iterable as context:\n   *\n   *     var iteratorFn = getIteratorFn(myIterable);\n   *     if (iteratorFn) {\n   *       var iterator = iteratorFn.call(myIterable);\n   *       ...\n   *     }\n   *\n   * @param {?object} maybeIterable\n   * @return {?function}\n   */\n\n  function getIteratorFn(maybeIterable) {\n    var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);\n\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n  /**\n   * Collection of methods that allow declaration and validation of props that are\n   * supplied to React components. Example usage:\n   *\n   *   var Props = require('ReactPropTypes');\n   *   var MyArticle = React.createClass({\n   *     propTypes: {\n   *       // An optional string prop named \"description\".\n   *       description: Props.string,\n   *\n   *       // A required enum prop named \"category\".\n   *       category: Props.oneOf(['News','Photos']).isRequired,\n   *\n   *       // A prop named \"dialog\" that requires an instance of Dialog.\n   *       dialog: Props.instanceOf(Dialog).isRequired\n   *     },\n   *     render: function() { ... }\n   *   });\n   *\n   * A more formal specification of how these methods are used:\n   *\n   *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)\n   *   decl := ReactPropTypes.{type}(.isRequired)?\n   *\n   * Each and every declaration produces a function with the same signature. This\n   * allows the creation of custom validation functions. For example:\n   *\n   *  var MyLink = React.createClass({\n   *    propTypes: {\n   *      // An optional string or URI prop named \"href\".\n   *      href: function(props, propName, componentName) {\n   *        var propValue = props[propName];\n   *        if (propValue != null && typeof propValue !== 'string' &&\n   *            !(propValue instanceof URI)) {\n   *          return new Error(\n   *            'Expected a string or an URI for ' + propName + ' in ' +\n   *            componentName\n   *          );\n   *        }\n   *      }\n   *    },\n   *    render: function() {...}\n   *  });\n   *\n   * @internal\n   */\n\n\n  var ANONYMOUS = '<<anonymous>>'; // Important!\n  // Keep this list in sync with production version in `./factoryWithThrowingShims.js`.\n\n  var ReactPropTypes = {\n    array: createPrimitiveTypeChecker('array'),\n    bool: createPrimitiveTypeChecker('boolean'),\n    func: createPrimitiveTypeChecker('function'),\n    number: createPrimitiveTypeChecker('number'),\n    object: createPrimitiveTypeChecker('object'),\n    string: createPrimitiveTypeChecker('string'),\n    symbol: createPrimitiveTypeChecker('symbol'),\n    any: createAnyTypeChecker(),\n    arrayOf: createArrayOfTypeChecker,\n    element: createElementTypeChecker(),\n    elementType: createElementTypeTypeChecker(),\n    instanceOf: createInstanceTypeChecker,\n    node: createNodeChecker(),\n    objectOf: createObjectOfTypeChecker,\n    oneOf: createEnumTypeChecker,\n    oneOfType: createUnionTypeChecker,\n    shape: createShapeTypeChecker,\n    exact: createStrictShapeTypeChecker\n  };\n  /**\n   * inlined Object.is polyfill to avoid requiring consumers ship their own\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n   */\n\n  /*eslint-disable no-self-compare*/\n\n  function is(x, y) {\n    // SameValue algorithm\n    if (x === y) {\n      // Steps 1-5, 7-10\n      // Steps 6.b-6.e: +0 != -0\n      return x !== 0 || 1 / x === 1 / y;\n    } else {\n      // Step 6.a: NaN == NaN\n      return x !== x && y !== y;\n    }\n  }\n  /*eslint-enable no-self-compare*/\n\n  /**\n   * We use an Error-like object for backward compatibility as people may call\n   * PropTypes directly and inspect their output. However, we don't use real\n   * Errors anymore. We don't inspect their stack anyway, and creating them\n   * is prohibitively expensive if they are created too often, such as what\n   * happens in oneOfType() for any type before the one that matched.\n   */\n\n\n  function PropTypeError(message) {\n    this.message = message;\n    this.stack = '';\n  } // Make `instanceof Error` still work for returned errors.\n\n\n  PropTypeError.prototype = Error.prototype;\n\n  function createChainableTypeChecker(validate) {\n    if (process.env.NODE_ENV !== 'production') {\n      var manualPropTypeCallCache = {};\n      var manualPropTypeWarningCount = 0;\n    }\n\n    function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {\n      componentName = componentName || ANONYMOUS;\n      propFullName = propFullName || propName;\n\n      if (secret !== ReactPropTypesSecret_1) {\n        if (throwOnDirectAccess) {\n          // New behavior only for users of `prop-types` package\n          var err = new Error('Calling PropTypes validators directly is not supported by the `prop-types` package. ' + 'Use `PropTypes.checkPropTypes()` to call them. ' + 'Read more at http://fb.me/use-check-prop-types');\n          err.name = 'Invariant Violation';\n          throw err;\n        } else if (process.env.NODE_ENV !== 'production' && typeof console !== 'undefined') {\n          // Old behavior for people using React.PropTypes\n          var cacheKey = componentName + ':' + propName;\n\n          if (!manualPropTypeCallCache[cacheKey] && // Avoid spamming the console because they are often not actionable except for lib authors\n          manualPropTypeWarningCount < 3) {\n            printWarning$1('You are manually calling a React.PropTypes validation ' + 'function for the `' + propFullName + '` prop on `' + componentName + '`. This is deprecated ' + 'and will throw in the standalone `prop-types` package. ' + 'You may be seeing this warning due to a third-party PropTypes ' + 'library. See https://fb.me/react-warning-dont-call-proptypes ' + 'for details.');\n            manualPropTypeCallCache[cacheKey] = true;\n            manualPropTypeWarningCount++;\n          }\n        }\n      }\n\n      if (props[propName] == null) {\n        if (isRequired) {\n          if (props[propName] === null) {\n            return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required ' + ('in `' + componentName + '`, but its value is `null`.'));\n          }\n\n          return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required in ' + ('`' + componentName + '`, but its value is `undefined`.'));\n        }\n\n        return null;\n      } else {\n        return validate(props, propName, componentName, location, propFullName);\n      }\n    }\n\n    var chainedCheckType = checkType.bind(null, false);\n    chainedCheckType.isRequired = checkType.bind(null, true);\n    return chainedCheckType;\n  }\n\n  function createPrimitiveTypeChecker(expectedType) {\n    function validate(props, propName, componentName, location, propFullName, secret) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n\n      if (propType !== expectedType) {\n        // `propValue` being instance of, say, date/regexp, pass the 'object'\n        // check, but we can offer a more precise error message here rather than\n        // 'of type `object`'.\n        var preciseType = getPreciseType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'));\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createAnyTypeChecker() {\n    return createChainableTypeChecker(emptyFunctionThatReturnsNull);\n  }\n\n  function createArrayOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside arrayOf.');\n      }\n\n      var propValue = props[propName];\n\n      if (!Array.isArray(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));\n      }\n\n      for (var i = 0; i < propValue.length; i++) {\n        var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']', ReactPropTypesSecret_1);\n\n        if (error instanceof Error) {\n          return error;\n        }\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n\n      if (!isValidElement(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement.'));\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n\n      if (!reactIs.isValidElementType(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement type.'));\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createInstanceTypeChecker(expectedClass) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!(props[propName] instanceof expectedClass)) {\n        var expectedClassName = expectedClass.name || ANONYMOUS;\n        var actualClassName = getClassName(props[propName]);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createEnumTypeChecker(expectedValues) {\n    if (!Array.isArray(expectedValues)) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (arguments.length > 1) {\n          printWarning$1('Invalid arguments supplied to oneOf, expected an array, got ' + arguments.length + ' arguments. ' + 'A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).');\n        } else {\n          printWarning$1('Invalid argument supplied to oneOf, expected an array.');\n        }\n      }\n\n      return emptyFunctionThatReturnsNull;\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n\n      for (var i = 0; i < expectedValues.length; i++) {\n        if (is(propValue, expectedValues[i])) {\n          return null;\n        }\n      }\n\n      var valuesString = JSON.stringify(expectedValues, function replacer(key, value) {\n        var type = getPreciseType(value);\n\n        if (type === 'symbol') {\n          return String(value);\n        }\n\n        return value;\n      });\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of value `' + String(propValue) + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createObjectOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside objectOf.');\n      }\n\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));\n      }\n\n      for (var key in propValue) {\n        if (has$1(propValue, key)) {\n          var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret_1);\n\n          if (error instanceof Error) {\n            return error;\n          }\n        }\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createUnionTypeChecker(arrayOfTypeCheckers) {\n    if (!Array.isArray(arrayOfTypeCheckers)) {\n      process.env.NODE_ENV !== 'production' ? printWarning$1('Invalid argument supplied to oneOfType, expected an instance of array.') : void 0;\n      return emptyFunctionThatReturnsNull;\n    }\n\n    for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n      var checker = arrayOfTypeCheckers[i];\n\n      if (typeof checker !== 'function') {\n        printWarning$1('Invalid argument supplied to oneOfType. Expected an array of check functions, but ' + 'received ' + getPostfixForTypeWarning(checker) + ' at index ' + i + '.');\n        return emptyFunctionThatReturnsNull;\n      }\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n        var checker = arrayOfTypeCheckers[i];\n\n        if (checker(props, propName, componentName, location, propFullName, ReactPropTypesSecret_1) == null) {\n          return null;\n        }\n      }\n\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`.'));\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createNodeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!isNode(props[propName])) {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n\n      for (var key in shapeTypes) {\n        var checker = shapeTypes[key];\n\n        if (!checker) {\n          continue;\n        }\n\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret_1);\n\n        if (error) {\n          return error;\n        }\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createStrictShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      } // We need to check all keys in case some are required but missing from\n      // props.\n\n\n      var allKeys = objectAssign({}, props[propName], shapeTypes);\n\n      for (var key in allKeys) {\n        var checker = shapeTypes[key];\n\n        if (!checker) {\n          return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` key `' + key + '` supplied to `' + componentName + '`.' + '\\nBad object: ' + JSON.stringify(props[propName], null, '  ') + '\\nValid keys: ' + JSON.stringify(Object.keys(shapeTypes), null, '  '));\n        }\n\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret_1);\n\n        if (error) {\n          return error;\n        }\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function isNode(propValue) {\n    switch (typeof propValue) {\n      case 'number':\n      case 'string':\n      case 'undefined':\n        return true;\n\n      case 'boolean':\n        return !propValue;\n\n      case 'object':\n        if (Array.isArray(propValue)) {\n          return propValue.every(isNode);\n        }\n\n        if (propValue === null || isValidElement(propValue)) {\n          return true;\n        }\n\n        var iteratorFn = getIteratorFn(propValue);\n\n        if (iteratorFn) {\n          var iterator = iteratorFn.call(propValue);\n          var step;\n\n          if (iteratorFn !== propValue.entries) {\n            while (!(step = iterator.next()).done) {\n              if (!isNode(step.value)) {\n                return false;\n              }\n            }\n          } else {\n            // Iterator will provide entry [k,v] tuples rather than values.\n            while (!(step = iterator.next()).done) {\n              var entry = step.value;\n\n              if (entry) {\n                if (!isNode(entry[1])) {\n                  return false;\n                }\n              }\n            }\n          }\n        } else {\n          return false;\n        }\n\n        return true;\n\n      default:\n        return false;\n    }\n  }\n\n  function isSymbol(propType, propValue) {\n    // Native Symbol.\n    if (propType === 'symbol') {\n      return true;\n    } // falsy value can't be a Symbol\n\n\n    if (!propValue) {\n      return false;\n    } // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'\n\n\n    if (propValue['@@toStringTag'] === 'Symbol') {\n      return true;\n    } // Fallback for non-spec compliant Symbols which are polyfilled.\n\n\n    if (typeof Symbol === 'function' && propValue instanceof Symbol) {\n      return true;\n    }\n\n    return false;\n  } // Equivalent of `typeof` but with special handling for array and regexp.\n\n\n  function getPropType(propValue) {\n    var propType = typeof propValue;\n\n    if (Array.isArray(propValue)) {\n      return 'array';\n    }\n\n    if (propValue instanceof RegExp) {\n      // Old webkits (at least until Android 4.0) return 'function' rather than\n      // 'object' for typeof a RegExp. We'll normalize this here so that /bla/\n      // passes PropTypes.object.\n      return 'object';\n    }\n\n    if (isSymbol(propType, propValue)) {\n      return 'symbol';\n    }\n\n    return propType;\n  } // This handles more types than `getPropType`. Only used for error messages.\n  // See `createPrimitiveTypeChecker`.\n\n\n  function getPreciseType(propValue) {\n    if (typeof propValue === 'undefined' || propValue === null) {\n      return '' + propValue;\n    }\n\n    var propType = getPropType(propValue);\n\n    if (propType === 'object') {\n      if (propValue instanceof Date) {\n        return 'date';\n      } else if (propValue instanceof RegExp) {\n        return 'regexp';\n      }\n    }\n\n    return propType;\n  } // Returns a string that is postfixed to a warning about an invalid type.\n  // For example, \"undefined\" or \"of type array\"\n\n\n  function getPostfixForTypeWarning(value) {\n    var type = getPreciseType(value);\n\n    switch (type) {\n      case 'array':\n      case 'object':\n        return 'an ' + type;\n\n      case 'boolean':\n      case 'date':\n      case 'regexp':\n        return 'a ' + type;\n\n      default:\n        return type;\n    }\n  } // Returns class name of the object, if any.\n\n\n  function getClassName(propValue) {\n    if (!propValue.constructor || !propValue.constructor.name) {\n      return ANONYMOUS;\n    }\n\n    return propValue.constructor.name;\n  }\n\n  ReactPropTypes.checkPropTypes = checkPropTypes_1;\n  ReactPropTypes.resetWarningCache = checkPropTypes_1.resetWarningCache;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n  return ReactPropTypes;\n};\n\nfunction emptyFunction() {}\n\nfunction emptyFunctionWithReset() {}\n\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nvar factoryWithThrowingShims = function factoryWithThrowingShims() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret_1) {\n      // It is still safe when called from React.\n      return;\n    }\n\n    var err = new Error('Calling PropTypes validators directly is not supported by the `prop-types` package. ' + 'Use PropTypes.checkPropTypes() to call them. ' + 'Read more at http://fb.me/use-check-prop-types');\n    err.name = 'Invariant Violation';\n    throw err;\n  }\n\n  shim.isRequired = shim;\n\n  function getShim() {\n    return shim;\n  } // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n\n\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n  ReactPropTypes.PropTypes = ReactPropTypes;\n  return ReactPropTypes;\n};\n\nvar propTypes = createCommonjsModule(function (module) {\n  /**\n   * Copyright (c) 2013-present, Facebook, Inc.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   */\n  if (process.env.NODE_ENV !== 'production') {\n    var ReactIs = reactIs; // By explicitly using `prop-types` you are opting into new development behavior.\n    // http://fb.me/prop-types-in-prod\n\n    var throwOnDirectAccess = true;\n    module.exports = factoryWithTypeCheckers(ReactIs.isElement, throwOnDirectAccess);\n  } else {\n    // By explicitly using `prop-types` you are opting into new production behavior.\n    // http://fb.me/prop-types-in-prod\n    module.exports = factoryWithThrowingShims();\n  }\n});\nvar ErrorBoundaryFallbackComponent_1 = createCommonjsModule(function (module, exports) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var _react2 = _interopRequireDefault(React$g__default);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  var toTitle = function toTitle(error, componentStack) {\n    return error.toString() + \"\\n\\nThis is located at:\" + componentStack;\n  };\n\n  var ErrorBoundaryFallbackComponent = function ErrorBoundaryFallbackComponent(_ref) {\n    var componentStack = _ref.componentStack,\n        error = _ref.error;\n    return _react2.default.createElement(\"div\", {\n      style: style,\n      title: toTitle(error, componentStack)\n    }, _react2.default.createElement(\"svg\", {\n      style: svgStyle,\n      viewBox: \"0 0 24 24\",\n      preserveAspectRatio: \"xMidYMid\"\n    }, _react2.default.createElement(\"path\", {\n      d: \"M20,12A8,8 0 0,0 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20A8,8 0 0,0 20,\\n        12M22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2A10,10 0 0,1 22,\\n        12M15.5,8C16.3,8 17,8.7 17,9.5C17,10.3 16.3,11 15.5,11C14.7,11 14,10.3 14,\\n        9.5C14,8.7 14.7,8 15.5,8M10,9.5C10,10.3 9.3,11 8.5,11C7.7,11 7,10.3 7,9.5C7,\\n        8.7 7.7,8 8.5,8C9.3,8 10,8.7 10,9.5M12,14C13.75,14 15.29,14.72 16.19,\\n        15.81L14.77,17.23C14.32,16.5 13.25,16 12,16C10.75,16 9.68,16.5 9.23,\\n        17.23L7.81,15.81C8.71,14.72 10.25,14 12,14Z\"\n    })));\n  };\n\n  ErrorBoundaryFallbackComponent.propTypes = {\n    componentStack: propTypes.string.isRequired,\n    error: typeof Error === \"function\" ? propTypes.instanceOf(Error).isRequired : propTypes.any.isRequired\n  };\n  var style = {\n    height: '100%',\n    maxHeight: '100vh',\n    width: '100%',\n    maxWidth: '100vw',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    textAlign: 'center',\n    backgroundColor: '#C00',\n    color: '#FFF',\n    boxSizing: 'border-box',\n    cursor: 'help'\n  };\n  var svgStyle = {\n    fill: 'currentColor',\n    flex: '1 1 auto'\n  };\n  exports.default = ErrorBoundaryFallbackComponent;\n});\nunwrapExports(ErrorBoundaryFallbackComponent_1);\nvar ErrorBoundary_1 = createCommonjsModule(function (module, exports) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.withErrorBoundary = undefined;\n\n  var _createClass = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n\n  var _react2 = _interopRequireDefault(React$g__default);\n\n  var _ErrorBoundaryFallbackComponent2 = _interopRequireDefault(ErrorBoundaryFallbackComponent_1);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _possibleConstructorReturn(self, call) {\n    if (!self) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n  }\n\n  var babelPluginFlowReactPropTypes_proptype_ComponentType = React$g__default.babelPluginFlowReactPropTypes_proptype_ComponentType || propTypes.any;\n\n  var ErrorBoundary = function (_Component) {\n    _inherits(ErrorBoundary, _Component);\n\n    function ErrorBoundary() {\n      var _ref;\n\n      var _temp, _this, _ret;\n\n      _classCallCheck(this, ErrorBoundary);\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = ErrorBoundary.__proto__ || Object.getPrototypeOf(ErrorBoundary)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n        error: null,\n        info: null\n      }, _temp), _possibleConstructorReturn(_this, _ret);\n    }\n\n    _createClass(ErrorBoundary, [{\n      key: 'componentDidCatch',\n      value: function componentDidCatch(error, info) {\n        var onError = this.props.onError;\n\n        if (typeof onError === 'function') {\n          try {\n            /* istanbul ignore next: Ignoring ternary; can’t reproduce missing info in test environment. */\n            onError.call(this, error, info ? info.componentStack : '');\n          } catch (ignoredError) {}\n        }\n\n        this.setState({\n          error: error,\n          info: info\n        });\n      }\n    }, {\n      key: 'render',\n      value: function render() {\n        var _props = this.props,\n            children = _props.children,\n            FallbackComponent = _props.FallbackComponent;\n        var _state = this.state,\n            error = _state.error,\n            info = _state.info;\n\n        if (error !== null) {\n          return _react2.default.createElement(FallbackComponent, {\n            componentStack: // istanbul ignore next: Ignoring ternary; can’t reproduce missing info in test environment.\n            info ? info.componentStack : '',\n            error: error\n          });\n        }\n\n        return children || null;\n      }\n    }]);\n\n    return ErrorBoundary;\n  }(React$g__default.Component);\n\n  ErrorBoundary.defaultProps = {\n    FallbackComponent: _ErrorBoundaryFallbackComponent2.default\n  };\n  ErrorBoundary.propTypes = {\n    error: typeof Error === 'function' ? propTypes.instanceOf(Error) : propTypes.any,\n    info: propTypes.shape({\n      componentStack: propTypes.string.isRequired\n    })\n  };\n\n  var withErrorBoundary = exports.withErrorBoundary = function withErrorBoundary(Component, FallbackComponent, onError) {\n    var Wrapped = function Wrapped(props) {\n      return _react2.default.createElement(ErrorBoundary, {\n        FallbackComponent: FallbackComponent,\n        onError: onError\n      }, _react2.default.createElement(Component, props));\n    }; // Format for display in DevTools\n\n\n    var name = Component.displayName || Component.name;\n    Wrapped.displayName = name ? 'WithErrorBoundary(' + name + ')' : 'WithErrorBoundary';\n    return Wrapped;\n  };\n\n  withErrorBoundary.propTypes = babelPluginFlowReactPropTypes_proptype_ComponentType === propTypes.any ? {} : babelPluginFlowReactPropTypes_proptype_ComponentType;\n  exports.default = ErrorBoundary;\n});\nunwrapExports(ErrorBoundary_1);\nvar ErrorBoundary_2 = ErrorBoundary_1.withErrorBoundary;\nvar commonjs = createCommonjsModule(function (module, exports) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.ErrorBoundaryFallbackComponent = exports.withErrorBoundary = exports.ErrorBoundary = undefined;\n\n  var _ErrorBoundaryFallbackComponent2 = _interopRequireDefault(ErrorBoundaryFallbackComponent_1);\n\n  var _ErrorBoundary2 = _interopRequireDefault(ErrorBoundary_1);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  exports.default = _ErrorBoundary2.default;\n  exports.ErrorBoundary = _ErrorBoundary2.default;\n  exports.withErrorBoundary = ErrorBoundary_1.withErrorBoundary;\n  exports.ErrorBoundaryFallbackComponent = _ErrorBoundaryFallbackComponent2.default;\n});\nunwrapExports(commonjs);\nvar commonjs_1 = commonjs.ErrorBoundaryFallbackComponent;\nvar commonjs_2 = commonjs.withErrorBoundary;\nvar commonjs_3 = commonjs.ErrorBoundary;\n\nvar FallbackComponent = function FallbackComponent(componentName) {\n  return function () {\n    return React$g__default.createElement(\"div\", null, \" There was an error rendering \", componentName);\n  };\n};\n\nvar onErrorCallback = function onErrorCallback(error, componentStack) {\n  console.error(error, componentStack);\n};\n\nvar buildAggregationQuery = function buildAggregationQuery(configuration) {\n  var aggregation = configuration.map(function (_a) {\n    var type = _a.type,\n        count = _a.count,\n        name = _a.name,\n        field = _a.field,\n        aggregations = _a.aggregations,\n        match = _a.match,\n        path = _a.path;\n\n    if (type === 'term' && field) {\n      var termCount = count ? ',count:' + count : '';\n      var termName = name ? ',name:' + name : '';\n      var nestedTypeTermAgg = '';\n\n      if (field.includes('enriched_') && field.includes('entities.text')) {\n        var topLevelTermEntityField = field.split('.')[0];\n        var topLevelNestedField = field.slice(0, field.lastIndexOf('.'));\n        nestedTypeTermAgg = \".term(\" + topLevelTermEntityField + \".entities.type,count:1)\";\n        return \"nested(\" + topLevelNestedField + \").term(\" + field + termCount + termName + \")\" + nestedTypeTermAgg;\n      }\n\n      return 'term(' + field + termCount + termName + ')' + nestedTypeTermAgg; // This supports nested and filter aggregations, including dictionary aggregations\n    } else {\n      var nestedOrFilterAgg = '';\n\n      if (aggregations && aggregations[0]) {\n        nestedOrFilterAgg += 'nested(';\n        var initialNested = path ? path : aggregations[0].field;\n        var matchAgg = match ? match : aggregations[0].match;\n        nestedOrFilterAgg = nestedOrFilterAgg + initialNested + ').filter(' + matchAgg + ')';\n        var termAggregation = void 0;\n\n        if (aggregations[0].aggregations) {\n          termAggregation = aggregations[0].aggregations[0];\n        } else {\n          termAggregation = aggregations[0];\n        }\n\n        var termCount = termAggregation.count ? ',count:' + termAggregation.count : '';\n        var termName = termAggregation.name ? ',name:' + termAggregation.name : '';\n        nestedOrFilterAgg = nestedOrFilterAgg + '.term(' + termAggregation.field + termCount + termName + ')';\n      }\n\n      return nestedOrFilterAgg;\n    }\n  });\n  return '[' + aggregation.toString() + ']';\n};\n\nvar isSelectableQueryTermAggregationResult = function isSelectableQueryTermAggregationResult(facets) {\n  return facets[0].key !== undefined;\n};\n\nvar isQueryAggregationWithName = function isQueryAggregationWithName(aggregations) {\n  var _a = aggregations[0] || {},\n      field = _a.field,\n      path = _a.path,\n      match = _a.match;\n\n  return field !== undefined || path !== undefined || match !== undefined;\n};\n\nvar emptySelectedResult = {\n  document: null,\n  element: null,\n  elementType: null\n};\nvar searchApiDefaults = {\n  performSearch: function performSearch() {\n    return Promise.resolve();\n  },\n  fetchAutocompletions: function fetchAutocompletions() {\n    return Promise.resolve();\n  },\n  fetchAggregations: function fetchAggregations() {\n    return Promise.resolve();\n  },\n  fetchComponentSettings: function fetchComponentSettings() {\n    return Promise.resolve();\n  },\n  fetchDocuments: function fetchDocuments() {},\n  setSelectedResult: function setSelectedResult() {},\n  setAutocompletionOptions: function setAutocompletionOptions() {},\n  setSearchParameters: function setSearchParameters() {},\n  setIsResultsPaginationComponentHidden: function setIsResultsPaginationComponentHidden() {},\n  fetchFields: function fetchFields() {\n    return Promise.resolve();\n  }\n};\nvar searchResponseStoreDefaults = {\n  parameters: {\n    projectId: ''\n  },\n  data: null,\n  isLoading: false,\n  isError: false,\n  error: null\n};\nvar aggregationQueryDefaults = {\n  count: 0,\n  filter: '',\n  passages: {\n    enabled: false\n  },\n  tableResults: {\n    enabled: false\n  }\n};\nvar globalAggregationsResponseStoreDefaults = {\n  parameters: _assign({\n    projectId: ''\n  }, aggregationQueryDefaults),\n  data: null,\n  isLoading: false,\n  isError: false,\n  error: null\n};\nvar fetchDocumentsResponseStoreDefaults = {\n  parameters: {\n    projectId: '',\n    _return: [],\n    aggregation: '',\n    passages: {\n      enabled: false\n    },\n    tableResults: {\n      enabled: false\n    }\n  },\n  data: null,\n  isLoading: false,\n  isError: false,\n  error: null\n};\nvar autocompletionStoreDefaults = {\n  parameters: {\n    projectId: '',\n    prefix: ''\n  },\n  data: null,\n  isLoading: false,\n  isError: false,\n  error: null\n};\nvar fieldsStoreDefaults = {\n  parameters: {\n    projectId: ''\n  },\n  data: null,\n  isLoading: false,\n  isError: false,\n  error: null\n};\nvar searchContextDefaults = {\n  searchResponseStore: searchResponseStoreDefaults,\n  globalAggregationsResponseStore: globalAggregationsResponseStoreDefaults,\n  fetchDocumentsResponseStore: fetchDocumentsResponseStoreDefaults,\n  selectedResult: emptySelectedResult,\n  autocompletionStore: autocompletionStoreDefaults,\n  isResultsPaginationComponentHidden: false,\n  fieldsStore: fieldsStoreDefaults\n};\nvar SearchApi = createContext(searchApiDefaults);\nvar SearchContext = createContext(searchContextDefaults);\n\nvar DiscoverySearch = function DiscoverySearch(_a) {\n  var searchClient = _a.searchClient,\n      projectId = _a.projectId,\n      overrideAggregationResults = _a.overrideAggregationResults,\n      overrideSearchResults = _a.overrideSearchResults,\n      overrideQueryParameters = _a.overrideQueryParameters,\n      _b = _a.overrideSelectedResult,\n      overrideSelectedResult = _b === void 0 ? emptySelectedResult : _b,\n      overrideAutocompletionResults = _a.overrideAutocompletionResults,\n      overrideCollectionsResults = _a.overrideCollectionsResults,\n      overrideComponentSettings = _a.overrideComponentSettings,\n      children = _a.children;\n\n  var _c = useState(null),\n      aggregationResults = _c[0],\n      setAggregationResults = _c[1];\n\n  var _d = useState(overrideCollectionsResults),\n      collectionsResults = _d[0],\n      setCollectionsResults = _d[1];\n\n  var _e = useState({}),\n      autocompletionOptions = _e[0],\n      setAutocompletionOptions = _e[1];\n\n  var _f = useState(overrideSelectedResult),\n      selectedResult = _f[0],\n      setSelectedResult = _f[1];\n\n  var _g = useState(overrideComponentSettings),\n      componentSettings = _g[0],\n      setComponentSettings = _g[1];\n\n  var _h = useState(),\n      isResultsPaginationComponentHidden = _h[0],\n      setIsResultsPaginationComponentHidden = _h[1];\n\n  var _j = useSearchResultsApi(_assign({\n    projectId: projectId\n  }, deprecateReturnFields(overrideQueryParameters)), searchClient, overrideSearchResults),\n      searchResponseStore = _j[0],\n      _k = _j[1],\n      setSearchResponse = _k.setSearchResponse,\n      setSearchParameters = _k.setSearchParameters,\n      performSearch = _k.performSearch;\n\n  var _l = useGlobalAggregationsApi(_assign(_assign({}, globalAggregationsResponseStoreDefaults.parameters), {\n    projectId: projectId\n  }), searchClient, overrideAggregationResults),\n      globalAggregationsResponseStore = _l[0],\n      _m = _l[1],\n      setGlobalAggregationsResponse = _m.setGlobalAggregationsResponse,\n      fetchGlobalAggregations = _m.fetchGlobalAggregations,\n      fetchGlobalAggregationsWithoutStoring = _m.fetchGlobalAggregationsWithoutStoring;\n\n  var fetchTypeForTopEntitiesAggregation = useCallback(function (aggregationResults, searchParams) {\n    return __awaiter(void 0, void 0, void 0, function () {\n      var updatedAggQuery, updatedSearchParameters;\n      return __generator(this, function (_a) {\n        // TODO make this only run if aggregationResults doesn't already have type for top entities aggregation in the results\n        if (isQueryAggregationWithName(aggregationResults)) {\n          updatedAggQuery = buildAggregationQuery(aggregationResults);\n          updatedSearchParameters = _assign(_assign({}, searchParams), {\n            aggregation: updatedAggQuery\n          });\n          fetchGlobalAggregations(updatedSearchParameters);\n        }\n\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  }, [fetchGlobalAggregations]);\n  var handleSearch = useCallback(function (backwardsCompatibleQueryParams, resetAggregations) {\n    if (resetAggregations === void 0) {\n      resetAggregations = true;\n    }\n\n    return __awaiter(void 0, void 0, void 0, function () {\n      var aggregationsFetched, searchParameters;\n      return __generator(this, function (_a) {\n        aggregationsFetched = false;\n        searchParameters = deprecateReturnFields(backwardsCompatibleQueryParams);\n        setSearchParameters(searchParameters); // TODO proper fix is to have any caller of handleSearch that needs aggregations\n        // to call handleFetchAggregations instead\n\n        if (resetAggregations && searchParameters.filter !== '') {\n          aggregationsFetched = true;\n          fetchGlobalAggregationsWithoutStoring(_assign(_assign(_assign({}, searchParameters), aggregationQueryDefaults), {\n            filter: ''\n          }), function (aggregations) {\n            return __awaiter(void 0, void 0, void 0, function () {\n              return __generator(this, function (_a) {\n                fetchTypeForTopEntitiesAggregation(aggregations, searchParameters);\n                return [2\n                /*return*/\n                ];\n              });\n            });\n          });\n        }\n\n        performSearch(function (result) {\n          return __awaiter(void 0, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n              if (!aggregationsFetched && resetAggregations && result && result.aggregations) {\n                fetchTypeForTopEntitiesAggregation(result.aggregations, searchParameters);\n              }\n\n              return [2\n              /*return*/\n              ];\n            });\n          });\n        });\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  }, [fetchGlobalAggregationsWithoutStoring, fetchTypeForTopEntitiesAggregation, performSearch, setSearchParameters]);\n\n  var _o = useAutocompleteApi({\n    projectId: projectId,\n    count: autocompletionOptions.completionsCount,\n    prefix: ''\n  }, searchClient, overrideAutocompletionResults),\n      autocompletionStore = _o[0],\n      _p = _o[1],\n      fetchAutocompletions = _p.fetchAutocompletions,\n      setAutocompletions = _p.setAutocompletions; // Keep aggregationResults in sync with globalAggregationsResponseStore data\n  // to support it until deprecated in next major release\n\n\n  useDeepCompareEffect(function () {\n    setAggregationResults(globalAggregationsResponseStore.data);\n  }, [globalAggregationsResponseStore.data]);\n  useDeepCompareEffect(function () {\n    setSearchResponse(overrideSearchResults);\n  }, [overrideSearchResults]);\n  useDeepCompareEffect(function () {\n    setSearchParameters(function (currentSearchParameters) {\n      return _assign(_assign(_assign({}, currentSearchParameters), {\n        projectId: projectId\n      }), deprecateReturnFields(overrideQueryParameters));\n    });\n  }, [projectId, overrideQueryParameters]);\n  useDeepCompareEffect(function () {\n    setGlobalAggregationsResponse(overrideAggregationResults);\n  }, [overrideAggregationResults]);\n  useDeepCompareEffect(function () {\n    setCollectionsResults(overrideCollectionsResults);\n  }, [overrideCollectionsResults]);\n  useDeepCompareEffect(function () {\n    setSelectedResult(overrideSelectedResult);\n  }, [overrideSelectedResult]);\n  useDeepCompareEffect(function () {\n    setAutocompletions(overrideAutocompletionResults);\n  }, [overrideAutocompletionResults]);\n  useDeepCompareEffect(function () {\n    setComponentSettings(overrideComponentSettings);\n  }, [overrideComponentSettings]);\n  useEffect(function () {\n    function fetchCollections() {\n      return __awaiter(this, void 0, void 0, function () {\n        var result, err_1;\n        return __generator(this, function (_a) {\n          switch (_a.label) {\n            case 0:\n              _a.trys.push([0, 2,, 3]);\n\n              return [4\n              /*yield*/\n              , searchClient.listCollections({\n                projectId: projectId\n              })];\n\n            case 1:\n              result = _a.sent().result;\n              setCollectionsResults(result);\n              return [3\n              /*break*/\n              , 3];\n\n            case 2:\n              err_1 = _a.sent();\n              console.error('Error fetching collections', err_1);\n              return [3\n              /*break*/\n              , 3];\n\n            case 3:\n              return [2\n              /*return*/\n              ];\n          }\n        });\n      });\n    }\n\n    function getComponentSettings() {\n      return __awaiter(this, void 0, void 0, function () {\n        var result, err_2;\n        return __generator(this, function (_a) {\n          switch (_a.label) {\n            case 0:\n              _a.trys.push([0, 2,, 3]);\n\n              return [4\n              /*yield*/\n              , searchClient.getComponentSettings({\n                projectId: projectId\n              })];\n\n            case 1:\n              result = _a.sent().result;\n              setComponentSettings(result);\n              return [3\n              /*break*/\n              , 3];\n\n            case 2:\n              err_2 = _a.sent();\n              console.error('Error fetching component settings', err_2);\n              return [3\n              /*break*/\n              , 3];\n\n            case 3:\n              return [2\n              /*return*/\n              ];\n          }\n        });\n      });\n    }\n\n    fetchCollections();\n    getComponentSettings();\n  }, [searchClient, projectId]); // helper method that handles the logic to fetch completions whenever the search query is updated\n\n  var handleFetchAutocompletions = useDeepCompareCallback(function (searchQuery) {\n    return __awaiter(void 0, void 0, void 0, function () {\n      var splitSearchQuerySelector, updateAutocomplete, completionsCount, minCharsToAutocomplete, queryArray, prefix, completionParams;\n      return __generator(this, function (_a) {\n        splitSearchQuerySelector = autocompletionOptions.splitSearchQuerySelector, updateAutocomplete = autocompletionOptions.updateAutocompletions, completionsCount = autocompletionOptions.completionsCount, minCharsToAutocomplete = autocompletionOptions.minCharsToAutocomplete;\n\n        if (updateAutocomplete && !!completionsCount && !!splitSearchQuerySelector && minCharsToAutocomplete !== undefined) {\n          queryArray = searchQuery.split(splitSearchQuerySelector);\n          prefix = queryArray[queryArray.length - 1];\n          completionParams = {\n            projectId: projectId,\n            prefix: prefix,\n            count: completionsCount\n          };\n\n          if (!!prefix) {\n            fetchAutocompletions(completionParams);\n            return [2\n            /*return*/\n            ];\n          }\n\n          setAutocompletions(undefined);\n        }\n\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  }, [autocompletionOptions, projectId]);\n  var handleFetchAggregations = useCallback(function (backwardsCompatibleQueryParams) {\n    return __awaiter(void 0, void 0, void 0, function () {\n      var aggregationsSearchParameters;\n      return __generator(this, function (_a) {\n        aggregationsSearchParameters = deprecateReturnFields(backwardsCompatibleQueryParams); // since we only call this when the aggregation changes, we can safely reset the filter\n\n        setSearchParameters(function (prevSearchParams) {\n          return _assign(_assign({}, prevSearchParams), {\n            filter: ''\n          });\n        });\n        fetchGlobalAggregationsWithoutStoring(aggregationsSearchParameters, function (aggregations) {\n          return __awaiter(void 0, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n              fetchTypeForTopEntitiesAggregation(aggregations, aggregationsSearchParameters);\n              return [2\n              /*return*/\n              ];\n            });\n          });\n        });\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  }, [fetchGlobalAggregationsWithoutStoring, fetchTypeForTopEntitiesAggregation, setSearchParameters]);\n\n  var handleSetSelectedResult = function handleSetSelectedResult(overrideSelectedResult) {\n    var newSelectedResult = !overrideSelectedResult.document ? emptySelectedResult : overrideSelectedResult;\n\n    if (!newSelectedResult.element && newSelectedResult.elementType) {\n      newSelectedResult.elementType = null;\n    }\n\n    if (!newSelectedResult.elementType && newSelectedResult.element) {\n      newSelectedResult.element = null;\n    }\n\n    setSelectedResult(newSelectedResult);\n  };\n\n  var _q = useFetchDocumentsApi(_assign(_assign({}, fetchDocumentsResponseStoreDefaults.parameters), {\n    projectId: projectId\n  }), searchClient),\n      fetchDocumentsResponseStore = _q[0],\n      fetchDocuments = _q[1].fetchDocuments;\n\n  var handleFetchDocuments = useCallback(function (filterString, searchResponse) {\n    fetchDocuments(filterString, function (filteredResponse) {\n      if (searchResponse && searchResponse.results && filteredResponse.results) {\n        setSearchResponse(_assign(_assign({}, searchResponse), {\n          matching_results: searchResponse.matching_results + filteredResponse.results.length,\n          results: __spreadArrays(searchResponse.results, filteredResponse.results)\n        }));\n      } else if (!searchResponse) {\n        setSearchResponse(filteredResponse);\n      }\n    });\n  }, [fetchDocuments, setSearchResponse]);\n\n  var _r = useFieldsApi({\n    projectId: projectId\n  }, searchClient),\n      fieldsStore = _r[0],\n      fetchFields = _r[1].fetchFields;\n\n  var handleFetchFields = useCallback(function () {\n    fetchFields();\n  }, [fetchFields]);\n  var api = {\n    performSearch: handleSearch,\n    fetchAggregations: handleFetchAggregations,\n    fetchAutocompletions: handleFetchAutocompletions,\n    fetchDocuments: handleFetchDocuments,\n    setSelectedResult: handleSetSelectedResult,\n    setAutocompletionOptions: setAutocompletionOptions,\n    setSearchParameters: setSearchParameters,\n    setIsResultsPaginationComponentHidden: setIsResultsPaginationComponentHidden,\n    fetchFields: handleFetchFields\n  };\n  var state = useDeepCompareMemo(function () {\n    return {\n      aggregationResults: aggregationResults,\n      autocompletionStore: autocompletionStore,\n      fetchDocumentsResponseStore: fetchDocumentsResponseStore,\n      searchResponseStore: searchResponseStore,\n      globalAggregationsResponseStore: globalAggregationsResponseStore,\n      selectedResult: selectedResult,\n      collectionsResults: collectionsResults,\n      componentSettings: componentSettings,\n      isResultsPaginationComponentHidden: isResultsPaginationComponentHidden,\n      fieldsStore: fieldsStore\n    };\n  }, [aggregationResults, autocompletionStore, fetchDocumentsResponseStore, searchResponseStore, globalAggregationsResponseStore, selectedResult, collectionsResults, componentSettings, isResultsPaginationComponentHidden, fieldsStore]);\n  return React$g__default.createElement(SearchApi.Provider, {\n    value: api\n  }, React$g__default.createElement(SearchContext.Provider, {\n    value: state\n  }, children));\n};\n\nvar DiscoverySearch$1 = commonjs_2(DiscoverySearch, FallbackComponent('DiscoverySearch'), onErrorCallback);\n/** `Object#toString` result references. */\n\nvar symbolTag$1 = '[object Symbol]';\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\n\nfunction isSymbol(value) {\n  return typeof value == 'symbol' || isObjectLike_1(value) && _baseGetTag(value) == symbolTag$1;\n}\n\nvar isSymbol_1 = isSymbol;\n/** Used to match property names within property paths. */\n\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\n\nfunction isKey(value, object) {\n  if (isArray_1(value)) {\n    return false;\n  }\n\n  var type = typeof value;\n\n  if (type == 'number' || type == 'symbol' || type == 'boolean' || value == null || isSymbol_1(value)) {\n    return true;\n  }\n\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) || object != null && value in Object(object);\n}\n\nvar _isKey = isKey;\n/** Error message constants. */\n\nvar FUNC_ERROR_TEXT = 'Expected a function';\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\n\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || resolver != null && typeof resolver != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n\n  var memoized = function memoized() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n\n  memoized.cache = new (memoize.Cache || _MapCache)();\n  return memoized;\n} // Expose `MapCache`.\n\n\nmemoize.Cache = _MapCache;\nvar memoize_1 = memoize;\n/** Used as the maximum memoize cache size. */\n\nvar MAX_MEMOIZE_SIZE = 500;\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\n\nfunction memoizeCapped(func) {\n  var result = memoize_1(func, function (key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n\n    return key;\n  });\n  var cache = result.cache;\n  return result;\n}\n\nvar _memoizeCapped = memoizeCapped;\n/** Used to match property names within property paths. */\n\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n/** Used to match backslashes in property paths. */\n\nvar reEscapeChar = /\\\\(\\\\)?/g;\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\n\nvar stringToPath = _memoizeCapped(function (string) {\n  var result = [];\n\n  if (string.charCodeAt(0) === 46\n  /* . */\n  ) {\n      result.push('');\n    }\n\n  string.replace(rePropName, function (match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : number || match);\n  });\n  return result;\n});\n\nvar _stringToPath = stringToPath;\n/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\n\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n\n  return result;\n}\n\nvar _arrayMap = arrayMap;\n/** Used as references for various `Number` constants. */\n\nvar INFINITY = 1 / 0;\n/** Used to convert symbols to primitives and strings. */\n\nvar symbolProto$1 = _Symbol ? _Symbol.prototype : undefined,\n    symbolToString = symbolProto$1 ? symbolProto$1.toString : undefined;\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\n\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n\n  if (isArray_1(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return _arrayMap(value, baseToString) + '';\n  }\n\n  if (isSymbol_1(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n\n  var result = value + '';\n  return result == '0' && 1 / value == -INFINITY ? '-0' : result;\n}\n\nvar _baseToString = baseToString;\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\n\nfunction toString(value) {\n  return value == null ? '' : _baseToString(value);\n}\n\nvar toString_1 = toString;\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\n\nfunction castPath(value, object) {\n  if (isArray_1(value)) {\n    return value;\n  }\n\n  return _isKey(value, object) ? [value] : _stringToPath(toString_1(value));\n}\n\nvar _castPath = castPath;\n/** Used as references for various `Number` constants. */\n\nvar INFINITY$1 = 1 / 0;\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\n\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol_1(value)) {\n    return value;\n  }\n\n  var result = value + '';\n  return result == '0' && 1 / value == -INFINITY$1 ? '-0' : result;\n}\n\nvar _toKey = toKey;\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\n\nfunction baseGet(object, path) {\n  path = _castPath(path, object);\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[_toKey(path[index++])];\n  }\n\n  return index && index == length ? object : undefined;\n}\n\nvar _baseGet = baseGet;\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\n\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : _baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nvar get_1 = get;\n\nvar useDebounce = function useDebounce(value, delay) {\n  var _a = useState(value),\n      debouncedValue = _a[0],\n      setDebouncedValue = _a[1];\n\n  useEffect(function () {\n    var handler = window.setTimeout(function () {\n      setDebouncedValue(value);\n    }, delay);\n    return function () {\n      window.clearTimeout(handler);\n    };\n  }, [delay, value]);\n  return debouncedValue;\n};\n\nvar rngBrowser = createCommonjsModule(function (module) {\n  // Unique ID creation requires a high quality random # generator.  In the\n  // browser this is a little complicated due to unknown quality of Math.random()\n  // and inconsistent support for the `crypto` API.  We do the best we can via\n  // feature-detection\n  // getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n  // implementation. Also, find the complete implementation of crypto on IE11.\n  var getRandomValues = typeof crypto != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n  if (getRandomValues) {\n    // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n    var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n    module.exports = function whatwgRNG() {\n      getRandomValues(rnds8);\n      return rnds8;\n    };\n  } else {\n    // Math.random()-based (RNG)\n    //\n    // If all else fails, use Math.random().  It's fast, but is of unspecified\n    // quality.\n    var rnds = new Array(16);\n\n    module.exports = function mathRNG() {\n      for (var i = 0, r; i < 16; i++) {\n        if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n        rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n      }\n\n      return rnds;\n    };\n  }\n});\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex; // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n\n  return [bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]]].join('');\n}\n\nvar bytesToUuid_1 = bytesToUuid; // **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\n\nvar _clockseq; // Previous uuid creation time\n\n\nvar _lastMSecs = 0;\nvar _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    var seedBytes = rngBrowser();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  var dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  var tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid_1(b);\n}\n\nvar v1_1 = v1;\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof options == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n\n  options = options || {};\n  var rnds = options.random || (options.rng || rngBrowser)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid_1(rnds);\n}\n\nvar v4_1 = v4;\nvar uuid = v4_1;\nuuid.v1 = v1_1;\nuuid.v4 = v4_1;\nvar uuid_1 = uuid;\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n/**\n * Copyright IBM Corp. 2018, 2018\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\nvar defaultAttributes = {\n  // Reference:\n  // https://github.com/IBM/carbon-components-react/issues/1392\n  // https://github.com/PolymerElements/iron-iconset-svg/pull/47\n  // `focusable` is a string attribute which is why we do not use a boolean here\n  focusable: 'false',\n  preserveAspectRatio: 'xMidYMid meet'\n};\n/**\n * Get supplementary HTML attributes for a given <svg> element based on existing\n * attributes.\n */\n\nfunction getAttributes() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      width = _ref.width,\n      height = _ref.height,\n      _ref$viewBox = _ref.viewBox,\n      viewBox = _ref$viewBox === void 0 ? \"0 0 \".concat(width, \" \").concat(height) : _ref$viewBox,\n      attributes = _objectWithoutProperties(_ref, [\"width\", \"height\", \"viewBox\"]);\n\n  var tabindex = attributes.tabindex,\n      rest = _objectWithoutProperties(attributes, [\"tabindex\"]);\n\n  var iconAttributes = _objectSpread2(_objectSpread2(_objectSpread2({}, defaultAttributes), rest), {}, {\n    width: width,\n    height: height,\n    viewBox: viewBox\n  }); // TODO: attributes.title assumes that the consumer will implement <title> and\n  // correctly set `aria-labelledby`.\n\n\n  if (iconAttributes['aria-label'] || iconAttributes['aria-labelledby'] || iconAttributes.title) {\n    iconAttributes.role = 'img'; // Reference:\n    // https://allyjs.io/tutorials/focusing-in-svg.html\n\n    if (tabindex !== undefined && tabindex !== null) {\n      iconAttributes.focusable = 'true';\n      iconAttributes.tabindex = tabindex;\n    }\n  } else {\n    iconAttributes['aria-hidden'] = true;\n  }\n\n  return iconAttributes;\n}\n/**\n * Copyright IBM Corp. 2018, 2018\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n/**\n * Convert an icon descriptor to a String\n */\n\n\nfunction toString$1(descriptor) {\n  var _descriptor$elem = descriptor.elem,\n      elem = _descriptor$elem === void 0 ? 'svg' : _descriptor$elem,\n      _descriptor$attrs = descriptor.attrs,\n      attrs = _descriptor$attrs === void 0 ? {} : _descriptor$attrs,\n      _descriptor$content = descriptor.content,\n      content = _descriptor$content === void 0 ? [] : _descriptor$content;\n  var children = content.map(toString$1).join('');\n\n  if (elem !== 'svg') {\n    return \"<\".concat(elem, \" \").concat(formatAttributes(attrs), \">\").concat(children, \"</\").concat(elem, \">\");\n  }\n\n  return \"<\".concat(elem, \" \").concat(formatAttributes(getAttributes(attrs)), \">\").concat(children, \"</\").concat(elem, \">\");\n}\n\nfunction formatAttributes(attrs) {\n  return Object.keys(attrs).reduce(function (acc, key, index) {\n    var attribute = \"\".concat(key, \"=\\\"\").concat(attrs[key], \"\\\"\");\n\n    if (index === 0) {\n      return attribute;\n    }\n\n    return acc + ' ' + attribute;\n  }, '');\n}\n/**\n * Copyright IBM Corp. 2018, 2018\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n/**\n * Convert an icon descriptor to a DOM node.\n */\n\n\nfunction toSVG(descriptor) {\n  var _descriptor$elem = descriptor.elem,\n      elem = _descriptor$elem === void 0 ? 'svg' : _descriptor$elem,\n      _descriptor$attrs = descriptor.attrs,\n      attrs = _descriptor$attrs === void 0 ? {} : _descriptor$attrs,\n      _descriptor$content = descriptor.content,\n      content = _descriptor$content === void 0 ? [] : _descriptor$content;\n  var node = document.createElementNS('http://www.w3.org/2000/svg', elem);\n  var attributes = elem !== 'svg' ? attrs : getAttributes(attrs);\n  Object.keys(attributes).forEach(function (key) {\n    node.setAttribute(key, attrs[key]);\n  });\n\n  for (var i = 0; i < content.length; i++) {\n    node.appendChild(toSVG(content[i]));\n  }\n\n  return node;\n}\n\nvar es = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  defaultAttributes: defaultAttributes,\n  getAttributes: getAttributes,\n  formatAttributes: formatAttributes,\n  toString: toString$1,\n  toSVG: toSVG\n});\n\nfunction _interopDefault(ex) {\n  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;\n}\n\nvar PropTypes = _interopDefault(propTypes);\n\nvar React = _interopDefault(React$g__default);\n\nfunction _defineProperty$1(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction ownKeys$1(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2$1(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys$1(Object(source), true).forEach(function (key) {\n        _defineProperty$1(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys$1(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose$1(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties$1(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose$1(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nvar Icon = /*#__PURE__*/React.forwardRef(function Icon(_ref, ref) {\n  var className = _ref.className,\n      children = _ref.children,\n      tabIndex = _ref.tabIndex,\n      rest = _objectWithoutProperties$1(_ref, [\"className\", \"children\", \"tabIndex\"]);\n\n  var _getAttributes = es.getAttributes(_objectSpread2$1(_objectSpread2$1({}, rest), {}, {\n    tabindex: tabIndex\n  })),\n      tabindex = _getAttributes.tabindex,\n      props = _objectWithoutProperties$1(_getAttributes, [\"tabindex\"]);\n\n  if (className) {\n    props.className = className;\n  }\n\n  if (tabindex !== undefined && tabindex !== null) {\n    props.tabIndex = tabindex;\n  }\n\n  if (ref) {\n    props.ref = ref;\n  }\n\n  return /*#__PURE__*/React.createElement('svg', props, children);\n});\nIcon.displayName = 'Icon';\nIcon.propTypes = {\n  'aria-hidden': PropTypes.string,\n  'aria-label': PropTypes.string,\n  'aria-labelledby': PropTypes.string,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  height: PropTypes.number,\n  preserveAspectRatio: PropTypes.string,\n  tabIndex: PropTypes.string,\n  viewBox: PropTypes.string,\n  width: PropTypes.number,\n  xmlns: PropTypes.string\n};\nIcon.defaultProps = {\n  xmlns: 'http://www.w3.org/2000/svg',\n  preserveAspectRatio: 'xMidYMid meet'\n};\nvar Icon_1 = Icon;\nvar _extends_1 = _extends;\nvar _objectWithoutProperties_1 = _objectWithoutProperties$1;\nvar IconE8f71a9c = {\n  Icon: Icon_1,\n  _extends: _extends_1,\n  _objectWithoutProperties: _objectWithoutProperties_1\n};\n\nfunction _interopDefault$1(ex) {\n  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;\n}\n\nvar React$1 = _interopDefault$1(React$g__default);\n\nvar _ref2 =\n/*#__PURE__*/\n\n/*#__PURE__*/\nReact$1.createElement(\"path\", {\n  d: \"M15,14.3L10.7,10c1.9-2.3,1.6-5.8-0.7-7.7S4.2,0.7,2.3,3S0.7,8.8,3,10.7c2,1.7,5,1.7,7,0l4.3,4.3L15,14.3z M2,6.5\\tC2,4,4,2,6.5,2S11,4,11,6.5S9,11,6.5,11S2,9,2,6.5z\"\n});\n\nvar Search16 = /*#__PURE__*/React$1.forwardRef(function Search16(_ref, ref) {\n  var children = _ref.children,\n      rest = IconE8f71a9c._objectWithoutProperties(_ref, [\"children\"]);\n\n  return /*#__PURE__*/React$1.createElement(IconE8f71a9c.Icon, IconE8f71a9c._extends({\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"currentColor\",\n    ref: ref\n  }, rest), _ref2, children);\n});\nvar _16 = Search16;\nvar defaultMessages = {\n  placeholderText: 'Search',\n  closeButtonLabelText: 'Clear search input'\n};\n\nvar SearchInput = function SearchInput(_a) {\n  var className = _a.className,\n      id = _a.id,\n      _b = _a.splitSearchQuerySelector,\n      splitSearchQuerySelector = _b === void 0 ? ' ' : _b,\n      _c = _a.completionsCount,\n      completionsCount = _c === void 0 ? 5 : _c,\n      _d = _a.showAutocomplete,\n      showAutocomplete = _d === void 0 ? true : _d,\n      _e = _a.minCharsToAutocomplete,\n      minCharsToAutocomplete = _e === void 0 ? 0 : _e,\n      spellingSuggestions = _a.spellingSuggestions,\n      _f = _a.messages,\n      messages = _f === void 0 ? defaultMessages : _f,\n      _g = _a.autocompleteDelay,\n      autocompleteDelay = _g === void 0 ? 200 : _g,\n      placeHolderText = _a.placeHolderText,\n      labelText = _a.labelText,\n      closeButtonLabelText = _a.closeButtonLabelText,\n      onChange = _a.onChange,\n      inputProps = __rest(_a, [\"className\", \"id\", \"splitSearchQuerySelector\", \"completionsCount\", \"showAutocomplete\", \"minCharsToAutocomplete\", \"spellingSuggestions\", \"messages\", \"autocompleteDelay\", \"placeHolderText\", \"labelText\", \"closeButtonLabelText\", \"onChange\"]);\n\n  var mergedMessages = _assign(_assign({}, defaultMessages), messages);\n\n  var inputId = id || \"search-input__\" + uuid_1.v4();\n  var autocompletionClassName = settings.prefix + \"--search-autocompletion\";\n  var searchInputClassNames = [className, settings.prefix + \"--search-input--discovery\"];\n\n  var _h = useContext(SearchContext),\n      searchParameters = _h.searchResponseStore.parameters,\n      autocompletionResults = _h.autocompletionStore.data,\n      componentSettings = _h.componentSettings;\n\n  var displaySettings = {\n    showAutocomplete: showAutocomplete === undefined ? get_1(componentSettings, 'autocomplete', true) : showAutocomplete\n  };\n\n  var _j = useContext(SearchApi),\n      performSearch = _j.performSearch,\n      fetchAutocompletions = _j.fetchAutocompletions,\n      setAutocompletionOptions = _j.setAutocompletionOptions,\n      setSearchParameters = _j.setSearchParameters;\n\n  var _k = useState(searchParameters.naturalLanguageQuery || ''),\n      value = _k[0],\n      setValue = _k[1];\n\n  var completions = autocompletionResults && autocompletionResults.completions || [];\n  var lastWordOfValue = value.split(splitSearchQuerySelector).pop();\n\n  var _l = useState(false),\n      skipFetchAutoCompletions = _l[0],\n      setSkipFetchAutoCompletions = _l[1];\n\n  var _m = useState(false),\n      focused = _m[0],\n      setFocused = _m[1];\n\n  var focusTimeout;\n  useEffect(function () {\n    setValue(searchParameters.naturalLanguageQuery || '');\n  }, [searchParameters.naturalLanguageQuery]);\n\n  var handleOnChange = function handleOnChange(evt) {\n    var target = evt.currentTarget;\n    setValue(!!target ? target.value : '');\n  };\n\n  var selectAutocompletion = function selectAutocompletion(i) {\n    var valueArray = value.split(splitSearchQuerySelector);\n    var prefix = valueArray.pop();\n    var completionValue = !!completions ? completions[i] : prefix;\n    valueArray.push(completionValue || '');\n    setValue(\"\" + valueArray.join(splitSearchQuerySelector) + splitSearchQuerySelector); // The carbon Search component doesn't seem to use ForwardRef\n    // so looking up by ID for now.\n\n    var searchInput = document.getElementById(inputId + \"_input_field\");\n\n    if (searchInput !== null) {\n      searchInput.focus();\n    }\n  };\n\n  var prepareFreshSearchParameters = useDeepCompareCallback(function (nlq) {\n    return _assign(_assign({}, searchParameters), {\n      naturalLanguageQuery: nlq,\n      offset: 0,\n      filter: ''\n    });\n  }, [searchParameters]);\n\n  var setupHandleAutocompletionKeyUp = function setupHandleAutocompletionKeyUp(i) {\n    return function (evt) {\n      if (evt.key === 'Enter') {\n        selectAutocompletion(i);\n      }\n    };\n  };\n\n  var setupHandleAutocompletionOnClick = function setupHandleAutocompletionOnClick(i) {\n    return function () {\n      selectAutocompletion(i);\n    };\n  };\n\n  var searchAndBlur = function searchAndBlur(value) {\n    performSearch(prepareFreshSearchParameters(value));\n\n    if (onChange) {\n      onChange(value);\n    } // The carbon Search component doesn't seem to use ForwardRef\n    // so looking up by ID for now.\n\n\n    var searchInput = document.getElementById(inputId + \"_input_field\");\n\n    if (searchInput !== null) {\n      searchInput.blur();\n    }\n  };\n\n  var debouncedSearchTerm = useDebounce(value, autocompleteDelay);\n  useEffect(function () {\n    setSearchParameters(function (currentSearchParameters) {\n      return _assign(_assign({}, currentSearchParameters), {\n        naturalLanguageQuery: debouncedSearchTerm\n      });\n    });\n\n    if (!skipFetchAutoCompletions) {\n      fetchAutocompletions(debouncedSearchTerm);\n    } else {\n      setSkipFetchAutoCompletions(false);\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [debouncedSearchTerm, fetchAutocompletions, setSearchParameters]);\n  useEffect(function () {\n    setAutocompletionOptions({\n      updateAutocompletions: displaySettings.showAutocomplete,\n      completionsCount: completionsCount,\n      minCharsToAutocomplete: minCharsToAutocomplete,\n      splitSearchQuerySelector: splitSearchQuerySelector\n    });\n  }, [displaySettings.showAutocomplete, completionsCount, minCharsToAutocomplete, splitSearchQuerySelector, setAutocompletionOptions]);\n  useEffect(function () {\n    setSearchParameters(function (currentSearchParameters) {\n      return _assign(_assign({}, currentSearchParameters), {\n        spellingSuggestions: !!spellingSuggestions\n      });\n    });\n  }, [setSearchParameters, spellingSuggestions]);\n\n  var handleOnKeyUp = function handleOnKeyUp(evt) {\n    if (evt.key === 'Enter') {\n      searchAndBlur(value);\n    }\n  }; // onFocus for the carbon search component and the autocomplete dropdown\n\n\n  var handleOnFocus = function handleOnFocus() {\n    // cancel the timeout set in handleOnBlur\n    clearTimeout(focusTimeout);\n    setFocused(true);\n  }; // onBlur for the entire SearchInput\n\n\n  var handleOnBlur = function handleOnBlur() {\n    focusTimeout = setTimeout(function () {\n      setFocused(false);\n    }, 0);\n  };\n\n  var shouldShowCompletions = lastWordOfValue !== '' && displaySettings.showAutocomplete && focused;\n  var autocompletionsList = completions.map(function (completion, i) {\n    var valueWithoutLastWord = value.slice(0, value.length - lastWordOfValue.length);\n\n    if (completion.startsWith(lastWordOfValue)) {\n      var suffix = completion.slice(lastWordOfValue.length);\n      return React$g__default.createElement(ListBox, {\n        key: \"autocompletion_\" + i,\n        className: autocompletionClassName + \"__wrapper\"\n      }, React$g__default.createElement(ListBox.Field, {\n        role: \"listitem\",\n        id: \"autocompletion_\" + i + \"_field\",\n        tabIndex: \"0\",\n        className: autocompletionClassName + \"__item\",\n        onClick: setupHandleAutocompletionOnClick(i),\n        onKeyUp: setupHandleAutocompletionKeyUp(i)\n      }, React$g__default.createElement(\"div\", {\n        className: autocompletionClassName + \"__icon\"\n      }, React$g__default.createElement(_16, null)), React$g__default.createElement(\"div\", {\n        className: autocompletionClassName + \"__term\"\n      }, valueWithoutLastWord, React$g__default.createElement(\"strong\", null, lastWordOfValue), suffix)));\n    }\n\n    return null;\n  });\n  return React$g__default.createElement(\"div\", {\n    className: searchInputClassNames.join(' '),\n    id: inputId,\n    \"data-testid\": \"search-input-test-id\",\n    onBlur: handleOnBlur\n  }, React$g__default.createElement(\"div\", {\n    onFocus: handleOnFocus\n  }, React$g__default.createElement(Search, _assign({\n    onKeyUp: handleOnKeyUp,\n    onChange: handleOnChange,\n    value: value,\n    id: inputId + \"_input_field\",\n    labelText: inputProps.labelText || mergedMessages.placeholderText,\n    placeHolderText: mergedMessages.placeholderText,\n    closeButtonLabelText: mergedMessages.closeButtonLabelText\n  }, inputProps)), shouldShowCompletions && React$g__default.createElement(\"div\", {\n    className: autocompletionClassName,\n    \"data-testid\": \"completions-dropdown-test-id\"\n  }, autocompletionsList)));\n};\n\nvar SearchInput$1 = commonjs_2(SearchInput, FallbackComponent('SearchInput'), onErrorCallback);\n\nfunction _interopDefault$2(ex) {\n  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;\n}\n\nvar React$2 = _interopDefault$2(React$g__default);\n\nvar _ref2$1 =\n/*#__PURE__*/\n\n/*#__PURE__*/\nReact$2.createElement(\"path\", {\n  d: \"M24 9.4L22.6 8 16 14.6 9.4 8 8 9.4 14.6 16 8 22.6 9.4 24 16 17.4 22.6 24 24 22.6 17.4 16 24 9.4z\"\n});\n\nvar Close16 = /*#__PURE__*/React$2.forwardRef(function Close16(_ref, ref) {\n  var children = _ref.children,\n      rest = IconE8f71a9c._objectWithoutProperties(_ref, [\"children\"]);\n\n  return /*#__PURE__*/React$2.createElement(IconE8f71a9c.Icon, IconE8f71a9c._extends({\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 32 32\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"currentColor\",\n    ref: ref\n  }, rest), _ref2$1, children);\n});\nvar _16$1 = Close16;\n\nfunction isBucketAggregation(aggregation) {\n  var type = aggregation.type;\n  return type === 'filter' || type === 'nested';\n}\n\nfunction findTermAggregations(inputAggregations, outputAggregations) {\n  if (inputAggregations === void 0) {\n    inputAggregations = [];\n  }\n\n  if (outputAggregations === void 0) {\n    outputAggregations = [];\n  }\n\n  inputAggregations.forEach(function (aggregation) {\n    if (aggregation.type === 'term') {\n      outputAggregations.push(aggregation);\n    } else if (isBucketAggregation(aggregation)) {\n      outputAggregations.push.apply(outputAggregations, findTermAggregations(aggregation.aggregations || []));\n    }\n  });\n  return outputAggregations;\n}\n/** Built-in value references. */\n\n\nvar spreadableSymbol = _Symbol ? _Symbol.isConcatSpreadable : undefined;\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\n\nfunction isFlattenable(value) {\n  return isArray_1(value) || isArguments_1(value) || !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nvar _isFlattenable = isFlattenable;\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\n\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n  predicate || (predicate = _isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        _arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n\n  return result;\n}\n\nvar _baseFlatten = baseFlatten;\n/** Used to compose bitmasks for value comparisons. */\n\nvar COMPARE_PARTIAL_FLAG$4 = 1,\n    COMPARE_UNORDERED_FLAG$2 = 2;\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\n\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n\n  object = Object(object);\n\n  while (index--) {\n    var data = matchData[index];\n\n    if (noCustomizer && data[2] ? data[1] !== object[data[0]] : !(data[0] in object)) {\n      return false;\n    }\n  }\n\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new _Stack();\n\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n\n      if (!(result === undefined ? _baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG$4 | COMPARE_UNORDERED_FLAG$2, customizer, stack) : result)) {\n        return false;\n      }\n    }\n  }\n\n  return true;\n}\n\nvar _baseIsMatch = baseIsMatch;\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\n\nfunction isStrictComparable(value) {\n  return value === value && !isObject_1(value);\n}\n\nvar _isStrictComparable = isStrictComparable;\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\n\nfunction getMatchData(object) {\n  var result = keys_1(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n    result[length] = [key, value, _isStrictComparable(value)];\n  }\n\n  return result;\n}\n\nvar _getMatchData = getMatchData;\n/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\n\nfunction matchesStrictComparable(key, srcValue) {\n  return function (object) {\n    if (object == null) {\n      return false;\n    }\n\n    return object[key] === srcValue && (srcValue !== undefined || key in Object(object));\n  };\n}\n\nvar _matchesStrictComparable = matchesStrictComparable;\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\n\nfunction baseMatches(source) {\n  var matchData = _getMatchData(source);\n\n  if (matchData.length == 1 && matchData[0][2]) {\n    return _matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n\n  return function (object) {\n    return object === source || _baseIsMatch(object, source, matchData);\n  };\n}\n\nvar _baseMatches = baseMatches;\n/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\n\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nvar _baseHasIn = baseHasIn;\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\n\nfunction hasPath(object, path, hasFunc) {\n  path = _castPath(path, object);\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = _toKey(path[index]);\n\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n\n    object = object[key];\n  }\n\n  if (result || ++index != length) {\n    return result;\n  }\n\n  length = object == null ? 0 : object.length;\n  return !!length && isLength_1(length) && _isIndex(key, length) && (isArray_1(object) || isArguments_1(object));\n}\n\nvar _hasPath = hasPath;\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\n\nfunction hasIn(object, path) {\n  return object != null && _hasPath(object, path, _baseHasIn);\n}\n\nvar hasIn_1 = hasIn;\n/** Used to compose bitmasks for value comparisons. */\n\nvar COMPARE_PARTIAL_FLAG$5 = 1,\n    COMPARE_UNORDERED_FLAG$3 = 2;\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\n\nfunction baseMatchesProperty(path, srcValue) {\n  if (_isKey(path) && _isStrictComparable(srcValue)) {\n    return _matchesStrictComparable(_toKey(path), srcValue);\n  }\n\n  return function (object) {\n    var objValue = get_1(object, path);\n    return objValue === undefined && objValue === srcValue ? hasIn_1(object, path) : _baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG$5 | COMPARE_UNORDERED_FLAG$3);\n  };\n}\n\nvar _baseMatchesProperty = baseMatchesProperty;\n/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\n\nfunction identity(value) {\n  return value;\n}\n\nvar identity_1 = identity;\n/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\n\nfunction baseProperty(key) {\n  return function (object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nvar _baseProperty = baseProperty;\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\n\nfunction basePropertyDeep(path) {\n  return function (object) {\n    return _baseGet(object, path);\n  };\n}\n\nvar _basePropertyDeep = basePropertyDeep;\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\n\nfunction property(path) {\n  return _isKey(path) ? _baseProperty(_toKey(path)) : _basePropertyDeep(path);\n}\n\nvar property_1 = property;\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\n\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n\n  if (value == null) {\n    return identity_1;\n  }\n\n  if (typeof value == 'object') {\n    return isArray_1(value) ? _baseMatchesProperty(value[0], value[1]) : _baseMatches(value);\n  }\n\n  return property_1(value);\n}\n\nvar _baseIteratee = baseIteratee;\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\n\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0:\n      return func.call(thisArg);\n\n    case 1:\n      return func.call(thisArg, args[0]);\n\n    case 2:\n      return func.call(thisArg, args[0], args[1]);\n\n    case 3:\n      return func.call(thisArg, args[0], args[1], args[2]);\n  }\n\n  return func.apply(thisArg, args);\n}\n\nvar _apply = apply;\n/* Built-in method references for those with the same name as other `lodash` methods. */\n\nvar nativeMax = Math.max;\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\n\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? func.length - 1 : start, 0);\n  return function () {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n\n    index = -1;\n    var otherArgs = Array(start + 1);\n\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n\n    otherArgs[start] = transform(array);\n    return _apply(func, this, otherArgs);\n  };\n}\n\nvar _overRest = overRest;\n/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\n\nfunction constant(value) {\n  return function () {\n    return value;\n  };\n}\n\nvar constant_1 = constant;\n\nvar defineProperty = function () {\n  try {\n    var func = _getNative(Object, 'defineProperty');\n\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}();\n\nvar _defineProperty$2 = defineProperty;\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\n\nvar baseSetToString = !_defineProperty$2 ? identity_1 : function (func, string) {\n  return _defineProperty$2(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant_1(string),\n    'writable': true\n  });\n};\nvar _baseSetToString = baseSetToString;\n/** Used to detect hot functions by number of calls within a span of milliseconds. */\n\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n/* Built-in method references for those with the same name as other `lodash` methods. */\n\nvar nativeNow = Date.now;\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\n\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n  return function () {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n    lastCalled = stamp;\n\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n\n    return func.apply(undefined, arguments);\n  };\n}\n\nvar _shortOut = shortOut;\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\n\nvar setToString = _shortOut(_baseSetToString);\n\nvar _setToString = setToString;\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\n\nfunction baseRest(func, start) {\n  return _setToString(_overRest(func, start, identity_1), func + '');\n}\n\nvar _baseRest = baseRest;\n/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\n\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while (fromRight ? index-- : ++index < length) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n\n  return -1;\n}\n\nvar _baseFindIndex = baseFindIndex;\n/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\n\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\nvar _baseIsNaN = baseIsNaN;\n/**\n * A specialized version of `_.indexOf` which performs strict equality\n * comparisons of values, i.e. `===`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\n\nfunction strictIndexOf(array, value, fromIndex) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n\n  return -1;\n}\n\nvar _strictIndexOf = strictIndexOf;\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\n\nfunction baseIndexOf(array, value, fromIndex) {\n  return value === value ? _strictIndexOf(array, value, fromIndex) : _baseFindIndex(array, _baseIsNaN, fromIndex);\n}\n\nvar _baseIndexOf = baseIndexOf;\n/**\n * A specialized version of `_.includes` for arrays without support for\n * specifying an index to search from.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\n\nfunction arrayIncludes(array, value) {\n  var length = array == null ? 0 : array.length;\n  return !!length && _baseIndexOf(array, value, 0) > -1;\n}\n\nvar _arrayIncludes = arrayIncludes;\n/**\n * This function is like `arrayIncludes` except that it accepts a comparator.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\n\nfunction arrayIncludesWith(array, value, comparator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (comparator(value, array[index])) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nvar _arrayIncludesWith = arrayIncludesWith;\n/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\n\nfunction noop() {// No operation performed.\n}\n\nvar noop_1 = noop;\n/** Used as references for various `Number` constants. */\n\nvar INFINITY$2 = 1 / 0;\n/**\n * Creates a set object of `values`.\n *\n * @private\n * @param {Array} values The values to add to the set.\n * @returns {Object} Returns the new set.\n */\n\nvar createSet = !(_Set && 1 / _setToArray(new _Set([, -0]))[1] == INFINITY$2) ? noop_1 : function (values) {\n  return new _Set(values);\n};\nvar _createSet = createSet;\n/** Used as the size to enable large array optimizations. */\n\nvar LARGE_ARRAY_SIZE$1 = 200;\n/**\n * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n */\n\nfunction baseUniq(array, iteratee, comparator) {\n  var index = -1,\n      includes = _arrayIncludes,\n      length = array.length,\n      isCommon = true,\n      result = [],\n      seen = result;\n\n  if (comparator) {\n    isCommon = false;\n    includes = _arrayIncludesWith;\n  } else if (length >= LARGE_ARRAY_SIZE$1) {\n    var set = iteratee ? null : _createSet(array);\n\n    if (set) {\n      return _setToArray(set);\n    }\n\n    isCommon = false;\n    includes = _cacheHas;\n    seen = new _SetCache();\n  } else {\n    seen = iteratee ? [] : result;\n  }\n\n  outer: while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n    value = comparator || value !== 0 ? value : 0;\n\n    if (isCommon && computed === computed) {\n      var seenIndex = seen.length;\n\n      while (seenIndex--) {\n        if (seen[seenIndex] === computed) {\n          continue outer;\n        }\n      }\n\n      if (iteratee) {\n        seen.push(computed);\n      }\n\n      result.push(value);\n    } else if (!includes(seen, computed, comparator)) {\n      if (seen !== result) {\n        seen.push(computed);\n      }\n\n      result.push(value);\n    }\n  }\n\n  return result;\n}\n\nvar _baseUniq = baseUniq;\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\n\nfunction isArrayLikeObject(value) {\n  return isObjectLike_1(value) && isArrayLike_1(value);\n}\n\nvar isArrayLikeObject_1 = isArrayLikeObject;\n/**\n * Gets the last element of `array`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to query.\n * @returns {*} Returns the last element of `array`.\n * @example\n *\n * _.last([1, 2, 3]);\n * // => 3\n */\n\nfunction last(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? array[length - 1] : undefined;\n}\n\nvar last_1 = last;\n/**\n * This method is like `_.union` except that it accepts `iteratee` which is\n * invoked for each element of each `arrays` to generate the criterion by\n * which uniqueness is computed. Result values are chosen from the first\n * array in which the value occurs. The iteratee is invoked with one argument:\n * (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {...Array} [arrays] The arrays to inspect.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {Array} Returns the new array of combined values.\n * @example\n *\n * _.unionBy([2.1], [1.2, 2.3], Math.floor);\n * // => [2.1, 1.2]\n *\n * // The `_.property` iteratee shorthand.\n * _.unionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n * // => [{ 'x': 1 }, { 'x': 2 }]\n */\n\nvar unionBy = _baseRest(function (arrays) {\n  var iteratee = last_1(arrays);\n\n  if (isArrayLikeObject_1(iteratee)) {\n    iteratee = undefined;\n  }\n\n  return _baseUniq(_baseFlatten(arrays, 1, isArrayLikeObject_1, true), _baseIteratee(iteratee));\n});\n\nvar unionBy_1 = unionBy;\n\nvar mergeFilterFacets = function mergeFilterFacets(aggregations, filterFields, componentSettingsAggregations) {\n  if (!aggregations) {\n    return [];\n  }\n\n  var termAggregations = findTermAggregations(aggregations); // add component settings label if it exists\n\n  var labeledTermAggregations = termAggregations.map(function (termAggregation) {\n    var matchingComponentSettingAggregation = componentSettingsAggregations.find(function (setting) {\n      return setting.name === get_1(termAggregation, 'name', '');\n    });\n\n    if (matchingComponentSettingAggregation) {\n      return _assign(_assign({}, termAggregation), matchingComponentSettingAggregation);\n    } else {\n      return _assign(_assign({}, termAggregation), {\n        multiple_selections_allowed: true\n      });\n    }\n  });\n  var usedFields = [];\n  return labeledTermAggregations.filter(function (aggregation) {\n    return aggregation.results;\n  }).map(function (aggregation) {\n    var aggregationResults = get_1(aggregation, 'results', []);\n    var filterFacetsForName = filterFields.find(function (filterAggregation) {\n      if (!filterAggregation.name || !aggregation.name) {\n        // aggregation is from initial filter string, we can only match on field\n        if (filterAggregation.field === aggregation.field && !usedFields.includes(filterAggregation.field)) {\n          usedFields.push(filterAggregation.field);\n          return true;\n        }\n\n        return false;\n      }\n\n      return filterAggregation.name === aggregation.name;\n    });\n\n    if (!!filterFacetsForName) {\n      var filterFacetResults_1 = get_1(filterFacetsForName, 'results', []);\n      var newAggResults = aggregationResults.map(function (result) {\n        var key = get_1(result, 'key', '');\n        var matchingFilterFacetResult = filterFacetResults_1.find(function (filterFacet) {\n          return filterFacet.key === key;\n        });\n\n        if (matchingFilterFacetResult && matchingFilterFacetResult.selected) {\n          return _assign(_assign({}, result), {\n            selected: true\n          });\n        }\n\n        return result;\n      });\n      var selectedNewAggAndFilterFacetResults = unionBy_1(newAggResults, filterFacetResults_1, 'key');\n      return _assign(_assign({}, aggregation), {\n        results: selectedNewAggAndFilterFacetResults\n      });\n    } else {\n      return aggregation;\n    }\n  });\n};\n\nvar mergeDynamicFacets = function mergeDynamicFacets(dynamicFacets, filterDynamicFacets) {\n  if (!dynamicFacets) {\n    return [];\n  }\n\n  var selectedDynamicFacets = filterDynamicFacets.filter(function (facet) {\n    return facet.selected;\n  });\n  var filteredAndDynamicFacets = unionBy_1(selectedDynamicFacets, dynamicFacets, 'text');\n  return filteredAndDynamicFacets;\n};\n/**\n * A specialized version of `baseAggregator` for arrays.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\n\n\nfunction arrayAggregator(array, setter, iteratee, accumulator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    var value = array[index];\n    setter(accumulator, value, iteratee(value), array);\n  }\n\n  return accumulator;\n}\n\nvar _arrayAggregator = arrayAggregator;\n/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\n\nfunction createBaseFor(fromRight) {\n  return function (object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n\n    return object;\n  };\n}\n\nvar _createBaseFor = createBaseFor;\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\n\nvar baseFor = _createBaseFor();\n\nvar _baseFor = baseFor;\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\n\nfunction baseForOwn(object, iteratee) {\n  return object && _baseFor(object, iteratee, keys_1);\n}\n\nvar _baseForOwn = baseForOwn;\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\n\nfunction createBaseEach(eachFunc, fromRight) {\n  return function (collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n\n    if (!isArrayLike_1(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while (fromRight ? index-- : ++index < length) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n\n    return collection;\n  };\n}\n\nvar _createBaseEach = createBaseEach;\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\n\nvar baseEach = _createBaseEach(_baseForOwn);\n\nvar _baseEach = baseEach;\n/**\n * Aggregates elements of `collection` on `accumulator` with keys transformed\n * by `iteratee` and values set by `setter`.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\n\nfunction baseAggregator(collection, setter, iteratee, accumulator) {\n  _baseEach(collection, function (value, key, collection) {\n    setter(accumulator, value, iteratee(value), collection);\n  });\n\n  return accumulator;\n}\n\nvar _baseAggregator = baseAggregator;\n/**\n * Creates a function like `_.groupBy`.\n *\n * @private\n * @param {Function} setter The function to set accumulator values.\n * @param {Function} [initializer] The accumulator object initializer.\n * @returns {Function} Returns the new aggregator function.\n */\n\nfunction createAggregator(setter, initializer) {\n  return function (collection, iteratee) {\n    var func = isArray_1(collection) ? _arrayAggregator : _baseAggregator,\n        accumulator = initializer ? initializer() : {};\n    return func(collection, setter, _baseIteratee(iteratee), accumulator);\n  };\n}\n\nvar _createAggregator = createAggregator;\n/**\n * Creates an array of elements split into two groups, the first of which\n * contains elements `predicate` returns truthy for, the second of which\n * contains elements `predicate` returns falsey for. The predicate is\n * invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the array of grouped elements.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'age': 36, 'active': false },\n *   { 'user': 'fred',    'age': 40, 'active': true },\n *   { 'user': 'pebbles', 'age': 1,  'active': false }\n * ];\n *\n * _.partition(users, function(o) { return o.active; });\n * // => objects for [['fred'], ['barney', 'pebbles']]\n *\n * // The `_.matches` iteratee shorthand.\n * _.partition(users, { 'age': 1, 'active': false });\n * // => objects for [['pebbles'], ['barney', 'fred']]\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.partition(users, ['active', false]);\n * // => objects for [['barney', 'pebbles'], ['fred']]\n *\n * // The `_.property` iteratee shorthand.\n * _.partition(users, 'active');\n * // => objects for [['fred'], ['barney', 'pebbles']]\n */\n\nvar partition = _createAggregator(function (result, value, key) {\n  result[key ? 0 : 1].push(value);\n}, function () {\n  return [[], []];\n});\n\nvar partition_1 = partition;\n\nvar SearchFilterTransform =\n/** @class */\nfunction () {\n  function SearchFilterTransform() {}\n\n  SearchFilterTransform.fromString = function (filterString) {\n    var _this = this;\n\n    if (filterString === '') {\n      return {\n        filterFields: [],\n        filterDynamic: []\n      };\n    }\n\n    var colonRegex = RegExp(SearchFilterTransform.SPLIT_UNQUOTED_COLONS);\n    var filterFacets = partition_1(filterString.split(SearchFilterTransform.SPLIT_UNQUOTED_COMMAS), function (filter) {\n      return colonRegex.test(filter);\n    });\n    var fields = filterFacets[0].map(function (facetField) {\n      var facetSplit = facetField.split(SearchFilterTransform.SPLIT_UNQUOTED_COLONS);\n      var field = facetSplit[0];\n      var results = facetSplit[1].split(SearchFilterTransform.SPLIT_UNQUOTED_PIPES).sort().map(function (result) {\n        var unquotedResult = _this.unquoteString(result);\n\n        return {\n          key: unquotedResult,\n          matching_results: 1,\n          selected: true\n        };\n      });\n      return {\n        type: 'term',\n        field: field,\n        results: results\n      };\n    });\n    var suggestions = filterFacets[1].map(function (suggestion) {\n      var unquotedSuggestion = _this.unquoteString(suggestion);\n\n      return {\n        text: unquotedSuggestion,\n        selected: true\n      };\n    });\n    return {\n      filterFields: fields,\n      filterDynamic: suggestions\n    };\n  };\n\n  SearchFilterTransform.toString = function (facets) {\n    var fieldFilters = this.fieldsToString(facets.filterFields);\n    var dynamicFilters = this.quoteSelectedFacets(facets.filterDynamic, 'text').join(',');\n    return [fieldFilters, dynamicFilters].filter(Boolean).join(',');\n  };\n\n  SearchFilterTransform.unquoteString = function (quotedString) {\n    return quotedString.replace(/^\"(.+)\"$/, '$1').replace(/\\\\\"/, '\"');\n  };\n\n  SearchFilterTransform.fieldsToString = function (facets) {\n    var _this = this;\n\n    var filterStrings = [];\n    facets.forEach(function (facet) {\n      var field = get_1(facet, 'field', '');\n      var results = get_1(facet, 'results', []);\n\n      var keys = _this.quoteSelectedFacets(results, 'key');\n\n      if (keys.length) {\n        filterStrings.push(field + \":\" + keys.join('|'));\n      }\n    });\n    return filterStrings.join(',');\n  };\n\n  SearchFilterTransform.quoteSelectedFacets = function (facets, key) {\n    return facets.filter(function (result) {\n      return result.selected;\n    }).map(function (result) {\n      var text = get_1(result, key, '');\n      return \"\\\"\" + text.replace(/\"/, '\\\\\"') + \"\\\"\";\n    });\n  };\n\n  SearchFilterTransform.SPLIT_UNQUOTED_COMMAS = /,(?=(?:(?:[^\"\\\\\"]*[\"\\\\\"]){2})*[^\"\\\\\"]*$)/;\n  SearchFilterTransform.SPLIT_UNQUOTED_COLONS = /:(?=(?:(?:[^\"\\\\\"]*[\"\\\\\"]){2})*[^\"\\\\\"]*$)/;\n  SearchFilterTransform.SPLIT_UNQUOTED_PIPES = /\\|(?=(?:(?:[^\"\\\\\"]*[\"\\\\\"]){2})*[^\"\\\\\"]*$)/;\n  return SearchFilterTransform;\n}();\n\nvar errorMessage = 'Error fetching facets.';\nvar noAvailableFacetsMessage = 'There are no available facets.';\n\nvar displayMessage = function displayMessage(message) {\n  return createElement(\"div\", null, createElement(\"p\", null, message));\n};\n\nvar baseClass = settings.prefix + \"--search-facet\";\nvar fieldsetClasses = [settings.prefix + \"--fieldset\", baseClass];\nvar labelClasses = [settings.prefix + \"--label\", baseClass + \"__facet__label\"];\nvar optionClass = baseClass + \"__facet__option\";\nvar optionLabelClass = baseClass + \"__facet__option-label\";\nvar singleSelectGroupClass = baseClass + \"__facet__single__select__group\";\nvar labelAndSelectionContainerClass = baseClass + \"__facet__label-and-selection-container\";\nvar showMoreModalClass = baseClass + \"__facet__show-more-modal\";\nvar categoryClass = baseClass + \"__category\";\nvar categoryExpandCollapseClass = categoryClass + \"--expand-collapse\";\nvar categoryGroupNameClass = categoryClass + \"--category-name\";\nvar collectionFacetIdPrefix = 'collection-facet-';\n\nvar CollectionFacets = function CollectionFacets(_a) {\n  var initialSelectedCollections = _a.initialSelectedCollections,\n      messages = _a.messages,\n      onChange = _a.onChange;\n  var collectionsResults = useContext(SearchContext).collectionsResults;\n  var collections = get_1(collectionsResults, 'collections', []);\n  var collectionItems = collections.map(function (collection) {\n    return {\n      id: \"\" + collectionFacetIdPrefix + collection.collection_id,\n      label: collection.name || ''\n    };\n  });\n\n  var handleCollectionToggle = function handleCollectionToggle(toggledCollections) {\n    onChange(toggledCollections);\n  }; // TODO: figure out why MultiSelect doesn't set initialSelectedItems on subsequent renders\n\n\n  if (collectionItems.length > 0) {\n    return React$g__default.createElement(\"fieldset\", {\n      className: settings.prefix + \"--fieldset\"\n    }, React$g__default.createElement(\"legend\", {\n      className: labelClasses.join(' ')\n    }, React$g__default.createElement(\"div\", {\n      className: labelAndSelectionContainerClass\n    }, messages.collectionSelectTitleText)), React$g__default.createElement(MultiSelect, {\n      id: collectionFacetIdPrefix + \"select\",\n      items: collectionItems,\n      initialSelectedItems: initialSelectedCollections,\n      label: messages.collectionSelectLabel,\n      onChange: handleCollectionToggle\n    }));\n  }\n\n  return null;\n};\n/**\n * The base implementation of `_.filter` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\n\n\nfunction baseFilter(collection, predicate) {\n  var result = [];\n\n  _baseEach(collection, function (value, index, collection) {\n    if (predicate(value, index, collection)) {\n      result.push(value);\n    }\n  });\n\n  return result;\n}\n\nvar _baseFilter = baseFilter;\n/**\n * Iterates over elements of `collection`, returning an array of all elements\n * `predicate` returns truthy for. The predicate is invoked with three\n * arguments: (value, index|key, collection).\n *\n * **Note:** Unlike `_.remove`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n * @see _.reject\n * @example\n *\n * var users = [\n *   { 'user': 'barney', 'age': 36, 'active': true },\n *   { 'user': 'fred',   'age': 40, 'active': false }\n * ];\n *\n * _.filter(users, function(o) { return !o.active; });\n * // => objects for ['fred']\n *\n * // The `_.matches` iteratee shorthand.\n * _.filter(users, { 'age': 36, 'active': true });\n * // => objects for ['barney']\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.filter(users, ['active', false]);\n * // => objects for ['fred']\n *\n * // The `_.property` iteratee shorthand.\n * _.filter(users, 'active');\n * // => objects for ['barney']\n *\n * // Combining several predicates using `_.overEvery` or `_.overSome`.\n * _.filter(users, _.overSome([{ 'age': 36 }, ['age', 40]]));\n * // => objects for ['fred', 'barney']\n */\n\nfunction filter(collection, predicate) {\n  var func = isArray_1(collection) ? _arrayFilter : _baseFilter;\n  return func(collection, _baseIteratee(predicate));\n}\n\nvar filter_1 = filter;\n/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\n\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n\n  return array;\n}\n\nvar _arrayEach = arrayEach;\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\n\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && _defineProperty$2) {\n    _defineProperty$2(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nvar _baseAssignValue = baseAssignValue;\n/** Used for built-in method references. */\n\nvar objectProto$c = Object.prototype;\n/** Used to check objects for own properties. */\n\nvar hasOwnProperty$a = objectProto$c.hasOwnProperty;\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\n\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n\n  if (!(hasOwnProperty$a.call(object, key) && eq_1(objValue, value)) || value === undefined && !(key in object)) {\n    _baseAssignValue(object, key, value);\n  }\n}\n\nvar _assignValue = assignValue;\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\n\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n    var newValue = customizer ? customizer(object[key], source[key], key, object, source) : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n\n    if (isNew) {\n      _baseAssignValue(object, key, newValue);\n    } else {\n      _assignValue(object, key, newValue);\n    }\n  }\n\n  return object;\n}\n\nvar _copyObject = copyObject;\n/**\n * The base implementation of `_.assign` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\n\nfunction baseAssign(object, source) {\n  return object && _copyObject(source, keys_1(source), object);\n}\n\nvar _baseAssign = baseAssign;\n/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\n\nfunction nativeKeysIn(object) {\n  var result = [];\n\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n\n  return result;\n}\n\nvar _nativeKeysIn = nativeKeysIn;\n/** Used for built-in method references. */\n\nvar objectProto$d = Object.prototype;\n/** Used to check objects for own properties. */\n\nvar hasOwnProperty$b = objectProto$d.hasOwnProperty;\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\n\nfunction baseKeysIn(object) {\n  if (!isObject_1(object)) {\n    return _nativeKeysIn(object);\n  }\n\n  var isProto = _isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty$b.call(object, key)))) {\n      result.push(key);\n    }\n  }\n\n  return result;\n}\n\nvar _baseKeysIn = baseKeysIn;\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\n\nfunction keysIn(object) {\n  return isArrayLike_1(object) ? _arrayLikeKeys(object, true) : _baseKeysIn(object);\n}\n\nvar keysIn_1 = keysIn;\n/**\n * The base implementation of `_.assignIn` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\n\nfunction baseAssignIn(object, source) {\n  return object && _copyObject(source, keysIn_1(source), object);\n}\n\nvar _baseAssignIn = baseAssignIn;\n\nvar _cloneBuffer = createCommonjsModule(function (module, exports) {\n  /** Detect free variable `exports`. */\n  var freeExports = exports && !exports.nodeType && exports;\n  /** Detect free variable `module`. */\n\n  var freeModule = freeExports && 'object' == 'object' && module && !module.nodeType && module;\n  /** Detect the popular CommonJS extension `module.exports`. */\n\n  var moduleExports = freeModule && freeModule.exports === freeExports;\n  /** Built-in value references. */\n\n  var Buffer = moduleExports ? _root.Buffer : undefined,\n      allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined;\n  /**\n   * Creates a clone of  `buffer`.\n   *\n   * @private\n   * @param {Buffer} buffer The buffer to clone.\n   * @param {boolean} [isDeep] Specify a deep clone.\n   * @returns {Buffer} Returns the cloned buffer.\n   */\n\n  function cloneBuffer(buffer, isDeep) {\n    if (isDeep) {\n      return buffer.slice();\n    }\n\n    var length = buffer.length,\n        result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n    buffer.copy(result);\n    return result;\n  }\n\n  module.exports = cloneBuffer;\n});\n/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\n\n\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n  array || (array = Array(length));\n\n  while (++index < length) {\n    array[index] = source[index];\n  }\n\n  return array;\n}\n\nvar _copyArray = copyArray;\n/**\n * Copies own symbols of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\n\nfunction copySymbols(source, object) {\n  return _copyObject(source, _getSymbols(source), object);\n}\n\nvar _copySymbols = copySymbols;\n/** Built-in value references. */\n\nvar getPrototype = _overArg(Object.getPrototypeOf, Object);\n\nvar _getPrototype = getPrototype;\n/* Built-in method references for those with the same name as other `lodash` methods. */\n\nvar nativeGetSymbols$1 = Object.getOwnPropertySymbols;\n/**\n * Creates an array of the own and inherited enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\n\nvar getSymbolsIn = !nativeGetSymbols$1 ? stubArray_1 : function (object) {\n  var result = [];\n\n  while (object) {\n    _arrayPush(result, _getSymbols(object));\n\n    object = _getPrototype(object);\n  }\n\n  return result;\n};\nvar _getSymbolsIn = getSymbolsIn;\n/**\n * Copies own and inherited symbols of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\n\nfunction copySymbolsIn(source, object) {\n  return _copyObject(source, _getSymbolsIn(source), object);\n}\n\nvar _copySymbolsIn = copySymbolsIn;\n/**\n * Creates an array of own and inherited enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\n\nfunction getAllKeysIn(object) {\n  return _baseGetAllKeys(object, keysIn_1, _getSymbolsIn);\n}\n\nvar _getAllKeysIn = getAllKeysIn;\n/** Used for built-in method references. */\n\nvar objectProto$e = Object.prototype;\n/** Used to check objects for own properties. */\n\nvar hasOwnProperty$c = objectProto$e.hasOwnProperty;\n/**\n * Initializes an array clone.\n *\n * @private\n * @param {Array} array The array to clone.\n * @returns {Array} Returns the initialized clone.\n */\n\nfunction initCloneArray(array) {\n  var length = array.length,\n      result = new array.constructor(length); // Add properties assigned by `RegExp#exec`.\n\n  if (length && typeof array[0] == 'string' && hasOwnProperty$c.call(array, 'index')) {\n    result.index = array.index;\n    result.input = array.input;\n  }\n\n  return result;\n}\n\nvar _initCloneArray = initCloneArray;\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\n\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new _Uint8Array(result).set(new _Uint8Array(arrayBuffer));\n  return result;\n}\n\nvar _cloneArrayBuffer = cloneArrayBuffer;\n/**\n * Creates a clone of `dataView`.\n *\n * @private\n * @param {Object} dataView The data view to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned data view.\n */\n\nfunction cloneDataView(dataView, isDeep) {\n  var buffer = isDeep ? _cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n  return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n}\n\nvar _cloneDataView = cloneDataView;\n/** Used to match `RegExp` flags from their coerced string values. */\n\nvar reFlags = /\\w*$/;\n/**\n * Creates a clone of `regexp`.\n *\n * @private\n * @param {Object} regexp The regexp to clone.\n * @returns {Object} Returns the cloned regexp.\n */\n\nfunction cloneRegExp(regexp) {\n  var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n  result.lastIndex = regexp.lastIndex;\n  return result;\n}\n\nvar _cloneRegExp = cloneRegExp;\n/** Used to convert symbols to primitives and strings. */\n\nvar symbolProto$2 = _Symbol ? _Symbol.prototype : undefined,\n    symbolValueOf$1 = symbolProto$2 ? symbolProto$2.valueOf : undefined;\n/**\n * Creates a clone of the `symbol` object.\n *\n * @private\n * @param {Object} symbol The symbol object to clone.\n * @returns {Object} Returns the cloned symbol object.\n */\n\nfunction cloneSymbol(symbol) {\n  return symbolValueOf$1 ? Object(symbolValueOf$1.call(symbol)) : {};\n}\n\nvar _cloneSymbol = cloneSymbol;\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\n\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? _cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\nvar _cloneTypedArray = cloneTypedArray;\n/** `Object#toString` result references. */\n\nvar boolTag$2 = '[object Boolean]',\n    dateTag$2 = '[object Date]',\n    mapTag$3 = '[object Map]',\n    numberTag$2 = '[object Number]',\n    regexpTag$2 = '[object RegExp]',\n    setTag$3 = '[object Set]',\n    stringTag$2 = '[object String]',\n    symbolTag$2 = '[object Symbol]';\nvar arrayBufferTag$2 = '[object ArrayBuffer]',\n    dataViewTag$3 = '[object DataView]',\n    float32Tag$1 = '[object Float32Array]',\n    float64Tag$1 = '[object Float64Array]',\n    int8Tag$1 = '[object Int8Array]',\n    int16Tag$1 = '[object Int16Array]',\n    int32Tag$1 = '[object Int32Array]',\n    uint8Tag$1 = '[object Uint8Array]',\n    uint8ClampedTag$1 = '[object Uint8ClampedArray]',\n    uint16Tag$1 = '[object Uint16Array]',\n    uint32Tag$1 = '[object Uint32Array]';\n/**\n * Initializes an object clone based on its `toStringTag`.\n *\n * **Note:** This function only supports cloning values with tags of\n * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.\n *\n * @private\n * @param {Object} object The object to clone.\n * @param {string} tag The `toStringTag` of the object to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the initialized clone.\n */\n\nfunction initCloneByTag(object, tag, isDeep) {\n  var Ctor = object.constructor;\n\n  switch (tag) {\n    case arrayBufferTag$2:\n      return _cloneArrayBuffer(object);\n\n    case boolTag$2:\n    case dateTag$2:\n      return new Ctor(+object);\n\n    case dataViewTag$3:\n      return _cloneDataView(object, isDeep);\n\n    case float32Tag$1:\n    case float64Tag$1:\n    case int8Tag$1:\n    case int16Tag$1:\n    case int32Tag$1:\n    case uint8Tag$1:\n    case uint8ClampedTag$1:\n    case uint16Tag$1:\n    case uint32Tag$1:\n      return _cloneTypedArray(object, isDeep);\n\n    case mapTag$3:\n      return new Ctor();\n\n    case numberTag$2:\n    case stringTag$2:\n      return new Ctor(object);\n\n    case regexpTag$2:\n      return _cloneRegExp(object);\n\n    case setTag$3:\n      return new Ctor();\n\n    case symbolTag$2:\n      return _cloneSymbol(object);\n  }\n}\n\nvar _initCloneByTag = initCloneByTag;\n/** Built-in value references. */\n\nvar objectCreate = Object.create;\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\n\nvar baseCreate = function () {\n  function object() {}\n\n  return function (proto) {\n    if (!isObject_1(proto)) {\n      return {};\n    }\n\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n\n    object.prototype = proto;\n    var result = new object();\n    object.prototype = undefined;\n    return result;\n  };\n}();\n\nvar _baseCreate = baseCreate;\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\n\nfunction initCloneObject(object) {\n  return typeof object.constructor == 'function' && !_isPrototype(object) ? _baseCreate(_getPrototype(object)) : {};\n}\n\nvar _initCloneObject = initCloneObject;\n/** `Object#toString` result references. */\n\nvar mapTag$4 = '[object Map]';\n/**\n * The base implementation of `_.isMap` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n */\n\nfunction baseIsMap(value) {\n  return isObjectLike_1(value) && _getTag(value) == mapTag$4;\n}\n\nvar _baseIsMap = baseIsMap;\n/* Node.js helper references. */\n\nvar nodeIsMap = _nodeUtil && _nodeUtil.isMap;\n/**\n * Checks if `value` is classified as a `Map` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n * @example\n *\n * _.isMap(new Map);\n * // => true\n *\n * _.isMap(new WeakMap);\n * // => false\n */\n\nvar isMap = nodeIsMap ? _baseUnary(nodeIsMap) : _baseIsMap;\nvar isMap_1 = isMap;\n/** `Object#toString` result references. */\n\nvar setTag$4 = '[object Set]';\n/**\n * The base implementation of `_.isSet` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n */\n\nfunction baseIsSet(value) {\n  return isObjectLike_1(value) && _getTag(value) == setTag$4;\n}\n\nvar _baseIsSet = baseIsSet;\n/* Node.js helper references. */\n\nvar nodeIsSet = _nodeUtil && _nodeUtil.isSet;\n/**\n * Checks if `value` is classified as a `Set` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n * @example\n *\n * _.isSet(new Set);\n * // => true\n *\n * _.isSet(new WeakSet);\n * // => false\n */\n\nvar isSet = nodeIsSet ? _baseUnary(nodeIsSet) : _baseIsSet;\nvar isSet_1 = isSet;\n/** Used to compose bitmasks for cloning. */\n\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_FLAT_FLAG = 2,\n    CLONE_SYMBOLS_FLAG = 4;\n/** `Object#toString` result references. */\n\nvar argsTag$3 = '[object Arguments]',\n    arrayTag$2 = '[object Array]',\n    boolTag$3 = '[object Boolean]',\n    dateTag$3 = '[object Date]',\n    errorTag$2 = '[object Error]',\n    funcTag$2 = '[object Function]',\n    genTag$1 = '[object GeneratorFunction]',\n    mapTag$5 = '[object Map]',\n    numberTag$3 = '[object Number]',\n    objectTag$3 = '[object Object]',\n    regexpTag$3 = '[object RegExp]',\n    setTag$5 = '[object Set]',\n    stringTag$3 = '[object String]',\n    symbolTag$3 = '[object Symbol]',\n    weakMapTag$2 = '[object WeakMap]';\nvar arrayBufferTag$3 = '[object ArrayBuffer]',\n    dataViewTag$4 = '[object DataView]',\n    float32Tag$2 = '[object Float32Array]',\n    float64Tag$2 = '[object Float64Array]',\n    int8Tag$2 = '[object Int8Array]',\n    int16Tag$2 = '[object Int16Array]',\n    int32Tag$2 = '[object Int32Array]',\n    uint8Tag$2 = '[object Uint8Array]',\n    uint8ClampedTag$2 = '[object Uint8ClampedArray]',\n    uint16Tag$2 = '[object Uint16Array]',\n    uint32Tag$2 = '[object Uint32Array]';\n/** Used to identify `toStringTag` values supported by `_.clone`. */\n\nvar cloneableTags = {};\ncloneableTags[argsTag$3] = cloneableTags[arrayTag$2] = cloneableTags[arrayBufferTag$3] = cloneableTags[dataViewTag$4] = cloneableTags[boolTag$3] = cloneableTags[dateTag$3] = cloneableTags[float32Tag$2] = cloneableTags[float64Tag$2] = cloneableTags[int8Tag$2] = cloneableTags[int16Tag$2] = cloneableTags[int32Tag$2] = cloneableTags[mapTag$5] = cloneableTags[numberTag$3] = cloneableTags[objectTag$3] = cloneableTags[regexpTag$3] = cloneableTags[setTag$5] = cloneableTags[stringTag$3] = cloneableTags[symbolTag$3] = cloneableTags[uint8Tag$2] = cloneableTags[uint8ClampedTag$2] = cloneableTags[uint16Tag$2] = cloneableTags[uint32Tag$2] = true;\ncloneableTags[errorTag$2] = cloneableTags[funcTag$2] = cloneableTags[weakMapTag$2] = false;\n/**\n * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n * traversed objects.\n *\n * @private\n * @param {*} value The value to clone.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Deep clone\n *  2 - Flatten inherited properties\n *  4 - Clone symbols\n * @param {Function} [customizer] The function to customize cloning.\n * @param {string} [key] The key of `value`.\n * @param {Object} [object] The parent object of `value`.\n * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n * @returns {*} Returns the cloned value.\n */\n\nfunction baseClone(value, bitmask, customizer, key, object, stack) {\n  var result,\n      isDeep = bitmask & CLONE_DEEP_FLAG,\n      isFlat = bitmask & CLONE_FLAT_FLAG,\n      isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n  if (customizer) {\n    result = object ? customizer(value, key, object, stack) : customizer(value);\n  }\n\n  if (result !== undefined) {\n    return result;\n  }\n\n  if (!isObject_1(value)) {\n    return value;\n  }\n\n  var isArr = isArray_1(value);\n\n  if (isArr) {\n    result = _initCloneArray(value);\n\n    if (!isDeep) {\n      return _copyArray(value, result);\n    }\n  } else {\n    var tag = _getTag(value),\n        isFunc = tag == funcTag$2 || tag == genTag$1;\n\n    if (isBuffer_1(value)) {\n      return _cloneBuffer(value, isDeep);\n    }\n\n    if (tag == objectTag$3 || tag == argsTag$3 || isFunc && !object) {\n      result = isFlat || isFunc ? {} : _initCloneObject(value);\n\n      if (!isDeep) {\n        return isFlat ? _copySymbolsIn(value, _baseAssignIn(result, value)) : _copySymbols(value, _baseAssign(result, value));\n      }\n    } else {\n      if (!cloneableTags[tag]) {\n        return object ? value : {};\n      }\n\n      result = _initCloneByTag(value, tag, isDeep);\n    }\n  } // Check for circular references and return its corresponding clone.\n\n\n  stack || (stack = new _Stack());\n  var stacked = stack.get(value);\n\n  if (stacked) {\n    return stacked;\n  }\n\n  stack.set(value, result);\n\n  if (isSet_1(value)) {\n    value.forEach(function (subValue) {\n      result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n    });\n  } else if (isMap_1(value)) {\n    value.forEach(function (subValue, key) {\n      result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\n    });\n  }\n\n  var keysFunc = isFull ? isFlat ? _getAllKeysIn : _getAllKeys : isFlat ? keysIn_1 : keys_1;\n  var props = isArr ? undefined : keysFunc(value);\n\n  _arrayEach(props || value, function (subValue, key) {\n    if (props) {\n      key = subValue;\n      subValue = value[key];\n    } // Recursively populate clone (susceptible to call stack limits).\n\n\n    _assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n  });\n\n  return result;\n}\n\nvar _baseClone = baseClone;\n/** Used to compose bitmasks for cloning. */\n\nvar CLONE_DEEP_FLAG$1 = 1,\n    CLONE_SYMBOLS_FLAG$1 = 4;\n/**\n * This method is like `_.clone` except that it recursively clones `value`.\n *\n * @static\n * @memberOf _\n * @since 1.0.0\n * @category Lang\n * @param {*} value The value to recursively clone.\n * @returns {*} Returns the deep cloned value.\n * @see _.clone\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var deep = _.cloneDeep(objects);\n * console.log(deep[0] === objects[0]);\n * // => false\n */\n\nfunction cloneDeep(value) {\n  return _baseClone(value, CLONE_DEEP_FLAG$1 | CLONE_SYMBOLS_FLAG$1);\n}\n\nvar cloneDeep_1 = cloneDeep;\n\nfunction _interopDefault$3(ex) {\n  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;\n}\n\nvar React$3 = _interopDefault$3(React$g__default);\n\nvar _ref2$2 =\n/*#__PURE__*/\n\n/*#__PURE__*/\nReact$3.createElement(\"path\", {\n  d: \"M8 11L3 6 3.7 5.3 8 9.6 12.3 5.3 13 6z\"\n});\n\nvar ChevronDown16 = /*#__PURE__*/React$3.forwardRef(function ChevronDown16(_ref, ref) {\n  var children = _ref.children,\n      rest = IconE8f71a9c._objectWithoutProperties(_ref, [\"children\"]);\n\n  return /*#__PURE__*/React$3.createElement(IconE8f71a9c.Icon, IconE8f71a9c._extends({\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"currentColor\",\n    ref: ref\n  }, rest), _ref2$2, children);\n});\nvar _16$2 = ChevronDown16;\n\nfunction _interopDefault$4(ex) {\n  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;\n}\n\nvar React$4 = _interopDefault$4(React$g__default);\n\nvar _ref2$3 =\n/*#__PURE__*/\n\n/*#__PURE__*/\nReact$4.createElement(\"path\", {\n  d: \"M8 5L13 10 12.3 10.7 8 6.4 3.7 10.7 3 10z\"\n});\n\nvar ChevronUp16 = /*#__PURE__*/React$4.forwardRef(function ChevronUp16(_ref, ref) {\n  var children = _ref.children,\n      rest = IconE8f71a9c._objectWithoutProperties(_ref, [\"children\"]);\n\n  return /*#__PURE__*/React$4.createElement(IconE8f71a9c.Icon, IconE8f71a9c._extends({\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"currentColor\",\n    ref: ref\n  }, rest), _ref2$3, children);\n});\nvar _16$3 = ChevronUp16;\nvar SPLIT_VARIABLES_REGEX = /({[^}]+})/;\n\nvar formatMessage = function formatMessage(message, values, outputJsx) {\n  if (outputJsx === void 0) {\n    outputJsx = true;\n  }\n\n  return message.split(SPLIT_VARIABLES_REGEX).map(function (part, i) {\n    var variableWithoutBraces = part.replace(/{/g, '').replace(/}/g, '');\n\n    if (part === '') {\n      return part;\n    }\n\n    return part.includes('{') ? outputJsx ? React$g__default.createElement(\"div\", {\n      key: i\n    }, values[variableWithoutBraces]) : values[variableWithoutBraces] : outputJsx ? React$g__default.createElement(\"span\", {\n      key: i\n    }, part) : part;\n  });\n};\n\nvar getFacetLabel = function getFacetLabel(facetText, count, messages, showMatchingResults) {\n  return count !== undefined && showMatchingResults ? formatMessage(messages.labelTextWithCount, {\n    facetText: facetText,\n    count: count\n  }, false) : formatMessage(messages.labelText, {\n    facetText: facetText\n  }, false);\n};\n\nvar MultiSelectFacetsGroup = function MultiSelectFacetsGroup(_a) {\n  var messages = _a.messages,\n      facets = _a.facets,\n      facetsTextField = _a.facetsTextField,\n      aggregationSettings = _a.aggregationSettings,\n      onMultiSelectFacetsGroupChange = _a.onMultiSelectFacetsGroupChange,\n      onChange = _a.onChange,\n      tempSelectedFacets = _a.tempSelectedFacets,\n      setTempSelectedFacets = _a.setTempSelectedFacets,\n      showMatchingResults = _a.showMatchingResults;\n  var naturalLanguageQuery = useContext(SearchContext).searchResponseStore.parameters.naturalLanguageQuery;\n  var escapedName = (aggregationSettings.name || aggregationSettings.field).replace(/\\s+/g, '_');\n\n  var handleOnChange = function handleOnChange(checked, _id, event) {\n    // Check if exposed onChange function is called\n    if (onChange) {\n      onChange(event);\n    }\n\n    var target = event.currentTarget;\n    var selectedFacetName = target.getAttribute('data-name') || '';\n    var selectedFacetKey = target.getAttribute('data-key') || ''; // If this is in the Show more modal, we want to update tempSelectedFacets only\n\n    if (tempSelectedFacets && setTempSelectedFacets) {\n      var selectedFacetIndex = tempSelectedFacets.findIndex(function (selectedFacet) {\n        return selectedFacetKey === selectedFacet.selectedFacetKey;\n      });\n\n      if (selectedFacetIndex > -1) {\n        var tempSelectedFacetsCopy = __spreadArrays(tempSelectedFacets);\n\n        tempSelectedFacetsCopy[selectedFacetIndex].checked = checked;\n        setTempSelectedFacets(tempSelectedFacetsCopy);\n      } else {\n        setTempSelectedFacets(tempSelectedFacets.concat({\n          selectedFacetName: selectedFacetName,\n          selectedFacetKey: selectedFacetKey,\n          checked: checked\n        }));\n      }\n    } else {\n      // If this isn't in the Show more modal, we want to save the selection\n      onMultiSelectFacetsGroupChange([{\n        selectedFacetName: selectedFacetName,\n        selectedFacetKey: selectedFacetKey,\n        checked: checked\n      }]);\n    }\n  };\n\n  return React$g__default.createElement(React$g__default.Fragment, null, facets.map(function (facet) {\n    var facetText = get_1(facet, facetsTextField, '');\n    var count = facet.matching_results;\n    var labelText = getFacetLabel(facetText, count, messages, showMatchingResults);\n    var query = naturalLanguageQuery || '';\n    var buff = new Buffer(query + facetText);\n    var base64data = buff.toString('base64'); // If this is in the Show more modal, we need to check the facet value's temporary selection value\n\n    var facetSelected = !!facet.selected;\n\n    if (tempSelectedFacets) {\n      tempSelectedFacets.find(function (_a) {\n        var selectedFacetKey = _a.selectedFacetKey,\n            checked = _a.checked;\n\n        if (selectedFacetKey === facetText) {\n          facetSelected = !!checked;\n        }\n      });\n    }\n\n    var keyAndIdPrefix = tempSelectedFacets ? 'modal-checkbox' : 'checkbox';\n    return React$g__default.createElement(Checkbox, {\n      className: optionLabelClass,\n      wrapperClassName: optionClass,\n      onChange: handleOnChange,\n      labelText: labelText,\n      key: keyAndIdPrefix + \"-\" + escapedName + \"-\" + base64data,\n      id: keyAndIdPrefix + \"-\" + escapedName + \"-\" + facetText.replace(/\\s+/g, '_'),\n      \"data-name\": aggregationSettings.name || aggregationSettings.field,\n      \"data-key\": facetText,\n      checked: facetSelected\n    });\n  }));\n};\n\nvar SingleSelectFacetsGroup = function SingleSelectFacetsGroup(_a) {\n  var messages = _a.messages,\n      facets = _a.facets,\n      facetsTextField = _a.facetsTextField,\n      selectedFacet = _a.selectedFacet,\n      aggregationSettings = _a.aggregationSettings,\n      onSingleSelectFacetsGroupChange = _a.onSingleSelectFacetsGroupChange,\n      onChange = _a.onChange,\n      tempSelectedFacets = _a.tempSelectedFacets,\n      setTempSelectedFacets = _a.setTempSelectedFacets,\n      showMatchingResults = _a.showMatchingResults;\n  var naturalLanguageQuery = useContext(SearchContext).searchResponseStore.parameters.naturalLanguageQuery;\n  var escapedName = (aggregationSettings.name || aggregationSettings.field).replace(/\\s+/g, '_');\n\n  var handleOnClick = function handleOnClick(event) {\n    // Check if exposed onChange function is called\n    if (onChange) {\n      onChange(event);\n    }\n\n    var target = event.currentTarget;\n    var selectedFacetName = target.getAttribute('data-name') || '';\n    var selectedFacetKey = target.getAttribute('data-key') || '';\n    var checked = true; // If this is in the Show more modal, we want to update tempSelectedFacets only\n\n    if (tempSelectedFacets && setTempSelectedFacets) {\n      setTempSelectedFacets([{\n        selectedFacetName: selectedFacetName,\n        selectedFacetKey: selectedFacetKey,\n        checked: checked\n      }]);\n    } else {\n      // If this isn't in the Show more modal, we want to save the selection\n      onSingleSelectFacetsGroupChange([{\n        selectedFacetName: selectedFacetName,\n        selectedFacetKey: selectedFacetKey,\n        checked: checked\n      }]);\n    }\n  }; // If this is in the Show more modal, we need to check for a temporary selection\n  // and add a suffix to the selected facet value to make it unique\n\n\n  var radioGroupNamePrefix = 'checkbox';\n  var facetValueSelected = selectedFacet;\n\n  if (tempSelectedFacets) {\n    if (tempSelectedFacets.length > 0) {\n      facetValueSelected = tempSelectedFacets[0].selectedFacetKey + '-modal';\n    } else if (selectedFacet) {\n      facetValueSelected = selectedFacet + '-modal';\n    } // If this is in the Show more modal, the radio button group name needs to be unique\n\n\n    radioGroupNamePrefix = 'modal-checkbox';\n  }\n\n  var radioGroupName = aggregationSettings.name || aggregationSettings.field;\n\n  var renderRadioButton = function renderRadioButton(facet) {\n    var facetText = get_1(facet, facetsTextField, '');\n    var count = facet.matching_results;\n    var labelText = getFacetLabel(facetText, count, messages, showMatchingResults);\n    var query = naturalLanguageQuery || '';\n    var buff = new Buffer(query + facetText);\n    var base64data = buff.toString('base64');\n    var facetValue = facetText;\n    var keyAndIdPrefix = 'checkbox';\n\n    if (tempSelectedFacets) {\n      keyAndIdPrefix = 'modal-checkbox';\n      facetValue = get_1(facet, facetsTextField, '') + '-modal';\n    }\n\n    return React$g__default.createElement(RadioButton, {\n      className: optionLabelClass,\n      labelText: labelText,\n      key: keyAndIdPrefix + \"-\" + escapedName + \"-\" + base64data,\n      id: keyAndIdPrefix + \"-\" + escapedName + \"-\" + facetText.replace(/\\s+/g, '_'),\n      value: facetValue,\n      \"data-key\": facetText,\n      \"data-name\": radioGroupName,\n      onClick: handleOnClick\n    });\n  };\n\n  return React$g__default.createElement(RadioButtonGroup, {\n    name: radioGroupNamePrefix + radioGroupName,\n    valueSelected: facetValueSelected,\n    orientation: 'vertical',\n    className: singleSelectGroupClass\n  }, facets.map(renderRadioButton));\n};\n\nvar ModalSearchInput = function ModalSearchInput(_a) {\n  var facets = _a.facets,\n      setFilteredFacets = _a.setFilteredFacets,\n      isModalOpen = _a.isModalOpen,\n      facetsLabel = _a.facetsLabel,\n      facetsTextField = _a.facetsTextField,\n      messages = _a.messages;\n\n  var _b = useState(''),\n      value = _b[0],\n      setValue = _b[1];\n\n  useEffect(function () {\n    if (!isModalOpen) {\n      setValue('');\n      setFilteredFacets(__spreadArrays(facets));\n    }\n  }, [facets, isModalOpen, setFilteredFacets]);\n\n  var handleOnChange = function handleOnChange(event) {\n    var target = event.currentTarget;\n    setValue(!!target ? target.value : '');\n    var tempValue = !!target ? target.value : '';\n\n    var tempFacets = __spreadArrays(facets);\n\n    setFilteredFacets(tempFacets.filter(function (facet) {\n      if (facet[facetsTextField]) {\n        return facet[facetsTextField].toLowerCase().includes(tempValue.toLowerCase());\n      }\n\n      return null;\n    }));\n  };\n\n  return React$g__default.createElement(Search, {\n    value: value,\n    labelText: messages.modalSearchBarPrompt,\n    placeHolderText: messages.modalSearchBarPrompt,\n    onChange: handleOnChange,\n    \"data-testid\": \"search-facet-modal-search-bar-\" + facetsLabel\n  });\n};\n\nvar ShowMoreModal = function ShowMoreModal(_a) {\n  var messages = _a.messages,\n      aggregationSettings = _a.aggregationSettings,\n      facets = _a.facets,\n      facetsLabel = _a.facetsLabel,\n      facetsTextField = _a.facetsTextField,\n      onChange = _a.onChange,\n      onShowMoreModalChange = _a.onShowMoreModalChange,\n      isOpen = _a.isOpen,\n      setIsModalOpen = _a.setIsModalOpen,\n      shouldDisplayAsMultiSelect = _a.shouldDisplayAsMultiSelect,\n      selectedFacet = _a.selectedFacet,\n      showMatchingResults = _a.showMatchingResults,\n      hasSearchBar = _a.hasSearchBar,\n      categoryName = _a.categoryName;\n\n  var _b = useState([]),\n      tempSelectedFacets = _b[0],\n      setTempSelectedFacets = _b[1];\n\n  var _c = useState(),\n      filteredFacets = _c[0],\n      setFilteredFacets = _c[1];\n\n  var handleOnRequestSubmit = function handleOnRequestSubmit() {\n    onShowMoreModalChange(tempSelectedFacets);\n    setTempSelectedFacets([]);\n    setIsModalOpen(false);\n  };\n\n  var handleOnRequestClose = function handleOnRequestClose() {\n    setTempSelectedFacets([]);\n    setIsModalOpen(false);\n  };\n\n  var modalHeading = React$g__default.createElement(React$g__default.Fragment, null, categoryName ? facetsLabel + \": \" + categoryName : facetsLabel, hasSearchBar ? React$g__default.createElement(ModalSearchInput, {\n    facets: facets,\n    messages: messages,\n    setFilteredFacets: setFilteredFacets,\n    isModalOpen: isOpen,\n    facetsLabel: facetsLabel,\n    facetsTextField: facetsTextField\n  }) : React$g__default.createElement(React$g__default.Fragment, null));\n  return React$g__default.createElement(Modal, {\n    className: showMoreModalClass,\n    modalHeading: modalHeading,\n    onRequestSubmit: handleOnRequestSubmit,\n    onRequestClose: handleOnRequestClose,\n    modalAriaLabel: messages.showMoreModalAriaLabel,\n    \"aria-label\": messages.showMoreModalAriaLabel,\n    open: isOpen,\n    primaryButtonText: messages.showMoreModalPrimaryButtonText,\n    secondaryButtonText: messages.showMoreModalSecondaryButtonText,\n    \"data-testid\": \"search-facet-show-more-modal-\" + facetsLabel\n  }, filteredFacets && filteredFacets.length === 0 && React$g__default.createElement(\"p\", null, messages.emptyModalSearch), shouldDisplayAsMultiSelect ? React$g__default.createElement(MultiSelectFacetsGroup, {\n    messages: messages,\n    facets: filteredFacets || facets,\n    aggregationSettings: aggregationSettings,\n    onMultiSelectFacetsGroupChange: onShowMoreModalChange,\n    onChange: onChange,\n    facetsTextField: facetsTextField,\n    tempSelectedFacets: tempSelectedFacets,\n    setTempSelectedFacets: setTempSelectedFacets,\n    showMatchingResults: showMatchingResults\n  }) : React$g__default.createElement(SingleSelectFacetsGroup, {\n    messages: messages,\n    facets: filteredFacets || facets,\n    aggregationSettings: aggregationSettings,\n    onSingleSelectFacetsGroupChange: onShowMoreModalChange,\n    onChange: onChange,\n    selectedFacet: selectedFacet,\n    facetsTextField: facetsTextField,\n    tempSelectedFacets: tempSelectedFacets,\n    setTempSelectedFacets: setTempSelectedFacets,\n    showMatchingResults: showMatchingResults\n  }));\n};\n\nvar ShowMoreButton = function ShowMoreButton(_a) {\n  var onClick = _a.onClick,\n      idSuffix = _a.idSuffix,\n      isCollapsed = _a.isCollapsed,\n      isShowAllMessage = _a.isShowAllMessage,\n      messages = _a.messages;\n  var message = messages.collapsedFacetShowLessText;\n\n  if (isShowAllMessage) {\n    message = messages.collapsedFacetShowAllText;\n  } else if (isCollapsed) {\n    message = messages.collapsedFacetShowMoreText;\n  }\n\n  return React$g__default.createElement(Button, {\n    kind: \"ghost\",\n    size: \"small\",\n    onClick: onClick,\n    \"data-testid\": \"show-more-less-\" + idSuffix\n  }, message);\n};\n\nvar MAX_FACETS_UNTIL_MODAL = 10;\nvar MAX_FACETS_UNTIL_SEARCHBAR = 15;\n\nvar CategoryFacets = function CategoryFacets(_a) {\n  var categoryName = _a.categoryName,\n      facetsLabel = _a.facetsLabel,\n      facets = _a.facets,\n      facetsTextField = _a.facetsTextField,\n      onChange = _a.onChange,\n      onCategoryFacetsChange = _a.onCategoryFacetsChange,\n      messages = _a.messages,\n      categoryIsExpanded = _a.categoryIsExpanded,\n      collapsedFacetsCount = _a.collapsedFacetsCount,\n      _onClick = _a.onClick,\n      aggregationSettings = _a.aggregationSettings,\n      shouldDisplayAsMultiSelect = _a.shouldDisplayAsMultiSelect,\n      selectedFacet = _a.selectedFacet,\n      showMatchingResults = _a.showMatchingResults;\n\n  var _b = useState(true),\n      isCollapsed = _b[0],\n      setIsCollapsed = _b[1];\n\n  var _c = useState(collapsedFacetsCount < facets.length),\n      isCollapsible = _c[0],\n      setIsCollapsible = _c[1];\n\n  var _d = useState(false),\n      isModalOpen = _d[0],\n      setIsModalOpen = _d[1];\n\n  useEffect(function () {\n    setIsCollapsed(collapsedFacetsCount < facets.length);\n    setIsCollapsible(collapsedFacetsCount < facets.length);\n  }, [collapsedFacetsCount, facets.length]);\n\n  var toggleFacetsCollapse = function toggleFacetsCollapse() {\n    setIsCollapsed(!isCollapsed);\n  };\n\n  var setModalOpen = function setModalOpen() {\n    setIsModalOpen(true);\n  };\n\n  var categoryFacetsToShow = isCollapsed ? facets.slice(0, collapsedFacetsCount) : facets;\n  var iconToRender = categoryIsExpanded ? _16$3 : _16$2;\n  var totalNumberFacets = facets.length;\n  var showMoreButtonOnClick = totalNumberFacets <= MAX_FACETS_UNTIL_MODAL ? toggleFacetsCollapse : setModalOpen;\n  return React$g__default.createElement(\"div\", {\n    className: categoryClass,\n    \"data-testid\": 'search-facet-category'\n  }, React$g__default.createElement(Button, {\n    className: categoryExpandCollapseClass,\n    onClick: function onClick() {\n      return _onClick(categoryName, facetsLabel);\n    },\n    iconDescription: messages.categoryExpandCollapseIconDescription,\n    renderIcon: iconToRender\n  }, React$g__default.createElement(\"div\", {\n    className: categoryGroupNameClass\n  }, categoryName)), categoryIsExpanded && React$g__default.createElement(React$g__default.Fragment, null, shouldDisplayAsMultiSelect ? React$g__default.createElement(MultiSelectFacetsGroup, {\n    messages: messages,\n    facets: categoryFacetsToShow,\n    aggregationSettings: aggregationSettings,\n    onMultiSelectFacetsGroupChange: onCategoryFacetsChange,\n    onChange: onChange,\n    facetsTextField: facetsTextField,\n    showMatchingResults: showMatchingResults\n  }) : React$g__default.createElement(SingleSelectFacetsGroup, {\n    messages: messages,\n    facets: categoryFacetsToShow,\n    aggregationSettings: aggregationSettings,\n    onSingleSelectFacetsGroupChange: onCategoryFacetsChange,\n    onChange: onChange,\n    selectedFacet: selectedFacet,\n    facetsTextField: facetsTextField,\n    showMatchingResults: showMatchingResults\n  }), isCollapsible && React$g__default.createElement(React$g__default.Fragment, null, React$g__default.createElement(ShowMoreButton, {\n    onClick: showMoreButtonOnClick,\n    idSuffix: categoryName,\n    isCollapsed: isCollapsed,\n    isShowAllMessage: totalNumberFacets > MAX_FACETS_UNTIL_MODAL,\n    messages: messages\n  }), totalNumberFacets > MAX_FACETS_UNTIL_MODAL && React$g__default.createElement(ShowMoreModal, {\n    messages: messages,\n    aggregationSettings: aggregationSettings,\n    facets: facets,\n    facetsLabel: facetsLabel,\n    facetsTextField: facetsTextField,\n    onShowMoreModalChange: onCategoryFacetsChange,\n    onChange: onChange,\n    isOpen: isModalOpen,\n    setIsModalOpen: setIsModalOpen,\n    shouldDisplayAsMultiSelect: shouldDisplayAsMultiSelect,\n    selectedFacet: selectedFacet,\n    showMatchingResults: showMatchingResults,\n    hasSearchBar: totalNumberFacets > MAX_FACETS_UNTIL_SEARCHBAR,\n    categoryName: categoryName\n  }))));\n};\n\nvar CategoryFacetsGroup = function CategoryFacetsGroup(_a) {\n  var facetsByCategory = _a.facetsByCategory,\n      facetsLabel = _a.facetsLabel,\n      aggregationSettings = _a.aggregationSettings,\n      onCategoryFacetsGroupChange = _a.onCategoryFacetsGroupChange,\n      messages = _a.messages,\n      collapsedFacetsCount = _a.collapsedFacetsCount,\n      facetsTextField = _a.facetsTextField,\n      shouldDisplayAsMultiSelect = _a.shouldDisplayAsMultiSelect,\n      selectedFacet = _a.selectedFacet,\n      showMatchingResults = _a.showMatchingResults,\n      onChange = _a.onChange;\n\n  var _b = useState([]),\n      expandedCategories = _b[0],\n      setExpandedCategories = _b[1];\n\n  var naturalLanguageQuery = useContext(SearchContext).searchResponseStore.parameters.naturalLanguageQuery;\n  useEffect(function () {\n    setExpandedCategories([]);\n  }, [naturalLanguageQuery]);\n\n  var handleExpandCollapseOnClick = function handleExpandCollapseOnClick(category, facetsLabel) {\n    var indexOfCategory = expandedCategories.indexOf(facetsLabel + \"-\" + category);\n\n    if (indexOfCategory > -1) {\n      var expandedCategoriesCopy = __spreadArrays(expandedCategories);\n\n      expandedCategoriesCopy.splice(indexOfCategory, 1);\n      setExpandedCategories(expandedCategoriesCopy);\n    } else {\n      setExpandedCategories(expandedCategories.concat(facetsLabel + \"-\" + category));\n    }\n  };\n\n  return React$g__default.createElement(React$g__default.Fragment, null, Object.entries(facetsByCategory[\"\" + facetsLabel].categories).map(function (entity) {\n    var categoryName = entity[0];\n    var categoryIsExpanded = expandedCategories.includes(facetsLabel + \"-\" + categoryName);\n    return React$g__default.createElement(CategoryFacets, {\n      categoryName: categoryName,\n      facetsLabel: facetsLabel,\n      facets: entity[1].facets,\n      onCategoryFacetsChange: onCategoryFacetsGroupChange,\n      onChange: onChange,\n      messages: messages,\n      aggregationSettings: aggregationSettings,\n      categoryIsExpanded: categoryIsExpanded,\n      collapsedFacetsCount: collapsedFacetsCount,\n      onClick: handleExpandCollapseOnClick,\n      facetsTextField: facetsTextField,\n      shouldDisplayAsMultiSelect: shouldDisplayAsMultiSelect,\n      selectedFacet: selectedFacet,\n      showMatchingResults: showMatchingResults,\n      key: facetsLabel + categoryName\n    });\n  }));\n};\n\nvar CollapsibleFacetsGroup = function CollapsibleFacetsGroup(_a) {\n  var facets = _a.facets,\n      showMatchingResults = _a.showMatchingResults,\n      aggregationSettings = _a.aggregationSettings,\n      collapsedFacetsCount = _a.collapsedFacetsCount,\n      facetsTextField = _a.facetsTextField,\n      messages = _a.messages,\n      onClear = _a.onClear,\n      onCollapsibleFacetsGroupChange = _a.onCollapsibleFacetsGroupChange,\n      onChange = _a.onChange,\n      hasCategories = _a.hasCategories;\n\n  var _b = useState(collapsedFacetsCount < facets.length),\n      isCollapsed = _b[0],\n      setIsCollapsed = _b[1];\n\n  var _c = useState(collapsedFacetsCount < facets.length),\n      isCollapsible = _c[0],\n      setIsCollapsible = _c[1];\n\n  var _d = useState(false),\n      isModalOpen = _d[0],\n      setIsModalOpen = _d[1];\n\n  var facetsLabel = aggregationSettings.label || aggregationSettings.field;\n  useEffect(function () {\n    setIsCollapsed(collapsedFacetsCount < facets.length);\n    setIsCollapsible(collapsedFacetsCount < facets.length);\n  }, [collapsedFacetsCount, facets.length]);\n\n  var toggleFacetsCollapse = function toggleFacetsCollapse() {\n    setIsCollapsed(!isCollapsed);\n  };\n\n  var setModalOpen = function setModalOpen() {\n    setIsModalOpen(true);\n  };\n\n  var facetsByCategory = {};\n\n  if (hasCategories) {\n    facetsByCategory[\"\" + facetsLabel] = {\n      categories: {}\n    };\n\n    if (isSelectableQueryTermAggregationResult(facets)) {\n      facets.map(function (result) {\n        var resultType = result.aggregations[0].results[0].key;\n\n        if (resultType in facetsByCategory[\"\" + facetsLabel].categories) {\n          facetsByCategory[\"\" + facetsLabel].categories[\"\" + resultType].facets.push({\n            key: result.key,\n            matching_results: result.matching_results,\n            selected: result.selected ? result.selected : false\n          });\n        } else {\n          facetsByCategory[\"\" + facetsLabel].categories[\"\" + resultType] = {\n            facets: [{\n              key: result.key,\n              matching_results: result.matching_results,\n              selected: result.selected ? result.selected : false\n            }]\n          };\n        }\n      });\n    }\n  }\n\n  var areMultiSelectionsAllowed = aggregationSettings.multiple_selections_allowed;\n  var collapsedFacets = isCollapsed ? facets.slice(0, collapsedFacetsCount) : facets;\n  var totalNumberFacets = facets.length;\n  var selectedFacets = filter_1(facets, ['selected', true]);\n  var selectedFacetText = get_1(selectedFacets[0], facetsTextField, '');\n  var shouldDisplayAsMultiSelect = areMultiSelectionsAllowed || selectedFacets.length > 1;\n  var shouldDisplayClearButton = selectedFacets.length > 0;\n  var showMoreButtonOnClick = totalNumberFacets <= MAX_FACETS_UNTIL_MODAL ? toggleFacetsCollapse : setModalOpen;\n\n  var handleClearFacets = function handleClearFacets(event) {\n    if (onChange) {\n      onChange(event);\n    }\n\n    onClear(aggregationSettings.name || aggregationSettings.field);\n  };\n\n  var translateWithId = function translateWithId(id) {\n    var mapping = {\n      'clear.all': messages.clearFacetTitle,\n      'clear.selection': messages.clearFacetSelectionTitle\n    };\n    return mapping[id];\n  };\n\n  return React$g__default.createElement(\"fieldset\", {\n    className: fieldsetClasses.join(' ')\n  }, React$g__default.createElement(\"legend\", {\n    className: labelClasses.join(' ')\n  }, React$g__default.createElement(\"div\", {\n    className: labelAndSelectionContainerClass\n  }, facetsLabel, shouldDisplayClearButton && React$g__default.createElement(ListBox.Selection, {\n    clearSelection: handleClearFacets,\n    selectionCount: selectedFacets.length,\n    translateWithId: translateWithId\n  }))), hasCategories ? React$g__default.createElement(CategoryFacetsGroup, {\n    facetsByCategory: facetsByCategory,\n    facetsLabel: facetsLabel,\n    onCategoryFacetsGroupChange: onCollapsibleFacetsGroupChange,\n    onChange: onChange,\n    aggregationSettings: aggregationSettings,\n    messages: messages,\n    collapsedFacetsCount: collapsedFacetsCount,\n    facetsTextField: facetsTextField,\n    shouldDisplayAsMultiSelect: shouldDisplayAsMultiSelect,\n    selectedFacet: selectedFacetText,\n    showMatchingResults: showMatchingResults\n  }) : React$g__default.createElement(React$g__default.Fragment, null, shouldDisplayAsMultiSelect ? React$g__default.createElement(MultiSelectFacetsGroup, {\n    messages: messages,\n    facets: collapsedFacets,\n    aggregationSettings: aggregationSettings,\n    onChange: onChange,\n    onMultiSelectFacetsGroupChange: onCollapsibleFacetsGroupChange,\n    showMatchingResults: showMatchingResults,\n    facetsTextField: facetsTextField\n  }) : React$g__default.createElement(SingleSelectFacetsGroup, {\n    messages: messages,\n    facets: collapsedFacets,\n    aggregationSettings: aggregationSettings,\n    onChange: onChange,\n    onSingleSelectFacetsGroupChange: onCollapsibleFacetsGroupChange,\n    selectedFacet: selectedFacetText,\n    showMatchingResults: showMatchingResults,\n    facetsTextField: facetsTextField\n  }), isCollapsible && React$g__default.createElement(React$g__default.Fragment, null, React$g__default.createElement(ShowMoreButton, {\n    onClick: showMoreButtonOnClick,\n    idSuffix: facetsLabel,\n    isCollapsed: isCollapsed,\n    isShowAllMessage: totalNumberFacets > MAX_FACETS_UNTIL_MODAL,\n    messages: messages\n  }), totalNumberFacets > MAX_FACETS_UNTIL_MODAL && React$g__default.createElement(ShowMoreModal, {\n    messages: messages,\n    aggregationSettings: aggregationSettings,\n    facets: facets,\n    facetsLabel: facetsLabel,\n    facetsTextField: facetsTextField,\n    onShowMoreModalChange: onCollapsibleFacetsGroupChange,\n    onChange: onChange,\n    isOpen: isModalOpen,\n    setIsModalOpen: setIsModalOpen,\n    shouldDisplayAsMultiSelect: shouldDisplayAsMultiSelect,\n    selectedFacet: selectedFacetText,\n    hasSearchBar: totalNumberFacets > MAX_FACETS_UNTIL_SEARCHBAR,\n    showMatchingResults: showMatchingResults\n  }))));\n};\n\nvar FieldFacets = function FieldFacets(_a) {\n  var allFacets = _a.allFacets,\n      showMatchingResults = _a.showMatchingResults,\n      messages = _a.messages,\n      collapsedFacetsCount = _a.collapsedFacetsCount,\n      onFieldFacetsChange = _a.onFieldFacetsChange,\n      onChange = _a.onChange;\n\n  var getFacetsForNameIndex = function getFacetsForNameIndex(selectedFacetName) {\n    var facetsForNameIndex = allFacets.findIndex(function (facet) {\n      if (!facet.name) {\n        return facet.field === selectedFacetName;\n      }\n\n      return facet.name === selectedFacetName;\n    });\n    return facetsForNameIndex;\n  };\n\n  var handleOnFieldFacetsChange = function handleOnFieldFacetsChange(selectedFacets) {\n    var updatedFacets = cloneDeep_1(allFacets);\n    selectedFacets.map(function (_a) {\n      var selectedFacetName = _a.selectedFacetName,\n          selectedFacetKey = _a.selectedFacetKey,\n          checked = _a.checked;\n      var facetsForNameIndex = getFacetsForNameIndex(selectedFacetName);\n\n      if (facetsForNameIndex > -1) {\n        var facetsForName = updatedFacets[facetsForNameIndex];\n        var multiselect = get_1(facetsForName, 'multiple_selections_allowed', true);\n        var facetResults = get_1(facetsForName, 'results', []); // Handle quirky case where toggling between checkboxes and radio buttons when\n        //   1. multiselect === false\n        //   2. going from 2 facets down to 1\n\n        var selectedFacets_1 = filter_1(facetResults, ['selected', true]);\n        var usingRadioButtons_1 = selectedFacets_1.length < 2 && !multiselect;\n        var selectedFacetResults = facetResults.map(function (result) {\n          var key = get_1(result, 'key', '');\n\n          if (usingRadioButtons_1) {\n            var keySelected = get_1(result, 'selected', false);\n            var isSelectedFacetKey = key === selectedFacetKey;\n            return Object.assign({}, result, {\n              selected: isSelectedFacetKey && !keySelected\n            });\n          } else {\n            return key === selectedFacetKey ? Object.assign({}, result, {\n              selected: checked\n            }) : result;\n          }\n        });\n        updatedFacets[facetsForNameIndex].results = selectedFacetResults;\n      }\n    });\n    onFieldFacetsChange({\n      filterFields: updatedFacets\n    });\n  };\n\n  var handleOnClear = function handleOnClear(selectedFacetName) {\n    var updatedFacets = cloneDeep_1(allFacets);\n    var facetsForNameIndex = getFacetsForNameIndex(selectedFacetName);\n\n    if (facetsForNameIndex > -1) {\n      var results = updatedFacets[facetsForNameIndex].results || [];\n      var deselectedResults = results.map(function (result) {\n        return _assign(_assign({}, result), {\n          selected: false\n        });\n      });\n      updatedFacets[facetsForNameIndex].results = deselectedResults;\n      onFieldFacetsChange({\n        filterFields: updatedFacets\n      });\n    }\n  };\n\n  return React$g__default.createElement(\"div\", null, allFacets.map(function (aggregation, i) {\n    var _a, _b;\n\n    var aggregationResults = get_1(aggregation, 'results', []);\n\n    if (aggregationResults.length === 0) {\n      return null;\n    }\n\n    var hasCategories = aggregation.field.includes('enriched_') && aggregation.field.includes('entities.text') && ((_b = (_a = aggregation.results) === null || _a === void 0 ? void 0 : _a[0]) === null || _b === void 0 ? void 0 : _b.aggregations) !== undefined;\n    return React$g__default.createElement(CollapsibleFacetsGroup, {\n      key: \"collapsible-facet-group-\" + i,\n      collapsedFacetsCount: collapsedFacetsCount,\n      messages: messages,\n      aggregationSettings: aggregation,\n      facets: aggregationResults,\n      showMatchingResults: showMatchingResults,\n      facetsTextField: \"key\",\n      hasCategories: hasCategories,\n      onClear: handleOnClear,\n      onChange: onChange,\n      onCollapsibleFacetsGroupChange: handleOnFieldFacetsChange\n    });\n  }));\n};\n\nvar DynamicFacets = function DynamicFacets(_a) {\n  var dynamicFacets = _a.dynamicFacets,\n      showMatchingResults = _a.showMatchingResults,\n      messages = _a.messages,\n      collapsedFacetsCount = _a.collapsedFacetsCount,\n      onDynamicFacetsChange = _a.onDynamicFacetsChange,\n      onChange = _a.onChange;\n\n  var handleOnCollapsibleFacetsGroupChange = function handleOnCollapsibleFacetsGroupChange(selectedFacets) {\n    var updatedFacets = cloneDeep_1(dynamicFacets);\n    selectedFacets.map(function (_a) {\n      var selectedFacetKey = _a.selectedFacetKey,\n          checked = _a.checked;\n      var facetKeyIndex = dynamicFacets.findIndex(function (facet) {\n        return facet.text === selectedFacetKey;\n      });\n\n      if (facetKeyIndex > -1) {\n        updatedFacets[facetKeyIndex].selected = checked;\n      }\n    });\n    onDynamicFacetsChange({\n      filterDynamic: updatedFacets\n    });\n  };\n\n  var handleOnClear = function handleOnClear() {\n    var filterDynamic = dynamicFacets.map(function (facet) {\n      return _assign(_assign({}, facet), {\n        selected: false\n      });\n    });\n    onDynamicFacetsChange({\n      filterDynamic: filterDynamic\n    });\n  };\n\n  var aggregationSettings = {\n    type: '',\n    label: messages.dynamicFacetsLabel,\n    multiple_selections_allowed: true,\n    field: '',\n    name: ''\n  };\n  return React$g__default.createElement(CollapsibleFacetsGroup, {\n    aggregationSettings: aggregationSettings,\n    collapsedFacetsCount: collapsedFacetsCount,\n    facets: dynamicFacets,\n    showMatchingResults: showMatchingResults,\n    facetsTextField: \"text\",\n    onCollapsibleFacetsGroupChange: handleOnCollapsibleFacetsGroupChange,\n    onChange: onChange,\n    onClear: handleOnClear,\n    messages: messages,\n    hasCategories: false\n  });\n};\n\nvar defaultMessages$1 = {\n  labelText: '{facetText}',\n  labelTextWithCount: '{facetText} ({count})',\n  clearAllButtonText: 'Clear all',\n  clearFacetTitle: 'Clear all selected items',\n  clearFacetSelectionTitle: 'Clear selected item',\n  collapsedFacetShowMoreText: 'Show more',\n  collapsedFacetShowLessText: 'Show less',\n  collapsedFacetShowAllText: 'Show all',\n  collectionSelectTitleText: 'Collections',\n  collectionSelectLabel: 'Available collections',\n  dynamicFacetsLabel: 'Dynamic Facets',\n  showMoreModalPrimaryButtonText: 'Apply',\n  showMoreModalSecondaryButtonText: 'Cancel',\n  showMoreModalAriaLabel: 'Modal to select and deselect facets',\n  categoryExpandCollapseIconDescription: 'Expand/Collapse',\n  modalSearchBarPrompt: 'Find',\n  emptyModalSearch: 'There were no results found'\n};\n\nvar SearchFacets = function SearchFacets(_a) {\n  var id = _a.id,\n      _b = _a.showCollections,\n      showCollections = _b === void 0 ? true : _b,\n      _c = _a.showDynamicFacets,\n      showDynamicFacets = _c === void 0 ? true : _c,\n      _d = _a.showMatchingResults,\n      showMatchingResults = _d === void 0 ? false : _d,\n      _e = _a.messages,\n      messages = _e === void 0 ? defaultMessages$1 : _e,\n      overrideComponentSettingsAggregations = _a.overrideComponentSettingsAggregations,\n      _f = _a.collapsedFacetsCount,\n      collapsedFacetsCount = _f === void 0 ? 5 : _f,\n      serverErrorMessage = _a.serverErrorMessage,\n      onChange = _a.onChange;\n  var facetsId = id || \"search-facets__\" + uuid_1.v4();\n\n  var _g = useContext(SearchContext),\n      _h = _g.searchResponseStore,\n      searchParameters = _h.parameters,\n      _j = _h.parameters,\n      filter = _j.filter,\n      collectionIds = _j.collectionIds,\n      searchResponse = _h.data,\n      collectionsResults = _g.collectionsResults,\n      componentSettings = _g.componentSettings,\n      _k = _g.globalAggregationsResponseStore,\n      isLoading = _k.isLoading,\n      isError = _k.isError,\n      aggregations = _k.data,\n      globalAggregationsParameters = _k.parameters;\n\n  var _l = useState(SearchFilterTransform.fromString(filter || '')),\n      facetSelectionState = _l[0],\n      setFacetSelectionState = _l[1];\n\n  var collections = get_1(collectionsResults, 'collections', []);\n  var initialSelectedCollectionIds = collectionIds || [];\n  var initialSelectedCollections = collections.filter(function (collection) {\n    return !!collection.collection_id && initialSelectedCollectionIds.includes(collection.collection_id);\n  }).map(function (collection) {\n    return {\n      id: \"\" + collectionFacetIdPrefix + collection.collection_id,\n      label: collection.name || ''\n    };\n  });\n\n  var _m = useState(initialSelectedCollections),\n      collectionSelectionState = _m[0],\n      setCollectionSelectionState = _m[1];\n\n  var _o = useContext(SearchApi),\n      performSearch = _o.performSearch,\n      fetchAggregations = _o.fetchAggregations;\n\n  var mergedMessages = _assign(_assign({}, defaultMessages$1), messages);\n\n  var componentSettingsAggregations = overrideComponentSettingsAggregations || componentSettings && componentSettings.aggregations || [];\n  useDeepCompareEffect(function () {\n    if (!aggregations && !isError && !isLoading) {\n      fetchAggregations(globalAggregationsParameters);\n    }\n  }, [fetchAggregations, globalAggregationsParameters, aggregations, isError, isLoading]);\n  useDeepCompareEffect(function () {\n    if (filter === '') {\n      setFacetSelectionState({\n        filterFields: [],\n        filterDynamic: []\n      });\n    }\n  }, [aggregations, filter]);\n  var allFieldFacets = mergeFilterFacets(aggregations, facetSelectionState.filterFields, componentSettingsAggregations);\n  var allDynamicFacets = mergeDynamicFacets(get_1(searchResponse, 'suggested_refinements', []), facetSelectionState.filterDynamic);\n  var shouldShowCollections = showCollections && !!collections;\n  var shouldShowFields = !!allFieldFacets && allFieldFacets.length > 0;\n  var shouldShowDynamic = showDynamicFacets && !!allDynamicFacets && allDynamicFacets.length > 0;\n  var originalFilters = {\n    filterFields: allFieldFacets,\n    filterDynamic: allDynamicFacets\n  };\n  var hasFieldSelection = facetSelectionState.filterFields.some(function (aggregation) {\n    return aggregation.results && aggregation.results.some(function (result) {\n      return result.selected;\n    });\n  });\n  var hasDynamicSelection = facetSelectionState.filterDynamic.some(function (dynamicFacet) {\n    return dynamicFacet.selected;\n  });\n  var hasCollectionSelection = collectionSelectionState.length > 0;\n  var hasSelection = hasFieldSelection || hasDynamicSelection || hasCollectionSelection;\n\n  var handleOnSearchFacetsChange = function handleOnSearchFacetsChange(updatedFacets) {\n    var newFilters = _assign(_assign({}, originalFilters), updatedFacets);\n\n    var filter = SearchFilterTransform.toString(newFilters);\n    setFacetSelectionState(newFilters);\n    performSearch(_assign(_assign({}, searchParameters), {\n      offset: 0,\n      filter: filter\n    }), false);\n  };\n\n  var handleCollectionToggle = function handleCollectionToggle(selectedCollectionItems) {\n    setCollectionSelectionState(selectedCollectionItems.selectedItems); // Filtering by id !== undefined still threw TS errors, so had to default\n    // to '' and filter on that\n\n    var collectionIds = selectedCollectionItems.selectedItems.map(function (collection) {\n      return collection.id.split(collectionFacetIdPrefix).pop() || '';\n    }).filter(function (id) {\n      return id !== '';\n    });\n\n    if (onChange) {\n      // returning collection labels\n      onChange(selectedCollectionItems.selectedItems.map(function (collection) {\n        return collection.label.split(collectionFacetIdPrefix).pop() || '';\n      }).filter(function (label) {\n        return label !== '';\n      }));\n    }\n\n    performSearch(_assign(_assign({}, searchParameters), {\n      offset: 0,\n      collectionIds: collectionIds\n    }));\n  };\n\n  var handleOnClear = function handleOnClear(event) {\n    if (onChange) {\n      onChange(event);\n    }\n\n    setFacetSelectionState({\n      filterFields: [],\n      filterDynamic: []\n    });\n    setCollectionSelectionState([]); // We should update to not select with a click\n    // when Carbon MultiSelect selection can be controlled and Downshift's action props are exposed\n\n    document.querySelectorAll(\".\" + settings.prefix + \"--list-box__selection--multi\").forEach(function (element) {\n      return element.click();\n    });\n    performSearch(_assign(_assign({}, searchParameters), {\n      collectionIds: [],\n      offset: 0,\n      filter: ''\n    }), false);\n  };\n\n  if (isLoading && !shouldShowFields && !shouldShowCollections) {\n    return null;\n  } else if (isError) {\n    var errorNode = typeof serverErrorMessage === 'string' ? displayMessage(serverErrorMessage) : serverErrorMessage || displayMessage(errorMessage);\n    return React$g__default.createElement(React$g__default.Fragment, null, \" \", errorNode, \" \");\n  } else if (shouldShowFields || shouldShowCollections) {\n    return React$g__default.createElement(\"div\", {\n      id: facetsId,\n      className: settings.prefix + \"--search-facets\"\n    }, hasSelection && React$g__default.createElement(Button, {\n      className: settings.prefix + \"--search-facets__button-clear-all\",\n      id: facetsId + \"--search-facets-button-clear-all\",\n      kind: \"ghost\",\n      renderIcon: _16$1,\n      size: \"small\",\n      onClick: handleOnClear\n    }, messages.clearAllButtonText), shouldShowFields && React$g__default.createElement(FieldFacets, {\n      allFacets: allFieldFacets,\n      showMatchingResults: showMatchingResults,\n      onChange: onChange,\n      onFieldFacetsChange: handleOnSearchFacetsChange,\n      collapsedFacetsCount: collapsedFacetsCount,\n      messages: mergedMessages\n    }), shouldShowDynamic && React$g__default.createElement(DynamicFacets, {\n      dynamicFacets: allDynamicFacets,\n      showMatchingResults: showMatchingResults,\n      messages: mergedMessages,\n      onChange: onChange,\n      onDynamicFacetsChange: handleOnSearchFacetsChange,\n      collapsedFacetsCount: collapsedFacetsCount\n    }), shouldShowCollections && React$g__default.createElement(CollectionFacets, {\n      initialSelectedCollections: initialSelectedCollections,\n      messages: mergedMessages,\n      onChange: handleCollectionToggle\n    }));\n  } else {\n    return displayMessage(noAvailableFacetsMessage);\n  }\n};\n\nvar SearchFacets$1 = commonjs_2(SearchFacets, FallbackComponent('SearchFacets'), onErrorCallback);\nvar defaultMessages$2 = {\n  itemRangeText: '{min}–{max} of {total} results',\n  itemsPerPageText: 'Items per page:',\n  pageRangeText: 'of {total} pages'\n};\n\nvar ResultsPagination = function ResultsPagination(_a) {\n  var _b = _a.page,\n      page = _b === void 0 ? 1 : _b,\n      _c = _a.pageSizes,\n      pageSizes = _c === void 0 ? [10, 20, 30, 40, 50] : _c,\n      pageSize = _a.pageSize,\n      _d = _a.showPageSizeSelector,\n      showPageSizeSelector = _d === void 0 ? true : _d,\n      _e = _a.messages,\n      messages = _e === void 0 ? defaultMessages$2 : _e,\n      onChange = _a.onChange,\n      inputProps = __rest(_a, [\"page\", \"pageSizes\", \"pageSize\", \"showPageSizeSelector\", \"messages\", \"onChange\"]);\n\n  var mergedMessages = _assign(_assign({}, defaultMessages$2), messages);\n\n  var _f = useContext(SearchApi),\n      performSearch = _f.performSearch,\n      setSearchParameters = _f.setSearchParameters;\n\n  var _g = useContext(SearchContext),\n      _h = _g.searchResponseStore,\n      searchResponse = _h.data,\n      searchParameters = _h.parameters,\n      componentSettings = _g.componentSettings,\n      isResultsPaginationComponentHidden = _g.isResultsPaginationComponentHidden;\n\n  var _j = useState(page),\n      currentPage = _j[0],\n      setCurrentPage = _j[1];\n\n  var resultsPerPage = get_1(componentSettings, 'results_per_page', 10);\n  useEffect(function () {\n    if (!!pageSize || !!resultsPerPage) {\n      setSearchParameters(function (currentSearchParameters) {\n        return _assign(_assign({}, currentSearchParameters), {\n          count: pageSize || resultsPerPage\n        });\n      });\n    }\n  }, [setSearchParameters, pageSize, resultsPerPage]);\n  useEffect(function () {\n    var actualPageSize = searchParameters.count || 10;\n    var actualOffset = searchParameters.offset || 0;\n    var pageFromOffset = Math.floor(actualOffset / actualPageSize) + 1;\n\n    if (currentPage !== pageFromOffset) {\n      setCurrentPage(pageFromOffset);\n    }\n  }, [currentPage, searchParameters.count, searchParameters.offset]);\n  var matchingResults = searchResponse && searchResponse.matching_results || 0;\n  var actualPageSize = searchParameters.count || 10; // the default behavior of Carbon is to discard pageSize if it is not included in pageSizes,\n  // we instead choose to make it so that pageSize is appended to pageSizes if it is not already included.\n\n  if (!pageSizes.includes(actualPageSize)) {\n    pageSizes.push(actualPageSize);\n    pageSizes = pageSizes.sort(function (a, b) {\n      return a - b;\n    });\n  }\n\n  var classNames = [settings.prefix + \"--pagination\"];\n\n  if (!showPageSizeSelector) {\n    classNames.push(settings.prefix + \"--pagination__page-size-selector--hidden\");\n  }\n\n  var handleOnChange = function handleOnChange(evt) {\n    if (onChange) {\n      onChange(evt);\n    }\n\n    var page = evt.page,\n        pageSize = evt.pageSize;\n    var offset = (page - 1) * pageSize;\n    setCurrentPage(page);\n    performSearch(_assign(_assign({}, searchParameters), {\n      count: pageSize,\n      offset: offset\n    }), false);\n  };\n\n  var handleItemRangeText = function handleItemRangeText(min, max, total) {\n    return formatMessage(mergedMessages.itemRangeText, {\n      min: min,\n      max: max,\n      total: total\n    }, false);\n  };\n\n  var handlePageRangeText = function handlePageRangeText(_current, total) {\n    return formatMessage(mergedMessages.pageRangeText, {\n      total: total\n    }, false);\n  };\n\n  if (!!componentSettings) {\n    return React$g__default.createElement(React$g__default.Fragment, null, !isResultsPaginationComponentHidden && React$g__default.createElement(Pagination, _assign({\n      className: classNames.join(' '),\n      page: currentPage,\n      totalItems: matchingResults,\n      pageSize: actualPageSize,\n      pageSizes: pageSizes,\n      onChange: handleOnChange,\n      itemRangeText: handleItemRangeText,\n      itemsPerPageText: mergedMessages.itemsPerPageText,\n      pageRangeText: handlePageRangeText\n    }, inputProps)));\n  }\n\n  return null;\n};\n\nvar ResultsPagination$1 = commonjs_2(ResultsPagination, FallbackComponent('ResultsPagination'), onErrorCallback);\n\nfunction _interopDefault$5(ex) {\n  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;\n}\n\nvar React$5 = _interopDefault$5(React$g__default);\n\nvar _ref2$4 =\n/*#__PURE__*/\n\n/*#__PURE__*/\nReact$5.createElement(\"path\", {\n  d: \"M18 12L14 12 14 8 12 8 12 12 8 12 8 14 12 14 12 18 14 18 14 14 18 14 18 12z\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\n\n/*#__PURE__*/\nReact$5.createElement(\"path\", {\n  d: \"M21.4479,20A10.856,10.856,0,0,0,24,13,11,11,0,1,0,13,24a10.856,10.856,0,0,0,7-2.5521L27.5859,29,29,27.5859ZM13,22a9,9,0,1,1,9-9A9.01,9.01,0,0,1,13,22Z\"\n});\n\nvar ZoomIn24 = /*#__PURE__*/React$5.forwardRef(function ZoomIn24(_ref, ref) {\n  var children = _ref.children,\n      rest = IconE8f71a9c._objectWithoutProperties(_ref, [\"children\"]);\n\n  return /*#__PURE__*/React$5.createElement(IconE8f71a9c.Icon, IconE8f71a9c._extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 32 32\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"currentColor\",\n    ref: ref\n  }, rest), _ref2$4, _ref3, children);\n});\nvar _24 = ZoomIn24;\n\nfunction _interopDefault$6(ex) {\n  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;\n}\n\nvar React$6 = _interopDefault$6(React$g__default);\n\nvar _ref2$5 =\n/*#__PURE__*/\n\n/*#__PURE__*/\nReact$6.createElement(\"path\", {\n  d: \"M8 12H18V14H8z\"\n});\n\nvar _ref3$1 =\n/*#__PURE__*/\n\n/*#__PURE__*/\nReact$6.createElement(\"path\", {\n  d: \"M21.4479,20A10.856,10.856,0,0,0,24,13,11,11,0,1,0,13,24a10.856,10.856,0,0,0,7-2.5521L27.5859,29,29,27.5859ZM13,22a9,9,0,1,1,9-9A9.01,9.01,0,0,1,13,22Z\"\n});\n\nvar ZoomOut24 = /*#__PURE__*/React$6.forwardRef(function ZoomOut24(_ref, ref) {\n  var children = _ref.children,\n      rest = IconE8f71a9c._objectWithoutProperties(_ref, [\"children\"]);\n\n  return /*#__PURE__*/React$6.createElement(IconE8f71a9c.Icon, IconE8f71a9c._extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 32 32\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"currentColor\",\n    ref: ref\n  }, rest), _ref2$5, _ref3$1, children);\n});\nvar _24$1 = ZoomOut24;\n\nfunction _interopDefault$7(ex) {\n  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;\n}\n\nvar React$7 = _interopDefault$7(React$g__default);\n\nvar _ref2$6 =\n/*#__PURE__*/\n\n/*#__PURE__*/\nReact$7.createElement(\"path\", {\n  d: \"M20 24L10 16 20 8z\"\n});\n\nvar CaretLeft24 = /*#__PURE__*/React$7.forwardRef(function CaretLeft24(_ref, ref) {\n  var children = _ref.children,\n      rest = IconE8f71a9c._objectWithoutProperties(_ref, [\"children\"]);\n\n  return /*#__PURE__*/React$7.createElement(IconE8f71a9c.Icon, IconE8f71a9c._extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 32 32\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"currentColor\",\n    ref: ref\n  }, rest), _ref2$6, children);\n});\nvar _24$2 = CaretLeft24;\n\nfunction _interopDefault$8(ex) {\n  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;\n}\n\nvar React$8 = _interopDefault$8(React$g__default);\n\nvar _ref2$7 =\n/*#__PURE__*/\n\n/*#__PURE__*/\nReact$8.createElement(\"path\", {\n  d: \"M12 8L22 16 12 24z\"\n});\n\nvar CaretRight24 = /*#__PURE__*/React$8.forwardRef(function CaretRight24(_ref, ref) {\n  var children = _ref.children,\n      rest = IconE8f71a9c._objectWithoutProperties(_ref, [\"children\"]);\n\n  return /*#__PURE__*/React$8.createElement(IconE8f71a9c.Icon, IconE8f71a9c._extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 32 32\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"currentColor\",\n    ref: ref\n  }, rest), _ref2$7, children);\n});\nvar _24$3 = CaretRight24;\n\nfunction _interopDefault$9(ex) {\n  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;\n}\n\nvar React$9 = _interopDefault$9(React$g__default);\n\nvar _ref2$8 =\n/*#__PURE__*/\n\n/*#__PURE__*/\nReact$9.createElement(\"path\", {\n  d: \"M18,28A12,12,0,1,0,6,16v6.2L2.4,18.6,1,20l6,6,6-6-1.4-1.4L8,22.2V16H8A10,10,0,1,1,18,26Z\"\n});\n\nvar Reset24 = /*#__PURE__*/React$9.forwardRef(function Reset24(_ref, ref) {\n  var children = _ref.children,\n      rest = IconE8f71a9c._objectWithoutProperties(_ref, [\"children\"]);\n\n  return /*#__PURE__*/React$9.createElement(IconE8f71a9c.Icon, IconE8f71a9c._extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 32 32\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"currentColor\",\n    ref: ref\n  }, rest), _ref2$8, children);\n});\nvar _24$4 = Reset24;\nvar ZOOM_IN = 'zoom-in';\nvar ZOOM_OUT = 'zoom-out';\nvar ZOOM_RESET = 'reset-zoom';\nvar base = settings.prefix + \"--preview-toolbar\";\n\nvar PreviewToolbar = function PreviewToolbar(_a) {\n  var _b = _a.loading,\n      loading = _b === void 0 ? false : _b,\n      _c = _a.hideControls,\n      hideControls = _c === void 0 ? false : _c,\n      current = _a.current,\n      total = _a.total,\n      onZoom = _a.onZoom,\n      onChange = _a.onChange;\n  var inputRef = useRef(null);\n  useEffect(function () {\n    if (inputRef.current != null) {\n      inputRef.current.value = current.toString();\n    }\n  }, [current]);\n  return React$g__default.createElement(\"div\", {\n    className: \"\" + base\n  }, !hideControls ? React$g__default.createElement(React$g__default.Fragment, null, React$g__default.createElement(\"div\", {\n    className: base + \"__spacer\"\n  }), React$g__default.createElement(\"div\", {\n    className: base + \"__nav\"\n  }, renderButton({\n    icon: _24$2,\n    description: 'Previous Page',\n    onClick: function onClick() {\n      return nextPrevButtonClicked(current, total, onChange, -1);\n    },\n    disabled: loading || current === 1\n  }), React$g__default.createElement(Form, {\n    onSubmit: function onSubmit(e) {\n      return currentPageChanged(e, onChange, inputRef);\n    },\n    autoComplete: \"off\"\n  }, React$g__default.createElement(TextInput, {\n    id: \"pageInput\",\n    defaultValue: current,\n    type: \"number\",\n    ref: inputRef,\n    min: 1,\n    max: total,\n    className: base + \"__input\",\n    onBlur: function onBlur(e) {\n      return currentPageChanged(e, onChange, inputRef);\n    },\n    labelText: \"labelText\",\n    hideLabel: true,\n    disabled: loading\n  })), React$g__default.createElement(FormLabel, {\n    className: base + \"__pageLabel\"\n  }, \"/ \", total), renderButton({\n    icon: _24$3,\n    description: 'Next Page',\n    onClick: function onClick() {\n      return nextPrevButtonClicked(current, total, onChange, 1);\n    },\n    disabled: loading || current === total\n  })), React$g__default.createElement(\"div\", {\n    className: base + \"__zoom\"\n  }, renderButton({\n    icon: _24,\n    description: 'Zoom In',\n    onClick: function onClick() {\n      return onZoom(ZOOM_IN);\n    },\n    disabled: loading\n  }), renderButton({\n    icon: _24$1,\n    description: 'Zoom Out',\n    onClick: function onClick() {\n      return onZoom(ZOOM_OUT);\n    },\n    disabled: loading\n  }), renderButton({\n    icon: _24$4,\n    description: 'Reset Zoom',\n    onClick: function onClick() {\n      return onZoom(ZOOM_RESET);\n    },\n    disabled: loading\n  }))) : null);\n};\n\nfunction renderButton(obj) {\n  return React$g__default.createElement(Button, {\n    className: base + \"__button\",\n    disabled: obj.disabled,\n    size: \"small\",\n    kind: \"ghost\",\n    renderIcon: obj.icon,\n    iconDescription: obj.description,\n    tooltipPosition: \"bottom\",\n    tooltipAlignment: \"center\",\n    onClick: obj.onClick,\n    hasIconOnly: true\n  });\n}\n\nfunction nextPrevButtonClicked(current, total, onChange, change) {\n  var newPage = current + change;\n\n  if (newPage >= 1 && newPage <= total) {\n    onChange(newPage);\n  }\n}\n\nfunction currentPageChanged(e, onChange, inputRef) {\n  e.preventDefault();\n  var pageInput = Number(inputRef.current.value);\n  onChange(pageInput);\n}\n\nvar PrevToolbar = PreviewToolbar;\nPrevToolbar.ZOOM_IN = ZOOM_IN;\nPrevToolbar.ZOOM_OUT = ZOOM_OUT;\nPrevToolbar.ZOOM_RESET = ZOOM_RESET;\nvar entities = {\n  Aacute: \"Á\",\n  aacute: \"á\",\n  Abreve: \"Ă\",\n  abreve: \"ă\",\n  ac: \"∾\",\n  acd: \"∿\",\n  acE: \"∾̳\",\n  Acirc: \"Â\",\n  acirc: \"â\",\n  acute: \"´\",\n  Acy: \"А\",\n  acy: \"а\",\n  AElig: \"Æ\",\n  aelig: \"æ\",\n  af: \"⁡\",\n  Afr: \"𝔄\",\n  afr: \"𝔞\",\n  Agrave: \"À\",\n  agrave: \"à\",\n  alefsym: \"ℵ\",\n  aleph: \"ℵ\",\n  Alpha: \"Α\",\n  alpha: \"α\",\n  Amacr: \"Ā\",\n  amacr: \"ā\",\n  amalg: \"⨿\",\n  amp: \"&\",\n  AMP: \"&\",\n  andand: \"⩕\",\n  And: \"⩓\",\n  and: \"∧\",\n  andd: \"⩜\",\n  andslope: \"⩘\",\n  andv: \"⩚\",\n  ang: \"∠\",\n  ange: \"⦤\",\n  angle: \"∠\",\n  angmsdaa: \"⦨\",\n  angmsdab: \"⦩\",\n  angmsdac: \"⦪\",\n  angmsdad: \"⦫\",\n  angmsdae: \"⦬\",\n  angmsdaf: \"⦭\",\n  angmsdag: \"⦮\",\n  angmsdah: \"⦯\",\n  angmsd: \"∡\",\n  angrt: \"∟\",\n  angrtvb: \"⊾\",\n  angrtvbd: \"⦝\",\n  angsph: \"∢\",\n  angst: \"Å\",\n  angzarr: \"⍼\",\n  Aogon: \"Ą\",\n  aogon: \"ą\",\n  Aopf: \"𝔸\",\n  aopf: \"𝕒\",\n  apacir: \"⩯\",\n  ap: \"≈\",\n  apE: \"⩰\",\n  ape: \"≊\",\n  apid: \"≋\",\n  apos: \"'\",\n  ApplyFunction: \"⁡\",\n  approx: \"≈\",\n  approxeq: \"≊\",\n  Aring: \"Å\",\n  aring: \"å\",\n  Ascr: \"𝒜\",\n  ascr: \"𝒶\",\n  Assign: \"≔\",\n  ast: \"*\",\n  asymp: \"≈\",\n  asympeq: \"≍\",\n  Atilde: \"Ã\",\n  atilde: \"ã\",\n  Auml: \"Ä\",\n  auml: \"ä\",\n  awconint: \"∳\",\n  awint: \"⨑\",\n  backcong: \"≌\",\n  backepsilon: \"϶\",\n  backprime: \"‵\",\n  backsim: \"∽\",\n  backsimeq: \"⋍\",\n  Backslash: \"∖\",\n  Barv: \"⫧\",\n  barvee: \"⊽\",\n  barwed: \"⌅\",\n  Barwed: \"⌆\",\n  barwedge: \"⌅\",\n  bbrk: \"⎵\",\n  bbrktbrk: \"⎶\",\n  bcong: \"≌\",\n  Bcy: \"Б\",\n  bcy: \"б\",\n  bdquo: \"„\",\n  becaus: \"∵\",\n  because: \"∵\",\n  Because: \"∵\",\n  bemptyv: \"⦰\",\n  bepsi: \"϶\",\n  bernou: \"ℬ\",\n  Bernoullis: \"ℬ\",\n  Beta: \"Β\",\n  beta: \"β\",\n  beth: \"ℶ\",\n  between: \"≬\",\n  Bfr: \"𝔅\",\n  bfr: \"𝔟\",\n  bigcap: \"⋂\",\n  bigcirc: \"◯\",\n  bigcup: \"⋃\",\n  bigodot: \"⨀\",\n  bigoplus: \"⨁\",\n  bigotimes: \"⨂\",\n  bigsqcup: \"⨆\",\n  bigstar: \"★\",\n  bigtriangledown: \"▽\",\n  bigtriangleup: \"△\",\n  biguplus: \"⨄\",\n  bigvee: \"⋁\",\n  bigwedge: \"⋀\",\n  bkarow: \"⤍\",\n  blacklozenge: \"⧫\",\n  blacksquare: \"▪\",\n  blacktriangle: \"▴\",\n  blacktriangledown: \"▾\",\n  blacktriangleleft: \"◂\",\n  blacktriangleright: \"▸\",\n  blank: \"␣\",\n  blk12: \"▒\",\n  blk14: \"░\",\n  blk34: \"▓\",\n  block: \"█\",\n  bne: \"=⃥\",\n  bnequiv: \"≡⃥\",\n  bNot: \"⫭\",\n  bnot: \"⌐\",\n  Bopf: \"𝔹\",\n  bopf: \"𝕓\",\n  bot: \"⊥\",\n  bottom: \"⊥\",\n  bowtie: \"⋈\",\n  boxbox: \"⧉\",\n  boxdl: \"┐\",\n  boxdL: \"╕\",\n  boxDl: \"╖\",\n  boxDL: \"╗\",\n  boxdr: \"┌\",\n  boxdR: \"╒\",\n  boxDr: \"╓\",\n  boxDR: \"╔\",\n  boxh: \"─\",\n  boxH: \"═\",\n  boxhd: \"┬\",\n  boxHd: \"╤\",\n  boxhD: \"╥\",\n  boxHD: \"╦\",\n  boxhu: \"┴\",\n  boxHu: \"╧\",\n  boxhU: \"╨\",\n  boxHU: \"╩\",\n  boxminus: \"⊟\",\n  boxplus: \"⊞\",\n  boxtimes: \"⊠\",\n  boxul: \"┘\",\n  boxuL: \"╛\",\n  boxUl: \"╜\",\n  boxUL: \"╝\",\n  boxur: \"└\",\n  boxuR: \"╘\",\n  boxUr: \"╙\",\n  boxUR: \"╚\",\n  boxv: \"│\",\n  boxV: \"║\",\n  boxvh: \"┼\",\n  boxvH: \"╪\",\n  boxVh: \"╫\",\n  boxVH: \"╬\",\n  boxvl: \"┤\",\n  boxvL: \"╡\",\n  boxVl: \"╢\",\n  boxVL: \"╣\",\n  boxvr: \"├\",\n  boxvR: \"╞\",\n  boxVr: \"╟\",\n  boxVR: \"╠\",\n  bprime: \"‵\",\n  breve: \"˘\",\n  Breve: \"˘\",\n  brvbar: \"¦\",\n  bscr: \"𝒷\",\n  Bscr: \"ℬ\",\n  bsemi: \"⁏\",\n  bsim: \"∽\",\n  bsime: \"⋍\",\n  bsolb: \"⧅\",\n  bsol: \"\\\\\",\n  bsolhsub: \"⟈\",\n  bull: \"•\",\n  bullet: \"•\",\n  bump: \"≎\",\n  bumpE: \"⪮\",\n  bumpe: \"≏\",\n  Bumpeq: \"≎\",\n  bumpeq: \"≏\",\n  Cacute: \"Ć\",\n  cacute: \"ć\",\n  capand: \"⩄\",\n  capbrcup: \"⩉\",\n  capcap: \"⩋\",\n  cap: \"∩\",\n  Cap: \"⋒\",\n  capcup: \"⩇\",\n  capdot: \"⩀\",\n  CapitalDifferentialD: \"ⅅ\",\n  caps: \"∩︀\",\n  caret: \"⁁\",\n  caron: \"ˇ\",\n  Cayleys: \"ℭ\",\n  ccaps: \"⩍\",\n  Ccaron: \"Č\",\n  ccaron: \"č\",\n  Ccedil: \"Ç\",\n  ccedil: \"ç\",\n  Ccirc: \"Ĉ\",\n  ccirc: \"ĉ\",\n  Cconint: \"∰\",\n  ccups: \"⩌\",\n  ccupssm: \"⩐\",\n  Cdot: \"Ċ\",\n  cdot: \"ċ\",\n  cedil: \"¸\",\n  Cedilla: \"¸\",\n  cemptyv: \"⦲\",\n  cent: \"¢\",\n  centerdot: \"·\",\n  CenterDot: \"·\",\n  cfr: \"𝔠\",\n  Cfr: \"ℭ\",\n  CHcy: \"Ч\",\n  chcy: \"ч\",\n  check: \"✓\",\n  checkmark: \"✓\",\n  Chi: \"Χ\",\n  chi: \"χ\",\n  circ: \"ˆ\",\n  circeq: \"≗\",\n  circlearrowleft: \"↺\",\n  circlearrowright: \"↻\",\n  circledast: \"⊛\",\n  circledcirc: \"⊚\",\n  circleddash: \"⊝\",\n  CircleDot: \"⊙\",\n  circledR: \"®\",\n  circledS: \"Ⓢ\",\n  CircleMinus: \"⊖\",\n  CirclePlus: \"⊕\",\n  CircleTimes: \"⊗\",\n  cir: \"○\",\n  cirE: \"⧃\",\n  cire: \"≗\",\n  cirfnint: \"⨐\",\n  cirmid: \"⫯\",\n  cirscir: \"⧂\",\n  ClockwiseContourIntegral: \"∲\",\n  CloseCurlyDoubleQuote: \"”\",\n  CloseCurlyQuote: \"’\",\n  clubs: \"♣\",\n  clubsuit: \"♣\",\n  colon: \":\",\n  Colon: \"∷\",\n  Colone: \"⩴\",\n  colone: \"≔\",\n  coloneq: \"≔\",\n  comma: \",\",\n  commat: \"@\",\n  comp: \"∁\",\n  compfn: \"∘\",\n  complement: \"∁\",\n  complexes: \"ℂ\",\n  cong: \"≅\",\n  congdot: \"⩭\",\n  Congruent: \"≡\",\n  conint: \"∮\",\n  Conint: \"∯\",\n  ContourIntegral: \"∮\",\n  copf: \"𝕔\",\n  Copf: \"ℂ\",\n  coprod: \"∐\",\n  Coproduct: \"∐\",\n  copy: \"©\",\n  COPY: \"©\",\n  copysr: \"℗\",\n  CounterClockwiseContourIntegral: \"∳\",\n  crarr: \"↵\",\n  cross: \"✗\",\n  Cross: \"⨯\",\n  Cscr: \"𝒞\",\n  cscr: \"𝒸\",\n  csub: \"⫏\",\n  csube: \"⫑\",\n  csup: \"⫐\",\n  csupe: \"⫒\",\n  ctdot: \"⋯\",\n  cudarrl: \"⤸\",\n  cudarrr: \"⤵\",\n  cuepr: \"⋞\",\n  cuesc: \"⋟\",\n  cularr: \"↶\",\n  cularrp: \"⤽\",\n  cupbrcap: \"⩈\",\n  cupcap: \"⩆\",\n  CupCap: \"≍\",\n  cup: \"∪\",\n  Cup: \"⋓\",\n  cupcup: \"⩊\",\n  cupdot: \"⊍\",\n  cupor: \"⩅\",\n  cups: \"∪︀\",\n  curarr: \"↷\",\n  curarrm: \"⤼\",\n  curlyeqprec: \"⋞\",\n  curlyeqsucc: \"⋟\",\n  curlyvee: \"⋎\",\n  curlywedge: \"⋏\",\n  curren: \"¤\",\n  curvearrowleft: \"↶\",\n  curvearrowright: \"↷\",\n  cuvee: \"⋎\",\n  cuwed: \"⋏\",\n  cwconint: \"∲\",\n  cwint: \"∱\",\n  cylcty: \"⌭\",\n  dagger: \"†\",\n  Dagger: \"‡\",\n  daleth: \"ℸ\",\n  darr: \"↓\",\n  Darr: \"↡\",\n  dArr: \"⇓\",\n  dash: \"‐\",\n  Dashv: \"⫤\",\n  dashv: \"⊣\",\n  dbkarow: \"⤏\",\n  dblac: \"˝\",\n  Dcaron: \"Ď\",\n  dcaron: \"ď\",\n  Dcy: \"Д\",\n  dcy: \"д\",\n  ddagger: \"‡\",\n  ddarr: \"⇊\",\n  DD: \"ⅅ\",\n  dd: \"ⅆ\",\n  DDotrahd: \"⤑\",\n  ddotseq: \"⩷\",\n  deg: \"°\",\n  Del: \"∇\",\n  Delta: \"Δ\",\n  delta: \"δ\",\n  demptyv: \"⦱\",\n  dfisht: \"⥿\",\n  Dfr: \"𝔇\",\n  dfr: \"𝔡\",\n  dHar: \"⥥\",\n  dharl: \"⇃\",\n  dharr: \"⇂\",\n  DiacriticalAcute: \"´\",\n  DiacriticalDot: \"˙\",\n  DiacriticalDoubleAcute: \"˝\",\n  DiacriticalGrave: \"`\",\n  DiacriticalTilde: \"˜\",\n  diam: \"⋄\",\n  diamond: \"⋄\",\n  Diamond: \"⋄\",\n  diamondsuit: \"♦\",\n  diams: \"♦\",\n  die: \"¨\",\n  DifferentialD: \"ⅆ\",\n  digamma: \"ϝ\",\n  disin: \"⋲\",\n  div: \"÷\",\n  divide: \"÷\",\n  divideontimes: \"⋇\",\n  divonx: \"⋇\",\n  DJcy: \"Ђ\",\n  djcy: \"ђ\",\n  dlcorn: \"⌞\",\n  dlcrop: \"⌍\",\n  dollar: \"$\",\n  Dopf: \"𝔻\",\n  dopf: \"𝕕\",\n  Dot: \"¨\",\n  dot: \"˙\",\n  DotDot: \"⃜\",\n  doteq: \"≐\",\n  doteqdot: \"≑\",\n  DotEqual: \"≐\",\n  dotminus: \"∸\",\n  dotplus: \"∔\",\n  dotsquare: \"⊡\",\n  doublebarwedge: \"⌆\",\n  DoubleContourIntegral: \"∯\",\n  DoubleDot: \"¨\",\n  DoubleDownArrow: \"⇓\",\n  DoubleLeftArrow: \"⇐\",\n  DoubleLeftRightArrow: \"⇔\",\n  DoubleLeftTee: \"⫤\",\n  DoubleLongLeftArrow: \"⟸\",\n  DoubleLongLeftRightArrow: \"⟺\",\n  DoubleLongRightArrow: \"⟹\",\n  DoubleRightArrow: \"⇒\",\n  DoubleRightTee: \"⊨\",\n  DoubleUpArrow: \"⇑\",\n  DoubleUpDownArrow: \"⇕\",\n  DoubleVerticalBar: \"∥\",\n  DownArrowBar: \"⤓\",\n  downarrow: \"↓\",\n  DownArrow: \"↓\",\n  Downarrow: \"⇓\",\n  DownArrowUpArrow: \"⇵\",\n  DownBreve: \"̑\",\n  downdownarrows: \"⇊\",\n  downharpoonleft: \"⇃\",\n  downharpoonright: \"⇂\",\n  DownLeftRightVector: \"⥐\",\n  DownLeftTeeVector: \"⥞\",\n  DownLeftVectorBar: \"⥖\",\n  DownLeftVector: \"↽\",\n  DownRightTeeVector: \"⥟\",\n  DownRightVectorBar: \"⥗\",\n  DownRightVector: \"⇁\",\n  DownTeeArrow: \"↧\",\n  DownTee: \"⊤\",\n  drbkarow: \"⤐\",\n  drcorn: \"⌟\",\n  drcrop: \"⌌\",\n  Dscr: \"𝒟\",\n  dscr: \"𝒹\",\n  DScy: \"Ѕ\",\n  dscy: \"ѕ\",\n  dsol: \"⧶\",\n  Dstrok: \"Đ\",\n  dstrok: \"đ\",\n  dtdot: \"⋱\",\n  dtri: \"▿\",\n  dtrif: \"▾\",\n  duarr: \"⇵\",\n  duhar: \"⥯\",\n  dwangle: \"⦦\",\n  DZcy: \"Џ\",\n  dzcy: \"џ\",\n  dzigrarr: \"⟿\",\n  Eacute: \"É\",\n  eacute: \"é\",\n  easter: \"⩮\",\n  Ecaron: \"Ě\",\n  ecaron: \"ě\",\n  Ecirc: \"Ê\",\n  ecirc: \"ê\",\n  ecir: \"≖\",\n  ecolon: \"≕\",\n  Ecy: \"Э\",\n  ecy: \"э\",\n  eDDot: \"⩷\",\n  Edot: \"Ė\",\n  edot: \"ė\",\n  eDot: \"≑\",\n  ee: \"ⅇ\",\n  efDot: \"≒\",\n  Efr: \"𝔈\",\n  efr: \"𝔢\",\n  eg: \"⪚\",\n  Egrave: \"È\",\n  egrave: \"è\",\n  egs: \"⪖\",\n  egsdot: \"⪘\",\n  el: \"⪙\",\n  Element: \"∈\",\n  elinters: \"⏧\",\n  ell: \"ℓ\",\n  els: \"⪕\",\n  elsdot: \"⪗\",\n  Emacr: \"Ē\",\n  emacr: \"ē\",\n  empty: \"∅\",\n  emptyset: \"∅\",\n  EmptySmallSquare: \"◻\",\n  emptyv: \"∅\",\n  EmptyVerySmallSquare: \"▫\",\n  emsp13: \" \",\n  emsp14: \" \",\n  emsp: \" \",\n  ENG: \"Ŋ\",\n  eng: \"ŋ\",\n  ensp: \" \",\n  Eogon: \"Ę\",\n  eogon: \"ę\",\n  Eopf: \"𝔼\",\n  eopf: \"𝕖\",\n  epar: \"⋕\",\n  eparsl: \"⧣\",\n  eplus: \"⩱\",\n  epsi: \"ε\",\n  Epsilon: \"Ε\",\n  epsilon: \"ε\",\n  epsiv: \"ϵ\",\n  eqcirc: \"≖\",\n  eqcolon: \"≕\",\n  eqsim: \"≂\",\n  eqslantgtr: \"⪖\",\n  eqslantless: \"⪕\",\n  Equal: \"⩵\",\n  equals: \"=\",\n  EqualTilde: \"≂\",\n  equest: \"≟\",\n  Equilibrium: \"⇌\",\n  equiv: \"≡\",\n  equivDD: \"⩸\",\n  eqvparsl: \"⧥\",\n  erarr: \"⥱\",\n  erDot: \"≓\",\n  escr: \"ℯ\",\n  Escr: \"ℰ\",\n  esdot: \"≐\",\n  Esim: \"⩳\",\n  esim: \"≂\",\n  Eta: \"Η\",\n  eta: \"η\",\n  ETH: \"Ð\",\n  eth: \"ð\",\n  Euml: \"Ë\",\n  euml: \"ë\",\n  euro: \"€\",\n  excl: \"!\",\n  exist: \"∃\",\n  Exists: \"∃\",\n  expectation: \"ℰ\",\n  exponentiale: \"ⅇ\",\n  ExponentialE: \"ⅇ\",\n  fallingdotseq: \"≒\",\n  Fcy: \"Ф\",\n  fcy: \"ф\",\n  female: \"♀\",\n  ffilig: \"ﬃ\",\n  fflig: \"ﬀ\",\n  ffllig: \"ﬄ\",\n  Ffr: \"𝔉\",\n  ffr: \"𝔣\",\n  filig: \"ﬁ\",\n  FilledSmallSquare: \"◼\",\n  FilledVerySmallSquare: \"▪\",\n  fjlig: \"fj\",\n  flat: \"♭\",\n  fllig: \"ﬂ\",\n  fltns: \"▱\",\n  fnof: \"ƒ\",\n  Fopf: \"𝔽\",\n  fopf: \"𝕗\",\n  forall: \"∀\",\n  ForAll: \"∀\",\n  fork: \"⋔\",\n  forkv: \"⫙\",\n  Fouriertrf: \"ℱ\",\n  fpartint: \"⨍\",\n  frac12: \"½\",\n  frac13: \"⅓\",\n  frac14: \"¼\",\n  frac15: \"⅕\",\n  frac16: \"⅙\",\n  frac18: \"⅛\",\n  frac23: \"⅔\",\n  frac25: \"⅖\",\n  frac34: \"¾\",\n  frac35: \"⅗\",\n  frac38: \"⅜\",\n  frac45: \"⅘\",\n  frac56: \"⅚\",\n  frac58: \"⅝\",\n  frac78: \"⅞\",\n  frasl: \"⁄\",\n  frown: \"⌢\",\n  fscr: \"𝒻\",\n  Fscr: \"ℱ\",\n  gacute: \"ǵ\",\n  Gamma: \"Γ\",\n  gamma: \"γ\",\n  Gammad: \"Ϝ\",\n  gammad: \"ϝ\",\n  gap: \"⪆\",\n  Gbreve: \"Ğ\",\n  gbreve: \"ğ\",\n  Gcedil: \"Ģ\",\n  Gcirc: \"Ĝ\",\n  gcirc: \"ĝ\",\n  Gcy: \"Г\",\n  gcy: \"г\",\n  Gdot: \"Ġ\",\n  gdot: \"ġ\",\n  ge: \"≥\",\n  gE: \"≧\",\n  gEl: \"⪌\",\n  gel: \"⋛\",\n  geq: \"≥\",\n  geqq: \"≧\",\n  geqslant: \"⩾\",\n  gescc: \"⪩\",\n  ges: \"⩾\",\n  gesdot: \"⪀\",\n  gesdoto: \"⪂\",\n  gesdotol: \"⪄\",\n  gesl: \"⋛︀\",\n  gesles: \"⪔\",\n  Gfr: \"𝔊\",\n  gfr: \"𝔤\",\n  gg: \"≫\",\n  Gg: \"⋙\",\n  ggg: \"⋙\",\n  gimel: \"ℷ\",\n  GJcy: \"Ѓ\",\n  gjcy: \"ѓ\",\n  gla: \"⪥\",\n  gl: \"≷\",\n  glE: \"⪒\",\n  glj: \"⪤\",\n  gnap: \"⪊\",\n  gnapprox: \"⪊\",\n  gne: \"⪈\",\n  gnE: \"≩\",\n  gneq: \"⪈\",\n  gneqq: \"≩\",\n  gnsim: \"⋧\",\n  Gopf: \"𝔾\",\n  gopf: \"𝕘\",\n  grave: \"`\",\n  GreaterEqual: \"≥\",\n  GreaterEqualLess: \"⋛\",\n  GreaterFullEqual: \"≧\",\n  GreaterGreater: \"⪢\",\n  GreaterLess: \"≷\",\n  GreaterSlantEqual: \"⩾\",\n  GreaterTilde: \"≳\",\n  Gscr: \"𝒢\",\n  gscr: \"ℊ\",\n  gsim: \"≳\",\n  gsime: \"⪎\",\n  gsiml: \"⪐\",\n  gtcc: \"⪧\",\n  gtcir: \"⩺\",\n  gt: \">\",\n  GT: \">\",\n  Gt: \"≫\",\n  gtdot: \"⋗\",\n  gtlPar: \"⦕\",\n  gtquest: \"⩼\",\n  gtrapprox: \"⪆\",\n  gtrarr: \"⥸\",\n  gtrdot: \"⋗\",\n  gtreqless: \"⋛\",\n  gtreqqless: \"⪌\",\n  gtrless: \"≷\",\n  gtrsim: \"≳\",\n  gvertneqq: \"≩︀\",\n  gvnE: \"≩︀\",\n  Hacek: \"ˇ\",\n  hairsp: \" \",\n  half: \"½\",\n  hamilt: \"ℋ\",\n  HARDcy: \"Ъ\",\n  hardcy: \"ъ\",\n  harrcir: \"⥈\",\n  harr: \"↔\",\n  hArr: \"⇔\",\n  harrw: \"↭\",\n  Hat: \"^\",\n  hbar: \"ℏ\",\n  Hcirc: \"Ĥ\",\n  hcirc: \"ĥ\",\n  hearts: \"♥\",\n  heartsuit: \"♥\",\n  hellip: \"…\",\n  hercon: \"⊹\",\n  hfr: \"𝔥\",\n  Hfr: \"ℌ\",\n  HilbertSpace: \"ℋ\",\n  hksearow: \"⤥\",\n  hkswarow: \"⤦\",\n  hoarr: \"⇿\",\n  homtht: \"∻\",\n  hookleftarrow: \"↩\",\n  hookrightarrow: \"↪\",\n  hopf: \"𝕙\",\n  Hopf: \"ℍ\",\n  horbar: \"―\",\n  HorizontalLine: \"─\",\n  hscr: \"𝒽\",\n  Hscr: \"ℋ\",\n  hslash: \"ℏ\",\n  Hstrok: \"Ħ\",\n  hstrok: \"ħ\",\n  HumpDownHump: \"≎\",\n  HumpEqual: \"≏\",\n  hybull: \"⁃\",\n  hyphen: \"‐\",\n  Iacute: \"Í\",\n  iacute: \"í\",\n  ic: \"⁣\",\n  Icirc: \"Î\",\n  icirc: \"î\",\n  Icy: \"И\",\n  icy: \"и\",\n  Idot: \"İ\",\n  IEcy: \"Е\",\n  iecy: \"е\",\n  iexcl: \"¡\",\n  iff: \"⇔\",\n  ifr: \"𝔦\",\n  Ifr: \"ℑ\",\n  Igrave: \"Ì\",\n  igrave: \"ì\",\n  ii: \"ⅈ\",\n  iiiint: \"⨌\",\n  iiint: \"∭\",\n  iinfin: \"⧜\",\n  iiota: \"℩\",\n  IJlig: \"Ĳ\",\n  ijlig: \"ĳ\",\n  Imacr: \"Ī\",\n  imacr: \"ī\",\n  image: \"ℑ\",\n  ImaginaryI: \"ⅈ\",\n  imagline: \"ℐ\",\n  imagpart: \"ℑ\",\n  imath: \"ı\",\n  Im: \"ℑ\",\n  imof: \"⊷\",\n  imped: \"Ƶ\",\n  Implies: \"⇒\",\n  incare: \"℅\",\n  \"in\": \"∈\",\n  infin: \"∞\",\n  infintie: \"⧝\",\n  inodot: \"ı\",\n  intcal: \"⊺\",\n  int: \"∫\",\n  Int: \"∬\",\n  integers: \"ℤ\",\n  Integral: \"∫\",\n  intercal: \"⊺\",\n  Intersection: \"⋂\",\n  intlarhk: \"⨗\",\n  intprod: \"⨼\",\n  InvisibleComma: \"⁣\",\n  InvisibleTimes: \"⁢\",\n  IOcy: \"Ё\",\n  iocy: \"ё\",\n  Iogon: \"Į\",\n  iogon: \"į\",\n  Iopf: \"𝕀\",\n  iopf: \"𝕚\",\n  Iota: \"Ι\",\n  iota: \"ι\",\n  iprod: \"⨼\",\n  iquest: \"¿\",\n  iscr: \"𝒾\",\n  Iscr: \"ℐ\",\n  isin: \"∈\",\n  isindot: \"⋵\",\n  isinE: \"⋹\",\n  isins: \"⋴\",\n  isinsv: \"⋳\",\n  isinv: \"∈\",\n  it: \"⁢\",\n  Itilde: \"Ĩ\",\n  itilde: \"ĩ\",\n  Iukcy: \"І\",\n  iukcy: \"і\",\n  Iuml: \"Ï\",\n  iuml: \"ï\",\n  Jcirc: \"Ĵ\",\n  jcirc: \"ĵ\",\n  Jcy: \"Й\",\n  jcy: \"й\",\n  Jfr: \"𝔍\",\n  jfr: \"𝔧\",\n  jmath: \"ȷ\",\n  Jopf: \"𝕁\",\n  jopf: \"𝕛\",\n  Jscr: \"𝒥\",\n  jscr: \"𝒿\",\n  Jsercy: \"Ј\",\n  jsercy: \"ј\",\n  Jukcy: \"Є\",\n  jukcy: \"є\",\n  Kappa: \"Κ\",\n  kappa: \"κ\",\n  kappav: \"ϰ\",\n  Kcedil: \"Ķ\",\n  kcedil: \"ķ\",\n  Kcy: \"К\",\n  kcy: \"к\",\n  Kfr: \"𝔎\",\n  kfr: \"𝔨\",\n  kgreen: \"ĸ\",\n  KHcy: \"Х\",\n  khcy: \"х\",\n  KJcy: \"Ќ\",\n  kjcy: \"ќ\",\n  Kopf: \"𝕂\",\n  kopf: \"𝕜\",\n  Kscr: \"𝒦\",\n  kscr: \"𝓀\",\n  lAarr: \"⇚\",\n  Lacute: \"Ĺ\",\n  lacute: \"ĺ\",\n  laemptyv: \"⦴\",\n  lagran: \"ℒ\",\n  Lambda: \"Λ\",\n  lambda: \"λ\",\n  lang: \"⟨\",\n  Lang: \"⟪\",\n  langd: \"⦑\",\n  langle: \"⟨\",\n  lap: \"⪅\",\n  Laplacetrf: \"ℒ\",\n  laquo: \"«\",\n  larrb: \"⇤\",\n  larrbfs: \"⤟\",\n  larr: \"←\",\n  Larr: \"↞\",\n  lArr: \"⇐\",\n  larrfs: \"⤝\",\n  larrhk: \"↩\",\n  larrlp: \"↫\",\n  larrpl: \"⤹\",\n  larrsim: \"⥳\",\n  larrtl: \"↢\",\n  latail: \"⤙\",\n  lAtail: \"⤛\",\n  lat: \"⪫\",\n  late: \"⪭\",\n  lates: \"⪭︀\",\n  lbarr: \"⤌\",\n  lBarr: \"⤎\",\n  lbbrk: \"❲\",\n  lbrace: \"{\",\n  lbrack: \"[\",\n  lbrke: \"⦋\",\n  lbrksld: \"⦏\",\n  lbrkslu: \"⦍\",\n  Lcaron: \"Ľ\",\n  lcaron: \"ľ\",\n  Lcedil: \"Ļ\",\n  lcedil: \"ļ\",\n  lceil: \"⌈\",\n  lcub: \"{\",\n  Lcy: \"Л\",\n  lcy: \"л\",\n  ldca: \"⤶\",\n  ldquo: \"“\",\n  ldquor: \"„\",\n  ldrdhar: \"⥧\",\n  ldrushar: \"⥋\",\n  ldsh: \"↲\",\n  le: \"≤\",\n  lE: \"≦\",\n  LeftAngleBracket: \"⟨\",\n  LeftArrowBar: \"⇤\",\n  leftarrow: \"←\",\n  LeftArrow: \"←\",\n  Leftarrow: \"⇐\",\n  LeftArrowRightArrow: \"⇆\",\n  leftarrowtail: \"↢\",\n  LeftCeiling: \"⌈\",\n  LeftDoubleBracket: \"⟦\",\n  LeftDownTeeVector: \"⥡\",\n  LeftDownVectorBar: \"⥙\",\n  LeftDownVector: \"⇃\",\n  LeftFloor: \"⌊\",\n  leftharpoondown: \"↽\",\n  leftharpoonup: \"↼\",\n  leftleftarrows: \"⇇\",\n  leftrightarrow: \"↔\",\n  LeftRightArrow: \"↔\",\n  Leftrightarrow: \"⇔\",\n  leftrightarrows: \"⇆\",\n  leftrightharpoons: \"⇋\",\n  leftrightsquigarrow: \"↭\",\n  LeftRightVector: \"⥎\",\n  LeftTeeArrow: \"↤\",\n  LeftTee: \"⊣\",\n  LeftTeeVector: \"⥚\",\n  leftthreetimes: \"⋋\",\n  LeftTriangleBar: \"⧏\",\n  LeftTriangle: \"⊲\",\n  LeftTriangleEqual: \"⊴\",\n  LeftUpDownVector: \"⥑\",\n  LeftUpTeeVector: \"⥠\",\n  LeftUpVectorBar: \"⥘\",\n  LeftUpVector: \"↿\",\n  LeftVectorBar: \"⥒\",\n  LeftVector: \"↼\",\n  lEg: \"⪋\",\n  leg: \"⋚\",\n  leq: \"≤\",\n  leqq: \"≦\",\n  leqslant: \"⩽\",\n  lescc: \"⪨\",\n  les: \"⩽\",\n  lesdot: \"⩿\",\n  lesdoto: \"⪁\",\n  lesdotor: \"⪃\",\n  lesg: \"⋚︀\",\n  lesges: \"⪓\",\n  lessapprox: \"⪅\",\n  lessdot: \"⋖\",\n  lesseqgtr: \"⋚\",\n  lesseqqgtr: \"⪋\",\n  LessEqualGreater: \"⋚\",\n  LessFullEqual: \"≦\",\n  LessGreater: \"≶\",\n  lessgtr: \"≶\",\n  LessLess: \"⪡\",\n  lesssim: \"≲\",\n  LessSlantEqual: \"⩽\",\n  LessTilde: \"≲\",\n  lfisht: \"⥼\",\n  lfloor: \"⌊\",\n  Lfr: \"𝔏\",\n  lfr: \"𝔩\",\n  lg: \"≶\",\n  lgE: \"⪑\",\n  lHar: \"⥢\",\n  lhard: \"↽\",\n  lharu: \"↼\",\n  lharul: \"⥪\",\n  lhblk: \"▄\",\n  LJcy: \"Љ\",\n  ljcy: \"љ\",\n  llarr: \"⇇\",\n  ll: \"≪\",\n  Ll: \"⋘\",\n  llcorner: \"⌞\",\n  Lleftarrow: \"⇚\",\n  llhard: \"⥫\",\n  lltri: \"◺\",\n  Lmidot: \"Ŀ\",\n  lmidot: \"ŀ\",\n  lmoustache: \"⎰\",\n  lmoust: \"⎰\",\n  lnap: \"⪉\",\n  lnapprox: \"⪉\",\n  lne: \"⪇\",\n  lnE: \"≨\",\n  lneq: \"⪇\",\n  lneqq: \"≨\",\n  lnsim: \"⋦\",\n  loang: \"⟬\",\n  loarr: \"⇽\",\n  lobrk: \"⟦\",\n  longleftarrow: \"⟵\",\n  LongLeftArrow: \"⟵\",\n  Longleftarrow: \"⟸\",\n  longleftrightarrow: \"⟷\",\n  LongLeftRightArrow: \"⟷\",\n  Longleftrightarrow: \"⟺\",\n  longmapsto: \"⟼\",\n  longrightarrow: \"⟶\",\n  LongRightArrow: \"⟶\",\n  Longrightarrow: \"⟹\",\n  looparrowleft: \"↫\",\n  looparrowright: \"↬\",\n  lopar: \"⦅\",\n  Lopf: \"𝕃\",\n  lopf: \"𝕝\",\n  loplus: \"⨭\",\n  lotimes: \"⨴\",\n  lowast: \"∗\",\n  lowbar: \"_\",\n  LowerLeftArrow: \"↙\",\n  LowerRightArrow: \"↘\",\n  loz: \"◊\",\n  lozenge: \"◊\",\n  lozf: \"⧫\",\n  lpar: \"(\",\n  lparlt: \"⦓\",\n  lrarr: \"⇆\",\n  lrcorner: \"⌟\",\n  lrhar: \"⇋\",\n  lrhard: \"⥭\",\n  lrm: \"‎\",\n  lrtri: \"⊿\",\n  lsaquo: \"‹\",\n  lscr: \"𝓁\",\n  Lscr: \"ℒ\",\n  lsh: \"↰\",\n  Lsh: \"↰\",\n  lsim: \"≲\",\n  lsime: \"⪍\",\n  lsimg: \"⪏\",\n  lsqb: \"[\",\n  lsquo: \"‘\",\n  lsquor: \"‚\",\n  Lstrok: \"Ł\",\n  lstrok: \"ł\",\n  ltcc: \"⪦\",\n  ltcir: \"⩹\",\n  lt: \"<\",\n  LT: \"<\",\n  Lt: \"≪\",\n  ltdot: \"⋖\",\n  lthree: \"⋋\",\n  ltimes: \"⋉\",\n  ltlarr: \"⥶\",\n  ltquest: \"⩻\",\n  ltri: \"◃\",\n  ltrie: \"⊴\",\n  ltrif: \"◂\",\n  ltrPar: \"⦖\",\n  lurdshar: \"⥊\",\n  luruhar: \"⥦\",\n  lvertneqq: \"≨︀\",\n  lvnE: \"≨︀\",\n  macr: \"¯\",\n  male: \"♂\",\n  malt: \"✠\",\n  maltese: \"✠\",\n  \"Map\": \"⤅\",\n  map: \"↦\",\n  mapsto: \"↦\",\n  mapstodown: \"↧\",\n  mapstoleft: \"↤\",\n  mapstoup: \"↥\",\n  marker: \"▮\",\n  mcomma: \"⨩\",\n  Mcy: \"М\",\n  mcy: \"м\",\n  mdash: \"—\",\n  mDDot: \"∺\",\n  measuredangle: \"∡\",\n  MediumSpace: \" \",\n  Mellintrf: \"ℳ\",\n  Mfr: \"𝔐\",\n  mfr: \"𝔪\",\n  mho: \"℧\",\n  micro: \"µ\",\n  midast: \"*\",\n  midcir: \"⫰\",\n  mid: \"∣\",\n  middot: \"·\",\n  minusb: \"⊟\",\n  minus: \"−\",\n  minusd: \"∸\",\n  minusdu: \"⨪\",\n  MinusPlus: \"∓\",\n  mlcp: \"⫛\",\n  mldr: \"…\",\n  mnplus: \"∓\",\n  models: \"⊧\",\n  Mopf: \"𝕄\",\n  mopf: \"𝕞\",\n  mp: \"∓\",\n  mscr: \"𝓂\",\n  Mscr: \"ℳ\",\n  mstpos: \"∾\",\n  Mu: \"Μ\",\n  mu: \"μ\",\n  multimap: \"⊸\",\n  mumap: \"⊸\",\n  nabla: \"∇\",\n  Nacute: \"Ń\",\n  nacute: \"ń\",\n  nang: \"∠⃒\",\n  nap: \"≉\",\n  napE: \"⩰̸\",\n  napid: \"≋̸\",\n  napos: \"ŉ\",\n  napprox: \"≉\",\n  natural: \"♮\",\n  naturals: \"ℕ\",\n  natur: \"♮\",\n  nbsp: \" \",\n  nbump: \"≎̸\",\n  nbumpe: \"≏̸\",\n  ncap: \"⩃\",\n  Ncaron: \"Ň\",\n  ncaron: \"ň\",\n  Ncedil: \"Ņ\",\n  ncedil: \"ņ\",\n  ncong: \"≇\",\n  ncongdot: \"⩭̸\",\n  ncup: \"⩂\",\n  Ncy: \"Н\",\n  ncy: \"н\",\n  ndash: \"–\",\n  nearhk: \"⤤\",\n  nearr: \"↗\",\n  neArr: \"⇗\",\n  nearrow: \"↗\",\n  ne: \"≠\",\n  nedot: \"≐̸\",\n  NegativeMediumSpace: \"​\",\n  NegativeThickSpace: \"​\",\n  NegativeThinSpace: \"​\",\n  NegativeVeryThinSpace: \"​\",\n  nequiv: \"≢\",\n  nesear: \"⤨\",\n  nesim: \"≂̸\",\n  NestedGreaterGreater: \"≫\",\n  NestedLessLess: \"≪\",\n  NewLine: \"\\n\",\n  nexist: \"∄\",\n  nexists: \"∄\",\n  Nfr: \"𝔑\",\n  nfr: \"𝔫\",\n  ngE: \"≧̸\",\n  nge: \"≱\",\n  ngeq: \"≱\",\n  ngeqq: \"≧̸\",\n  ngeqslant: \"⩾̸\",\n  nges: \"⩾̸\",\n  nGg: \"⋙̸\",\n  ngsim: \"≵\",\n  nGt: \"≫⃒\",\n  ngt: \"≯\",\n  ngtr: \"≯\",\n  nGtv: \"≫̸\",\n  nharr: \"↮\",\n  nhArr: \"⇎\",\n  nhpar: \"⫲\",\n  ni: \"∋\",\n  nis: \"⋼\",\n  nisd: \"⋺\",\n  niv: \"∋\",\n  NJcy: \"Њ\",\n  njcy: \"њ\",\n  nlarr: \"↚\",\n  nlArr: \"⇍\",\n  nldr: \"‥\",\n  nlE: \"≦̸\",\n  nle: \"≰\",\n  nleftarrow: \"↚\",\n  nLeftarrow: \"⇍\",\n  nleftrightarrow: \"↮\",\n  nLeftrightarrow: \"⇎\",\n  nleq: \"≰\",\n  nleqq: \"≦̸\",\n  nleqslant: \"⩽̸\",\n  nles: \"⩽̸\",\n  nless: \"≮\",\n  nLl: \"⋘̸\",\n  nlsim: \"≴\",\n  nLt: \"≪⃒\",\n  nlt: \"≮\",\n  nltri: \"⋪\",\n  nltrie: \"⋬\",\n  nLtv: \"≪̸\",\n  nmid: \"∤\",\n  NoBreak: \"⁠\",\n  NonBreakingSpace: \" \",\n  nopf: \"𝕟\",\n  Nopf: \"ℕ\",\n  Not: \"⫬\",\n  not: \"¬\",\n  NotCongruent: \"≢\",\n  NotCupCap: \"≭\",\n  NotDoubleVerticalBar: \"∦\",\n  NotElement: \"∉\",\n  NotEqual: \"≠\",\n  NotEqualTilde: \"≂̸\",\n  NotExists: \"∄\",\n  NotGreater: \"≯\",\n  NotGreaterEqual: \"≱\",\n  NotGreaterFullEqual: \"≧̸\",\n  NotGreaterGreater: \"≫̸\",\n  NotGreaterLess: \"≹\",\n  NotGreaterSlantEqual: \"⩾̸\",\n  NotGreaterTilde: \"≵\",\n  NotHumpDownHump: \"≎̸\",\n  NotHumpEqual: \"≏̸\",\n  notin: \"∉\",\n  notindot: \"⋵̸\",\n  notinE: \"⋹̸\",\n  notinva: \"∉\",\n  notinvb: \"⋷\",\n  notinvc: \"⋶\",\n  NotLeftTriangleBar: \"⧏̸\",\n  NotLeftTriangle: \"⋪\",\n  NotLeftTriangleEqual: \"⋬\",\n  NotLess: \"≮\",\n  NotLessEqual: \"≰\",\n  NotLessGreater: \"≸\",\n  NotLessLess: \"≪̸\",\n  NotLessSlantEqual: \"⩽̸\",\n  NotLessTilde: \"≴\",\n  NotNestedGreaterGreater: \"⪢̸\",\n  NotNestedLessLess: \"⪡̸\",\n  notni: \"∌\",\n  notniva: \"∌\",\n  notnivb: \"⋾\",\n  notnivc: \"⋽\",\n  NotPrecedes: \"⊀\",\n  NotPrecedesEqual: \"⪯̸\",\n  NotPrecedesSlantEqual: \"⋠\",\n  NotReverseElement: \"∌\",\n  NotRightTriangleBar: \"⧐̸\",\n  NotRightTriangle: \"⋫\",\n  NotRightTriangleEqual: \"⋭\",\n  NotSquareSubset: \"⊏̸\",\n  NotSquareSubsetEqual: \"⋢\",\n  NotSquareSuperset: \"⊐̸\",\n  NotSquareSupersetEqual: \"⋣\",\n  NotSubset: \"⊂⃒\",\n  NotSubsetEqual: \"⊈\",\n  NotSucceeds: \"⊁\",\n  NotSucceedsEqual: \"⪰̸\",\n  NotSucceedsSlantEqual: \"⋡\",\n  NotSucceedsTilde: \"≿̸\",\n  NotSuperset: \"⊃⃒\",\n  NotSupersetEqual: \"⊉\",\n  NotTilde: \"≁\",\n  NotTildeEqual: \"≄\",\n  NotTildeFullEqual: \"≇\",\n  NotTildeTilde: \"≉\",\n  NotVerticalBar: \"∤\",\n  nparallel: \"∦\",\n  npar: \"∦\",\n  nparsl: \"⫽⃥\",\n  npart: \"∂̸\",\n  npolint: \"⨔\",\n  npr: \"⊀\",\n  nprcue: \"⋠\",\n  nprec: \"⊀\",\n  npreceq: \"⪯̸\",\n  npre: \"⪯̸\",\n  nrarrc: \"⤳̸\",\n  nrarr: \"↛\",\n  nrArr: \"⇏\",\n  nrarrw: \"↝̸\",\n  nrightarrow: \"↛\",\n  nRightarrow: \"⇏\",\n  nrtri: \"⋫\",\n  nrtrie: \"⋭\",\n  nsc: \"⊁\",\n  nsccue: \"⋡\",\n  nsce: \"⪰̸\",\n  Nscr: \"𝒩\",\n  nscr: \"𝓃\",\n  nshortmid: \"∤\",\n  nshortparallel: \"∦\",\n  nsim: \"≁\",\n  nsime: \"≄\",\n  nsimeq: \"≄\",\n  nsmid: \"∤\",\n  nspar: \"∦\",\n  nsqsube: \"⋢\",\n  nsqsupe: \"⋣\",\n  nsub: \"⊄\",\n  nsubE: \"⫅̸\",\n  nsube: \"⊈\",\n  nsubset: \"⊂⃒\",\n  nsubseteq: \"⊈\",\n  nsubseteqq: \"⫅̸\",\n  nsucc: \"⊁\",\n  nsucceq: \"⪰̸\",\n  nsup: \"⊅\",\n  nsupE: \"⫆̸\",\n  nsupe: \"⊉\",\n  nsupset: \"⊃⃒\",\n  nsupseteq: \"⊉\",\n  nsupseteqq: \"⫆̸\",\n  ntgl: \"≹\",\n  Ntilde: \"Ñ\",\n  ntilde: \"ñ\",\n  ntlg: \"≸\",\n  ntriangleleft: \"⋪\",\n  ntrianglelefteq: \"⋬\",\n  ntriangleright: \"⋫\",\n  ntrianglerighteq: \"⋭\",\n  Nu: \"Ν\",\n  nu: \"ν\",\n  num: \"#\",\n  numero: \"№\",\n  numsp: \" \",\n  nvap: \"≍⃒\",\n  nvdash: \"⊬\",\n  nvDash: \"⊭\",\n  nVdash: \"⊮\",\n  nVDash: \"⊯\",\n  nvge: \"≥⃒\",\n  nvgt: \">⃒\",\n  nvHarr: \"⤄\",\n  nvinfin: \"⧞\",\n  nvlArr: \"⤂\",\n  nvle: \"≤⃒\",\n  nvlt: \"<⃒\",\n  nvltrie: \"⊴⃒\",\n  nvrArr: \"⤃\",\n  nvrtrie: \"⊵⃒\",\n  nvsim: \"∼⃒\",\n  nwarhk: \"⤣\",\n  nwarr: \"↖\",\n  nwArr: \"⇖\",\n  nwarrow: \"↖\",\n  nwnear: \"⤧\",\n  Oacute: \"Ó\",\n  oacute: \"ó\",\n  oast: \"⊛\",\n  Ocirc: \"Ô\",\n  ocirc: \"ô\",\n  ocir: \"⊚\",\n  Ocy: \"О\",\n  ocy: \"о\",\n  odash: \"⊝\",\n  Odblac: \"Ő\",\n  odblac: \"ő\",\n  odiv: \"⨸\",\n  odot: \"⊙\",\n  odsold: \"⦼\",\n  OElig: \"Œ\",\n  oelig: \"œ\",\n  ofcir: \"⦿\",\n  Ofr: \"𝔒\",\n  ofr: \"𝔬\",\n  ogon: \"˛\",\n  Ograve: \"Ò\",\n  ograve: \"ò\",\n  ogt: \"⧁\",\n  ohbar: \"⦵\",\n  ohm: \"Ω\",\n  oint: \"∮\",\n  olarr: \"↺\",\n  olcir: \"⦾\",\n  olcross: \"⦻\",\n  oline: \"‾\",\n  olt: \"⧀\",\n  Omacr: \"Ō\",\n  omacr: \"ō\",\n  Omega: \"Ω\",\n  omega: \"ω\",\n  Omicron: \"Ο\",\n  omicron: \"ο\",\n  omid: \"⦶\",\n  ominus: \"⊖\",\n  Oopf: \"𝕆\",\n  oopf: \"𝕠\",\n  opar: \"⦷\",\n  OpenCurlyDoubleQuote: \"“\",\n  OpenCurlyQuote: \"‘\",\n  operp: \"⦹\",\n  oplus: \"⊕\",\n  orarr: \"↻\",\n  Or: \"⩔\",\n  or: \"∨\",\n  ord: \"⩝\",\n  order: \"ℴ\",\n  orderof: \"ℴ\",\n  ordf: \"ª\",\n  ordm: \"º\",\n  origof: \"⊶\",\n  oror: \"⩖\",\n  orslope: \"⩗\",\n  orv: \"⩛\",\n  oS: \"Ⓢ\",\n  Oscr: \"𝒪\",\n  oscr: \"ℴ\",\n  Oslash: \"Ø\",\n  oslash: \"ø\",\n  osol: \"⊘\",\n  Otilde: \"Õ\",\n  otilde: \"õ\",\n  otimesas: \"⨶\",\n  Otimes: \"⨷\",\n  otimes: \"⊗\",\n  Ouml: \"Ö\",\n  ouml: \"ö\",\n  ovbar: \"⌽\",\n  OverBar: \"‾\",\n  OverBrace: \"⏞\",\n  OverBracket: \"⎴\",\n  OverParenthesis: \"⏜\",\n  para: \"¶\",\n  parallel: \"∥\",\n  par: \"∥\",\n  parsim: \"⫳\",\n  parsl: \"⫽\",\n  part: \"∂\",\n  PartialD: \"∂\",\n  Pcy: \"П\",\n  pcy: \"п\",\n  percnt: \"%\",\n  period: \".\",\n  permil: \"‰\",\n  perp: \"⊥\",\n  pertenk: \"‱\",\n  Pfr: \"𝔓\",\n  pfr: \"𝔭\",\n  Phi: \"Φ\",\n  phi: \"φ\",\n  phiv: \"ϕ\",\n  phmmat: \"ℳ\",\n  phone: \"☎\",\n  Pi: \"Π\",\n  pi: \"π\",\n  pitchfork: \"⋔\",\n  piv: \"ϖ\",\n  planck: \"ℏ\",\n  planckh: \"ℎ\",\n  plankv: \"ℏ\",\n  plusacir: \"⨣\",\n  plusb: \"⊞\",\n  pluscir: \"⨢\",\n  plus: \"+\",\n  plusdo: \"∔\",\n  plusdu: \"⨥\",\n  pluse: \"⩲\",\n  PlusMinus: \"±\",\n  plusmn: \"±\",\n  plussim: \"⨦\",\n  plustwo: \"⨧\",\n  pm: \"±\",\n  Poincareplane: \"ℌ\",\n  pointint: \"⨕\",\n  popf: \"𝕡\",\n  Popf: \"ℙ\",\n  pound: \"£\",\n  prap: \"⪷\",\n  Pr: \"⪻\",\n  pr: \"≺\",\n  prcue: \"≼\",\n  precapprox: \"⪷\",\n  prec: \"≺\",\n  preccurlyeq: \"≼\",\n  Precedes: \"≺\",\n  PrecedesEqual: \"⪯\",\n  PrecedesSlantEqual: \"≼\",\n  PrecedesTilde: \"≾\",\n  preceq: \"⪯\",\n  precnapprox: \"⪹\",\n  precneqq: \"⪵\",\n  precnsim: \"⋨\",\n  pre: \"⪯\",\n  prE: \"⪳\",\n  precsim: \"≾\",\n  prime: \"′\",\n  Prime: \"″\",\n  primes: \"ℙ\",\n  prnap: \"⪹\",\n  prnE: \"⪵\",\n  prnsim: \"⋨\",\n  prod: \"∏\",\n  Product: \"∏\",\n  profalar: \"⌮\",\n  profline: \"⌒\",\n  profsurf: \"⌓\",\n  prop: \"∝\",\n  Proportional: \"∝\",\n  Proportion: \"∷\",\n  propto: \"∝\",\n  prsim: \"≾\",\n  prurel: \"⊰\",\n  Pscr: \"𝒫\",\n  pscr: \"𝓅\",\n  Psi: \"Ψ\",\n  psi: \"ψ\",\n  puncsp: \" \",\n  Qfr: \"𝔔\",\n  qfr: \"𝔮\",\n  qint: \"⨌\",\n  qopf: \"𝕢\",\n  Qopf: \"ℚ\",\n  qprime: \"⁗\",\n  Qscr: \"𝒬\",\n  qscr: \"𝓆\",\n  quaternions: \"ℍ\",\n  quatint: \"⨖\",\n  quest: \"?\",\n  questeq: \"≟\",\n  quot: \"\\\"\",\n  QUOT: \"\\\"\",\n  rAarr: \"⇛\",\n  race: \"∽̱\",\n  Racute: \"Ŕ\",\n  racute: \"ŕ\",\n  radic: \"√\",\n  raemptyv: \"⦳\",\n  rang: \"⟩\",\n  Rang: \"⟫\",\n  rangd: \"⦒\",\n  range: \"⦥\",\n  rangle: \"⟩\",\n  raquo: \"»\",\n  rarrap: \"⥵\",\n  rarrb: \"⇥\",\n  rarrbfs: \"⤠\",\n  rarrc: \"⤳\",\n  rarr: \"→\",\n  Rarr: \"↠\",\n  rArr: \"⇒\",\n  rarrfs: \"⤞\",\n  rarrhk: \"↪\",\n  rarrlp: \"↬\",\n  rarrpl: \"⥅\",\n  rarrsim: \"⥴\",\n  Rarrtl: \"⤖\",\n  rarrtl: \"↣\",\n  rarrw: \"↝\",\n  ratail: \"⤚\",\n  rAtail: \"⤜\",\n  ratio: \"∶\",\n  rationals: \"ℚ\",\n  rbarr: \"⤍\",\n  rBarr: \"⤏\",\n  RBarr: \"⤐\",\n  rbbrk: \"❳\",\n  rbrace: \"}\",\n  rbrack: \"]\",\n  rbrke: \"⦌\",\n  rbrksld: \"⦎\",\n  rbrkslu: \"⦐\",\n  Rcaron: \"Ř\",\n  rcaron: \"ř\",\n  Rcedil: \"Ŗ\",\n  rcedil: \"ŗ\",\n  rceil: \"⌉\",\n  rcub: \"}\",\n  Rcy: \"Р\",\n  rcy: \"р\",\n  rdca: \"⤷\",\n  rdldhar: \"⥩\",\n  rdquo: \"”\",\n  rdquor: \"”\",\n  rdsh: \"↳\",\n  real: \"ℜ\",\n  realine: \"ℛ\",\n  realpart: \"ℜ\",\n  reals: \"ℝ\",\n  Re: \"ℜ\",\n  rect: \"▭\",\n  reg: \"®\",\n  REG: \"®\",\n  ReverseElement: \"∋\",\n  ReverseEquilibrium: \"⇋\",\n  ReverseUpEquilibrium: \"⥯\",\n  rfisht: \"⥽\",\n  rfloor: \"⌋\",\n  rfr: \"𝔯\",\n  Rfr: \"ℜ\",\n  rHar: \"⥤\",\n  rhard: \"⇁\",\n  rharu: \"⇀\",\n  rharul: \"⥬\",\n  Rho: \"Ρ\",\n  rho: \"ρ\",\n  rhov: \"ϱ\",\n  RightAngleBracket: \"⟩\",\n  RightArrowBar: \"⇥\",\n  rightarrow: \"→\",\n  RightArrow: \"→\",\n  Rightarrow: \"⇒\",\n  RightArrowLeftArrow: \"⇄\",\n  rightarrowtail: \"↣\",\n  RightCeiling: \"⌉\",\n  RightDoubleBracket: \"⟧\",\n  RightDownTeeVector: \"⥝\",\n  RightDownVectorBar: \"⥕\",\n  RightDownVector: \"⇂\",\n  RightFloor: \"⌋\",\n  rightharpoondown: \"⇁\",\n  rightharpoonup: \"⇀\",\n  rightleftarrows: \"⇄\",\n  rightleftharpoons: \"⇌\",\n  rightrightarrows: \"⇉\",\n  rightsquigarrow: \"↝\",\n  RightTeeArrow: \"↦\",\n  RightTee: \"⊢\",\n  RightTeeVector: \"⥛\",\n  rightthreetimes: \"⋌\",\n  RightTriangleBar: \"⧐\",\n  RightTriangle: \"⊳\",\n  RightTriangleEqual: \"⊵\",\n  RightUpDownVector: \"⥏\",\n  RightUpTeeVector: \"⥜\",\n  RightUpVectorBar: \"⥔\",\n  RightUpVector: \"↾\",\n  RightVectorBar: \"⥓\",\n  RightVector: \"⇀\",\n  ring: \"˚\",\n  risingdotseq: \"≓\",\n  rlarr: \"⇄\",\n  rlhar: \"⇌\",\n  rlm: \"‏\",\n  rmoustache: \"⎱\",\n  rmoust: \"⎱\",\n  rnmid: \"⫮\",\n  roang: \"⟭\",\n  roarr: \"⇾\",\n  robrk: \"⟧\",\n  ropar: \"⦆\",\n  ropf: \"𝕣\",\n  Ropf: \"ℝ\",\n  roplus: \"⨮\",\n  rotimes: \"⨵\",\n  RoundImplies: \"⥰\",\n  rpar: \")\",\n  rpargt: \"⦔\",\n  rppolint: \"⨒\",\n  rrarr: \"⇉\",\n  Rrightarrow: \"⇛\",\n  rsaquo: \"›\",\n  rscr: \"𝓇\",\n  Rscr: \"ℛ\",\n  rsh: \"↱\",\n  Rsh: \"↱\",\n  rsqb: \"]\",\n  rsquo: \"’\",\n  rsquor: \"’\",\n  rthree: \"⋌\",\n  rtimes: \"⋊\",\n  rtri: \"▹\",\n  rtrie: \"⊵\",\n  rtrif: \"▸\",\n  rtriltri: \"⧎\",\n  RuleDelayed: \"⧴\",\n  ruluhar: \"⥨\",\n  rx: \"℞\",\n  Sacute: \"Ś\",\n  sacute: \"ś\",\n  sbquo: \"‚\",\n  scap: \"⪸\",\n  Scaron: \"Š\",\n  scaron: \"š\",\n  Sc: \"⪼\",\n  sc: \"≻\",\n  sccue: \"≽\",\n  sce: \"⪰\",\n  scE: \"⪴\",\n  Scedil: \"Ş\",\n  scedil: \"ş\",\n  Scirc: \"Ŝ\",\n  scirc: \"ŝ\",\n  scnap: \"⪺\",\n  scnE: \"⪶\",\n  scnsim: \"⋩\",\n  scpolint: \"⨓\",\n  scsim: \"≿\",\n  Scy: \"С\",\n  scy: \"с\",\n  sdotb: \"⊡\",\n  sdot: \"⋅\",\n  sdote: \"⩦\",\n  searhk: \"⤥\",\n  searr: \"↘\",\n  seArr: \"⇘\",\n  searrow: \"↘\",\n  sect: \"§\",\n  semi: \";\",\n  seswar: \"⤩\",\n  setminus: \"∖\",\n  setmn: \"∖\",\n  sext: \"✶\",\n  Sfr: \"𝔖\",\n  sfr: \"𝔰\",\n  sfrown: \"⌢\",\n  sharp: \"♯\",\n  SHCHcy: \"Щ\",\n  shchcy: \"щ\",\n  SHcy: \"Ш\",\n  shcy: \"ш\",\n  ShortDownArrow: \"↓\",\n  ShortLeftArrow: \"←\",\n  shortmid: \"∣\",\n  shortparallel: \"∥\",\n  ShortRightArrow: \"→\",\n  ShortUpArrow: \"↑\",\n  shy: \"­\",\n  Sigma: \"Σ\",\n  sigma: \"σ\",\n  sigmaf: \"ς\",\n  sigmav: \"ς\",\n  sim: \"∼\",\n  simdot: \"⩪\",\n  sime: \"≃\",\n  simeq: \"≃\",\n  simg: \"⪞\",\n  simgE: \"⪠\",\n  siml: \"⪝\",\n  simlE: \"⪟\",\n  simne: \"≆\",\n  simplus: \"⨤\",\n  simrarr: \"⥲\",\n  slarr: \"←\",\n  SmallCircle: \"∘\",\n  smallsetminus: \"∖\",\n  smashp: \"⨳\",\n  smeparsl: \"⧤\",\n  smid: \"∣\",\n  smile: \"⌣\",\n  smt: \"⪪\",\n  smte: \"⪬\",\n  smtes: \"⪬︀\",\n  SOFTcy: \"Ь\",\n  softcy: \"ь\",\n  solbar: \"⌿\",\n  solb: \"⧄\",\n  sol: \"/\",\n  Sopf: \"𝕊\",\n  sopf: \"𝕤\",\n  spades: \"♠\",\n  spadesuit: \"♠\",\n  spar: \"∥\",\n  sqcap: \"⊓\",\n  sqcaps: \"⊓︀\",\n  sqcup: \"⊔\",\n  sqcups: \"⊔︀\",\n  Sqrt: \"√\",\n  sqsub: \"⊏\",\n  sqsube: \"⊑\",\n  sqsubset: \"⊏\",\n  sqsubseteq: \"⊑\",\n  sqsup: \"⊐\",\n  sqsupe: \"⊒\",\n  sqsupset: \"⊐\",\n  sqsupseteq: \"⊒\",\n  square: \"□\",\n  Square: \"□\",\n  SquareIntersection: \"⊓\",\n  SquareSubset: \"⊏\",\n  SquareSubsetEqual: \"⊑\",\n  SquareSuperset: \"⊐\",\n  SquareSupersetEqual: \"⊒\",\n  SquareUnion: \"⊔\",\n  squarf: \"▪\",\n  squ: \"□\",\n  squf: \"▪\",\n  srarr: \"→\",\n  Sscr: \"𝒮\",\n  sscr: \"𝓈\",\n  ssetmn: \"∖\",\n  ssmile: \"⌣\",\n  sstarf: \"⋆\",\n  Star: \"⋆\",\n  star: \"☆\",\n  starf: \"★\",\n  straightepsilon: \"ϵ\",\n  straightphi: \"ϕ\",\n  strns: \"¯\",\n  sub: \"⊂\",\n  Sub: \"⋐\",\n  subdot: \"⪽\",\n  subE: \"⫅\",\n  sube: \"⊆\",\n  subedot: \"⫃\",\n  submult: \"⫁\",\n  subnE: \"⫋\",\n  subne: \"⊊\",\n  subplus: \"⪿\",\n  subrarr: \"⥹\",\n  subset: \"⊂\",\n  Subset: \"⋐\",\n  subseteq: \"⊆\",\n  subseteqq: \"⫅\",\n  SubsetEqual: \"⊆\",\n  subsetneq: \"⊊\",\n  subsetneqq: \"⫋\",\n  subsim: \"⫇\",\n  subsub: \"⫕\",\n  subsup: \"⫓\",\n  succapprox: \"⪸\",\n  succ: \"≻\",\n  succcurlyeq: \"≽\",\n  Succeeds: \"≻\",\n  SucceedsEqual: \"⪰\",\n  SucceedsSlantEqual: \"≽\",\n  SucceedsTilde: \"≿\",\n  succeq: \"⪰\",\n  succnapprox: \"⪺\",\n  succneqq: \"⪶\",\n  succnsim: \"⋩\",\n  succsim: \"≿\",\n  SuchThat: \"∋\",\n  sum: \"∑\",\n  Sum: \"∑\",\n  sung: \"♪\",\n  sup1: \"¹\",\n  sup2: \"²\",\n  sup3: \"³\",\n  sup: \"⊃\",\n  Sup: \"⋑\",\n  supdot: \"⪾\",\n  supdsub: \"⫘\",\n  supE: \"⫆\",\n  supe: \"⊇\",\n  supedot: \"⫄\",\n  Superset: \"⊃\",\n  SupersetEqual: \"⊇\",\n  suphsol: \"⟉\",\n  suphsub: \"⫗\",\n  suplarr: \"⥻\",\n  supmult: \"⫂\",\n  supnE: \"⫌\",\n  supne: \"⊋\",\n  supplus: \"⫀\",\n  supset: \"⊃\",\n  Supset: \"⋑\",\n  supseteq: \"⊇\",\n  supseteqq: \"⫆\",\n  supsetneq: \"⊋\",\n  supsetneqq: \"⫌\",\n  supsim: \"⫈\",\n  supsub: \"⫔\",\n  supsup: \"⫖\",\n  swarhk: \"⤦\",\n  swarr: \"↙\",\n  swArr: \"⇙\",\n  swarrow: \"↙\",\n  swnwar: \"⤪\",\n  szlig: \"ß\",\n  Tab: \"\\t\",\n  target: \"⌖\",\n  Tau: \"Τ\",\n  tau: \"τ\",\n  tbrk: \"⎴\",\n  Tcaron: \"Ť\",\n  tcaron: \"ť\",\n  Tcedil: \"Ţ\",\n  tcedil: \"ţ\",\n  Tcy: \"Т\",\n  tcy: \"т\",\n  tdot: \"⃛\",\n  telrec: \"⌕\",\n  Tfr: \"𝔗\",\n  tfr: \"𝔱\",\n  there4: \"∴\",\n  therefore: \"∴\",\n  Therefore: \"∴\",\n  Theta: \"Θ\",\n  theta: \"θ\",\n  thetasym: \"ϑ\",\n  thetav: \"ϑ\",\n  thickapprox: \"≈\",\n  thicksim: \"∼\",\n  ThickSpace: \"  \",\n  ThinSpace: \" \",\n  thinsp: \" \",\n  thkap: \"≈\",\n  thksim: \"∼\",\n  THORN: \"Þ\",\n  thorn: \"þ\",\n  tilde: \"˜\",\n  Tilde: \"∼\",\n  TildeEqual: \"≃\",\n  TildeFullEqual: \"≅\",\n  TildeTilde: \"≈\",\n  timesbar: \"⨱\",\n  timesb: \"⊠\",\n  times: \"×\",\n  timesd: \"⨰\",\n  tint: \"∭\",\n  toea: \"⤨\",\n  topbot: \"⌶\",\n  topcir: \"⫱\",\n  top: \"⊤\",\n  Topf: \"𝕋\",\n  topf: \"𝕥\",\n  topfork: \"⫚\",\n  tosa: \"⤩\",\n  tprime: \"‴\",\n  trade: \"™\",\n  TRADE: \"™\",\n  triangle: \"▵\",\n  triangledown: \"▿\",\n  triangleleft: \"◃\",\n  trianglelefteq: \"⊴\",\n  triangleq: \"≜\",\n  triangleright: \"▹\",\n  trianglerighteq: \"⊵\",\n  tridot: \"◬\",\n  trie: \"≜\",\n  triminus: \"⨺\",\n  TripleDot: \"⃛\",\n  triplus: \"⨹\",\n  trisb: \"⧍\",\n  tritime: \"⨻\",\n  trpezium: \"⏢\",\n  Tscr: \"𝒯\",\n  tscr: \"𝓉\",\n  TScy: \"Ц\",\n  tscy: \"ц\",\n  TSHcy: \"Ћ\",\n  tshcy: \"ћ\",\n  Tstrok: \"Ŧ\",\n  tstrok: \"ŧ\",\n  twixt: \"≬\",\n  twoheadleftarrow: \"↞\",\n  twoheadrightarrow: \"↠\",\n  Uacute: \"Ú\",\n  uacute: \"ú\",\n  uarr: \"↑\",\n  Uarr: \"↟\",\n  uArr: \"⇑\",\n  Uarrocir: \"⥉\",\n  Ubrcy: \"Ў\",\n  ubrcy: \"ў\",\n  Ubreve: \"Ŭ\",\n  ubreve: \"ŭ\",\n  Ucirc: \"Û\",\n  ucirc: \"û\",\n  Ucy: \"У\",\n  ucy: \"у\",\n  udarr: \"⇅\",\n  Udblac: \"Ű\",\n  udblac: \"ű\",\n  udhar: \"⥮\",\n  ufisht: \"⥾\",\n  Ufr: \"𝔘\",\n  ufr: \"𝔲\",\n  Ugrave: \"Ù\",\n  ugrave: \"ù\",\n  uHar: \"⥣\",\n  uharl: \"↿\",\n  uharr: \"↾\",\n  uhblk: \"▀\",\n  ulcorn: \"⌜\",\n  ulcorner: \"⌜\",\n  ulcrop: \"⌏\",\n  ultri: \"◸\",\n  Umacr: \"Ū\",\n  umacr: \"ū\",\n  uml: \"¨\",\n  UnderBar: \"_\",\n  UnderBrace: \"⏟\",\n  UnderBracket: \"⎵\",\n  UnderParenthesis: \"⏝\",\n  Union: \"⋃\",\n  UnionPlus: \"⊎\",\n  Uogon: \"Ų\",\n  uogon: \"ų\",\n  Uopf: \"𝕌\",\n  uopf: \"𝕦\",\n  UpArrowBar: \"⤒\",\n  uparrow: \"↑\",\n  UpArrow: \"↑\",\n  Uparrow: \"⇑\",\n  UpArrowDownArrow: \"⇅\",\n  updownarrow: \"↕\",\n  UpDownArrow: \"↕\",\n  Updownarrow: \"⇕\",\n  UpEquilibrium: \"⥮\",\n  upharpoonleft: \"↿\",\n  upharpoonright: \"↾\",\n  uplus: \"⊎\",\n  UpperLeftArrow: \"↖\",\n  UpperRightArrow: \"↗\",\n  upsi: \"υ\",\n  Upsi: \"ϒ\",\n  upsih: \"ϒ\",\n  Upsilon: \"Υ\",\n  upsilon: \"υ\",\n  UpTeeArrow: \"↥\",\n  UpTee: \"⊥\",\n  upuparrows: \"⇈\",\n  urcorn: \"⌝\",\n  urcorner: \"⌝\",\n  urcrop: \"⌎\",\n  Uring: \"Ů\",\n  uring: \"ů\",\n  urtri: \"◹\",\n  Uscr: \"𝒰\",\n  uscr: \"𝓊\",\n  utdot: \"⋰\",\n  Utilde: \"Ũ\",\n  utilde: \"ũ\",\n  utri: \"▵\",\n  utrif: \"▴\",\n  uuarr: \"⇈\",\n  Uuml: \"Ü\",\n  uuml: \"ü\",\n  uwangle: \"⦧\",\n  vangrt: \"⦜\",\n  varepsilon: \"ϵ\",\n  varkappa: \"ϰ\",\n  varnothing: \"∅\",\n  varphi: \"ϕ\",\n  varpi: \"ϖ\",\n  varpropto: \"∝\",\n  varr: \"↕\",\n  vArr: \"⇕\",\n  varrho: \"ϱ\",\n  varsigma: \"ς\",\n  varsubsetneq: \"⊊︀\",\n  varsubsetneqq: \"⫋︀\",\n  varsupsetneq: \"⊋︀\",\n  varsupsetneqq: \"⫌︀\",\n  vartheta: \"ϑ\",\n  vartriangleleft: \"⊲\",\n  vartriangleright: \"⊳\",\n  vBar: \"⫨\",\n  Vbar: \"⫫\",\n  vBarv: \"⫩\",\n  Vcy: \"В\",\n  vcy: \"в\",\n  vdash: \"⊢\",\n  vDash: \"⊨\",\n  Vdash: \"⊩\",\n  VDash: \"⊫\",\n  Vdashl: \"⫦\",\n  veebar: \"⊻\",\n  vee: \"∨\",\n  Vee: \"⋁\",\n  veeeq: \"≚\",\n  vellip: \"⋮\",\n  verbar: \"|\",\n  Verbar: \"‖\",\n  vert: \"|\",\n  Vert: \"‖\",\n  VerticalBar: \"∣\",\n  VerticalLine: \"|\",\n  VerticalSeparator: \"❘\",\n  VerticalTilde: \"≀\",\n  VeryThinSpace: \" \",\n  Vfr: \"𝔙\",\n  vfr: \"𝔳\",\n  vltri: \"⊲\",\n  vnsub: \"⊂⃒\",\n  vnsup: \"⊃⃒\",\n  Vopf: \"𝕍\",\n  vopf: \"𝕧\",\n  vprop: \"∝\",\n  vrtri: \"⊳\",\n  Vscr: \"𝒱\",\n  vscr: \"𝓋\",\n  vsubnE: \"⫋︀\",\n  vsubne: \"⊊︀\",\n  vsupnE: \"⫌︀\",\n  vsupne: \"⊋︀\",\n  Vvdash: \"⊪\",\n  vzigzag: \"⦚\",\n  Wcirc: \"Ŵ\",\n  wcirc: \"ŵ\",\n  wedbar: \"⩟\",\n  wedge: \"∧\",\n  Wedge: \"⋀\",\n  wedgeq: \"≙\",\n  weierp: \"℘\",\n  Wfr: \"𝔚\",\n  wfr: \"𝔴\",\n  Wopf: \"𝕎\",\n  wopf: \"𝕨\",\n  wp: \"℘\",\n  wr: \"≀\",\n  wreath: \"≀\",\n  Wscr: \"𝒲\",\n  wscr: \"𝓌\",\n  xcap: \"⋂\",\n  xcirc: \"◯\",\n  xcup: \"⋃\",\n  xdtri: \"▽\",\n  Xfr: \"𝔛\",\n  xfr: \"𝔵\",\n  xharr: \"⟷\",\n  xhArr: \"⟺\",\n  Xi: \"Ξ\",\n  xi: \"ξ\",\n  xlarr: \"⟵\",\n  xlArr: \"⟸\",\n  xmap: \"⟼\",\n  xnis: \"⋻\",\n  xodot: \"⨀\",\n  Xopf: \"𝕏\",\n  xopf: \"𝕩\",\n  xoplus: \"⨁\",\n  xotime: \"⨂\",\n  xrarr: \"⟶\",\n  xrArr: \"⟹\",\n  Xscr: \"𝒳\",\n  xscr: \"𝓍\",\n  xsqcup: \"⨆\",\n  xuplus: \"⨄\",\n  xutri: \"△\",\n  xvee: \"⋁\",\n  xwedge: \"⋀\",\n  Yacute: \"Ý\",\n  yacute: \"ý\",\n  YAcy: \"Я\",\n  yacy: \"я\",\n  Ycirc: \"Ŷ\",\n  ycirc: \"ŷ\",\n  Ycy: \"Ы\",\n  ycy: \"ы\",\n  yen: \"¥\",\n  Yfr: \"𝔜\",\n  yfr: \"𝔶\",\n  YIcy: \"Ї\",\n  yicy: \"ї\",\n  Yopf: \"𝕐\",\n  yopf: \"𝕪\",\n  Yscr: \"𝒴\",\n  yscr: \"𝓎\",\n  YUcy: \"Ю\",\n  yucy: \"ю\",\n  yuml: \"ÿ\",\n  Yuml: \"Ÿ\",\n  Zacute: \"Ź\",\n  zacute: \"ź\",\n  Zcaron: \"Ž\",\n  zcaron: \"ž\",\n  Zcy: \"З\",\n  zcy: \"з\",\n  Zdot: \"Ż\",\n  zdot: \"ż\",\n  zeetrf: \"ℨ\",\n  ZeroWidthSpace: \"​\",\n  Zeta: \"Ζ\",\n  zeta: \"ζ\",\n  zfr: \"𝔷\",\n  Zfr: \"ℨ\",\n  ZHcy: \"Ж\",\n  zhcy: \"ж\",\n  zigrarr: \"⇝\",\n  zopf: \"𝕫\",\n  Zopf: \"ℤ\",\n  Zscr: \"𝒵\",\n  zscr: \"𝓏\",\n  zwj: \"‍\",\n  zwnj: \"‌\"\n};\nvar entities$1 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  'default': entities\n});\nvar legacy = {\n  Aacute: \"Á\",\n  aacute: \"á\",\n  Acirc: \"Â\",\n  acirc: \"â\",\n  acute: \"´\",\n  AElig: \"Æ\",\n  aelig: \"æ\",\n  Agrave: \"À\",\n  agrave: \"à\",\n  amp: \"&\",\n  AMP: \"&\",\n  Aring: \"Å\",\n  aring: \"å\",\n  Atilde: \"Ã\",\n  atilde: \"ã\",\n  Auml: \"Ä\",\n  auml: \"ä\",\n  brvbar: \"¦\",\n  Ccedil: \"Ç\",\n  ccedil: \"ç\",\n  cedil: \"¸\",\n  cent: \"¢\",\n  copy: \"©\",\n  COPY: \"©\",\n  curren: \"¤\",\n  deg: \"°\",\n  divide: \"÷\",\n  Eacute: \"É\",\n  eacute: \"é\",\n  Ecirc: \"Ê\",\n  ecirc: \"ê\",\n  Egrave: \"È\",\n  egrave: \"è\",\n  ETH: \"Ð\",\n  eth: \"ð\",\n  Euml: \"Ë\",\n  euml: \"ë\",\n  frac12: \"½\",\n  frac14: \"¼\",\n  frac34: \"¾\",\n  gt: \">\",\n  GT: \">\",\n  Iacute: \"Í\",\n  iacute: \"í\",\n  Icirc: \"Î\",\n  icirc: \"î\",\n  iexcl: \"¡\",\n  Igrave: \"Ì\",\n  igrave: \"ì\",\n  iquest: \"¿\",\n  Iuml: \"Ï\",\n  iuml: \"ï\",\n  laquo: \"«\",\n  lt: \"<\",\n  LT: \"<\",\n  macr: \"¯\",\n  micro: \"µ\",\n  middot: \"·\",\n  nbsp: \" \",\n  not: \"¬\",\n  Ntilde: \"Ñ\",\n  ntilde: \"ñ\",\n  Oacute: \"Ó\",\n  oacute: \"ó\",\n  Ocirc: \"Ô\",\n  ocirc: \"ô\",\n  Ograve: \"Ò\",\n  ograve: \"ò\",\n  ordf: \"ª\",\n  ordm: \"º\",\n  Oslash: \"Ø\",\n  oslash: \"ø\",\n  Otilde: \"Õ\",\n  otilde: \"õ\",\n  Ouml: \"Ö\",\n  ouml: \"ö\",\n  para: \"¶\",\n  plusmn: \"±\",\n  pound: \"£\",\n  quot: \"\\\"\",\n  QUOT: \"\\\"\",\n  raquo: \"»\",\n  reg: \"®\",\n  REG: \"®\",\n  sect: \"§\",\n  shy: \"­\",\n  sup1: \"¹\",\n  sup2: \"²\",\n  sup3: \"³\",\n  szlig: \"ß\",\n  THORN: \"Þ\",\n  thorn: \"þ\",\n  times: \"×\",\n  Uacute: \"Ú\",\n  uacute: \"ú\",\n  Ucirc: \"Û\",\n  ucirc: \"û\",\n  Ugrave: \"Ù\",\n  ugrave: \"ù\",\n  uml: \"¨\",\n  Uuml: \"Ü\",\n  uuml: \"ü\",\n  Yacute: \"Ý\",\n  yacute: \"ý\",\n  yen: \"¥\",\n  yuml: \"ÿ\"\n};\nvar legacy$1 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  'default': legacy\n});\nvar xml = {\n  amp: \"&\",\n  apos: \"'\",\n  gt: \">\",\n  lt: \"<\",\n  quot: \"\\\"\"\n};\nvar xml$1 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  'default': xml\n});\nvar decode = {\n  \"0\": 65533,\n  \"128\": 8364,\n  \"130\": 8218,\n  \"131\": 402,\n  \"132\": 8222,\n  \"133\": 8230,\n  \"134\": 8224,\n  \"135\": 8225,\n  \"136\": 710,\n  \"137\": 8240,\n  \"138\": 352,\n  \"139\": 8249,\n  \"140\": 338,\n  \"142\": 381,\n  \"145\": 8216,\n  \"146\": 8217,\n  \"147\": 8220,\n  \"148\": 8221,\n  \"149\": 8226,\n  \"150\": 8211,\n  \"151\": 8212,\n  \"152\": 732,\n  \"153\": 8482,\n  \"154\": 353,\n  \"155\": 8250,\n  \"156\": 339,\n  \"158\": 382,\n  \"159\": 376\n};\nvar decode$1 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  'default': decode\n});\nvar require$$0 = getCjsExportFromNamespace(decode$1);\nvar decode_codepoint = createCommonjsModule(function (module, exports) {\n  var __importDefault = commonjsGlobal && commonjsGlobal.__importDefault || function (mod) {\n    return mod && mod.__esModule ? mod : {\n      \"default\": mod\n    };\n  };\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var decode_json_1 = __importDefault(require$$0); // Modified version of https://github.com/mathiasbynens/he/blob/master/src/he.js#L94-L119\n\n\n  function decodeCodePoint(codePoint) {\n    if (codePoint >= 0xd800 && codePoint <= 0xdfff || codePoint > 0x10ffff) {\n      return \"\\uFFFD\";\n    }\n\n    if (codePoint in decode_json_1.default) {\n      codePoint = decode_json_1.default[codePoint];\n    }\n\n    var output = \"\";\n\n    if (codePoint > 0xffff) {\n      codePoint -= 0x10000;\n      output += String.fromCharCode(codePoint >>> 10 & 0x3ff | 0xd800);\n      codePoint = 0xdc00 | codePoint & 0x3ff;\n    }\n\n    output += String.fromCharCode(codePoint);\n    return output;\n  }\n\n  exports.default = decodeCodePoint;\n});\nunwrapExports(decode_codepoint);\nvar require$$1 = getCjsExportFromNamespace(entities$1);\nvar require$$2 = getCjsExportFromNamespace(legacy$1);\nvar require$$3 = getCjsExportFromNamespace(xml$1);\nvar decode$2 = createCommonjsModule(function (module, exports) {\n  var __importDefault = commonjsGlobal && commonjsGlobal.__importDefault || function (mod) {\n    return mod && mod.__esModule ? mod : {\n      \"default\": mod\n    };\n  };\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.decodeHTML = exports.decodeHTMLStrict = exports.decodeXML = void 0;\n\n  var entities_json_1 = __importDefault(require$$1);\n\n  var legacy_json_1 = __importDefault(require$$2);\n\n  var xml_json_1 = __importDefault(require$$3);\n\n  var decode_codepoint_1 = __importDefault(decode_codepoint);\n\n  exports.decodeXML = getStrictDecoder(xml_json_1.default);\n  exports.decodeHTMLStrict = getStrictDecoder(entities_json_1.default);\n\n  function getStrictDecoder(map) {\n    var keys = Object.keys(map).join(\"|\");\n    var replace = getReplacer(map);\n    keys += \"|#[xX][\\\\da-fA-F]+|#\\\\d+\";\n    var re = new RegExp(\"&(?:\" + keys + \");\", \"g\");\n    return function (str) {\n      return String(str).replace(re, replace);\n    };\n  }\n\n  var sorter = function sorter(a, b) {\n    return a < b ? 1 : -1;\n  };\n\n  exports.decodeHTML = function () {\n    var legacy = Object.keys(legacy_json_1.default).sort(sorter);\n    var keys = Object.keys(entities_json_1.default).sort(sorter);\n\n    for (var i = 0, j = 0; i < keys.length; i++) {\n      if (legacy[j] === keys[i]) {\n        keys[i] += \";?\";\n        j++;\n      } else {\n        keys[i] += \";\";\n      }\n    }\n\n    var re = new RegExp(\"&(?:\" + keys.join(\"|\") + \"|#[xX][\\\\da-fA-F]+;?|#\\\\d+;?)\", \"g\");\n    var replace = getReplacer(entities_json_1.default);\n\n    function replacer(str) {\n      if (str.substr(-1) !== \";\") str += \";\";\n      return replace(str);\n    } // TODO consider creating a merged map\n\n\n    return function (str) {\n      return String(str).replace(re, replacer);\n    };\n  }();\n\n  function getReplacer(map) {\n    return function replace(str) {\n      if (str.charAt(1) === \"#\") {\n        var secondChar = str.charAt(2);\n\n        if (secondChar === \"X\" || secondChar === \"x\") {\n          return decode_codepoint_1.default(parseInt(str.substr(3), 16));\n        }\n\n        return decode_codepoint_1.default(parseInt(str.substr(2), 10));\n      }\n\n      return map[str.slice(1, -1)];\n    };\n  }\n});\nunwrapExports(decode$2);\nvar decode_1 = decode$2.decodeHTML;\nvar decode_2 = decode$2.decodeHTMLStrict;\nvar decode_3 = decode$2.decodeXML;\nvar encode = createCommonjsModule(function (module, exports) {\n  var __importDefault = commonjsGlobal && commonjsGlobal.__importDefault || function (mod) {\n    return mod && mod.__esModule ? mod : {\n      \"default\": mod\n    };\n  };\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.escape = exports.encodeHTML = exports.encodeXML = void 0;\n\n  var xml_json_1 = __importDefault(require$$3);\n\n  var inverseXML = getInverseObj(xml_json_1.default);\n  var xmlReplacer = getInverseReplacer(inverseXML);\n  exports.encodeXML = getInverse(inverseXML, xmlReplacer);\n\n  var entities_json_1 = __importDefault(require$$1);\n\n  var inverseHTML = getInverseObj(entities_json_1.default);\n  var htmlReplacer = getInverseReplacer(inverseHTML);\n  exports.encodeHTML = getInverse(inverseHTML, htmlReplacer);\n\n  function getInverseObj(obj) {\n    return Object.keys(obj).sort().reduce(function (inverse, name) {\n      inverse[obj[name]] = \"&\" + name + \";\";\n      return inverse;\n    }, {});\n  }\n\n  function getInverseReplacer(inverse) {\n    var single = [];\n    var multiple = [];\n\n    for (var _i = 0, _a = Object.keys(inverse); _i < _a.length; _i++) {\n      var k = _a[_i];\n\n      if (k.length === 1) {\n        // Add value to single array\n        single.push(\"\\\\\" + k);\n      } else {\n        // Add value to multiple array\n        multiple.push(k);\n      }\n    } // Add ranges to single characters.\n\n\n    single.sort();\n\n    for (var start = 0; start < single.length - 1; start++) {\n      // Find the end of a run of characters\n      var end = start;\n\n      while (end < single.length - 1 && single[end].charCodeAt(1) + 1 === single[end + 1].charCodeAt(1)) {\n        end += 1;\n      }\n\n      var count = 1 + end - start; // We want to replace at least three characters\n\n      if (count < 3) continue;\n      single.splice(start, count, single[start] + \"-\" + single[end]);\n    }\n\n    multiple.unshift(\"[\" + single.join(\"\") + \"]\");\n    return new RegExp(multiple.join(\"|\"), \"g\");\n  }\n\n  var reNonASCII = /(?:[\\x80-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])/g;\n\n  function singleCharReplacer(c) {\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    return \"&#x\" + c.codePointAt(0).toString(16).toUpperCase() + \";\";\n  }\n\n  function getInverse(inverse, re) {\n    return function (data) {\n      return data.replace(re, function (name) {\n        return inverse[name];\n      }).replace(reNonASCII, singleCharReplacer);\n    };\n  }\n\n  var reXmlChars = getInverseReplacer(inverseXML);\n\n  function escape(data) {\n    return data.replace(reXmlChars, singleCharReplacer).replace(reNonASCII, singleCharReplacer);\n  }\n\n  exports.escape = escape;\n});\nunwrapExports(encode);\nvar encode_1 = encode.escape;\nvar encode_2 = encode.encodeHTML;\nvar encode_3 = encode.encodeXML;\nvar lib = createCommonjsModule(function (module, exports) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.decodeXMLStrict = exports.decodeHTML5Strict = exports.decodeHTML4Strict = exports.decodeHTML5 = exports.decodeHTML4 = exports.decodeHTMLStrict = exports.decodeHTML = exports.decodeXML = exports.encodeHTML5 = exports.encodeHTML4 = exports.escape = exports.encodeHTML = exports.encodeXML = exports.encode = exports.decodeStrict = exports.decode = void 0;\n  /**\n   * Decodes a string with entities.\n   *\n   * @param data String to decode.\n   * @param level Optional level to decode at. 0 = XML, 1 = HTML. Default is 0.\n   */\n\n  function decode(data, level) {\n    return (!level || level <= 0 ? decode$2.decodeXML : decode$2.decodeHTML)(data);\n  }\n\n  exports.decode = decode;\n  /**\n   * Decodes a string with entities. Does not allow missing trailing semicolons for entities.\n   *\n   * @param data String to decode.\n   * @param level Optional level to decode at. 0 = XML, 1 = HTML. Default is 0.\n   */\n\n  function decodeStrict(data, level) {\n    return (!level || level <= 0 ? decode$2.decodeXML : decode$2.decodeHTMLStrict)(data);\n  }\n\n  exports.decodeStrict = decodeStrict;\n  /**\n   * Encodes a string with entities.\n   *\n   * @param data String to encode.\n   * @param level Optional level to encode at. 0 = XML, 1 = HTML. Default is 0.\n   */\n\n  function encode$1(data, level) {\n    return (!level || level <= 0 ? encode.encodeXML : encode.encodeHTML)(data);\n  }\n\n  exports.encode = encode$1;\n  var encode_2 = encode;\n  Object.defineProperty(exports, \"encodeXML\", {\n    enumerable: true,\n    get: function get() {\n      return encode_2.encodeXML;\n    }\n  });\n  Object.defineProperty(exports, \"encodeHTML\", {\n    enumerable: true,\n    get: function get() {\n      return encode_2.encodeHTML;\n    }\n  });\n  Object.defineProperty(exports, \"escape\", {\n    enumerable: true,\n    get: function get() {\n      return encode_2.escape;\n    }\n  }); // Legacy aliases\n\n  Object.defineProperty(exports, \"encodeHTML4\", {\n    enumerable: true,\n    get: function get() {\n      return encode_2.encodeHTML;\n    }\n  });\n  Object.defineProperty(exports, \"encodeHTML5\", {\n    enumerable: true,\n    get: function get() {\n      return encode_2.encodeHTML;\n    }\n  });\n  var decode_2 = decode$2;\n  Object.defineProperty(exports, \"decodeXML\", {\n    enumerable: true,\n    get: function get() {\n      return decode_2.decodeXML;\n    }\n  });\n  Object.defineProperty(exports, \"decodeHTML\", {\n    enumerable: true,\n    get: function get() {\n      return decode_2.decodeHTML;\n    }\n  });\n  Object.defineProperty(exports, \"decodeHTMLStrict\", {\n    enumerable: true,\n    get: function get() {\n      return decode_2.decodeHTMLStrict;\n    }\n  }); // Legacy aliases\n\n  Object.defineProperty(exports, \"decodeHTML4\", {\n    enumerable: true,\n    get: function get() {\n      return decode_2.decodeHTML;\n    }\n  });\n  Object.defineProperty(exports, \"decodeHTML5\", {\n    enumerable: true,\n    get: function get() {\n      return decode_2.decodeHTML;\n    }\n  });\n  Object.defineProperty(exports, \"decodeHTML4Strict\", {\n    enumerable: true,\n    get: function get() {\n      return decode_2.decodeHTMLStrict;\n    }\n  });\n  Object.defineProperty(exports, \"decodeHTML5Strict\", {\n    enumerable: true,\n    get: function get() {\n      return decode_2.decodeHTMLStrict;\n    }\n  });\n  Object.defineProperty(exports, \"decodeXMLStrict\", {\n    enumerable: true,\n    get: function get() {\n      return decode_2.decodeXML;\n    }\n  });\n});\nunwrapExports(lib);\nvar lib_1 = lib.decodeXMLStrict;\nvar lib_2 = lib.decodeHTML5Strict;\nvar lib_3 = lib.decodeHTML4Strict;\nvar lib_4 = lib.decodeHTML5;\nvar lib_5 = lib.decodeHTML4;\nvar lib_6 = lib.decodeHTMLStrict;\nvar lib_7 = lib.decodeHTML;\nvar lib_8 = lib.decodeXML;\nvar lib_9 = lib.encodeHTML5;\nvar lib_10 = lib.encodeHTML4;\nvar lib_11 = lib.escape;\nvar lib_12 = lib.encodeHTML;\nvar lib_13 = lib.encodeXML;\nvar lib_14 = lib.encode;\nvar lib_15 = lib.decodeStrict;\nvar lib_16 = lib.decode;\n\nfunction clearNodeChildren(node) {\n  while (node.firstChild) {\n    node.removeChild(node.firstChild);\n  }\n}\n/**\n * This method is like `_.uniq` except that it accepts `comparator` which\n * is invoked to compare elements of `array`. The order of result values is\n * determined by the order they occur in the array.The comparator is invoked\n * with two arguments: (arrVal, othVal).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 2 }];\n *\n * _.uniqWith(objects, _.isEqual);\n * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }]\n */\n\n\nfunction uniqWith(array, comparator) {\n  comparator = typeof comparator == 'function' ? comparator : undefined;\n  return array && array.length ? _baseUniq(array, undefined, comparator) : [];\n}\n\nvar uniqWith_1 = uniqWith;\n/**\r\n * Find the offsets within the children of the given node\r\n * @param parentNode DOM node containing children with attributes `data-child-begin` and `data-child-end`\r\n * @param begin the start offset to search for\r\n * @param end end offset\r\n * @param _getTextNodeAndOffset function for retrieving text node and offset\r\n * @return begin/end text nodes and offsets within those nodes; for use with DOM `Range`\r\n */\n\nfunction findOffsetInDOM(parentNode, begin, end) {\n  var allNodes = Array.from(parentNode.querySelectorAll('[data-child-begin]'));\n  var beginNode,\n      endNode,\n      idx = 0;\n\n  do {\n    beginNode = allNodes[idx];\n  } while (++idx && idx < allNodes.length && begin >= parseInt(allNodes[idx].dataset.childBegin || '0', 10));\n\n  idx--; // reset to index of `beginNode`\n\n  do {\n    endNode = allNodes[idx];\n  } while (++idx && idx < allNodes.length && end > parseInt(allNodes[idx].dataset.childBegin, 10));\n\n  var _a = getTextNodeAndOffset(beginNode, begin),\n      beginTextNode = _a.textNode,\n      beginOffset = _a.textOffset;\n\n  var _b = getTextNodeAndOffset(endNode, end),\n      endTextNode = _b.textNode,\n      endOffset = _b.textOffset;\n\n  return {\n    beginTextNode: beginTextNode,\n    beginOffset: beginOffset,\n    endTextNode: endTextNode,\n    endOffset: endOffset\n  };\n}\n/**\r\n * Find the appropriate DOM TextNode and offset within to match the given\r\n * string offset\r\n * @param {HTMLElement} node\r\n * @param {number} strOffset - offset into HTML string\r\n * @return TextNode and DOM offset matching the given string offset\r\n */\n\n\nfunction getTextNodeAndOffset(node, strOffset) {\n  var nodeElement = node; // beginOffset - offset into HTML string for beginning of this node's content\n\n  var beginStrOffset = parseInt(nodeElement.dataset.childBegin || '0', 10); // domOffset - offset within DOM node\n\n  var domOffset = Math.max(0, strOffset - beginStrOffset); // If attribute 'data-orig-text' is present then the string contains some\n  // encoded entities so, we need adjust the `domOffset`\n\n  var originalText = nodeElement.dataset.origText;\n\n  if (originalText) {\n    // To properly calculate the offset of the string we want to highlight\n    // we need to get the offset from the decoded html text and subtract\n    // it from the original encoded html offset. we doing this because the\n    // offsets are based on the original html string which may contain\n    // html entities (eg. `&quot;`), however those entities get rendered in\n    // the dom which throws off the offsets values, for example `&quot;`\n    // becomes `\"`, going from 6 characters to 1.\n    var encodedTextSubstring = originalText.substring(0, domOffset);\n    var decodedText = lib_7(encodedTextSubstring);\n    var adjustment = domOffset - decodedText.length;\n    domOffset = Math.max(0, domOffset - adjustment);\n  } // In certain cases (i.e. text length > 65536 chars), the DOM will break\n  // up text into multiple TextNodes. Loop through TextNodes, finding which\n  // contains the `domOffset`\n\n\n  var iterator = document.createNodeIterator(node, NodeFilter.SHOW_TEXT);\n  var textNode, len;\n\n  do {\n    textNode = iterator.nextNode();\n  } while (textNode && (len = textNode.data.length) && domOffset > len && (domOffset -= len));\n\n  if (textNode === null) {\n    throw new Error(\"Failed to find text node. Node: \" + node.textContent + \", offset: \" + strOffset);\n  }\n\n  return {\n    textNode: textNode,\n    textOffset: domOffset\n  };\n}\n/**\r\n * Create \"field\" rects in the DOM, starting/ending with values of beginTextNode/beginOffset\r\n * & endTextNode/endOffset.\r\n * @param args.fragment DocumentFragment or Node in which to create field rects\r\n * @param args.parentRect dimensions of parent of field rects\r\n * @param args.fieldType type string for field rects\r\n * @param args.fieldId id string for field rects\r\n * @param args.beginTextNode\r\n * @param args.beginOffset\r\n * @param args.endTextNode\r\n * @param args.endOffset\r\n */\n\n\nfunction createFieldRects(_a) {\n  var fragment = _a.fragment,\n      parentRect = _a.parentRect,\n      fieldType = _a.fieldType,\n      fieldId = _a.fieldId,\n      beginTextNode = _a.beginTextNode,\n      beginOffset = _a.beginOffset,\n      endTextNode = _a.endTextNode,\n      endOffset = _a.endOffset; // create a Range for each field\n\n  var range = document.createRange();\n  range.setStart(beginTextNode, Math.min(beginOffset, beginTextNode.length));\n  range.setEnd(endTextNode, Math.min(endOffset, endTextNode.length)); // create a field container\n\n  var fieldNode = document.createElement('div');\n  fieldNode.className = 'field';\n  fieldNode.dataset.fieldType = fieldType;\n  fieldNode.dataset.fieldId = fieldId;\n  fieldNode.setAttribute('data-testid', \"field-\" + fieldId);\n  fragment.appendChild(fieldNode); // create highlight rect(s) inside of a field\n\n  Array.prototype.forEach.call(uniqRects(range.getClientRects()), function (rect) {\n    var div = document.createElement('div');\n    div.className = 'field--rect';\n    div.setAttribute('data-testid', 'field-rect');\n    div.setAttribute('style', \"top: \" + (rect.top - parentRect.top) + \"px;\\n          left: \" + (rect.left - parentRect.left) + \"px;\\n          width: \" + rect.width + \"px;\\n          height: \" + rect.height + \"px;\");\n    fieldNode.appendChild(div);\n  });\n} // Some browsers (Chrome, Safari) return duplicate rects\n\n\nfunction uniqRects(rects) {\n  return uniqWith_1(rects, function (rectA, rectB) {\n    return rectA.bottom === rectB.bottom && rectA.height === rectB.height && rectA.left === rectB.left && rectA.right === rectB.right && rectA.top === rectB.top && rectA.width === rectB.width && rectA.x === rectB.x && rectA.y === rectB.y;\n  });\n}\n\nfunction spansIntersect(_a, _b) {\n  var beginA = _a.begin,\n      endA = _a.end;\n  var beginB = _b.begin,\n      endB = _b.end;\n  return beginA <= endB && endA > beginB;\n}\n/**\r\n * Get `text_mappings` document property as an object. Usually, this\r\n * prop is stored as a JSON string; if so, parse and return as object.\r\n */\n\n\nfunction getTextMappings(doc) {\n  var mappings = get_1(doc, 'extracted_metadata.text_mappings');\n\n  if (mappings && typeof mappings === 'string') {\n    try {\n      mappings = JSON.parse(mappings);\n    } catch (err) {\n      // fail gracefully - text mapping cannot be parsed\n      console.error('Failure parsing text_mappings', err);\n      mappings = null;\n    }\n  } else {\n    // text mapping is not a string or no mappings are present\n    mappings = null;\n  }\n\n  return mappings;\n}\n/**\r\n * Returns true if the `file_type` is CSV\r\n */\n\n\nfunction isCsvFile(doc) {\n  return get_1(doc, 'extracted_metadata.file_type') === 'csv';\n}\n/**\r\n * Returns true if the `file_type` is JSON\r\n */\n\n\nfunction isJsonFile(doc) {\n  return get_1(doc, 'extracted_metadata.file_type') === 'json';\n}\n\nvar START = 0;\nvar END = 1;\n/* eslint-disable @typescript-eslint/camelcase */\n\nfunction getPassagePageInfo(textMappings, passage) {\n  var start_offset = passage.start_offset,\n      end_offset = passage.end_offset,\n      field = passage.field;\n\n  if (typeof start_offset !== 'number' || typeof end_offset !== 'number') {\n    return null;\n  }\n\n  return get_1(textMappings, 'text_mappings', []).filter(function (cell) {\n    var _a = cell.field,\n        name = _a.name,\n        span = _a.span;\n    return name === field && spansIntersect({\n      begin: span[START],\n      end: span[END]\n    }, {\n      begin: start_offset,\n      end: end_offset\n    });\n  }).map(function (cell) {\n    return cell.page;\n  });\n}\n/* eslint-enable @typescript-eslint/camelcase */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\nfunction isPassage(obj) {\n  return obj && 'passage_text' in obj;\n}\n\nfunction _extends$1() {\n  _extends$1 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends$1.apply(this, arguments);\n}\n\nfunction _objectWithoutProperties$2(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose$2(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose$2(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar _ref2$9 = /*#__PURE__*/React$g__default.createElement(\"path\", {\n  d: \"M24 46.86H9a.33.33 0 01-.25-.11l-7.5-7.5a.33.33 0 01-.11-.25V16.5a.36.36 0 01.36-.36h7.14a15.36 15.36 0 1126.47 11l11.64 11.61-.5.5L34.6 27.61a15.24 15.24 0 01-10.24 4.25V46.5a.36.36 0 01-.36.36zm-14.64-.72h14.28V31.86a15.39 15.39 0 01-15-15H1.86v21.78H9a.36.36 0 01.36.36zm-7-6.78l6.27 6.27v-6.27zM24 1.86A14.64 14.64 0 1038.64 16.5 14.66 14.66 0 0024 1.86z\",\n  \"data-name\": \"analyze\"\n});\n\nvar _ref3$2 = /*#__PURE__*/React$g__default.createElement(\"path\", {\n  d: \"M19.73 19.37a.76.76 0 01-.61-.22 1 1 0 01-.24-.55h-.05a1.31 1.31 0 01-.49.64 1.56 1.56 0 01-.91.23 1.69 1.69 0 01-1.15-.37 1.31 1.31 0 01-.42-1 1.2 1.2 0 01.48-1 2.7 2.7 0 011.53-.35h.95v-.41a1 1 0 00-.27-.74 1.1 1.1 0 00-.79-.25 1.54 1.54 0 00-.75.17 1.38 1.38 0 00-.47.49l-.54-.47a1.52 1.52 0 01.25-.35 1.65 1.65 0 01.39-.29 1.89 1.89 0 01.52-.21 2.71 2.71 0 01.66-.08 2 2 0 011.33.42 1.48 1.48 0 01.49 1.19v2.45h.62v.7zm-2.1-.55a1.4 1.4 0 00.85-.24.67.67 0 00.34-.58v-.72h-.94a1.69 1.69 0 00-.88.17.53.53 0 00-.28.49v.19a.61.61 0 00.24.52 1.18 1.18 0 00.67.17zM22.11 12.71H23v2.79a1.6 1.6 0 01.56-.66 1.55 1.55 0 01.86-.23 1.57 1.57 0 011.32.63 2.92 2.92 0 01.49 1.8 2.92 2.92 0 01-.49 1.8 1.57 1.57 0 01-1.32.63 1.55 1.55 0 01-.86-.22 1.6 1.6 0 01-.56-.66v.78h-.84zm2 6.05a1.2 1.2 0 00.89-.36 1.44 1.44 0 00.32-1v-.77a1.42 1.42 0 00-.32-1 1.2 1.2 0 00-.93-.37 1.42 1.42 0 00-.42.06 1 1 0 00-.36.18.83.83 0 00-.25.28.8.8 0 00-.09.39v1.62a.84.84 0 00.09.4.75.75 0 00.25.28.86.86 0 00.36.17 1.42 1.42 0 00.42.12zM30.22 19.47a2.17 2.17 0 01-.91-.17 1.75 1.75 0 01-.68-.49 2.33 2.33 0 01-.42-.76 3.44 3.44 0 010-2 2.23 2.23 0 01.42-.76 1.88 1.88 0 01.68-.5 2.33 2.33 0 01.9-.17A1.76 1.76 0 0132 15.7l-.66.36a1.1 1.1 0 00-.4-.54 1.33 1.33 0 00-1.63.18 1.36 1.36 0 00-.33.95v.79a1.37 1.37 0 00.33.95 1.2 1.2 0 00.95.37 1.22 1.22 0 00.74-.21 1.57 1.57 0 00.47-.57l.6.4a1.84 1.84 0 01-.66.78 2 2 0 01-1.19.31z\"\n});\n\nvar SvgDocumentPreview = function SvgDocumentPreview(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties$2(_ref, [\"svgRef\"]);\n\n  return /*#__PURE__*/React$g__default.createElement(\"svg\", _extends$1({\n    \"data-name\": \"Layer 1\",\n    viewBox: \"0 0 48 48\",\n    ref: svgRef\n  }, props), _ref2$9, _ref3$2);\n};\n\nvar ForwardRef$1 = /*#__PURE__*/React$g__default.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React$g__default.createElement(SvgDocumentPreview, _extends$1({\n    svgRef: ref\n  }, props));\n});\n\nvar ErrorState = function ErrorState(_a) {\n  var header = _a.header,\n      message = _a.message;\n  var baseClass = settings.prefix + \"--simple-document__error-view\";\n  return React$g__default.createElement(\"div\", {\n    className: baseClass,\n    \"data-testid\": \"error_state\"\n  }, React$g__default.createElement(\"div\", {\n    className: baseClass + \"__icon\"\n  }, React$g__default.createElement(ForwardRef$1, null)), React$g__default.createElement(\"div\", null, React$g__default.createElement(\"h1\", {\n    className: baseClass + \"__header\"\n  }, header), React$g__default.createElement(\"div\", {\n    className: baseClass + \"__message\"\n  }, message)));\n};\n\nvar SimpleDocument = function SimpleDocument(_a) {\n  var _b, _c, _d, _e, _f;\n\n  var document = _a.document,\n      highlight = _a.highlight,\n      loading = _a.loading,\n      setLoading = _a.setLoading,\n      hideToolbarControls = _a.hideToolbarControls,\n      setHideToolbarControls = _a.setHideToolbarControls,\n      _g = _a.cannotPreviewMessage,\n      cannotPreviewMessage = _g === void 0 ? \"Can't preview document\" : _g,\n      _h = _a.cannotPreviewMessage2,\n      cannotPreviewMessage2 = _h === void 0 ? \"Try the JSON tab for a different view of this document's data.\" : _h;\n  var contentRef = useRef(null);\n  var highlightRef = useRef(null);\n  var componentSettings = useContext(SearchContext).componentSettings;\n  var html,\n      passage = null;\n\n  if (document) {\n    // JSON and CSV files will default to displaying the specified body field, `text` field, or passage highlighting field.\n    // Otherwise an error is shown\n    var isJsonOrCsvType = isJsonFile(document) || isCsvFile(document);\n    var field = (_d = (_c = (_b = componentSettings === null || componentSettings === void 0 ? void 0 : componentSettings.fields_shown) === null || _b === void 0 ? void 0 : _b.body) === null || _c === void 0 ? void 0 : _c.field) !== null && _d !== void 0 ? _d : 'text';\n\n    if (isJsonOrCsvType && (!highlight || !isPassage(highlight)) && document[field] === undefined) {\n      // An error message will be rendered\n      html = null;\n    } else {\n      // if there is a passage highlight, use text values from field specified in passage\n      if (highlight && isPassage(highlight)) {\n        passage = highlight;\n        field = passage.field;\n\n        if (!field) {\n          // if passage has no defined field, choose a default and unset `highlight`\n          field = 'text';\n          highlight = undefined;\n        }\n      } else {\n        // see if user has specified a body field; default to 'text' field\n        field = ((_f = (_e = componentSettings === null || componentSettings === void 0 ? void 0 : componentSettings.fields_shown) === null || _e === void 0 ? void 0 : _e.body) === null || _f === void 0 ? void 0 : _f.field) || 'text';\n      }\n\n      var text = void 0;\n\n      if (typeof document[field] === 'undefined') {\n        // such a field doesn't exist in the document; fall back to 'text'\n        text = document.text || '';\n        passage = null;\n      } else {\n        text = document[field];\n      }\n\n      if (!Array.isArray(text)) {\n        text = [text];\n      }\n\n      var rollingStart_1 = 0;\n      html = text.map(function (val) {\n        var end = rollingStart_1 + val.length - 1;\n        var res = \"<p data-child-begin=\" + rollingStart_1 + \" data-child-end=\" + end + \">\" + lib_12(val) + \"</p>\";\n        rollingStart_1 = end + 1;\n        return res;\n      }).join('\\n');\n    }\n  }\n\n  useEffect(function () {\n    if (document) {\n      if (loading) {\n        setLoading(false);\n      }\n\n      if (typeof setHideToolbarControls === 'function' && !hideToolbarControls) {\n        setHideToolbarControls(true);\n      }\n    }\n  }, [document, hideToolbarControls, loading, setHideToolbarControls, setLoading]); // highlight passage and scroll into view\n\n  useEffect(function () {\n    var contentNode = contentRef.current;\n    var highlightNode = highlightRef.current;\n\n    if (highlightNode) {\n      clearNodeChildren(highlightNode);\n    }\n\n    if (!passage || !contentNode || !highlightNode) {\n      return;\n    }\n\n    var begin = passage.start_offset,\n        end = passage.end_offset;\n\n    if (typeof begin === 'undefined' || typeof end === 'undefined') {\n      return;\n    }\n\n    var offsets = findOffsetInDOM(contentNode, begin, end);\n    var fragment = window.document.createDocumentFragment();\n    var parentRect = contentNode.getBoundingClientRect();\n    createFieldRects(_assign({\n      fragment: fragment,\n      parentRect: parentRect,\n      fieldType: 'passage',\n      fieldId: begin.toString()\n    }, offsets));\n    highlightNode.appendChild(fragment); // scroll highlight into view\n\n    var firstFieldRect = highlightNode.querySelector('.field--rect');\n\n    if (firstFieldRect) {\n      firstFieldRect.scrollIntoView({\n        block: 'center'\n      });\n    }\n  }, [passage]);\n  var baseClass = settings.prefix + \"--simple-document\";\n  return React$g__default.createElement(\"div\", {\n    className: baseClass\n  }, html ? React$g__default.createElement(\"div\", {\n    className: baseClass + \"__wrapper\"\n  }, React$g__default.createElement(\"div\", {\n    ref: highlightRef\n  }), React$g__default.createElement(\"div\", {\n    className: baseClass + \"__content\",\n    dangerouslySetInnerHTML: {\n      __html: html\n    },\n    ref: contentRef\n  })) : React$g__default.createElement(ErrorState, {\n    header: cannotPreviewMessage,\n    message: cannotPreviewMessage2\n  }));\n};\n/**\r\n * High-order component which injects a `didCatch` property, letting\r\n * wrapped component know that a previous render resulted in a\r\n * caught error.\r\n */\n\n\nfunction withErrorBoundary(WrappedComponent) {\n  var _a;\n\n  return _a =\n  /** @class */\n  function (_super) {\n    __extends(WithErrorBoundary, _super);\n\n    function WithErrorBoundary(props) {\n      var _this = _super.call(this, props) || this;\n\n      _this.state = {\n        didCatch: false\n      };\n      return _this;\n    }\n\n    WithErrorBoundary.getDerivedStateFromError = function ()\n    /* error: Error */\n    {\n      return {\n        didCatch: true\n      };\n    }; // componentDidCatch(error, errorInfo) {\n    //   logErrorToMyService(error, errorInfo);\n    // }\n\n\n    WithErrorBoundary.prototype.componentDidUpdate = function (_, prevState) {\n      // If properties change and we had previously caught an error, reset\n      // so component can re-render normally.\n      if (prevState.didCatch) {\n        this.setState({\n          didCatch: false\n        });\n      }\n    };\n\n    WithErrorBoundary.prototype.render = function () {\n      return React$g__default.createElement(WrappedComponent, _assign({}, this.props, this.state));\n    };\n\n    return WithErrorBoundary;\n  }(PureComponent), _a.displayName = \"WithErrorBoundary(\" + (WrappedComponent.displayName || WrappedComponent.name || 'Component') + \")\", _a.WrappedComponent = WrappedComponent, _a;\n}\n\nvar defaultMessages$3 = {\n  noDataMessage: 'No document data',\n  errorMessage: 'Error previewing document'\n};\nvar purify = createCommonjsModule(function (module, exports) {\n  /*! @license DOMPurify | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.0.8/LICENSE */\n  (function (global, factory) {\n    module.exports = factory();\n  })(commonjsGlobal, function () {\n    function _toConsumableArray(arr) {\n      if (Array.isArray(arr)) {\n        for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n          arr2[i] = arr[i];\n        }\n\n        return arr2;\n      } else {\n        return Array.from(arr);\n      }\n    }\n\n    var hasOwnProperty = Object.hasOwnProperty,\n        setPrototypeOf = Object.setPrototypeOf,\n        isFrozen = Object.isFrozen,\n        objectKeys = Object.keys;\n    var freeze = Object.freeze,\n        seal = Object.seal,\n        create = Object.create; // eslint-disable-line import/no-mutable-exports\n\n    var _ref = typeof Reflect !== 'undefined' && Reflect,\n        apply = _ref.apply,\n        construct = _ref.construct;\n\n    if (!apply) {\n      apply = function apply(fun, thisValue, args) {\n        return fun.apply(thisValue, args);\n      };\n    }\n\n    if (!freeze) {\n      freeze = function freeze(x) {\n        return x;\n      };\n    }\n\n    if (!seal) {\n      seal = function seal(x) {\n        return x;\n      };\n    }\n\n    if (!construct) {\n      construct = function construct(Func, args) {\n        return new (Function.prototype.bind.apply(Func, [null].concat(_toConsumableArray(args))))();\n      };\n    }\n\n    var arrayForEach = unapply(Array.prototype.forEach);\n    var arrayIndexOf = unapply(Array.prototype.indexOf);\n    var arrayJoin = unapply(Array.prototype.join);\n    var arrayPop = unapply(Array.prototype.pop);\n    var arrayPush = unapply(Array.prototype.push);\n    var arraySlice = unapply(Array.prototype.slice);\n    var stringToLowerCase = unapply(String.prototype.toLowerCase);\n    var stringMatch = unapply(String.prototype.match);\n    var stringReplace = unapply(String.prototype.replace);\n    var stringIndexOf = unapply(String.prototype.indexOf);\n    var stringTrim = unapply(String.prototype.trim);\n    var regExpTest = unapply(RegExp.prototype.test);\n    var regExpCreate = unconstruct(RegExp);\n    var typeErrorCreate = unconstruct(TypeError);\n\n    function unapply(func) {\n      return function (thisArg) {\n        for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n\n        return apply(func, thisArg, args);\n      };\n    }\n\n    function unconstruct(func) {\n      return function () {\n        for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          args[_key2] = arguments[_key2];\n        }\n\n        return construct(func, args);\n      };\n    }\n    /* Add properties to a lookup table */\n\n\n    function addToSet(set, array) {\n      if (setPrototypeOf) {\n        // Make 'in' and truthy checks like Boolean(set.constructor)\n        // independent of any properties defined on Object.prototype.\n        // Prevent prototype setters from intercepting set as a this value.\n        setPrototypeOf(set, null);\n      }\n\n      var l = array.length;\n\n      while (l--) {\n        var element = array[l];\n\n        if (typeof element === 'string') {\n          var lcElement = stringToLowerCase(element);\n\n          if (lcElement !== element) {\n            // Config presets (e.g. tags.js, attrs.js) are immutable.\n            if (!isFrozen(array)) {\n              array[l] = lcElement;\n            }\n\n            element = lcElement;\n          }\n        }\n\n        set[element] = true;\n      }\n\n      return set;\n    }\n    /* Shallow clone an object */\n\n\n    function clone(object) {\n      var newObject = create(null);\n      var property = void 0;\n\n      for (property in object) {\n        if (apply(hasOwnProperty, object, [property])) {\n          newObject[property] = object[property];\n        }\n      }\n\n      return newObject;\n    }\n\n    var html = freeze(['a', 'abbr', 'acronym', 'address', 'area', 'article', 'aside', 'audio', 'b', 'bdi', 'bdo', 'big', 'blink', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'center', 'cite', 'code', 'col', 'colgroup', 'content', 'data', 'datalist', 'dd', 'decorator', 'del', 'details', 'dfn', 'dir', 'div', 'dl', 'dt', 'element', 'em', 'fieldset', 'figcaption', 'figure', 'font', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'img', 'input', 'ins', 'kbd', 'label', 'legend', 'li', 'main', 'map', 'mark', 'marquee', 'menu', 'menuitem', 'meter', 'nav', 'nobr', 'ol', 'optgroup', 'option', 'output', 'p', 'picture', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'section', 'select', 'shadow', 'small', 'source', 'spacer', 'span', 'strike', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'template', 'textarea', 'tfoot', 'th', 'thead', 'time', 'tr', 'track', 'tt', 'u', 'ul', 'var', 'video', 'wbr']); // SVG\n\n    var svg = freeze(['svg', 'a', 'altglyph', 'altglyphdef', 'altglyphitem', 'animatecolor', 'animatemotion', 'animatetransform', 'audio', 'canvas', 'circle', 'clippath', 'defs', 'desc', 'ellipse', 'filter', 'font', 'g', 'glyph', 'glyphref', 'hkern', 'image', 'line', 'lineargradient', 'marker', 'mask', 'metadata', 'mpath', 'path', 'pattern', 'polygon', 'polyline', 'radialgradient', 'rect', 'stop', 'style', 'switch', 'symbol', 'text', 'textpath', 'title', 'tref', 'tspan', 'video', 'view', 'vkern']);\n    var svgFilters = freeze(['feBlend', 'feColorMatrix', 'feComponentTransfer', 'feComposite', 'feConvolveMatrix', 'feDiffuseLighting', 'feDisplacementMap', 'feDistantLight', 'feFlood', 'feFuncA', 'feFuncB', 'feFuncG', 'feFuncR', 'feGaussianBlur', 'feMerge', 'feMergeNode', 'feMorphology', 'feOffset', 'fePointLight', 'feSpecularLighting', 'feSpotLight', 'feTile', 'feTurbulence']);\n    var mathMl = freeze(['math', 'menclose', 'merror', 'mfenced', 'mfrac', 'mglyph', 'mi', 'mlabeledtr', 'mmultiscripts', 'mn', 'mo', 'mover', 'mpadded', 'mphantom', 'mroot', 'mrow', 'ms', 'mspace', 'msqrt', 'mstyle', 'msub', 'msup', 'msubsup', 'mtable', 'mtd', 'mtext', 'mtr', 'munder', 'munderover']);\n    var text = freeze(['#text']);\n    var html$1 = freeze(['accept', 'action', 'align', 'alt', 'autocapitalize', 'autocomplete', 'autopictureinpicture', 'autoplay', 'background', 'bgcolor', 'border', 'capture', 'cellpadding', 'cellspacing', 'checked', 'cite', 'class', 'clear', 'color', 'cols', 'colspan', 'controls', 'controlslist', 'coords', 'crossorigin', 'datetime', 'decoding', 'default', 'dir', 'disabled', 'disablepictureinpicture', 'disableremoteplayback', 'download', 'draggable', 'enctype', 'enterkeyhint', 'face', 'for', 'headers', 'height', 'hidden', 'high', 'href', 'hreflang', 'id', 'inputmode', 'integrity', 'ismap', 'kind', 'label', 'lang', 'list', 'loading', 'loop', 'low', 'max', 'maxlength', 'media', 'method', 'min', 'minlength', 'multiple', 'muted', 'name', 'noshade', 'novalidate', 'nowrap', 'open', 'optimum', 'pattern', 'placeholder', 'playsinline', 'poster', 'preload', 'pubdate', 'radiogroup', 'readonly', 'rel', 'required', 'rev', 'reversed', 'role', 'rows', 'rowspan', 'spellcheck', 'scope', 'selected', 'shape', 'size', 'sizes', 'span', 'srclang', 'start', 'src', 'srcset', 'step', 'style', 'summary', 'tabindex', 'title', 'translate', 'type', 'usemap', 'valign', 'value', 'width', 'xmlns']);\n    var svg$1 = freeze(['accent-height', 'accumulate', 'additive', 'alignment-baseline', 'ascent', 'attributename', 'attributetype', 'azimuth', 'basefrequency', 'baseline-shift', 'begin', 'bias', 'by', 'class', 'clip', 'clippathunits', 'clip-path', 'clip-rule', 'color', 'color-interpolation', 'color-interpolation-filters', 'color-profile', 'color-rendering', 'cx', 'cy', 'd', 'dx', 'dy', 'diffuseconstant', 'direction', 'display', 'divisor', 'dur', 'edgemode', 'elevation', 'end', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'filterunits', 'flood-color', 'flood-opacity', 'font-family', 'font-size', 'font-size-adjust', 'font-stretch', 'font-style', 'font-variant', 'font-weight', 'fx', 'fy', 'g1', 'g2', 'glyph-name', 'glyphref', 'gradientunits', 'gradienttransform', 'height', 'href', 'id', 'image-rendering', 'in', 'in2', 'k', 'k1', 'k2', 'k3', 'k4', 'kerning', 'keypoints', 'keysplines', 'keytimes', 'lang', 'lengthadjust', 'letter-spacing', 'kernelmatrix', 'kernelunitlength', 'lighting-color', 'local', 'marker-end', 'marker-mid', 'marker-start', 'markerheight', 'markerunits', 'markerwidth', 'maskcontentunits', 'maskunits', 'max', 'mask', 'media', 'method', 'mode', 'min', 'name', 'numoctaves', 'offset', 'operator', 'opacity', 'order', 'orient', 'orientation', 'origin', 'overflow', 'paint-order', 'path', 'pathlength', 'patterncontentunits', 'patterntransform', 'patternunits', 'points', 'preservealpha', 'preserveaspectratio', 'primitiveunits', 'r', 'rx', 'ry', 'radius', 'refx', 'refy', 'repeatcount', 'repeatdur', 'restart', 'result', 'rotate', 'scale', 'seed', 'shape-rendering', 'specularconstant', 'specularexponent', 'spreadmethod', 'startoffset', 'stddeviation', 'stitchtiles', 'stop-color', 'stop-opacity', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke', 'stroke-width', 'style', 'surfacescale', 'systemlanguage', 'tabindex', 'targetx', 'targety', 'transform', 'text-anchor', 'text-decoration', 'text-rendering', 'textlength', 'type', 'u1', 'u2', 'unicode', 'values', 'viewbox', 'visibility', 'version', 'vert-adv-y', 'vert-origin-x', 'vert-origin-y', 'width', 'word-spacing', 'wrap', 'writing-mode', 'xchannelselector', 'ychannelselector', 'x', 'x1', 'x2', 'xmlns', 'y', 'y1', 'y2', 'z', 'zoomandpan']);\n    var mathMl$1 = freeze(['accent', 'accentunder', 'align', 'bevelled', 'close', 'columnsalign', 'columnlines', 'columnspan', 'denomalign', 'depth', 'dir', 'display', 'displaystyle', 'encoding', 'fence', 'frame', 'height', 'href', 'id', 'largeop', 'length', 'linethickness', 'lspace', 'lquote', 'mathbackground', 'mathcolor', 'mathsize', 'mathvariant', 'maxsize', 'minsize', 'movablelimits', 'notation', 'numalign', 'open', 'rowalign', 'rowlines', 'rowspacing', 'rowspan', 'rspace', 'rquote', 'scriptlevel', 'scriptminsize', 'scriptsizemultiplier', 'selection', 'separator', 'separators', 'stretchy', 'subscriptshift', 'supscriptshift', 'symmetric', 'voffset', 'width', 'xmlns']);\n    var xml = freeze(['xlink:href', 'xml:id', 'xlink:title', 'xml:space', 'xmlns:xlink']); // eslint-disable-next-line unicorn/better-regex\n\n    var MUSTACHE_EXPR = seal(/\\{\\{[\\s\\S]*|[\\s\\S]*\\}\\}/gm); // Specify template detection regex for SAFE_FOR_TEMPLATES mode\n\n    var ERB_EXPR = seal(/<%[\\s\\S]*|[\\s\\S]*%>/gm);\n    var DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]/); // eslint-disable-line no-useless-escape\n\n    var ARIA_ATTR = seal(/^aria-[\\-\\w]+$/); // eslint-disable-line no-useless-escape\n\n    var IS_ALLOWED_URI = seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i // eslint-disable-line no-useless-escape\n    );\n    var IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\n    var ATTR_WHITESPACE = seal(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g // eslint-disable-line no-control-regex\n    );\n\n    var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n      return typeof obj;\n    } : function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n\n    function _toConsumableArray$1(arr) {\n      if (Array.isArray(arr)) {\n        for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n          arr2[i] = arr[i];\n        }\n\n        return arr2;\n      } else {\n        return Array.from(arr);\n      }\n    }\n\n    var getGlobal = function getGlobal() {\n      return typeof window === 'undefined' ? null : window;\n    };\n    /**\n     * Creates a no-op policy for internal use only.\n     * Don't export this function outside this module!\n     * @param {?TrustedTypePolicyFactory} trustedTypes The policy factory.\n     * @param {Document} document The document object (to determine policy name suffix)\n     * @return {?TrustedTypePolicy} The policy created (or null, if Trusted Types\n     * are not supported).\n     */\n\n\n    var _createTrustedTypesPolicy = function _createTrustedTypesPolicy(trustedTypes, document) {\n      if ((typeof trustedTypes === 'undefined' ? 'undefined' : _typeof(trustedTypes)) !== 'object' || typeof trustedTypes.createPolicy !== 'function') {\n        return null;\n      } // Allow the callers to control the unique policy name\n      // by adding a data-tt-policy-suffix to the script element with the DOMPurify.\n      // Policy creation with duplicate names throws in Trusted Types.\n\n\n      var suffix = null;\n      var ATTR_NAME = 'data-tt-policy-suffix';\n\n      if (document.currentScript && document.currentScript.hasAttribute(ATTR_NAME)) {\n        suffix = document.currentScript.getAttribute(ATTR_NAME);\n      }\n\n      var policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n\n      try {\n        return trustedTypes.createPolicy(policyName, {\n          createHTML: function createHTML(html$$1) {\n            return html$$1;\n          }\n        });\n      } catch (_) {\n        // Policy creation failed (most likely another DOMPurify script has\n        // already run). Skip creating the policy, as this will only cause errors\n        // if TT are enforced.\n        console.warn('TrustedTypes policy ' + policyName + ' could not be created.');\n        return null;\n      }\n    };\n\n    function createDOMPurify() {\n      var window = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getGlobal();\n\n      var DOMPurify = function DOMPurify(root) {\n        return createDOMPurify(root);\n      };\n      /**\n       * Version label, exposed for easier checks\n       * if DOMPurify is up to date or not\n       */\n\n\n      DOMPurify.version = '2.0.17';\n      /**\n       * Array of elements that DOMPurify removed during sanitation.\n       * Empty if nothing was removed.\n       */\n\n      DOMPurify.removed = [];\n\n      if (!window || !window.document || window.document.nodeType !== 9) {\n        // Not running in a browser, provide a factory function\n        // so that you can pass your own Window\n        DOMPurify.isSupported = false;\n        return DOMPurify;\n      }\n\n      var originalDocument = window.document;\n      var removeTitle = false;\n      var document = window.document;\n      var DocumentFragment = window.DocumentFragment,\n          HTMLTemplateElement = window.HTMLTemplateElement,\n          Node = window.Node,\n          NodeFilter = window.NodeFilter,\n          _window$NamedNodeMap = window.NamedNodeMap,\n          NamedNodeMap = _window$NamedNodeMap === undefined ? window.NamedNodeMap || window.MozNamedAttrMap : _window$NamedNodeMap,\n          Text = window.Text,\n          Comment = window.Comment,\n          DOMParser = window.DOMParser,\n          trustedTypes = window.trustedTypes; // As per issue #47, the web-components registry is inherited by a\n      // new document created via createHTMLDocument. As per the spec\n      // (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n      // a new empty registry is used when creating a template contents owner\n      // document, so we use that as our parent document to ensure nothing\n      // is inherited.\n\n      if (typeof HTMLTemplateElement === 'function') {\n        var template = document.createElement('template');\n\n        if (template.content && template.content.ownerDocument) {\n          document = template.content.ownerDocument;\n        }\n      }\n\n      var trustedTypesPolicy = _createTrustedTypesPolicy(trustedTypes, originalDocument);\n\n      var emptyHTML = trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML('') : '';\n      var _document = document,\n          implementation = _document.implementation,\n          createNodeIterator = _document.createNodeIterator,\n          getElementsByTagName = _document.getElementsByTagName,\n          createDocumentFragment = _document.createDocumentFragment;\n      var importNode = originalDocument.importNode;\n      var documentMode = {};\n\n      try {\n        documentMode = clone(document).documentMode ? document.documentMode : {};\n      } catch (_) {}\n\n      var hooks = {};\n      /**\n       * Expose whether this browser supports running the full DOMPurify.\n       */\n\n      DOMPurify.isSupported = implementation && typeof implementation.createHTMLDocument !== 'undefined' && documentMode !== 9;\n      var MUSTACHE_EXPR$$1 = MUSTACHE_EXPR,\n          ERB_EXPR$$1 = ERB_EXPR,\n          DATA_ATTR$$1 = DATA_ATTR,\n          ARIA_ATTR$$1 = ARIA_ATTR,\n          IS_SCRIPT_OR_DATA$$1 = IS_SCRIPT_OR_DATA,\n          ATTR_WHITESPACE$$1 = ATTR_WHITESPACE;\n      var IS_ALLOWED_URI$$1 = IS_ALLOWED_URI;\n      /**\n       * We consider the elements and attributes below to be safe. Ideally\n       * don't add any new ones but feel free to remove unwanted ones.\n       */\n\n      /* allowed element names */\n\n      var ALLOWED_TAGS = null;\n      var DEFAULT_ALLOWED_TAGS = addToSet({}, [].concat(_toConsumableArray$1(html), _toConsumableArray$1(svg), _toConsumableArray$1(svgFilters), _toConsumableArray$1(mathMl), _toConsumableArray$1(text)));\n      /* Allowed attribute names */\n\n      var ALLOWED_ATTR = null;\n      var DEFAULT_ALLOWED_ATTR = addToSet({}, [].concat(_toConsumableArray$1(html$1), _toConsumableArray$1(svg$1), _toConsumableArray$1(mathMl$1), _toConsumableArray$1(xml)));\n      /* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */\n\n      var FORBID_TAGS = null;\n      /* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */\n\n      var FORBID_ATTR = null;\n      /* Decide if ARIA attributes are okay */\n\n      var ALLOW_ARIA_ATTR = true;\n      /* Decide if custom data attributes are okay */\n\n      var ALLOW_DATA_ATTR = true;\n      /* Decide if unknown protocols are okay */\n\n      var ALLOW_UNKNOWN_PROTOCOLS = false;\n      /* Output should be safe for jQuery's $() factory? */\n\n      var SAFE_FOR_JQUERY = false;\n      /* Output should be safe for common template engines.\n       * This means, DOMPurify removes data attributes, mustaches and ERB\n       */\n\n      var SAFE_FOR_TEMPLATES = false;\n      /* Decide if document with <html>... should be returned */\n\n      var WHOLE_DOCUMENT = false;\n      /* Track whether config is already set on this instance of DOMPurify. */\n\n      var SET_CONFIG = false;\n      /* Decide if all elements (e.g. style, script) must be children of\n       * document.body. By default, browsers might move them to document.head */\n\n      var FORCE_BODY = false;\n      /* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html\n       * string (or a TrustedHTML object if Trusted Types are supported).\n       * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead\n       */\n\n      var RETURN_DOM = false;\n      /* Decide if a DOM `DocumentFragment` should be returned, instead of a html\n       * string  (or a TrustedHTML object if Trusted Types are supported) */\n\n      var RETURN_DOM_FRAGMENT = false;\n      /* If `RETURN_DOM` or `RETURN_DOM_FRAGMENT` is enabled, decide if the returned DOM\n       * `Node` is imported into the current `Document`. If this flag is not enabled the\n       * `Node` will belong (its ownerDocument) to a fresh `HTMLDocument`, created by\n       * DOMPurify. */\n\n      var RETURN_DOM_IMPORT = false;\n      /* Try to return a Trusted Type object instead of a string, return a string in\n       * case Trusted Types are not supported  */\n\n      var RETURN_TRUSTED_TYPE = false;\n      /* Output should be free from DOM clobbering attacks? */\n\n      var SANITIZE_DOM = true;\n      /* Keep element content when removing element? */\n\n      var KEEP_CONTENT = true;\n      /* If a `Node` is passed to sanitize(), then performs sanitization in-place instead\n       * of importing it into a new Document and returning a sanitized copy */\n\n      var IN_PLACE = false;\n      /* Allow usage of profiles like html, svg and mathMl */\n\n      var USE_PROFILES = {};\n      /* Tags to ignore content of when KEEP_CONTENT is true */\n\n      var FORBID_CONTENTS = addToSet({}, ['annotation-xml', 'audio', 'colgroup', 'desc', 'foreignobject', 'head', 'iframe', 'math', 'mi', 'mn', 'mo', 'ms', 'mtext', 'noembed', 'noframes', 'plaintext', 'script', 'style', 'svg', 'template', 'thead', 'title', 'video', 'xmp']);\n      /* Tags that are safe for data: URIs */\n\n      var DATA_URI_TAGS = null;\n      var DEFAULT_DATA_URI_TAGS = addToSet({}, ['audio', 'video', 'img', 'source', 'image', 'track']);\n      /* Attributes safe for values like \"javascript:\" */\n\n      var URI_SAFE_ATTRIBUTES = null;\n      var DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, ['alt', 'class', 'for', 'id', 'label', 'name', 'pattern', 'placeholder', 'summary', 'title', 'value', 'style', 'xmlns']);\n      /* Keep a reference to config to pass to hooks */\n\n      var CONFIG = null;\n      /* Ideally, do not touch anything below this line */\n\n      /* ______________________________________________ */\n\n      var formElement = document.createElement('form');\n      /**\n       * _parseConfig\n       *\n       * @param  {Object} cfg optional config literal\n       */\n      // eslint-disable-next-line complexity\n\n      var _parseConfig = function _parseConfig(cfg) {\n        if (CONFIG && CONFIG === cfg) {\n          return;\n        }\n        /* Shield configuration object from tampering */\n\n\n        if (!cfg || (typeof cfg === 'undefined' ? 'undefined' : _typeof(cfg)) !== 'object') {\n          cfg = {};\n        }\n        /* Shield configuration object from prototype pollution */\n\n\n        cfg = clone(cfg);\n        /* Set configuration parameters */\n\n        ALLOWED_TAGS = 'ALLOWED_TAGS' in cfg ? addToSet({}, cfg.ALLOWED_TAGS) : DEFAULT_ALLOWED_TAGS;\n        ALLOWED_ATTR = 'ALLOWED_ATTR' in cfg ? addToSet({}, cfg.ALLOWED_ATTR) : DEFAULT_ALLOWED_ATTR;\n        URI_SAFE_ATTRIBUTES = 'ADD_URI_SAFE_ATTR' in cfg ? addToSet(clone(DEFAULT_URI_SAFE_ATTRIBUTES), cfg.ADD_URI_SAFE_ATTR) : DEFAULT_URI_SAFE_ATTRIBUTES;\n        DATA_URI_TAGS = 'ADD_DATA_URI_TAGS' in cfg ? addToSet(clone(DEFAULT_DATA_URI_TAGS), cfg.ADD_DATA_URI_TAGS) : DEFAULT_DATA_URI_TAGS;\n        FORBID_TAGS = 'FORBID_TAGS' in cfg ? addToSet({}, cfg.FORBID_TAGS) : {};\n        FORBID_ATTR = 'FORBID_ATTR' in cfg ? addToSet({}, cfg.FORBID_ATTR) : {};\n        USE_PROFILES = 'USE_PROFILES' in cfg ? cfg.USE_PROFILES : false;\n        ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false; // Default true\n\n        ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false; // Default true\n\n        ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false\n\n        SAFE_FOR_JQUERY = cfg.SAFE_FOR_JQUERY || false; // Default false\n\n        SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false; // Default false\n\n        WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false; // Default false\n\n        RETURN_DOM = cfg.RETURN_DOM || false; // Default false\n\n        RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false; // Default false\n\n        RETURN_DOM_IMPORT = cfg.RETURN_DOM_IMPORT || false; // Default false\n\n        RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false; // Default false\n\n        FORCE_BODY = cfg.FORCE_BODY || false; // Default false\n\n        SANITIZE_DOM = cfg.SANITIZE_DOM !== false; // Default true\n\n        KEEP_CONTENT = cfg.KEEP_CONTENT !== false; // Default true\n\n        IN_PLACE = cfg.IN_PLACE || false; // Default false\n\n        IS_ALLOWED_URI$$1 = cfg.ALLOWED_URI_REGEXP || IS_ALLOWED_URI$$1;\n\n        if (SAFE_FOR_TEMPLATES) {\n          ALLOW_DATA_ATTR = false;\n        }\n\n        if (RETURN_DOM_FRAGMENT) {\n          RETURN_DOM = true;\n        }\n        /* Parse profile info */\n\n\n        if (USE_PROFILES) {\n          ALLOWED_TAGS = addToSet({}, [].concat(_toConsumableArray$1(text)));\n          ALLOWED_ATTR = [];\n\n          if (USE_PROFILES.html === true) {\n            addToSet(ALLOWED_TAGS, html);\n            addToSet(ALLOWED_ATTR, html$1);\n          }\n\n          if (USE_PROFILES.svg === true) {\n            addToSet(ALLOWED_TAGS, svg);\n            addToSet(ALLOWED_ATTR, svg$1);\n            addToSet(ALLOWED_ATTR, xml);\n          }\n\n          if (USE_PROFILES.svgFilters === true) {\n            addToSet(ALLOWED_TAGS, svgFilters);\n            addToSet(ALLOWED_ATTR, svg$1);\n            addToSet(ALLOWED_ATTR, xml);\n          }\n\n          if (USE_PROFILES.mathMl === true) {\n            addToSet(ALLOWED_TAGS, mathMl);\n            addToSet(ALLOWED_ATTR, mathMl$1);\n            addToSet(ALLOWED_ATTR, xml);\n          }\n        }\n        /* Merge configuration parameters */\n\n\n        if (cfg.ADD_TAGS) {\n          if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n            ALLOWED_TAGS = clone(ALLOWED_TAGS);\n          }\n\n          addToSet(ALLOWED_TAGS, cfg.ADD_TAGS);\n        }\n\n        if (cfg.ADD_ATTR) {\n          if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n            ALLOWED_ATTR = clone(ALLOWED_ATTR);\n          }\n\n          addToSet(ALLOWED_ATTR, cfg.ADD_ATTR);\n        }\n\n        if (cfg.ADD_URI_SAFE_ATTR) {\n          addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR);\n        }\n        /* Add #text in case KEEP_CONTENT is set to true */\n\n\n        if (KEEP_CONTENT) {\n          ALLOWED_TAGS['#text'] = true;\n        }\n        /* Add html, head and body to ALLOWED_TAGS in case WHOLE_DOCUMENT is true */\n\n\n        if (WHOLE_DOCUMENT) {\n          addToSet(ALLOWED_TAGS, ['html', 'head', 'body']);\n        }\n        /* Add tbody to ALLOWED_TAGS in case tables are permitted, see #286, #365 */\n\n\n        if (ALLOWED_TAGS.table) {\n          addToSet(ALLOWED_TAGS, ['tbody']);\n          delete FORBID_TAGS.tbody;\n        } // Prevent further manipulation of configuration.\n        // Not available in IE8, Safari 5, etc.\n\n\n        if (freeze) {\n          freeze(cfg);\n        }\n\n        CONFIG = cfg;\n      };\n      /**\n       * _forceRemove\n       *\n       * @param  {Node} node a DOM node\n       */\n\n\n      var _forceRemove = function _forceRemove(node) {\n        arrayPush(DOMPurify.removed, {\n          element: node\n        });\n\n        try {\n          node.parentNode.removeChild(node);\n        } catch (_) {\n          node.outerHTML = emptyHTML;\n        }\n      };\n      /**\n       * _removeAttribute\n       *\n       * @param  {String} name an Attribute name\n       * @param  {Node} node a DOM node\n       */\n\n\n      var _removeAttribute = function _removeAttribute(name, node) {\n        try {\n          arrayPush(DOMPurify.removed, {\n            attribute: node.getAttributeNode(name),\n            from: node\n          });\n        } catch (_) {\n          arrayPush(DOMPurify.removed, {\n            attribute: null,\n            from: node\n          });\n        }\n\n        node.removeAttribute(name);\n      };\n      /**\n       * _initDocument\n       *\n       * @param  {String} dirty a string of dirty markup\n       * @return {Document} a DOM, filled with the dirty markup\n       */\n\n\n      var _initDocument = function _initDocument(dirty) {\n        /* Create a HTML document */\n        var doc = void 0;\n        var leadingWhitespace = void 0;\n\n        if (FORCE_BODY) {\n          dirty = '<remove></remove>' + dirty;\n        } else {\n          /* If FORCE_BODY isn't used, leading whitespace needs to be preserved manually */\n          var matches = stringMatch(dirty, /^[\\r\\n\\t ]+/);\n          leadingWhitespace = matches && matches[0];\n        }\n\n        var dirtyPayload = trustedTypesPolicy ? trustedTypesPolicy.createHTML(dirty) : dirty;\n        /* Use the DOMParser API by default, fallback later if needs be */\n\n        try {\n          doc = new DOMParser().parseFromString(dirtyPayload, 'text/html');\n        } catch (_) {}\n        /* Remove title to fix a mXSS bug in older MS Edge */\n\n\n        if (removeTitle) {\n          addToSet(FORBID_TAGS, ['title']);\n        }\n        /* Use createHTMLDocument in case DOMParser is not available */\n\n\n        if (!doc || !doc.documentElement) {\n          doc = implementation.createHTMLDocument('');\n          var _doc = doc,\n              body = _doc.body;\n          body.parentNode.removeChild(body.parentNode.firstElementChild);\n          body.outerHTML = dirtyPayload;\n        }\n\n        if (dirty && leadingWhitespace) {\n          doc.body.insertBefore(document.createTextNode(leadingWhitespace), doc.body.childNodes[0] || null);\n        }\n        /* Work on whole document or just its body */\n\n\n        return getElementsByTagName.call(doc, WHOLE_DOCUMENT ? 'html' : 'body')[0];\n      };\n      /* Here we test for a broken feature in Edge that might cause mXSS */\n\n\n      if (DOMPurify.isSupported) {\n        (function () {\n          try {\n            var doc = _initDocument('<x/><title>&lt;/title&gt;&lt;img&gt;');\n\n            if (regExpTest(/<\\/title/, doc.querySelector('title').innerHTML)) {\n              removeTitle = true;\n            }\n          } catch (_) {}\n        })();\n      }\n      /**\n       * _createIterator\n       *\n       * @param  {Document} root document/fragment to create iterator for\n       * @return {Iterator} iterator instance\n       */\n\n\n      var _createIterator = function _createIterator(root) {\n        return createNodeIterator.call(root.ownerDocument || root, root, NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT, function () {\n          return NodeFilter.FILTER_ACCEPT;\n        }, false);\n      };\n      /**\n       * _isClobbered\n       *\n       * @param  {Node} elm element to check for clobbering attacks\n       * @return {Boolean} true if clobbered, false if safe\n       */\n\n\n      var _isClobbered = function _isClobbered(elm) {\n        if (elm instanceof Text || elm instanceof Comment) {\n          return false;\n        }\n\n        if (typeof elm.nodeName !== 'string' || typeof elm.textContent !== 'string' || typeof elm.removeChild !== 'function' || !(elm.attributes instanceof NamedNodeMap) || typeof elm.removeAttribute !== 'function' || typeof elm.setAttribute !== 'function' || typeof elm.namespaceURI !== 'string') {\n          return true;\n        }\n\n        return false;\n      };\n      /**\n       * _isNode\n       *\n       * @param  {Node} obj object to check whether it's a DOM node\n       * @return {Boolean} true is object is a DOM node\n       */\n\n\n      var _isNode = function _isNode(object) {\n        return (typeof Node === 'undefined' ? 'undefined' : _typeof(Node)) === 'object' ? object instanceof Node : object && (typeof object === 'undefined' ? 'undefined' : _typeof(object)) === 'object' && typeof object.nodeType === 'number' && typeof object.nodeName === 'string';\n      };\n      /**\n       * _executeHook\n       * Execute user configurable hooks\n       *\n       * @param  {String} entryPoint  Name of the hook's entry point\n       * @param  {Node} currentNode node to work on with the hook\n       * @param  {Object} data additional hook parameters\n       */\n\n\n      var _executeHook = function _executeHook(entryPoint, currentNode, data) {\n        if (!hooks[entryPoint]) {\n          return;\n        }\n\n        arrayForEach(hooks[entryPoint], function (hook) {\n          hook.call(DOMPurify, currentNode, data, CONFIG);\n        });\n      };\n      /**\n       * _sanitizeElements\n       *\n       * @protect nodeName\n       * @protect textContent\n       * @protect removeChild\n       *\n       * @param   {Node} currentNode to check for permission to exist\n       * @return  {Boolean} true if node was killed, false if left alive\n       */\n      // eslint-disable-next-line complexity\n\n\n      var _sanitizeElements = function _sanitizeElements(currentNode) {\n        var content = void 0;\n        /* Execute a hook if present */\n\n        _executeHook('beforeSanitizeElements', currentNode, null);\n        /* Check if element is clobbered or can clobber */\n\n\n        if (_isClobbered(currentNode)) {\n          _forceRemove(currentNode);\n\n          return true;\n        }\n        /* Check if tagname contains Unicode */\n\n\n        if (stringMatch(currentNode.nodeName, /[\\u0080-\\uFFFF]/)) {\n          _forceRemove(currentNode);\n\n          return true;\n        }\n        /* Now let's check the element's type and name */\n\n\n        var tagName = stringToLowerCase(currentNode.nodeName);\n        /* Execute a hook if present */\n\n        _executeHook('uponSanitizeElement', currentNode, {\n          tagName: tagName,\n          allowedTags: ALLOWED_TAGS\n        });\n        /* Take care of an mXSS pattern using p, br inside svg, math */\n\n\n        if ((tagName === 'svg' || tagName === 'math') && currentNode.querySelectorAll('p, br, form, table').length !== 0) {\n          _forceRemove(currentNode);\n\n          return true;\n        }\n        /* Remove element if anything forbids its presence */\n\n\n        if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n          /* Keep content except for bad-listed elements */\n          if (KEEP_CONTENT && !FORBID_CONTENTS[tagName] && typeof currentNode.insertAdjacentHTML === 'function') {\n            try {\n              var htmlToInsert = currentNode.innerHTML;\n              currentNode.insertAdjacentHTML('AfterEnd', trustedTypesPolicy ? trustedTypesPolicy.createHTML(htmlToInsert) : htmlToInsert);\n            } catch (_) {}\n          }\n\n          _forceRemove(currentNode);\n\n          return true;\n        }\n        /* Remove in case a noscript/noembed XSS is suspected */\n\n\n        if (tagName === 'noscript' && regExpTest(/<\\/noscript/i, currentNode.innerHTML)) {\n          _forceRemove(currentNode);\n\n          return true;\n        }\n\n        if (tagName === 'noembed' && regExpTest(/<\\/noembed/i, currentNode.innerHTML)) {\n          _forceRemove(currentNode);\n\n          return true;\n        }\n        /* Convert markup to cover jQuery behavior */\n\n\n        if (SAFE_FOR_JQUERY && !_isNode(currentNode.firstElementChild) && (!_isNode(currentNode.content) || !_isNode(currentNode.content.firstElementChild)) && regExpTest(/</g, currentNode.textContent)) {\n          arrayPush(DOMPurify.removed, {\n            element: currentNode.cloneNode()\n          });\n\n          if (currentNode.innerHTML) {\n            currentNode.innerHTML = stringReplace(currentNode.innerHTML, /</g, '&lt;');\n          } else {\n            currentNode.innerHTML = stringReplace(currentNode.textContent, /</g, '&lt;');\n          }\n        }\n        /* Sanitize element content to be template-safe */\n\n\n        if (SAFE_FOR_TEMPLATES && currentNode.nodeType === 3) {\n          /* Get the element's text content */\n          content = currentNode.textContent;\n          content = stringReplace(content, MUSTACHE_EXPR$$1, ' ');\n          content = stringReplace(content, ERB_EXPR$$1, ' ');\n\n          if (currentNode.textContent !== content) {\n            arrayPush(DOMPurify.removed, {\n              element: currentNode.cloneNode()\n            });\n            currentNode.textContent = content;\n          }\n        }\n        /* Execute a hook if present */\n\n\n        _executeHook('afterSanitizeElements', currentNode, null);\n\n        return false;\n      };\n      /**\n       * _isValidAttribute\n       *\n       * @param  {string} lcTag Lowercase tag name of containing element.\n       * @param  {string} lcName Lowercase attribute name.\n       * @param  {string} value Attribute value.\n       * @return {Boolean} Returns true if `value` is valid, otherwise false.\n       */\n      // eslint-disable-next-line complexity\n\n\n      var _isValidAttribute = function _isValidAttribute(lcTag, lcName, value) {\n        /* Make sure attribute cannot clobber */\n        if (SANITIZE_DOM && (lcName === 'id' || lcName === 'name') && (value in document || value in formElement)) {\n          return false;\n        }\n        /* Allow valid data-* attributes: At least one character after \"-\"\n            (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n            XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n            We don't need to check the value; it's always URI safe. */\n\n\n        if (ALLOW_DATA_ATTR && regExpTest(DATA_ATTR$$1, lcName)) ;else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR$$1, lcName)) ;else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n          return false;\n          /* Check value is safe. First, is attr inert? If so, is safe */\n        } else if (URI_SAFE_ATTRIBUTES[lcName]) ;else if (regExpTest(IS_ALLOWED_URI$$1, stringReplace(value, ATTR_WHITESPACE$$1, ''))) ;else if ((lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') && lcTag !== 'script' && stringIndexOf(value, 'data:') === 0 && DATA_URI_TAGS[lcTag]) ;else if (ALLOW_UNKNOWN_PROTOCOLS && !regExpTest(IS_SCRIPT_OR_DATA$$1, stringReplace(value, ATTR_WHITESPACE$$1, ''))) ;else if (!value) ;else {\n          return false;\n        }\n        return true;\n      };\n      /**\n       * _sanitizeAttributes\n       *\n       * @protect attributes\n       * @protect nodeName\n       * @protect removeAttribute\n       * @protect setAttribute\n       *\n       * @param  {Node} currentNode to sanitize\n       */\n      // eslint-disable-next-line complexity\n\n\n      var _sanitizeAttributes = function _sanitizeAttributes(currentNode) {\n        var attr = void 0;\n        var value = void 0;\n        var lcName = void 0;\n        var idAttr = void 0;\n        var l = void 0;\n        /* Execute a hook if present */\n\n        _executeHook('beforeSanitizeAttributes', currentNode, null);\n\n        var attributes = currentNode.attributes;\n        /* Check if we have attributes; if not we might have a text node */\n\n        if (!attributes) {\n          return;\n        }\n\n        var hookEvent = {\n          attrName: '',\n          attrValue: '',\n          keepAttr: true,\n          allowedAttributes: ALLOWED_ATTR\n        };\n        l = attributes.length;\n        /* Go backwards over all attributes; safely remove bad ones */\n\n        while (l--) {\n          attr = attributes[l];\n          var _attr = attr,\n              name = _attr.name,\n              namespaceURI = _attr.namespaceURI;\n          value = stringTrim(attr.value);\n          lcName = stringToLowerCase(name);\n          /* Execute a hook if present */\n\n          hookEvent.attrName = lcName;\n          hookEvent.attrValue = value;\n          hookEvent.keepAttr = true;\n          hookEvent.forceKeepAttr = undefined; // Allows developers to see this is a property they can set\n\n          _executeHook('uponSanitizeAttribute', currentNode, hookEvent);\n\n          value = hookEvent.attrValue;\n          /* Did the hooks approve of the attribute? */\n\n          if (hookEvent.forceKeepAttr) {\n            continue;\n          }\n          /* Remove attribute */\n          // Safari (iOS + Mac), last tested v8.0.5, crashes if you try to\n          // remove a \"name\" attribute from an <img> tag that has an \"id\"\n          // attribute at the time.\n\n\n          if (lcName === 'name' && currentNode.nodeName === 'IMG' && attributes.id) {\n            idAttr = attributes.id;\n            attributes = arraySlice(attributes, []);\n\n            _removeAttribute('id', currentNode);\n\n            _removeAttribute(name, currentNode);\n\n            if (arrayIndexOf(attributes, idAttr) > l) {\n              currentNode.setAttribute('id', idAttr.value);\n            }\n          } else if ( // This works around a bug in Safari, where input[type=file]\n          // cannot be dynamically set after type has been removed\n          currentNode.nodeName === 'INPUT' && lcName === 'type' && value === 'file' && hookEvent.keepAttr && (ALLOWED_ATTR[lcName] || !FORBID_ATTR[lcName])) {\n            continue;\n          } else {\n            // This avoids a crash in Safari v9.0 with double-ids.\n            // The trick is to first set the id to be empty and then to\n            // remove the attribute\n            if (name === 'id') {\n              currentNode.setAttribute(name, '');\n            }\n\n            _removeAttribute(name, currentNode);\n          }\n          /* Did the hooks approve of the attribute? */\n\n\n          if (!hookEvent.keepAttr) {\n            continue;\n          }\n          /* Work around a security issue in jQuery 3.0 */\n\n\n          if (SAFE_FOR_JQUERY && regExpTest(/\\/>/i, value)) {\n            _removeAttribute(name, currentNode);\n\n            continue;\n          }\n          /* Take care of an mXSS pattern using namespace switches */\n\n\n          if (regExpTest(/svg|math/i, currentNode.namespaceURI) && regExpTest(regExpCreate('</(' + arrayJoin(objectKeys(FORBID_CONTENTS), '|') + ')', 'i'), value)) {\n            _removeAttribute(name, currentNode);\n\n            continue;\n          }\n          /* Sanitize attribute content to be template-safe */\n\n\n          if (SAFE_FOR_TEMPLATES) {\n            value = stringReplace(value, MUSTACHE_EXPR$$1, ' ');\n            value = stringReplace(value, ERB_EXPR$$1, ' ');\n          }\n          /* Is `value` valid for this attribute? */\n\n\n          var lcTag = currentNode.nodeName.toLowerCase();\n\n          if (!_isValidAttribute(lcTag, lcName, value)) {\n            continue;\n          }\n          /* Handle invalid data-* attribute set by try-catching it */\n\n\n          try {\n            if (namespaceURI) {\n              currentNode.setAttributeNS(namespaceURI, name, value);\n            } else {\n              /* Fallback to setAttribute() for browser-unrecognized namespaces e.g. \"x-schema\". */\n              currentNode.setAttribute(name, value);\n            }\n\n            arrayPop(DOMPurify.removed);\n          } catch (_) {}\n        }\n        /* Execute a hook if present */\n\n\n        _executeHook('afterSanitizeAttributes', currentNode, null);\n      };\n      /**\n       * _sanitizeShadowDOM\n       *\n       * @param  {DocumentFragment} fragment to iterate over recursively\n       */\n\n\n      var _sanitizeShadowDOM = function _sanitizeShadowDOM(fragment) {\n        var shadowNode = void 0;\n\n        var shadowIterator = _createIterator(fragment);\n        /* Execute a hook if present */\n\n\n        _executeHook('beforeSanitizeShadowDOM', fragment, null);\n\n        while (shadowNode = shadowIterator.nextNode()) {\n          /* Execute a hook if present */\n          _executeHook('uponSanitizeShadowNode', shadowNode, null);\n          /* Sanitize tags and elements */\n\n\n          if (_sanitizeElements(shadowNode)) {\n            continue;\n          }\n          /* Deep shadow DOM detected */\n\n\n          if (shadowNode.content instanceof DocumentFragment) {\n            _sanitizeShadowDOM(shadowNode.content);\n          }\n          /* Check attributes, sanitize if necessary */\n\n\n          _sanitizeAttributes(shadowNode);\n        }\n        /* Execute a hook if present */\n\n\n        _executeHook('afterSanitizeShadowDOM', fragment, null);\n      };\n      /**\n       * Sanitize\n       * Public method providing core sanitation functionality\n       *\n       * @param {String|Node} dirty string or DOM node\n       * @param {Object} configuration object\n       */\n      // eslint-disable-next-line complexity\n\n\n      DOMPurify.sanitize = function (dirty, cfg) {\n        var body = void 0;\n        var importedNode = void 0;\n        var currentNode = void 0;\n        var oldNode = void 0;\n        var returnNode = void 0;\n        /* Make sure we have a string to sanitize.\n          DO NOT return early, as this will return the wrong type if\n          the user has requested a DOM object rather than a string */\n\n        if (!dirty) {\n          dirty = '<!-->';\n        }\n        /* Stringify, in case dirty is an object */\n\n\n        if (typeof dirty !== 'string' && !_isNode(dirty)) {\n          // eslint-disable-next-line no-negated-condition\n          if (typeof dirty.toString !== 'function') {\n            throw typeErrorCreate('toString is not a function');\n          } else {\n            dirty = dirty.toString();\n\n            if (typeof dirty !== 'string') {\n              throw typeErrorCreate('dirty is not a string, aborting');\n            }\n          }\n        }\n        /* Check we can run. Otherwise fall back or ignore */\n\n\n        if (!DOMPurify.isSupported) {\n          if (_typeof(window.toStaticHTML) === 'object' || typeof window.toStaticHTML === 'function') {\n            if (typeof dirty === 'string') {\n              return window.toStaticHTML(dirty);\n            }\n\n            if (_isNode(dirty)) {\n              return window.toStaticHTML(dirty.outerHTML);\n            }\n          }\n\n          return dirty;\n        }\n        /* Assign config vars */\n\n\n        if (!SET_CONFIG) {\n          _parseConfig(cfg);\n        }\n        /* Clean up removed elements */\n\n\n        DOMPurify.removed = [];\n        /* Check if dirty is correctly typed for IN_PLACE */\n\n        if (typeof dirty === 'string') {\n          IN_PLACE = false;\n        }\n\n        if (IN_PLACE) ;else if (dirty instanceof Node) {\n          /* If dirty is a DOM element, append to an empty document to avoid\n             elements being stripped by the parser */\n          body = _initDocument('<!-->');\n          importedNode = body.ownerDocument.importNode(dirty, true);\n\n          if (importedNode.nodeType === 1 && importedNode.nodeName === 'BODY') {\n            /* Node is already a body, use as is */\n            body = importedNode;\n          } else if (importedNode.nodeName === 'HTML') {\n            body = importedNode;\n          } else {\n            // eslint-disable-next-line unicorn/prefer-node-append\n            body.appendChild(importedNode);\n          }\n        } else {\n          /* Exit directly if we have nothing to do */\n          if (!RETURN_DOM && !SAFE_FOR_TEMPLATES && !WHOLE_DOCUMENT && // eslint-disable-next-line unicorn/prefer-includes\n          dirty.indexOf('<') === -1) {\n            return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(dirty) : dirty;\n          }\n          /* Initialize the document to work on */\n\n\n          body = _initDocument(dirty);\n          /* Check we have a DOM node from the data */\n\n          if (!body) {\n            return RETURN_DOM ? null : emptyHTML;\n          }\n        }\n        /* Remove first element node (ours) if FORCE_BODY is set */\n\n        if (body && FORCE_BODY) {\n          _forceRemove(body.firstChild);\n        }\n        /* Get node iterator */\n\n\n        var nodeIterator = _createIterator(IN_PLACE ? dirty : body);\n        /* Now start iterating over the created document */\n\n\n        while (currentNode = nodeIterator.nextNode()) {\n          /* Fix IE's strange behavior with manipulated textNodes #89 */\n          if (currentNode.nodeType === 3 && currentNode === oldNode) {\n            continue;\n          }\n          /* Sanitize tags and elements */\n\n\n          if (_sanitizeElements(currentNode)) {\n            continue;\n          }\n          /* Shadow DOM detected, sanitize it */\n\n\n          if (currentNode.content instanceof DocumentFragment) {\n            _sanitizeShadowDOM(currentNode.content);\n          }\n          /* Check attributes, sanitize if necessary */\n\n\n          _sanitizeAttributes(currentNode);\n\n          oldNode = currentNode;\n        }\n\n        oldNode = null;\n        /* If we sanitized `dirty` in-place, return it. */\n\n        if (IN_PLACE) {\n          return dirty;\n        }\n        /* Return sanitized string or DOM */\n\n\n        if (RETURN_DOM) {\n          if (RETURN_DOM_FRAGMENT) {\n            returnNode = createDocumentFragment.call(body.ownerDocument);\n\n            while (body.firstChild) {\n              // eslint-disable-next-line unicorn/prefer-node-append\n              returnNode.appendChild(body.firstChild);\n            }\n          } else {\n            returnNode = body;\n          }\n\n          if (RETURN_DOM_IMPORT) {\n            /*\n              AdoptNode() is not used because internal state is not reset\n              (e.g. the past names map of a HTMLFormElement), this is safe\n              in theory but we would rather not risk another attack vector.\n              The state that is cloned by importNode() is explicitly defined\n              by the specs.\n            */\n            returnNode = importNode.call(originalDocument, returnNode, true);\n          }\n\n          return returnNode;\n        }\n\n        var serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n        /* Sanitize final string template-safe */\n\n        if (SAFE_FOR_TEMPLATES) {\n          serializedHTML = stringReplace(serializedHTML, MUSTACHE_EXPR$$1, ' ');\n          serializedHTML = stringReplace(serializedHTML, ERB_EXPR$$1, ' ');\n        }\n\n        return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(serializedHTML) : serializedHTML;\n      };\n      /**\n       * Public method to set the configuration once\n       * setConfig\n       *\n       * @param {Object} cfg configuration object\n       */\n\n\n      DOMPurify.setConfig = function (cfg) {\n        _parseConfig(cfg);\n\n        SET_CONFIG = true;\n      };\n      /**\n       * Public method to remove the configuration\n       * clearConfig\n       *\n       */\n\n\n      DOMPurify.clearConfig = function () {\n        CONFIG = null;\n        SET_CONFIG = false;\n      };\n      /**\n       * Public method to check if an attribute value is valid.\n       * Uses last set config, if any. Otherwise, uses config defaults.\n       * isValidAttribute\n       *\n       * @param  {string} tag Tag name of containing element.\n       * @param  {string} attr Attribute name.\n       * @param  {string} value Attribute value.\n       * @return {Boolean} Returns true if `value` is valid. Otherwise, returns false.\n       */\n\n\n      DOMPurify.isValidAttribute = function (tag, attr, value) {\n        /* Initialize shared config vars if necessary. */\n        if (!CONFIG) {\n          _parseConfig({});\n        }\n\n        var lcTag = stringToLowerCase(tag);\n        var lcName = stringToLowerCase(attr);\n        return _isValidAttribute(lcTag, lcName, value);\n      };\n      /**\n       * AddHook\n       * Public method to add DOMPurify hooks\n       *\n       * @param {String} entryPoint entry point for the hook to add\n       * @param {Function} hookFunction function to execute\n       */\n\n\n      DOMPurify.addHook = function (entryPoint, hookFunction) {\n        if (typeof hookFunction !== 'function') {\n          return;\n        }\n\n        hooks[entryPoint] = hooks[entryPoint] || [];\n        arrayPush(hooks[entryPoint], hookFunction);\n      };\n      /**\n       * RemoveHook\n       * Public method to remove a DOMPurify hook at a given entryPoint\n       * (pops it from the stack of hooks if more are present)\n       *\n       * @param {String} entryPoint entry point for the hook to remove\n       */\n\n\n      DOMPurify.removeHook = function (entryPoint) {\n        if (hooks[entryPoint]) {\n          arrayPop(hooks[entryPoint]);\n        }\n      };\n      /**\n       * RemoveHooks\n       * Public method to remove all DOMPurify hooks at a given entryPoint\n       *\n       * @param  {String} entryPoint entry point for the hooks to remove\n       */\n\n\n      DOMPurify.removeHooks = function (entryPoint) {\n        if (hooks[entryPoint]) {\n          hooks[entryPoint] = [];\n        }\n      };\n      /**\n       * RemoveAllHooks\n       * Public method to remove all DOMPurify hooks\n       *\n       */\n\n\n      DOMPurify.removeAllHooks = function () {\n        hooks = {};\n      };\n\n      return DOMPurify;\n    }\n\n    var purify = createDOMPurify();\n    return purify;\n  });\n});\n/**\n * The base implementation of `_.map` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\n\nfunction baseMap(collection, iteratee) {\n  var index = -1,\n      result = isArrayLike_1(collection) ? Array(collection.length) : [];\n\n  _baseEach(collection, function (value, key, collection) {\n    result[++index] = iteratee(value, key, collection);\n  });\n\n  return result;\n}\n\nvar _baseMap = baseMap;\n/**\n * Creates an array of values by running each element in `collection` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n *\n * The guarded methods are:\n * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * _.map([4, 8], square);\n * // => [16, 64]\n *\n * _.map({ 'a': 4, 'b': 8 }, square);\n * // => [16, 64] (iteration order is not guaranteed)\n *\n * var users = [\n *   { 'user': 'barney' },\n *   { 'user': 'fred' }\n * ];\n *\n * // The `_.property` iteratee shorthand.\n * _.map(users, 'user');\n * // => ['barney', 'fred']\n */\n\nfunction map(collection, iteratee) {\n  var func = isArray_1(collection) ? _arrayMap : _baseMap;\n  return func(collection, _baseIteratee(iteratee));\n}\n\nvar map_1 = map;\n/**\n * Creates a flattened array of values by running each element in `collection`\n * thru `iteratee` and flattening the mapped results. The iteratee is invoked\n * with three arguments: (value, index|key, collection).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * function duplicate(n) {\n *   return [n, n];\n * }\n *\n * _.flatMap([1, 2], duplicate);\n * // => [1, 1, 2, 2]\n */\n\nfunction flatMap(collection, iteratee) {\n  return _baseFlatten(map_1(collection, iteratee), 1);\n}\n\nvar flatMap_1 = flatMap;\n/** Used to match a single whitespace character. */\n\nvar reWhitespace = /\\s/;\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\n\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n\n  return index;\n}\n\nvar _trimmedEndIndex = trimmedEndIndex;\n/** Used to match leading whitespace. */\n\nvar reTrimStart = /^\\s+/;\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\n\nfunction baseTrim(string) {\n  return string ? string.slice(0, _trimmedEndIndex(string) + 1).replace(reTrimStart, '') : string;\n}\n\nvar _baseTrim = baseTrim;\n/** Used as references for various `Number` constants. */\n\nvar NAN = 0 / 0;\n/** Used to detect bad signed hexadecimal string values. */\n\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n/** Used to detect binary string values. */\n\nvar reIsBinary = /^0b[01]+$/i;\n/** Used to detect octal string values. */\n\nvar reIsOctal = /^0o[0-7]+$/i;\n/** Built-in method references without a dependency on `root`. */\n\nvar freeParseInt = parseInt;\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\n\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n\n  if (isSymbol_1(value)) {\n    return NAN;\n  }\n\n  if (isObject_1(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject_1(other) ? other + '' : other;\n  }\n\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n\n  value = _baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return isBinary || reIsOctal.test(value) ? freeParseInt(value.slice(2), isBinary ? 2 : 8) : reIsBadHex.test(value) ? NAN : +value;\n}\n\nvar toNumber_1 = toNumber;\n/** Used as references for various `Number` constants. */\n\nvar INFINITY$3 = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\n\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n\n  value = toNumber_1(value);\n\n  if (value === INFINITY$3 || value === -INFINITY$3) {\n    var sign = value < 0 ? -1 : 1;\n    return sign * MAX_INTEGER;\n  }\n\n  return value === value ? value : 0;\n}\n\nvar toFinite_1 = toFinite;\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This method is loosely based on\n * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3.2);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3.2');\n * // => 3\n */\n\nfunction toInteger(value) {\n  var result = toFinite_1(value),\n      remainder = result % 1;\n  return result === result ? remainder ? result - remainder : result : 0;\n}\n\nvar toInteger_1 = toInteger;\n/* Built-in method references for those with the same name as other `lodash` methods. */\n\nvar nativeMax$1 = Math.max;\n/**\n * This method is like `_.find` except that it returns the index of the first\n * element `predicate` returns truthy for instead of the element itself.\n *\n * @static\n * @memberOf _\n * @since 1.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=0] The index to search from.\n * @returns {number} Returns the index of the found element, else `-1`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'active': false },\n *   { 'user': 'fred',    'active': false },\n *   { 'user': 'pebbles', 'active': true }\n * ];\n *\n * _.findIndex(users, function(o) { return o.user == 'barney'; });\n * // => 0\n *\n * // The `_.matches` iteratee shorthand.\n * _.findIndex(users, { 'user': 'fred', 'active': false });\n * // => 1\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.findIndex(users, ['active', false]);\n * // => 0\n *\n * // The `_.property` iteratee shorthand.\n * _.findIndex(users, 'active');\n * // => 2\n */\n\nfunction findIndex(array, predicate, fromIndex) {\n  var length = array == null ? 0 : array.length;\n\n  if (!length) {\n    return -1;\n  }\n\n  var index = fromIndex == null ? 0 : toInteger_1(fromIndex);\n\n  if (index < 0) {\n    index = nativeMax$1(length + index, 0);\n  }\n\n  return _baseFindIndex(array, _baseIteratee(predicate), index);\n}\n\nvar findIndex_1 = findIndex;\nvar Tokenizer_1 = createCommonjsModule(function (module, exports) {\n  var __importDefault = commonjsGlobal && commonjsGlobal.__importDefault || function (mod) {\n    return mod && mod.__esModule ? mod : {\n      \"default\": mod\n    };\n  };\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var decode_codepoint_1 = __importDefault(decode_codepoint);\n\n  var entities_json_1 = __importDefault(require$$1);\n\n  var legacy_json_1 = __importDefault(require$$2);\n\n  var xml_json_1 = __importDefault(require$$3);\n\n  function whitespace(c) {\n    return c === \" \" || c === \"\\n\" || c === \"\\t\" || c === \"\\f\" || c === \"\\r\";\n  }\n\n  function ifElseState(upper, SUCCESS, FAILURE) {\n    var lower = upper.toLowerCase();\n\n    if (upper === lower) {\n      return function (t, c) {\n        if (c === lower) {\n          t._state = SUCCESS;\n        } else {\n          t._state = FAILURE;\n          t._index--;\n        }\n      };\n    } else {\n      return function (t, c) {\n        if (c === lower || c === upper) {\n          t._state = SUCCESS;\n        } else {\n          t._state = FAILURE;\n          t._index--;\n        }\n      };\n    }\n  }\n\n  function consumeSpecialNameChar(upper, NEXT_STATE) {\n    var lower = upper.toLowerCase();\n    return function (t, c) {\n      if (c === lower || c === upper) {\n        t._state = NEXT_STATE;\n      } else {\n        t._state = 3\n        /* InTagName */\n        ;\n        t._index--; //consume the token again\n      }\n    };\n  }\n\n  var stateBeforeCdata1 = ifElseState(\"C\", 23\n  /* BeforeCdata2 */\n  , 16\n  /* InDeclaration */\n  );\n  var stateBeforeCdata2 = ifElseState(\"D\", 24\n  /* BeforeCdata3 */\n  , 16\n  /* InDeclaration */\n  );\n  var stateBeforeCdata3 = ifElseState(\"A\", 25\n  /* BeforeCdata4 */\n  , 16\n  /* InDeclaration */\n  );\n  var stateBeforeCdata4 = ifElseState(\"T\", 26\n  /* BeforeCdata5 */\n  , 16\n  /* InDeclaration */\n  );\n  var stateBeforeCdata5 = ifElseState(\"A\", 27\n  /* BeforeCdata6 */\n  , 16\n  /* InDeclaration */\n  );\n  var stateBeforeScript1 = consumeSpecialNameChar(\"R\", 34\n  /* BeforeScript2 */\n  );\n  var stateBeforeScript2 = consumeSpecialNameChar(\"I\", 35\n  /* BeforeScript3 */\n  );\n  var stateBeforeScript3 = consumeSpecialNameChar(\"P\", 36\n  /* BeforeScript4 */\n  );\n  var stateBeforeScript4 = consumeSpecialNameChar(\"T\", 37\n  /* BeforeScript5 */\n  );\n  var stateAfterScript1 = ifElseState(\"R\", 39\n  /* AfterScript2 */\n  , 1\n  /* Text */\n  );\n  var stateAfterScript2 = ifElseState(\"I\", 40\n  /* AfterScript3 */\n  , 1\n  /* Text */\n  );\n  var stateAfterScript3 = ifElseState(\"P\", 41\n  /* AfterScript4 */\n  , 1\n  /* Text */\n  );\n  var stateAfterScript4 = ifElseState(\"T\", 42\n  /* AfterScript5 */\n  , 1\n  /* Text */\n  );\n  var stateBeforeStyle1 = consumeSpecialNameChar(\"Y\", 44\n  /* BeforeStyle2 */\n  );\n  var stateBeforeStyle2 = consumeSpecialNameChar(\"L\", 45\n  /* BeforeStyle3 */\n  );\n  var stateBeforeStyle3 = consumeSpecialNameChar(\"E\", 46\n  /* BeforeStyle4 */\n  );\n  var stateAfterStyle1 = ifElseState(\"Y\", 48\n  /* AfterStyle2 */\n  , 1\n  /* Text */\n  );\n  var stateAfterStyle2 = ifElseState(\"L\", 49\n  /* AfterStyle3 */\n  , 1\n  /* Text */\n  );\n  var stateAfterStyle3 = ifElseState(\"E\", 50\n  /* AfterStyle4 */\n  , 1\n  /* Text */\n  );\n  var stateBeforeEntity = ifElseState(\"#\", 52\n  /* BeforeNumericEntity */\n  , 53\n  /* InNamedEntity */\n  );\n  var stateBeforeNumericEntity = ifElseState(\"X\", 55\n  /* InHexEntity */\n  , 54\n  /* InNumericEntity */\n  );\n\n  var Tokenizer =\n  /** @class */\n  function () {\n    function Tokenizer(options, cbs) {\n      /** The current state the tokenizer is in. */\n      this._state = 1\n      /* Text */\n      ;\n      /** The read buffer. */\n\n      this._buffer = \"\";\n      /** The beginning of the section that is currently being read. */\n\n      this._sectionStart = 0;\n      /** The index within the buffer that we are currently looking at. */\n\n      this._index = 0;\n      /**\n       * Data that has already been processed will be removed from the buffer occasionally.\n       * `_bufferOffset` keeps track of how many characters have been removed, to make sure position information is accurate.\n       */\n\n      this._bufferOffset = 0;\n      /** Some behavior, eg. when decoding entities, is done while we are in another state. This keeps track of the other state type. */\n\n      this._baseState = 1\n      /* Text */\n      ;\n      /** For special parsing behavior inside of script and style tags. */\n\n      this._special = 1\n      /* None */\n      ;\n      /** Indicates whether the tokenizer has been paused. */\n\n      this._running = true;\n      /** Indicates whether the tokenizer has finished running / `.end` has been called. */\n\n      this._ended = false;\n      this._cbs = cbs;\n      this._xmlMode = !!(options && options.xmlMode);\n      this._decodeEntities = !!(options && options.decodeEntities);\n    }\n\n    Tokenizer.prototype.reset = function () {\n      this._state = 1\n      /* Text */\n      ;\n      this._buffer = \"\";\n      this._sectionStart = 0;\n      this._index = 0;\n      this._bufferOffset = 0;\n      this._baseState = 1\n      /* Text */\n      ;\n      this._special = 1\n      /* None */\n      ;\n      this._running = true;\n      this._ended = false;\n    };\n\n    Tokenizer.prototype._stateText = function (c) {\n      if (c === \"<\") {\n        if (this._index > this._sectionStart) {\n          this._cbs.ontext(this._getSection());\n        }\n\n        this._state = 2\n        /* BeforeTagName */\n        ;\n        this._sectionStart = this._index;\n      } else if (this._decodeEntities && this._special === 1\n      /* None */\n      && c === \"&\") {\n        if (this._index > this._sectionStart) {\n          this._cbs.ontext(this._getSection());\n        }\n\n        this._baseState = 1\n        /* Text */\n        ;\n        this._state = 51\n        /* BeforeEntity */\n        ;\n        this._sectionStart = this._index;\n      }\n    };\n\n    Tokenizer.prototype._stateBeforeTagName = function (c) {\n      if (c === \"/\") {\n        this._state = 5\n        /* BeforeClosingTagName */\n        ;\n      } else if (c === \"<\") {\n        this._cbs.ontext(this._getSection());\n\n        this._sectionStart = this._index;\n      } else if (c === \">\" || this._special !== 1\n      /* None */\n      || whitespace(c)) {\n        this._state = 1\n        /* Text */\n        ;\n      } else if (c === \"!\") {\n        this._state = 15\n        /* BeforeDeclaration */\n        ;\n        this._sectionStart = this._index + 1;\n      } else if (c === \"?\") {\n        this._state = 17\n        /* InProcessingInstruction */\n        ;\n        this._sectionStart = this._index + 1;\n      } else {\n        this._state = !this._xmlMode && (c === \"s\" || c === \"S\") ? 31\n        /* BeforeSpecial */\n        : 3\n        /* InTagName */\n        ;\n        this._sectionStart = this._index;\n      }\n    };\n\n    Tokenizer.prototype._stateInTagName = function (c) {\n      if (c === \"/\" || c === \">\" || whitespace(c)) {\n        this._emitToken(\"onopentagname\");\n\n        this._state = 8\n        /* BeforeAttributeName */\n        ;\n        this._index--;\n      }\n    };\n\n    Tokenizer.prototype._stateBeforeClosingTagName = function (c) {\n      if (whitespace(c)) ;else if (c === \">\") {\n        this._state = 1\n        /* Text */\n        ;\n      } else if (this._special !== 1\n      /* None */\n      ) {\n          if (c === \"s\" || c === \"S\") {\n            this._state = 32\n            /* BeforeSpecialEnd */\n            ;\n          } else {\n            this._state = 1\n            /* Text */\n            ;\n            this._index--;\n          }\n        } else {\n        this._state = 6\n        /* InClosingTagName */\n        ;\n        this._sectionStart = this._index;\n      }\n    };\n\n    Tokenizer.prototype._stateInClosingTagName = function (c) {\n      if (c === \">\" || whitespace(c)) {\n        this._emitToken(\"onclosetag\");\n\n        this._state = 7\n        /* AfterClosingTagName */\n        ;\n        this._index--;\n      }\n    };\n\n    Tokenizer.prototype._stateAfterClosingTagName = function (c) {\n      //skip everything until \">\"\n      if (c === \">\") {\n        this._state = 1\n        /* Text */\n        ;\n        this._sectionStart = this._index + 1;\n      }\n    };\n\n    Tokenizer.prototype._stateBeforeAttributeName = function (c) {\n      if (c === \">\") {\n        this._cbs.onopentagend();\n\n        this._state = 1\n        /* Text */\n        ;\n        this._sectionStart = this._index + 1;\n      } else if (c === \"/\") {\n        this._state = 4\n        /* InSelfClosingTag */\n        ;\n      } else if (!whitespace(c)) {\n        this._state = 9\n        /* InAttributeName */\n        ;\n        this._sectionStart = this._index;\n      }\n    };\n\n    Tokenizer.prototype._stateInSelfClosingTag = function (c) {\n      if (c === \">\") {\n        this._cbs.onselfclosingtag();\n\n        this._state = 1\n        /* Text */\n        ;\n        this._sectionStart = this._index + 1;\n      } else if (!whitespace(c)) {\n        this._state = 8\n        /* BeforeAttributeName */\n        ;\n        this._index--;\n      }\n    };\n\n    Tokenizer.prototype._stateInAttributeName = function (c) {\n      if (c === \"=\" || c === \"/\" || c === \">\" || whitespace(c)) {\n        this._cbs.onattribname(this._getSection());\n\n        this._sectionStart = -1;\n        this._state = 10\n        /* AfterAttributeName */\n        ;\n        this._index--;\n      }\n    };\n\n    Tokenizer.prototype._stateAfterAttributeName = function (c) {\n      if (c === \"=\") {\n        this._state = 11\n        /* BeforeAttributeValue */\n        ;\n      } else if (c === \"/\" || c === \">\") {\n        this._cbs.onattribend();\n\n        this._state = 8\n        /* BeforeAttributeName */\n        ;\n        this._index--;\n      } else if (!whitespace(c)) {\n        this._cbs.onattribend();\n\n        this._state = 9\n        /* InAttributeName */\n        ;\n        this._sectionStart = this._index;\n      }\n    };\n\n    Tokenizer.prototype._stateBeforeAttributeValue = function (c) {\n      if (c === '\"') {\n        this._state = 12\n        /* InAttributeValueDq */\n        ;\n        this._sectionStart = this._index + 1;\n      } else if (c === \"'\") {\n        this._state = 13\n        /* InAttributeValueSq */\n        ;\n        this._sectionStart = this._index + 1;\n      } else if (!whitespace(c)) {\n        this._state = 14\n        /* InAttributeValueNq */\n        ;\n        this._sectionStart = this._index;\n        this._index--; //reconsume token\n      }\n    };\n\n    Tokenizer.prototype._stateInAttributeValueDoubleQuotes = function (c) {\n      if (c === '\"') {\n        this._emitToken(\"onattribdata\");\n\n        this._cbs.onattribend();\n\n        this._state = 8\n        /* BeforeAttributeName */\n        ;\n      } else if (this._decodeEntities && c === \"&\") {\n        this._emitToken(\"onattribdata\");\n\n        this._baseState = this._state;\n        this._state = 51\n        /* BeforeEntity */\n        ;\n        this._sectionStart = this._index;\n      }\n    };\n\n    Tokenizer.prototype._stateInAttributeValueSingleQuotes = function (c) {\n      if (c === \"'\") {\n        this._emitToken(\"onattribdata\");\n\n        this._cbs.onattribend();\n\n        this._state = 8\n        /* BeforeAttributeName */\n        ;\n      } else if (this._decodeEntities && c === \"&\") {\n        this._emitToken(\"onattribdata\");\n\n        this._baseState = this._state;\n        this._state = 51\n        /* BeforeEntity */\n        ;\n        this._sectionStart = this._index;\n      }\n    };\n\n    Tokenizer.prototype._stateInAttributeValueNoQuotes = function (c) {\n      if (whitespace(c) || c === \">\") {\n        this._emitToken(\"onattribdata\");\n\n        this._cbs.onattribend();\n\n        this._state = 8\n        /* BeforeAttributeName */\n        ;\n        this._index--;\n      } else if (this._decodeEntities && c === \"&\") {\n        this._emitToken(\"onattribdata\");\n\n        this._baseState = this._state;\n        this._state = 51\n        /* BeforeEntity */\n        ;\n        this._sectionStart = this._index;\n      }\n    };\n\n    Tokenizer.prototype._stateBeforeDeclaration = function (c) {\n      this._state = c === \"[\" ? 22\n      /* BeforeCdata1 */\n      : c === \"-\" ? 18\n      /* BeforeComment */\n      : 16\n      /* InDeclaration */\n      ;\n    };\n\n    Tokenizer.prototype._stateInDeclaration = function (c) {\n      if (c === \">\") {\n        this._cbs.ondeclaration(this._getSection());\n\n        this._state = 1\n        /* Text */\n        ;\n        this._sectionStart = this._index + 1;\n      }\n    };\n\n    Tokenizer.prototype._stateInProcessingInstruction = function (c) {\n      if (c === \">\") {\n        this._cbs.onprocessinginstruction(this._getSection());\n\n        this._state = 1\n        /* Text */\n        ;\n        this._sectionStart = this._index + 1;\n      }\n    };\n\n    Tokenizer.prototype._stateBeforeComment = function (c) {\n      if (c === \"-\") {\n        this._state = 19\n        /* InComment */\n        ;\n        this._sectionStart = this._index + 1;\n      } else {\n        this._state = 16\n        /* InDeclaration */\n        ;\n      }\n    };\n\n    Tokenizer.prototype._stateInComment = function (c) {\n      if (c === \"-\") this._state = 20\n      /* AfterComment1 */\n      ;\n    };\n\n    Tokenizer.prototype._stateAfterComment1 = function (c) {\n      if (c === \"-\") {\n        this._state = 21\n        /* AfterComment2 */\n        ;\n      } else {\n        this._state = 19\n        /* InComment */\n        ;\n      }\n    };\n\n    Tokenizer.prototype._stateAfterComment2 = function (c) {\n      if (c === \">\") {\n        //remove 2 trailing chars\n        this._cbs.oncomment(this._buffer.substring(this._sectionStart, this._index - 2));\n\n        this._state = 1\n        /* Text */\n        ;\n        this._sectionStart = this._index + 1;\n      } else if (c !== \"-\") {\n        this._state = 19\n        /* InComment */\n        ;\n      } // else: stay in AFTER_COMMENT_2 (`--->`)\n\n    };\n\n    Tokenizer.prototype._stateBeforeCdata6 = function (c) {\n      if (c === \"[\") {\n        this._state = 28\n        /* InCdata */\n        ;\n        this._sectionStart = this._index + 1;\n      } else {\n        this._state = 16\n        /* InDeclaration */\n        ;\n        this._index--;\n      }\n    };\n\n    Tokenizer.prototype._stateInCdata = function (c) {\n      if (c === \"]\") this._state = 29\n      /* AfterCdata1 */\n      ;\n    };\n\n    Tokenizer.prototype._stateAfterCdata1 = function (c) {\n      if (c === \"]\") this._state = 30\n      /* AfterCdata2 */\n      ;else this._state = 28\n      /* InCdata */\n      ;\n    };\n\n    Tokenizer.prototype._stateAfterCdata2 = function (c) {\n      if (c === \">\") {\n        //remove 2 trailing chars\n        this._cbs.oncdata(this._buffer.substring(this._sectionStart, this._index - 2));\n\n        this._state = 1\n        /* Text */\n        ;\n        this._sectionStart = this._index + 1;\n      } else if (c !== \"]\") {\n        this._state = 28\n        /* InCdata */\n        ;\n      } //else: stay in AFTER_CDATA_2 (`]]]>`)\n\n    };\n\n    Tokenizer.prototype._stateBeforeSpecial = function (c) {\n      if (c === \"c\" || c === \"C\") {\n        this._state = 33\n        /* BeforeScript1 */\n        ;\n      } else if (c === \"t\" || c === \"T\") {\n        this._state = 43\n        /* BeforeStyle1 */\n        ;\n      } else {\n        this._state = 3\n        /* InTagName */\n        ;\n        this._index--; //consume the token again\n      }\n    };\n\n    Tokenizer.prototype._stateBeforeSpecialEnd = function (c) {\n      if (this._special === 2\n      /* Script */\n      && (c === \"c\" || c === \"C\")) {\n        this._state = 38\n        /* AfterScript1 */\n        ;\n      } else if (this._special === 3\n      /* Style */\n      && (c === \"t\" || c === \"T\")) {\n        this._state = 47\n        /* AfterStyle1 */\n        ;\n      } else this._state = 1\n      /* Text */\n      ;\n    };\n\n    Tokenizer.prototype._stateBeforeScript5 = function (c) {\n      if (c === \"/\" || c === \">\" || whitespace(c)) {\n        this._special = 2\n        /* Script */\n        ;\n      }\n\n      this._state = 3\n      /* InTagName */\n      ;\n      this._index--; //consume the token again\n    };\n\n    Tokenizer.prototype._stateAfterScript5 = function (c) {\n      if (c === \">\" || whitespace(c)) {\n        this._special = 1\n        /* None */\n        ;\n        this._state = 6\n        /* InClosingTagName */\n        ;\n        this._sectionStart = this._index - 6;\n        this._index--; //reconsume the token\n      } else this._state = 1\n      /* Text */\n      ;\n    };\n\n    Tokenizer.prototype._stateBeforeStyle4 = function (c) {\n      if (c === \"/\" || c === \">\" || whitespace(c)) {\n        this._special = 3\n        /* Style */\n        ;\n      }\n\n      this._state = 3\n      /* InTagName */\n      ;\n      this._index--; //consume the token again\n    };\n\n    Tokenizer.prototype._stateAfterStyle4 = function (c) {\n      if (c === \">\" || whitespace(c)) {\n        this._special = 1\n        /* None */\n        ;\n        this._state = 6\n        /* InClosingTagName */\n        ;\n        this._sectionStart = this._index - 5;\n        this._index--; //reconsume the token\n      } else this._state = 1\n      /* Text */\n      ;\n    }; //for entities terminated with a semicolon\n\n\n    Tokenizer.prototype._parseNamedEntityStrict = function () {\n      //offset = 1\n      if (this._sectionStart + 1 < this._index) {\n        var entity = this._buffer.substring(this._sectionStart + 1, this._index),\n            map = this._xmlMode ? xml_json_1.default : entities_json_1.default;\n\n        if (Object.prototype.hasOwnProperty.call(map, entity)) {\n          // @ts-ignore\n          this._emitPartial(map[entity]);\n\n          this._sectionStart = this._index + 1;\n        }\n      }\n    }; //parses legacy entities (without trailing semicolon)\n\n\n    Tokenizer.prototype._parseLegacyEntity = function () {\n      var start = this._sectionStart + 1;\n      var limit = this._index - start;\n      if (limit > 6) limit = 6; // The max length of legacy entities is 6\n\n      while (limit >= 2) {\n        // The min length of legacy entities is 2\n        var entity = this._buffer.substr(start, limit);\n\n        if (Object.prototype.hasOwnProperty.call(legacy_json_1.default, entity)) {\n          // @ts-ignore\n          this._emitPartial(legacy_json_1.default[entity]);\n\n          this._sectionStart += limit + 1;\n          return;\n        } else {\n          limit--;\n        }\n      }\n    };\n\n    Tokenizer.prototype._stateInNamedEntity = function (c) {\n      if (c === \";\") {\n        this._parseNamedEntityStrict();\n\n        if (this._sectionStart + 1 < this._index && !this._xmlMode) {\n          this._parseLegacyEntity();\n        }\n\n        this._state = this._baseState;\n      } else if ((c < \"a\" || c > \"z\") && (c < \"A\" || c > \"Z\") && (c < \"0\" || c > \"9\")) {\n        if (this._xmlMode || this._sectionStart + 1 === this._index) ;else if (this._baseState !== 1\n        /* Text */\n        ) {\n            if (c !== \"=\") {\n              this._parseNamedEntityStrict();\n            }\n          } else {\n          this._parseLegacyEntity();\n        }\n        this._state = this._baseState;\n        this._index--;\n      }\n    };\n\n    Tokenizer.prototype._decodeNumericEntity = function (offset, base) {\n      var sectionStart = this._sectionStart + offset;\n\n      if (sectionStart !== this._index) {\n        //parse entity\n        var entity = this._buffer.substring(sectionStart, this._index);\n\n        var parsed = parseInt(entity, base);\n\n        this._emitPartial(decode_codepoint_1.default(parsed));\n\n        this._sectionStart = this._index;\n      } else {\n        this._sectionStart--;\n      }\n\n      this._state = this._baseState;\n    };\n\n    Tokenizer.prototype._stateInNumericEntity = function (c) {\n      if (c === \";\") {\n        this._decodeNumericEntity(2, 10);\n\n        this._sectionStart++;\n      } else if (c < \"0\" || c > \"9\") {\n        if (!this._xmlMode) {\n          this._decodeNumericEntity(2, 10);\n        } else {\n          this._state = this._baseState;\n        }\n\n        this._index--;\n      }\n    };\n\n    Tokenizer.prototype._stateInHexEntity = function (c) {\n      if (c === \";\") {\n        this._decodeNumericEntity(3, 16);\n\n        this._sectionStart++;\n      } else if ((c < \"a\" || c > \"f\") && (c < \"A\" || c > \"F\") && (c < \"0\" || c > \"9\")) {\n        if (!this._xmlMode) {\n          this._decodeNumericEntity(3, 16);\n        } else {\n          this._state = this._baseState;\n        }\n\n        this._index--;\n      }\n    };\n\n    Tokenizer.prototype._cleanup = function () {\n      if (this._sectionStart < 0) {\n        this._buffer = \"\";\n        this._bufferOffset += this._index;\n        this._index = 0;\n      } else if (this._running) {\n        if (this._state === 1\n        /* Text */\n        ) {\n            if (this._sectionStart !== this._index) {\n              this._cbs.ontext(this._buffer.substr(this._sectionStart));\n            }\n\n            this._buffer = \"\";\n            this._bufferOffset += this._index;\n            this._index = 0;\n          } else if (this._sectionStart === this._index) {\n          //the section just started\n          this._buffer = \"\";\n          this._bufferOffset += this._index;\n          this._index = 0;\n        } else {\n          //remove everything unnecessary\n          this._buffer = this._buffer.substr(this._sectionStart);\n          this._index -= this._sectionStart;\n          this._bufferOffset += this._sectionStart;\n        }\n\n        this._sectionStart = 0;\n      }\n    }; //TODO make events conditional\n\n\n    Tokenizer.prototype.write = function (chunk) {\n      if (this._ended) this._cbs.onerror(Error(\".write() after done!\"));\n      this._buffer += chunk;\n\n      this._parse();\n    }; // Iterates through the buffer, calling the function corresponding to the current state.\n    // States that are more likely to be hit are higher up, as a performance improvement.\n\n\n    Tokenizer.prototype._parse = function () {\n      while (this._index < this._buffer.length && this._running) {\n        var c = this._buffer.charAt(this._index);\n\n        if (this._state === 1\n        /* Text */\n        ) {\n            this._stateText(c);\n          } else if (this._state === 12\n        /* InAttributeValueDq */\n        ) {\n            this._stateInAttributeValueDoubleQuotes(c);\n          } else if (this._state === 9\n        /* InAttributeName */\n        ) {\n            this._stateInAttributeName(c);\n          } else if (this._state === 19\n        /* InComment */\n        ) {\n            this._stateInComment(c);\n          } else if (this._state === 8\n        /* BeforeAttributeName */\n        ) {\n            this._stateBeforeAttributeName(c);\n          } else if (this._state === 3\n        /* InTagName */\n        ) {\n            this._stateInTagName(c);\n          } else if (this._state === 6\n        /* InClosingTagName */\n        ) {\n            this._stateInClosingTagName(c);\n          } else if (this._state === 2\n        /* BeforeTagName */\n        ) {\n            this._stateBeforeTagName(c);\n          } else if (this._state === 10\n        /* AfterAttributeName */\n        ) {\n            this._stateAfterAttributeName(c);\n          } else if (this._state === 13\n        /* InAttributeValueSq */\n        ) {\n            this._stateInAttributeValueSingleQuotes(c);\n          } else if (this._state === 11\n        /* BeforeAttributeValue */\n        ) {\n            this._stateBeforeAttributeValue(c);\n          } else if (this._state === 5\n        /* BeforeClosingTagName */\n        ) {\n            this._stateBeforeClosingTagName(c);\n          } else if (this._state === 7\n        /* AfterClosingTagName */\n        ) {\n            this._stateAfterClosingTagName(c);\n          } else if (this._state === 31\n        /* BeforeSpecial */\n        ) {\n            this._stateBeforeSpecial(c);\n          } else if (this._state === 20\n        /* AfterComment1 */\n        ) {\n            this._stateAfterComment1(c);\n          } else if (this._state === 14\n        /* InAttributeValueNq */\n        ) {\n            this._stateInAttributeValueNoQuotes(c);\n          } else if (this._state === 4\n        /* InSelfClosingTag */\n        ) {\n            this._stateInSelfClosingTag(c);\n          } else if (this._state === 16\n        /* InDeclaration */\n        ) {\n            this._stateInDeclaration(c);\n          } else if (this._state === 15\n        /* BeforeDeclaration */\n        ) {\n            this._stateBeforeDeclaration(c);\n          } else if (this._state === 21\n        /* AfterComment2 */\n        ) {\n            this._stateAfterComment2(c);\n          } else if (this._state === 18\n        /* BeforeComment */\n        ) {\n            this._stateBeforeComment(c);\n          } else if (this._state === 32\n        /* BeforeSpecialEnd */\n        ) {\n            this._stateBeforeSpecialEnd(c);\n          } else if (this._state === 38\n        /* AfterScript1 */\n        ) {\n            stateAfterScript1(this, c);\n          } else if (this._state === 39\n        /* AfterScript2 */\n        ) {\n            stateAfterScript2(this, c);\n          } else if (this._state === 40\n        /* AfterScript3 */\n        ) {\n            stateAfterScript3(this, c);\n          } else if (this._state === 33\n        /* BeforeScript1 */\n        ) {\n            stateBeforeScript1(this, c);\n          } else if (this._state === 34\n        /* BeforeScript2 */\n        ) {\n            stateBeforeScript2(this, c);\n          } else if (this._state === 35\n        /* BeforeScript3 */\n        ) {\n            stateBeforeScript3(this, c);\n          } else if (this._state === 36\n        /* BeforeScript4 */\n        ) {\n            stateBeforeScript4(this, c);\n          } else if (this._state === 37\n        /* BeforeScript5 */\n        ) {\n            this._stateBeforeScript5(c);\n          } else if (this._state === 41\n        /* AfterScript4 */\n        ) {\n            stateAfterScript4(this, c);\n          } else if (this._state === 42\n        /* AfterScript5 */\n        ) {\n            this._stateAfterScript5(c);\n          } else if (this._state === 43\n        /* BeforeStyle1 */\n        ) {\n            stateBeforeStyle1(this, c);\n          } else if (this._state === 28\n        /* InCdata */\n        ) {\n            this._stateInCdata(c);\n          } else if (this._state === 44\n        /* BeforeStyle2 */\n        ) {\n            stateBeforeStyle2(this, c);\n          } else if (this._state === 45\n        /* BeforeStyle3 */\n        ) {\n            stateBeforeStyle3(this, c);\n          } else if (this._state === 46\n        /* BeforeStyle4 */\n        ) {\n            this._stateBeforeStyle4(c);\n          } else if (this._state === 47\n        /* AfterStyle1 */\n        ) {\n            stateAfterStyle1(this, c);\n          } else if (this._state === 48\n        /* AfterStyle2 */\n        ) {\n            stateAfterStyle2(this, c);\n          } else if (this._state === 49\n        /* AfterStyle3 */\n        ) {\n            stateAfterStyle3(this, c);\n          } else if (this._state === 50\n        /* AfterStyle4 */\n        ) {\n            this._stateAfterStyle4(c);\n          } else if (this._state === 17\n        /* InProcessingInstruction */\n        ) {\n            this._stateInProcessingInstruction(c);\n          } else if (this._state === 53\n        /* InNamedEntity */\n        ) {\n            this._stateInNamedEntity(c);\n          } else if (this._state === 22\n        /* BeforeCdata1 */\n        ) {\n            stateBeforeCdata1(this, c);\n          } else if (this._state === 51\n        /* BeforeEntity */\n        ) {\n            stateBeforeEntity(this, c);\n          } else if (this._state === 23\n        /* BeforeCdata2 */\n        ) {\n            stateBeforeCdata2(this, c);\n          } else if (this._state === 24\n        /* BeforeCdata3 */\n        ) {\n            stateBeforeCdata3(this, c);\n          } else if (this._state === 29\n        /* AfterCdata1 */\n        ) {\n            this._stateAfterCdata1(c);\n          } else if (this._state === 30\n        /* AfterCdata2 */\n        ) {\n            this._stateAfterCdata2(c);\n          } else if (this._state === 25\n        /* BeforeCdata4 */\n        ) {\n            stateBeforeCdata4(this, c);\n          } else if (this._state === 26\n        /* BeforeCdata5 */\n        ) {\n            stateBeforeCdata5(this, c);\n          } else if (this._state === 27\n        /* BeforeCdata6 */\n        ) {\n            this._stateBeforeCdata6(c);\n          } else if (this._state === 55\n        /* InHexEntity */\n        ) {\n            this._stateInHexEntity(c);\n          } else if (this._state === 54\n        /* InNumericEntity */\n        ) {\n            this._stateInNumericEntity(c);\n          } else if (this._state === 52\n        /* BeforeNumericEntity */\n        ) {\n            stateBeforeNumericEntity(this, c);\n          } else {\n          this._cbs.onerror(Error(\"unknown _state\"), this._state);\n        }\n\n        this._index++;\n      }\n\n      this._cleanup();\n    };\n\n    Tokenizer.prototype.pause = function () {\n      this._running = false;\n    };\n\n    Tokenizer.prototype.resume = function () {\n      this._running = true;\n\n      if (this._index < this._buffer.length) {\n        this._parse();\n      }\n\n      if (this._ended) {\n        this._finish();\n      }\n    };\n\n    Tokenizer.prototype.end = function (chunk) {\n      if (this._ended) this._cbs.onerror(Error(\".end() after done!\"));\n      if (chunk) this.write(chunk);\n      this._ended = true;\n      if (this._running) this._finish();\n    };\n\n    Tokenizer.prototype._finish = function () {\n      //if there is remaining data, emit it in a reasonable way\n      if (this._sectionStart < this._index) {\n        this._handleTrailingData();\n      }\n\n      this._cbs.onend();\n    };\n\n    Tokenizer.prototype._handleTrailingData = function () {\n      var data = this._buffer.substr(this._sectionStart);\n\n      if (this._state === 28\n      /* InCdata */\n      || this._state === 29\n      /* AfterCdata1 */\n      || this._state === 30\n      /* AfterCdata2 */\n      ) {\n          this._cbs.oncdata(data);\n        } else if (this._state === 19\n      /* InComment */\n      || this._state === 20\n      /* AfterComment1 */\n      || this._state === 21\n      /* AfterComment2 */\n      ) {\n          this._cbs.oncomment(data);\n        } else if (this._state === 53\n      /* InNamedEntity */\n      && !this._xmlMode) {\n        this._parseLegacyEntity();\n\n        if (this._sectionStart < this._index) {\n          this._state = this._baseState;\n\n          this._handleTrailingData();\n        }\n      } else if (this._state === 54\n      /* InNumericEntity */\n      && !this._xmlMode) {\n        this._decodeNumericEntity(2, 10);\n\n        if (this._sectionStart < this._index) {\n          this._state = this._baseState;\n\n          this._handleTrailingData();\n        }\n      } else if (this._state === 55\n      /* InHexEntity */\n      && !this._xmlMode) {\n        this._decodeNumericEntity(3, 16);\n\n        if (this._sectionStart < this._index) {\n          this._state = this._baseState;\n\n          this._handleTrailingData();\n        }\n      } else if (this._state !== 3\n      /* InTagName */\n      && this._state !== 8\n      /* BeforeAttributeName */\n      && this._state !== 11\n      /* BeforeAttributeValue */\n      && this._state !== 10\n      /* AfterAttributeName */\n      && this._state !== 9\n      /* InAttributeName */\n      && this._state !== 13\n      /* InAttributeValueSq */\n      && this._state !== 12\n      /* InAttributeValueDq */\n      && this._state !== 14\n      /* InAttributeValueNq */\n      && this._state !== 6\n      /* InClosingTagName */\n      ) {\n          this._cbs.ontext(data);\n        } //else, ignore remaining data\n      //TODO add a way to remove current tag\n\n    };\n\n    Tokenizer.prototype.getAbsoluteIndex = function () {\n      return this._bufferOffset + this._index;\n    };\n\n    Tokenizer.prototype._getSection = function () {\n      return this._buffer.substring(this._sectionStart, this._index);\n    };\n\n    Tokenizer.prototype._emitToken = function (name) {\n      this._cbs[name](this._getSection());\n\n      this._sectionStart = -1;\n    };\n\n    Tokenizer.prototype._emitPartial = function (value) {\n      if (this._baseState !== 1\n      /* Text */\n      ) {\n          this._cbs.onattribdata(value); //TODO implement the new event\n\n        } else {\n        this._cbs.ontext(value);\n      }\n    };\n\n    return Tokenizer;\n  }();\n\n  exports.default = Tokenizer;\n});\nunwrapExports(Tokenizer_1); // Copyright Joyent, Inc. and other Node contributors.\n\nvar R = typeof Reflect === 'object' ? Reflect : null;\nvar ReflectApply = R && typeof R.apply === 'function' ? R.apply : function ReflectApply(target, receiver, args) {\n  return Function.prototype.apply.call(target, receiver, args);\n};\nvar ReflectOwnKeys;\n\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys;\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target).concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n};\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\n\nvar events = EventEmitter;\nvar once_1 = once; // Backwards-compat with node 0.10.x\n\nEventEmitter.EventEmitter = EventEmitter;\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined; // By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\n\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function get() {\n    return defaultMaxListeners;\n  },\n  set: function set(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function () {\n  if (this._events === undefined || this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n}; // Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\n\n\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined) return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n\n  for (var i = 1; i < arguments.length; i++) {\n    args.push(arguments[i]);\n  }\n\n  var doError = type === 'error';\n  var events = this._events;\n  if (events !== undefined) doError = doError && events.error === undefined;else if (!doError) return false; // If there is no 'error' event listener then throw.\n\n  if (doError) {\n    var er;\n    if (args.length > 0) er = args[0];\n\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    } // At least give some kind of context to the user\n\n\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n  if (handler === undefined) return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n\n    for (var i = 0; i < len; ++i) {\n      ReflectApply(listeners[i], this, args);\n    }\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n  checkListener(listener);\n  events = target._events;\n\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type, listener.listener ? listener.listener : listener); // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n\n      events = target._events;\n    }\n\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] = prepend ? [listener, existing] : [existing, listener]; // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    } // Check for listener leak\n\n\n    m = _getMaxListeners(target);\n\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true; // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n\n      var w = new Error('Possible EventEmitter memory leak detected. ' + existing.length + ' ' + String(type) + ' listeners ' + 'added. Use emitter.setMaxListeners() to ' + 'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener = function prependListener(type, listener) {\n  return _addListener(this, type, listener, true);\n};\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0) return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = {\n    fired: false,\n    wrapFn: undefined,\n    target: target,\n    type: type,\n    listener: listener\n  };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener = function prependOnceListener(type, listener) {\n  checkListener(listener);\n  this.prependListener(type, _onceWrap(this, type, listener));\n  return this;\n}; // Emits a 'removeListener' event if and only if the listener was removed.\n\n\nEventEmitter.prototype.removeListener = function removeListener(type, listener) {\n  var list, events, position, i, originalListener;\n  checkListener(listener);\n  events = this._events;\n  if (events === undefined) return this;\n  list = events[type];\n  if (list === undefined) return this;\n\n  if (list === listener || list.listener === listener) {\n    if (--this._eventsCount === 0) this._events = Object.create(null);else {\n      delete events[type];\n      if (events.removeListener) this.emit('removeListener', type, list.listener || listener);\n    }\n  } else if (typeof list !== 'function') {\n    position = -1;\n\n    for (i = list.length - 1; i >= 0; i--) {\n      if (list[i] === listener || list[i].listener === listener) {\n        originalListener = list[i].listener;\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0) return this;\n    if (position === 0) list.shift();else {\n      spliceOne(list, position);\n    }\n    if (list.length === 1) events[type] = list[0];\n    if (events.removeListener !== undefined) this.emit('removeListener', type, originalListener || listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(type) {\n  var listeners, events, i;\n  events = this._events;\n  if (events === undefined) return this; // not listening for removeListener, no need to emit\n\n  if (events.removeListener === undefined) {\n    if (arguments.length === 0) {\n      this._events = Object.create(null);\n      this._eventsCount = 0;\n    } else if (events[type] !== undefined) {\n      if (--this._eventsCount === 0) this._events = Object.create(null);else delete events[type];\n    }\n\n    return this;\n  } // emit removeListener for all listeners on all events\n\n\n  if (arguments.length === 0) {\n    var keys = Object.keys(events);\n    var key;\n\n    for (i = 0; i < keys.length; ++i) {\n      key = keys[i];\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n\n    this.removeAllListeners('removeListener');\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n    return this;\n  }\n\n  listeners = events[type];\n\n  if (typeof listeners === 'function') {\n    this.removeListener(type, listeners);\n  } else if (listeners !== undefined) {\n    // LIFO order\n    for (i = listeners.length - 1; i >= 0; i--) {\n      this.removeListener(type, listeners[i]);\n    }\n  }\n\n  return this;\n};\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n  if (events === undefined) return [];\n  var evlistener = events[type];\n  if (evlistener === undefined) return [];\n  if (typeof evlistener === 'function') return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n  return unwrap ? unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function (emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\n\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n\n  for (var i = 0; i < n; ++i) {\n    copy[i] = arr[i];\n  }\n\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++) {\n    list[index] = list[index + 1];\n  }\n\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function eventListener() {\n      if (errorListener !== undefined) {\n        emitter.removeListener('error', errorListener);\n      }\n\n      resolve([].slice.call(arguments));\n    }\n\n    var errorListener; // Adding an error listener is not optional because\n    // if an error is thrown on an event emitter we cannot\n    // guarantee that the actual event we are waiting will\n    // be fired. The result could be a silent way to create\n    // memory or file descriptor leaks, which is something\n    // we should avoid.\n\n    if (name !== 'error') {\n      errorListener = function errorListener(err) {\n        emitter.removeListener(name, eventListener);\n        reject(err);\n      };\n\n      emitter.once('error', errorListener);\n    }\n\n    emitter.once(name, eventListener);\n  });\n}\n\nevents.once = once_1;\nvar Parser_1 = createCommonjsModule(function (module, exports) {\n  var __extends = commonjsGlobal && commonjsGlobal.__extends || function () {\n    var _extendStatics2 = function extendStatics(d, b) {\n      _extendStatics2 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (d, b) {\n        d.__proto__ = b;\n      } || function (d, b) {\n        for (var p in b) {\n          if (b.hasOwnProperty(p)) d[p] = b[p];\n        }\n      };\n\n      return _extendStatics2(d, b);\n    };\n\n    return function (d, b) {\n      _extendStatics2(d, b);\n\n      function __() {\n        this.constructor = d;\n      }\n\n      d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n  }();\n\n  var __importDefault = commonjsGlobal && commonjsGlobal.__importDefault || function (mod) {\n    return mod && mod.__esModule ? mod : {\n      \"default\": mod\n    };\n  };\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var Tokenizer_1$1 = __importDefault(Tokenizer_1);\n\n  var formTags = new Set([\"input\", \"option\", \"optgroup\", \"select\", \"button\", \"datalist\", \"textarea\"]);\n  var pTag = new Set([\"p\"]);\n  var openImpliesClose = {\n    tr: new Set([\"tr\", \"th\", \"td\"]),\n    th: new Set([\"th\"]),\n    td: new Set([\"thead\", \"th\", \"td\"]),\n    body: new Set([\"head\", \"link\", \"script\"]),\n    li: new Set([\"li\"]),\n    p: pTag,\n    h1: pTag,\n    h2: pTag,\n    h3: pTag,\n    h4: pTag,\n    h5: pTag,\n    h6: pTag,\n    select: formTags,\n    input: formTags,\n    output: formTags,\n    button: formTags,\n    datalist: formTags,\n    textarea: formTags,\n    option: new Set([\"option\"]),\n    optgroup: new Set([\"optgroup\", \"option\"]),\n    dd: new Set([\"dt\", \"dd\"]),\n    dt: new Set([\"dt\", \"dd\"]),\n    address: pTag,\n    article: pTag,\n    aside: pTag,\n    blockquote: pTag,\n    details: pTag,\n    div: pTag,\n    dl: pTag,\n    fieldset: pTag,\n    figcaption: pTag,\n    figure: pTag,\n    footer: pTag,\n    form: pTag,\n    header: pTag,\n    hr: pTag,\n    main: pTag,\n    nav: pTag,\n    ol: pTag,\n    pre: pTag,\n    section: pTag,\n    table: pTag,\n    ul: pTag,\n    rt: new Set([\"rt\", \"rp\"]),\n    rp: new Set([\"rt\", \"rp\"]),\n    tbody: new Set([\"thead\", \"tbody\"]),\n    tfoot: new Set([\"thead\", \"tbody\"])\n  };\n  var voidElements = new Set([\"area\", \"base\", \"basefont\", \"br\", \"col\", \"command\", \"embed\", \"frame\", \"hr\", \"img\", \"input\", \"isindex\", \"keygen\", \"link\", \"meta\", \"param\", \"source\", \"track\", \"wbr\"]);\n  var foreignContextElements = new Set([\"math\", \"svg\"]);\n  var htmlIntegrationElements = new Set([\"mi\", \"mo\", \"mn\", \"ms\", \"mtext\", \"annotation-xml\", \"foreignObject\", \"desc\", \"title\"]);\n  var reNameEnd = /\\s|\\//;\n\n  var Parser =\n  /** @class */\n  function (_super) {\n    __extends(Parser, _super);\n\n    function Parser(cbs, options) {\n      var _this = _super.call(this) || this;\n\n      _this._tagname = \"\";\n      _this._attribname = \"\";\n      _this._attribvalue = \"\";\n      _this._attribs = null;\n      _this._stack = [];\n      _this._foreignContext = [];\n      _this.startIndex = 0;\n      _this.endIndex = null; // Aliases for backwards compatibility\n\n      _this.parseChunk = Parser.prototype.write;\n      _this.done = Parser.prototype.end;\n      _this._options = options || {};\n      _this._cbs = cbs || {};\n      _this._tagname = \"\";\n      _this._attribname = \"\";\n      _this._attribvalue = \"\";\n      _this._attribs = null;\n      _this._stack = [];\n      _this._foreignContext = [];\n      _this.startIndex = 0;\n      _this.endIndex = null;\n      _this._lowerCaseTagNames = \"lowerCaseTags\" in _this._options ? !!_this._options.lowerCaseTags : !_this._options.xmlMode;\n      _this._lowerCaseAttributeNames = \"lowerCaseAttributeNames\" in _this._options ? !!_this._options.lowerCaseAttributeNames : !_this._options.xmlMode;\n      _this._tokenizer = new (_this._options.Tokenizer || Tokenizer_1$1.default)(_this._options, _this);\n      if (_this._cbs.onparserinit) _this._cbs.onparserinit(_this);\n      return _this;\n    }\n\n    Parser.prototype._updatePosition = function (initialOffset) {\n      if (this.endIndex === null) {\n        if (this._tokenizer._sectionStart <= initialOffset) {\n          this.startIndex = 0;\n        } else {\n          this.startIndex = this._tokenizer._sectionStart - initialOffset;\n        }\n      } else this.startIndex = this.endIndex + 1;\n\n      this.endIndex = this._tokenizer.getAbsoluteIndex();\n    }; //Tokenizer event handlers\n\n\n    Parser.prototype.ontext = function (data) {\n      this._updatePosition(1); // @ts-ignore\n\n\n      this.endIndex--;\n      if (this._cbs.ontext) this._cbs.ontext(data);\n    };\n\n    Parser.prototype.onopentagname = function (name) {\n      if (this._lowerCaseTagNames) {\n        name = name.toLowerCase();\n      }\n\n      this._tagname = name;\n\n      if (!this._options.xmlMode && Object.prototype.hasOwnProperty.call(openImpliesClose, name)) {\n        for (var el = void 0; // @ts-ignore\n        openImpliesClose[name].has(el = this._stack[this._stack.length - 1]); this.onclosetag(el)) {\n          ;\n        }\n      }\n\n      if (this._options.xmlMode || !voidElements.has(name)) {\n        this._stack.push(name);\n\n        if (foreignContextElements.has(name)) {\n          this._foreignContext.push(true);\n        } else if (htmlIntegrationElements.has(name)) {\n          this._foreignContext.push(false);\n        }\n      }\n\n      if (this._cbs.onopentagname) this._cbs.onopentagname(name);\n      if (this._cbs.onopentag) this._attribs = {};\n    };\n\n    Parser.prototype.onopentagend = function () {\n      this._updatePosition(1);\n\n      if (this._attribs) {\n        if (this._cbs.onopentag) {\n          this._cbs.onopentag(this._tagname, this._attribs);\n        }\n\n        this._attribs = null;\n      }\n\n      if (!this._options.xmlMode && this._cbs.onclosetag && voidElements.has(this._tagname)) {\n        this._cbs.onclosetag(this._tagname);\n      }\n\n      this._tagname = \"\";\n    };\n\n    Parser.prototype.onclosetag = function (name) {\n      this._updatePosition(1);\n\n      if (this._lowerCaseTagNames) {\n        name = name.toLowerCase();\n      }\n\n      if (foreignContextElements.has(name) || htmlIntegrationElements.has(name)) {\n        this._foreignContext.pop();\n      }\n\n      if (this._stack.length && (this._options.xmlMode || !voidElements.has(name))) {\n        var pos = this._stack.lastIndexOf(name);\n\n        if (pos !== -1) {\n          if (this._cbs.onclosetag) {\n            pos = this._stack.length - pos; // @ts-ignore\n\n            while (pos--) {\n              this._cbs.onclosetag(this._stack.pop());\n            }\n          } else this._stack.length = pos;\n        } else if (name === \"p\" && !this._options.xmlMode) {\n          this.onopentagname(name);\n\n          this._closeCurrentTag();\n        }\n      } else if (!this._options.xmlMode && (name === \"br\" || name === \"p\")) {\n        this.onopentagname(name);\n\n        this._closeCurrentTag();\n      }\n    };\n\n    Parser.prototype.onselfclosingtag = function () {\n      if (this._options.xmlMode || this._options.recognizeSelfClosing || this._foreignContext[this._foreignContext.length - 1]) {\n        this._closeCurrentTag();\n      } else {\n        this.onopentagend();\n      }\n    };\n\n    Parser.prototype._closeCurrentTag = function () {\n      var name = this._tagname;\n      this.onopentagend(); //self-closing tags will be on the top of the stack\n      //(cheaper check than in onclosetag)\n\n      if (this._stack[this._stack.length - 1] === name) {\n        if (this._cbs.onclosetag) {\n          this._cbs.onclosetag(name);\n        }\n\n        this._stack.pop();\n      }\n    };\n\n    Parser.prototype.onattribname = function (name) {\n      if (this._lowerCaseAttributeNames) {\n        name = name.toLowerCase();\n      }\n\n      this._attribname = name;\n    };\n\n    Parser.prototype.onattribdata = function (value) {\n      this._attribvalue += value;\n    };\n\n    Parser.prototype.onattribend = function () {\n      if (this._cbs.onattribute) this._cbs.onattribute(this._attribname, this._attribvalue);\n\n      if (this._attribs && !Object.prototype.hasOwnProperty.call(this._attribs, this._attribname)) {\n        this._attribs[this._attribname] = this._attribvalue;\n      }\n\n      this._attribname = \"\";\n      this._attribvalue = \"\";\n    };\n\n    Parser.prototype._getInstructionName = function (value) {\n      var idx = value.search(reNameEnd);\n      var name = idx < 0 ? value : value.substr(0, idx);\n\n      if (this._lowerCaseTagNames) {\n        name = name.toLowerCase();\n      }\n\n      return name;\n    };\n\n    Parser.prototype.ondeclaration = function (value) {\n      if (this._cbs.onprocessinginstruction) {\n        var name_1 = this._getInstructionName(value);\n\n        this._cbs.onprocessinginstruction(\"!\" + name_1, \"!\" + value);\n      }\n    };\n\n    Parser.prototype.onprocessinginstruction = function (value) {\n      if (this._cbs.onprocessinginstruction) {\n        var name_2 = this._getInstructionName(value);\n\n        this._cbs.onprocessinginstruction(\"?\" + name_2, \"?\" + value);\n      }\n    };\n\n    Parser.prototype.oncomment = function (value) {\n      this._updatePosition(4);\n\n      if (this._cbs.oncomment) this._cbs.oncomment(value);\n      if (this._cbs.oncommentend) this._cbs.oncommentend();\n    };\n\n    Parser.prototype.oncdata = function (value) {\n      this._updatePosition(1);\n\n      if (this._options.xmlMode || this._options.recognizeCDATA) {\n        if (this._cbs.oncdatastart) this._cbs.oncdatastart();\n        if (this._cbs.ontext) this._cbs.ontext(value);\n        if (this._cbs.oncdataend) this._cbs.oncdataend();\n      } else {\n        this.oncomment(\"[CDATA[\" + value + \"]]\");\n      }\n    };\n\n    Parser.prototype.onerror = function (err) {\n      if (this._cbs.onerror) this._cbs.onerror(err);\n    };\n\n    Parser.prototype.onend = function () {\n      if (this._cbs.onclosetag) {\n        for (var i = this._stack.length; i > 0; this._cbs.onclosetag(this._stack[--i])) {\n          ;\n        }\n      }\n\n      if (this._cbs.onend) this._cbs.onend();\n    }; //Resets the parser to a blank state, ready to parse a new HTML document\n\n\n    Parser.prototype.reset = function () {\n      if (this._cbs.onreset) this._cbs.onreset();\n\n      this._tokenizer.reset();\n\n      this._tagname = \"\";\n      this._attribname = \"\";\n      this._attribs = null;\n      this._stack = [];\n      if (this._cbs.onparserinit) this._cbs.onparserinit(this);\n    }; //Parses a complete HTML document and pushes it to the handler\n\n\n    Parser.prototype.parseComplete = function (data) {\n      this.reset();\n      this.end(data);\n    };\n\n    Parser.prototype.write = function (chunk) {\n      this._tokenizer.write(chunk);\n    };\n\n    Parser.prototype.end = function (chunk) {\n      this._tokenizer.end(chunk);\n    };\n\n    Parser.prototype.pause = function () {\n      this._tokenizer.pause();\n    };\n\n    Parser.prototype.resume = function () {\n      this._tokenizer.resume();\n    };\n\n    return Parser;\n  }(events.EventEmitter);\n\n  exports.Parser = Parser;\n});\nunwrapExports(Parser_1);\nvar Parser_2 = Parser_1.Parser;\nvar node = createCommonjsModule(function (module, exports) {\n  var __extends = commonjsGlobal && commonjsGlobal.__extends || function () {\n    var _extendStatics3 = function extendStatics(d, b) {\n      _extendStatics3 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (d, b) {\n        d.__proto__ = b;\n      } || function (d, b) {\n        for (var p in b) {\n          if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n        }\n      };\n\n      return _extendStatics3(d, b);\n    };\n\n    return function (d, b) {\n      _extendStatics3(d, b);\n\n      function __() {\n        this.constructor = d;\n      }\n\n      d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n  }();\n\n  var __assign = commonjsGlobal && commonjsGlobal.__assign || function () {\n    __assign = Object.assign || function (t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n\n        for (var p in s) {\n          if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n        }\n      }\n\n      return t;\n    };\n\n    return __assign.apply(this, arguments);\n  };\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.cloneNode = exports.Element = exports.NodeWithChildren = exports.ProcessingInstruction = exports.Comment = exports.Text = exports.DataNode = exports.Node = void 0;\n  var nodeTypes = new Map([[\"tag\"\n  /* Tag */\n  , 1], [\"script\"\n  /* Script */\n  , 1], [\"style\"\n  /* Style */\n  , 1], [\"directive\"\n  /* Directive */\n  , 1], [\"text\"\n  /* Text */\n  , 3], [\"cdata\"\n  /* CDATA */\n  , 4], [\"comment\"\n  /* Comment */\n  , 8]]);\n  /**\n   * This object will be used as the prototype for Nodes when creating a\n   * DOM-Level-1-compliant structure.\n   */\n\n  var Node =\n  /** @class */\n  function () {\n    /**\n     *\n     * @param type The type of the node.\n     */\n    function Node(type) {\n      this.type = type;\n      /** Parent of the node */\n\n      this.parent = null;\n      /** Previous sibling */\n\n      this.prev = null;\n      /** Next sibling */\n\n      this.next = null;\n      /** The start index of the node. Requires `withStartIndices` on the handler to be `true. */\n\n      this.startIndex = null;\n      /** The end index of the node. Requires `withEndIndices` on the handler to be `true. */\n\n      this.endIndex = null;\n    }\n\n    Object.defineProperty(Node.prototype, \"nodeType\", {\n      // Read-only aliases\n      get: function get() {\n        var _a;\n\n        return (_a = nodeTypes.get(this.type)) !== null && _a !== void 0 ? _a : 1;\n      },\n      enumerable: false,\n      configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"parentNode\", {\n      // Read-write aliases for properties\n      get: function get() {\n        return this.parent;\n      },\n      set: function set(parent) {\n        this.parent = parent;\n      },\n      enumerable: false,\n      configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"previousSibling\", {\n      get: function get() {\n        return this.prev;\n      },\n      set: function set(prev) {\n        this.prev = prev;\n      },\n      enumerable: false,\n      configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"nextSibling\", {\n      get: function get() {\n        return this.next;\n      },\n      set: function set(next) {\n        this.next = next;\n      },\n      enumerable: false,\n      configurable: true\n    });\n    /**\n     * Clone this node, and optionally its children.\n     *\n     * @param recursive Clone child nodes as well.\n     * @returns A clone of the node.\n     */\n\n    Node.prototype.cloneNode = function (recursive) {\n      if (recursive === void 0) {\n        recursive = false;\n      }\n\n      return cloneNode(this, recursive);\n    };\n\n    return Node;\n  }();\n\n  exports.Node = Node;\n\n  var DataNode =\n  /** @class */\n  function (_super) {\n    __extends(DataNode, _super);\n    /**\n     * @param type The type of the node\n     * @param data The content of the data node\n     */\n\n\n    function DataNode(type, data) {\n      var _this = _super.call(this, type) || this;\n\n      _this.data = data;\n      return _this;\n    }\n\n    Object.defineProperty(DataNode.prototype, \"nodeValue\", {\n      get: function get() {\n        return this.data;\n      },\n      set: function set(data) {\n        this.data = data;\n      },\n      enumerable: false,\n      configurable: true\n    });\n    return DataNode;\n  }(Node);\n\n  exports.DataNode = DataNode;\n\n  var Text =\n  /** @class */\n  function (_super) {\n    __extends(Text, _super);\n\n    function Text(data) {\n      return _super.call(this, \"text\"\n      /* Text */\n      , data) || this;\n    }\n\n    return Text;\n  }(DataNode);\n\n  exports.Text = Text;\n\n  var Comment =\n  /** @class */\n  function (_super) {\n    __extends(Comment, _super);\n\n    function Comment(data) {\n      return _super.call(this, \"comment\"\n      /* Comment */\n      , data) || this;\n    }\n\n    return Comment;\n  }(DataNode);\n\n  exports.Comment = Comment;\n\n  var ProcessingInstruction =\n  /** @class */\n  function (_super) {\n    __extends(ProcessingInstruction, _super);\n\n    function ProcessingInstruction(name, data) {\n      var _this = _super.call(this, \"directive\"\n      /* Directive */\n      , data) || this;\n\n      _this.name = name;\n      return _this;\n    }\n\n    return ProcessingInstruction;\n  }(DataNode);\n\n  exports.ProcessingInstruction = ProcessingInstruction;\n\n  var NodeWithChildren =\n  /** @class */\n  function (_super) {\n    __extends(NodeWithChildren, _super);\n    /**\n     *\n     * @param type Type of the node.\n     * @param children Children of the node. Only certain node types can have children.\n     */\n\n\n    function NodeWithChildren(type, children) {\n      var _this = _super.call(this, type) || this;\n\n      _this.children = children;\n      return _this;\n    }\n\n    Object.defineProperty(NodeWithChildren.prototype, \"firstChild\", {\n      // Aliases\n      get: function get() {\n        var _a;\n\n        return (_a = this.children[0]) !== null && _a !== void 0 ? _a : null;\n      },\n      enumerable: false,\n      configurable: true\n    });\n    Object.defineProperty(NodeWithChildren.prototype, \"lastChild\", {\n      get: function get() {\n        return this.children.length > 0 ? this.children[this.children.length - 1] : null;\n      },\n      enumerable: false,\n      configurable: true\n    });\n    Object.defineProperty(NodeWithChildren.prototype, \"childNodes\", {\n      get: function get() {\n        return this.children;\n      },\n      set: function set(children) {\n        this.children = children;\n      },\n      enumerable: false,\n      configurable: true\n    });\n    return NodeWithChildren;\n  }(Node);\n\n  exports.NodeWithChildren = NodeWithChildren;\n\n  var Element =\n  /** @class */\n  function (_super) {\n    __extends(Element, _super);\n    /**\n     * @param name Name of the tag, eg. `div`, `span`.\n     * @param attribs Object mapping attribute names to attribute values.\n     * @param children Children of the node.\n     */\n\n\n    function Element(name, attribs, children) {\n      if (children === void 0) {\n        children = [];\n      }\n\n      var _this = _super.call(this, name === \"script\" ? \"script\"\n      /* Script */\n      : name === \"style\" ? \"style\"\n      /* Style */\n      : \"tag\"\n      /* Tag */\n      , children) || this;\n\n      _this.name = name;\n      _this.attribs = attribs;\n      _this.attribs = attribs;\n      return _this;\n    }\n\n    Object.defineProperty(Element.prototype, \"tagName\", {\n      // DOM Level 1 aliases\n      get: function get() {\n        return this.name;\n      },\n      set: function set(name) {\n        this.name = name;\n      },\n      enumerable: false,\n      configurable: true\n    });\n    Object.defineProperty(Element.prototype, \"attributes\", {\n      get: function get() {\n        var _this = this;\n\n        return Object.keys(this.attribs).map(function (name) {\n          return {\n            name: name,\n            value: _this.attribs[name]\n          };\n        });\n      },\n      enumerable: false,\n      configurable: true\n    });\n    return Element;\n  }(NodeWithChildren);\n\n  exports.Element = Element;\n  /**\n   * Clone a node, and optionally its children.\n   *\n   * @param recursive Clone child nodes as well.\n   * @returns A clone of the node.\n   */\n\n  function cloneNode(node, recursive) {\n    if (recursive === void 0) {\n      recursive = false;\n    }\n\n    switch (node.type) {\n      case \"text\"\n      /* Text */\n      :\n        return new Text(node.data);\n\n      case \"directive\"\n      /* Directive */\n      :\n        {\n          var instr = node;\n          return new ProcessingInstruction(instr.name, instr.data);\n        }\n\n      case \"comment\"\n      /* Comment */\n      :\n        return new Comment(node.data);\n\n      case \"tag\"\n      /* Tag */\n      :\n      case \"script\"\n      /* Script */\n      :\n      case \"style\"\n      /* Style */\n      :\n        {\n          var elem = node;\n          var children = recursive ? cloneChildren(elem.children) : [];\n          var clone_1 = new Element(elem.name, __assign({}, elem.attribs), children);\n          children.forEach(function (child) {\n            return child.parent = clone_1;\n          });\n          return clone_1;\n        }\n\n      case \"cdata\"\n      /* CDATA */\n      :\n        {\n          var cdata = node;\n          var children = recursive ? cloneChildren(cdata.children) : [];\n          var clone_2 = new NodeWithChildren(\"cdata\"\n          /* CDATA */\n          , children);\n          children.forEach(function (child) {\n            return child.parent = clone_2;\n          });\n          return clone_2;\n        }\n\n      case \"doctype\"\n      /* Doctype */\n      :\n        {\n          // This type isn't used yet.\n          throw new Error(\"Not implemented yet: ElementType.Doctype case\");\n        }\n    }\n  }\n\n  exports.cloneNode = cloneNode;\n\n  function cloneChildren(childs) {\n    var children = childs.map(function (child) {\n      return cloneNode(child, true);\n    });\n\n    for (var i = 1; i < children.length; i++) {\n      children[i].prev = children[i - 1];\n      children[i - 1].next = children[i];\n    }\n\n    return children;\n  }\n});\nunwrapExports(node);\nvar node_1 = node.cloneNode;\nvar node_2 = node.Element;\nvar node_3 = node.NodeWithChildren;\nvar node_4 = node.ProcessingInstruction;\nvar node_5 = node.Comment;\nvar node_6 = node.Text;\nvar node_7 = node.DataNode;\nvar node_8 = node.Node;\nvar lib$1 = createCommonjsModule(function (module, exports) {\n  var __createBinding = commonjsGlobal && commonjsGlobal.__createBinding || (Object.create ? function (o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    });\n  } : function (o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n  });\n\n  var __exportStar = commonjsGlobal && commonjsGlobal.__exportStar || function (m, exports) {\n    for (var p in m) {\n      if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n    }\n  };\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.DomHandler = void 0;\n\n  __exportStar(node, exports);\n\n  var reWhitespace = /\\s+/g; // Default options\n\n  var defaultOpts = {\n    normalizeWhitespace: false,\n    withStartIndices: false,\n    withEndIndices: false\n  };\n\n  var DomHandler =\n  /** @class */\n  function () {\n    /**\n     * @param callback Called once parsing has completed.\n     * @param options Settings for the handler.\n     * @param elementCB Callback whenever a tag is closed.\n     */\n    function DomHandler(callback, options, elementCB) {\n      /** The constructed DOM */\n      this.dom = [];\n      /** Indicated whether parsing has been completed. */\n\n      this._done = false;\n      /** Stack of open tags. */\n\n      this._tagStack = [];\n      /** A data node that is still being written to. */\n\n      this._lastNode = null;\n      /** Reference to the parser instance. Used for location information. */\n\n      this._parser = null; // Make it possible to skip arguments, for backwards-compatibility\n\n      if (typeof options === \"function\") {\n        elementCB = options;\n        options = defaultOpts;\n      }\n\n      if (typeof callback === \"object\") {\n        options = callback;\n        callback = undefined;\n      }\n\n      this._callback = callback !== null && callback !== void 0 ? callback : null;\n      this._options = options !== null && options !== void 0 ? options : defaultOpts;\n      this._elementCB = elementCB !== null && elementCB !== void 0 ? elementCB : null;\n    }\n\n    DomHandler.prototype.onparserinit = function (parser) {\n      this._parser = parser;\n    }; // Resets the handler back to starting state\n\n\n    DomHandler.prototype.onreset = function () {\n      var _a;\n\n      this.dom = [];\n      this._done = false;\n      this._tagStack = [];\n      this._lastNode = null;\n      this._parser = (_a = this._parser) !== null && _a !== void 0 ? _a : null;\n    }; // Signals the handler that parsing is done\n\n\n    DomHandler.prototype.onend = function () {\n      if (this._done) return;\n      this._done = true;\n      this._parser = null;\n      this.handleCallback(null);\n    };\n\n    DomHandler.prototype.onerror = function (error) {\n      this.handleCallback(error);\n    };\n\n    DomHandler.prototype.onclosetag = function () {\n      this._lastNode = null;\n\n      var elem = this._tagStack.pop();\n\n      if (!elem || !this._parser) {\n        return;\n      }\n\n      if (this._options.withEndIndices) {\n        elem.endIndex = this._parser.endIndex;\n      }\n\n      if (this._elementCB) this._elementCB(elem);\n    };\n\n    DomHandler.prototype.onopentag = function (name, attribs) {\n      var element = new node.Element(name, attribs);\n      this.addNode(element);\n\n      this._tagStack.push(element);\n    };\n\n    DomHandler.prototype.ontext = function (data) {\n      var normalize = this._options.normalizeWhitespace;\n      var _lastNode = this._lastNode;\n\n      if (_lastNode && _lastNode.type === \"text\"\n      /* Text */\n      ) {\n          if (normalize) {\n            _lastNode.data = (_lastNode.data + data).replace(reWhitespace, \" \");\n          } else {\n            _lastNode.data += data;\n          }\n        } else {\n        if (normalize) {\n          data = data.replace(reWhitespace, \" \");\n        }\n\n        var node$1 = new node.Text(data);\n        this.addNode(node$1);\n        this._lastNode = node$1;\n      }\n    };\n\n    DomHandler.prototype.oncomment = function (data) {\n      if (this._lastNode && this._lastNode.type === \"comment\"\n      /* Comment */\n      ) {\n          this._lastNode.data += data;\n          return;\n        }\n\n      var node$1 = new node.Comment(data);\n      this.addNode(node$1);\n      this._lastNode = node$1;\n    };\n\n    DomHandler.prototype.oncommentend = function () {\n      this._lastNode = null;\n    };\n\n    DomHandler.prototype.oncdatastart = function () {\n      var text = new node.Text(\"\");\n      var node$1 = new node.NodeWithChildren(\"cdata\"\n      /* CDATA */\n      , [text]);\n      this.addNode(node$1);\n      text.parent = node$1;\n      this._lastNode = text;\n    };\n\n    DomHandler.prototype.oncdataend = function () {\n      this._lastNode = null;\n    };\n\n    DomHandler.prototype.onprocessinginstruction = function (name, data) {\n      var node$1 = new node.ProcessingInstruction(name, data);\n      this.addNode(node$1);\n    };\n\n    DomHandler.prototype.handleCallback = function (error) {\n      if (typeof this._callback === \"function\") {\n        this._callback(error, this.dom);\n      } else if (error) {\n        throw error;\n      }\n    };\n\n    DomHandler.prototype.addNode = function (node) {\n      var parent = this._tagStack[this._tagStack.length - 1];\n      var siblings = parent ? parent.children : this.dom;\n      var previousSibling = siblings[siblings.length - 1];\n\n      if (this._parser) {\n        if (this._options.withStartIndices) {\n          node.startIndex = this._parser.startIndex;\n        }\n\n        if (this._options.withEndIndices) {\n          node.endIndex = this._parser.endIndex;\n        }\n      }\n\n      siblings.push(node);\n\n      if (previousSibling) {\n        node.prev = previousSibling;\n        previousSibling.next = node;\n      }\n\n      if (parent) {\n        node.parent = parent;\n      }\n\n      this._lastNode = null;\n    };\n\n    DomHandler.prototype.addDataNode = function (node) {\n      this.addNode(node);\n      this._lastNode = node;\n    };\n\n    return DomHandler;\n  }();\n\n  exports.DomHandler = DomHandler;\n  exports.default = DomHandler;\n});\nunwrapExports(lib$1);\nvar lib_1$1 = lib$1.DomHandler;\nvar lib$2 = createCommonjsModule(function (module, exports) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.Doctype = exports.CDATA = exports.Tag = exports.Style = exports.Script = exports.Comment = exports.Directive = exports.Text = exports.Root = exports.isTag = void 0;\n  /**\n   * Tests whether an element is a tag or not.\n   *\n   * @param elem Element to test\n   */\n\n  function isTag(elem) {\n    return elem.type === \"tag\"\n    /* Tag */\n    || elem.type === \"script\"\n    /* Script */\n    || elem.type === \"style\"\n    /* Style */\n    ;\n  }\n\n  exports.isTag = isTag; // Exports for backwards compatibility\n\n  /** Type for the root element of a document */\n\n  exports.Root = \"root\"\n  /* Root */\n  ;\n  /** Type for Text */\n\n  exports.Text = \"text\"\n  /* Text */\n  ;\n  /** Type for <? ... ?> */\n\n  exports.Directive = \"directive\"\n  /* Directive */\n  ;\n  /** Type for <!-- ... --> */\n\n  exports.Comment = \"comment\"\n  /* Comment */\n  ;\n  /** Type for <script> tags */\n\n  exports.Script = \"script\"\n  /* Script */\n  ;\n  /** Type for <style> tags */\n\n  exports.Style = \"style\"\n  /* Style */\n  ;\n  /** Type for Any tag */\n\n  exports.Tag = \"tag\"\n  /* Tag */\n  ;\n  /** Type for <![CDATA[ ... ]]> */\n\n  exports.CDATA = \"cdata\"\n  /* CDATA */\n  ;\n  /** Type for <!doctype ...> */\n\n  exports.Doctype = \"doctype\"\n  /* Doctype */\n  ;\n});\nunwrapExports(lib$2);\nvar lib_1$2 = lib$2.Doctype;\nvar lib_2$1 = lib$2.CDATA;\nvar lib_3$1 = lib$2.Tag;\nvar lib_4$1 = lib$2.Style;\nvar lib_5$1 = lib$2.Script;\nvar lib_6$1 = lib$2.Comment;\nvar lib_7$1 = lib$2.Directive;\nvar lib_8$1 = lib$2.Text;\nvar lib_9$1 = lib$2.Root;\nvar lib_10$1 = lib$2.isTag;\nvar tagtypes = createCommonjsModule(function (module, exports) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.hasChildren = exports.isComment = exports.isText = exports.isCDATA = exports.isTag = void 0;\n  /**\n   * @param node Node to check.\n   * @returns `true` if the node is a `Element`, `false` otherwise.\n   */\n\n  function isTag(node) {\n    return lib$2.isTag(node);\n  }\n\n  exports.isTag = isTag;\n  /**\n   * @param node Node to check.\n   * @returns `true` if the node is a `NodeWithChildren`, `false` otherwise.\n   */\n\n  function isCDATA(node) {\n    return node.type === \"cdata\"\n    /* CDATA */\n    ;\n  }\n\n  exports.isCDATA = isCDATA;\n  /**\n   * @param node Node to check.\n   * @returns `true` if the node is a `DataNode`, `false` otherwise.\n   */\n\n  function isText(node) {\n    return node.type === \"text\"\n    /* Text */\n    ;\n  }\n\n  exports.isText = isText;\n  /**\n   * @param node Node to check.\n   * @returns `true` if the node is a `DataNode`, `false` otherwise.\n   */\n\n  function isComment(node) {\n    return node.type === \"comment\"\n    /* Comment */\n    ;\n  }\n\n  exports.isComment = isComment;\n  /**\n   * @param node Node to check.\n   * @returns `true` if the node is a `NodeWithChildren` (has children), `false` otherwise.\n   */\n\n  function hasChildren(node) {\n    return Object.prototype.hasOwnProperty.call(node, \"children\");\n  }\n\n  exports.hasChildren = hasChildren;\n});\nunwrapExports(tagtypes);\nvar tagtypes_1 = tagtypes.hasChildren;\nvar tagtypes_2 = tagtypes.isComment;\nvar tagtypes_3 = tagtypes.isText;\nvar tagtypes_4 = tagtypes.isCDATA;\nvar tagtypes_5 = tagtypes.isTag;\nvar foreignNames = createCommonjsModule(function (module, exports) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.attributeNames = exports.elementNames = void 0;\n  exports.elementNames = new Map([[\"altglyph\", \"altGlyph\"], [\"altglyphdef\", \"altGlyphDef\"], [\"altglyphitem\", \"altGlyphItem\"], [\"animatecolor\", \"animateColor\"], [\"animatemotion\", \"animateMotion\"], [\"animatetransform\", \"animateTransform\"], [\"clippath\", \"clipPath\"], [\"feblend\", \"feBlend\"], [\"fecolormatrix\", \"feColorMatrix\"], [\"fecomponenttransfer\", \"feComponentTransfer\"], [\"fecomposite\", \"feComposite\"], [\"feconvolvematrix\", \"feConvolveMatrix\"], [\"fediffuselighting\", \"feDiffuseLighting\"], [\"fedisplacementmap\", \"feDisplacementMap\"], [\"fedistantlight\", \"feDistantLight\"], [\"fedropshadow\", \"feDropShadow\"], [\"feflood\", \"feFlood\"], [\"fefunca\", \"feFuncA\"], [\"fefuncb\", \"feFuncB\"], [\"fefuncg\", \"feFuncG\"], [\"fefuncr\", \"feFuncR\"], [\"fegaussianblur\", \"feGaussianBlur\"], [\"feimage\", \"feImage\"], [\"femerge\", \"feMerge\"], [\"femergenode\", \"feMergeNode\"], [\"femorphology\", \"feMorphology\"], [\"feoffset\", \"feOffset\"], [\"fepointlight\", \"fePointLight\"], [\"fespecularlighting\", \"feSpecularLighting\"], [\"fespotlight\", \"feSpotLight\"], [\"fetile\", \"feTile\"], [\"feturbulence\", \"feTurbulence\"], [\"foreignobject\", \"foreignObject\"], [\"glyphref\", \"glyphRef\"], [\"lineargradient\", \"linearGradient\"], [\"radialgradient\", \"radialGradient\"], [\"textpath\", \"textPath\"]]);\n  exports.attributeNames = new Map([[\"definitionurl\", \"definitionURL\"], [\"attributename\", \"attributeName\"], [\"attributetype\", \"attributeType\"], [\"basefrequency\", \"baseFrequency\"], [\"baseprofile\", \"baseProfile\"], [\"calcmode\", \"calcMode\"], [\"clippathunits\", \"clipPathUnits\"], [\"diffuseconstant\", \"diffuseConstant\"], [\"edgemode\", \"edgeMode\"], [\"filterunits\", \"filterUnits\"], [\"glyphref\", \"glyphRef\"], [\"gradienttransform\", \"gradientTransform\"], [\"gradientunits\", \"gradientUnits\"], [\"kernelmatrix\", \"kernelMatrix\"], [\"kernelunitlength\", \"kernelUnitLength\"], [\"keypoints\", \"keyPoints\"], [\"keysplines\", \"keySplines\"], [\"keytimes\", \"keyTimes\"], [\"lengthadjust\", \"lengthAdjust\"], [\"limitingconeangle\", \"limitingConeAngle\"], [\"markerheight\", \"markerHeight\"], [\"markerunits\", \"markerUnits\"], [\"markerwidth\", \"markerWidth\"], [\"maskcontentunits\", \"maskContentUnits\"], [\"maskunits\", \"maskUnits\"], [\"numoctaves\", \"numOctaves\"], [\"pathlength\", \"pathLength\"], [\"patterncontentunits\", \"patternContentUnits\"], [\"patterntransform\", \"patternTransform\"], [\"patternunits\", \"patternUnits\"], [\"pointsatx\", \"pointsAtX\"], [\"pointsaty\", \"pointsAtY\"], [\"pointsatz\", \"pointsAtZ\"], [\"preservealpha\", \"preserveAlpha\"], [\"preserveaspectratio\", \"preserveAspectRatio\"], [\"primitiveunits\", \"primitiveUnits\"], [\"refx\", \"refX\"], [\"refy\", \"refY\"], [\"repeatcount\", \"repeatCount\"], [\"repeatdur\", \"repeatDur\"], [\"requiredextensions\", \"requiredExtensions\"], [\"requiredfeatures\", \"requiredFeatures\"], [\"specularconstant\", \"specularConstant\"], [\"specularexponent\", \"specularExponent\"], [\"spreadmethod\", \"spreadMethod\"], [\"startoffset\", \"startOffset\"], [\"stddeviation\", \"stdDeviation\"], [\"stitchtiles\", \"stitchTiles\"], [\"surfacescale\", \"surfaceScale\"], [\"systemlanguage\", \"systemLanguage\"], [\"tablevalues\", \"tableValues\"], [\"targetx\", \"targetX\"], [\"targety\", \"targetY\"], [\"textlength\", \"textLength\"], [\"viewbox\", \"viewBox\"], [\"viewtarget\", \"viewTarget\"], [\"xchannelselector\", \"xChannelSelector\"], [\"ychannelselector\", \"yChannelSelector\"], [\"zoomandpan\", \"zoomAndPan\"]]);\n});\nunwrapExports(foreignNames);\nvar foreignNames_1 = foreignNames.attributeNames;\nvar foreignNames_2 = foreignNames.elementNames;\nvar lib$3 = createCommonjsModule(function (module, exports) {\n  var __assign = commonjsGlobal && commonjsGlobal.__assign || function () {\n    __assign = Object.assign || function (t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n\n        for (var p in s) {\n          if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n        }\n      }\n\n      return t;\n    };\n\n    return __assign.apply(this, arguments);\n  };\n\n  var __createBinding = commonjsGlobal && commonjsGlobal.__createBinding || (Object.create ? function (o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    });\n  } : function (o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n  });\n\n  var __setModuleDefault = commonjsGlobal && commonjsGlobal.__setModuleDefault || (Object.create ? function (o, v) {\n    Object.defineProperty(o, \"default\", {\n      enumerable: true,\n      value: v\n    });\n  } : function (o, v) {\n    o[\"default\"] = v;\n  });\n\n  var __importStar = commonjsGlobal && commonjsGlobal.__importStar || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) {\n      if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    }\n\n    __setModuleDefault(result, mod);\n\n    return result;\n  };\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  /*\n   * Module dependencies\n   */\n\n  var ElementType = __importStar(lib$2);\n  /*\n   * Mixed-case SVG and MathML tags & attributes\n   * recognized by the HTML parser, see\n   * https://html.spec.whatwg.org/multipage/parsing.html#parsing-main-inforeign\n   */\n\n\n  var unencodedElements = new Set([\"style\", \"script\", \"xmp\", \"iframe\", \"noembed\", \"noframes\", \"plaintext\", \"noscript\"]);\n  /**\n   * Format attributes\n   */\n\n  function formatAttributes(attributes, opts) {\n    if (!attributes) return;\n    return Object.keys(attributes).map(function (key) {\n      var _a, _b;\n\n      var value = (_a = attributes[key]) !== null && _a !== void 0 ? _a : \"\";\n\n      if (opts.xmlMode === \"foreign\") {\n        /* Fix up mixed-case attribute names */\n        key = (_b = foreignNames.attributeNames.get(key)) !== null && _b !== void 0 ? _b : key;\n      }\n\n      if (!opts.emptyAttrs && !opts.xmlMode && value === \"\") {\n        return key;\n      }\n\n      return key + \"=\\\"\" + (opts.decodeEntities ? lib.encodeXML(value) : value.replace(/\"/g, \"&quot;\")) + \"\\\"\";\n    }).join(\" \");\n  }\n  /**\n   * Self-enclosing tags\n   */\n\n\n  var singleTag = new Set([\"area\", \"base\", \"basefont\", \"br\", \"col\", \"command\", \"embed\", \"frame\", \"hr\", \"img\", \"input\", \"isindex\", \"keygen\", \"link\", \"meta\", \"param\", \"source\", \"track\", \"wbr\"]);\n  /**\n   * Renders a DOM node or an array of DOM nodes to a string.\n   *\n   * Can be thought of as the equivalent of the `outerHTML` of the passed node(s).\n   *\n   * @param node Node to be rendered.\n   * @param options Changes serialization behavior\n   */\n\n  function render(node, options) {\n    if (options === void 0) {\n      options = {};\n    } // TODO: This is a bit hacky.\n\n\n    var nodes = Array.isArray(node) || node.cheerio ? node : [node];\n    var output = \"\";\n\n    for (var i = 0; i < nodes.length; i++) {\n      output += renderNode(nodes[i], options);\n    }\n\n    return output;\n  }\n\n  exports.default = render;\n\n  function renderNode(node, options) {\n    switch (node.type) {\n      case ElementType.Root:\n        return render(node.children, options);\n\n      case ElementType.Directive:\n      case ElementType.Doctype:\n        return renderDirective(node);\n\n      case ElementType.Comment:\n        return renderComment(node);\n\n      case ElementType.CDATA:\n        return renderCdata(node);\n\n      case ElementType.Script:\n      case ElementType.Style:\n      case ElementType.Tag:\n        return renderTag(node, options);\n\n      case ElementType.Text:\n        return renderText(node, options);\n    }\n  }\n\n  var foreignModeIntegrationPoints = new Set([\"mi\", \"mo\", \"mn\", \"ms\", \"mtext\", \"annotation-xml\", \"foreignObject\", \"desc\", \"title\"]);\n  var foreignElements = new Set([\"svg\", \"math\"]);\n\n  function renderTag(elem, opts) {\n    var _a; // Handle SVG / MathML in HTML\n\n\n    if (opts.xmlMode === \"foreign\") {\n      /* Fix up mixed-case element names */\n      elem.name = (_a = foreignNames.elementNames.get(elem.name)) !== null && _a !== void 0 ? _a : elem.name;\n      /* Exit foreign mode at integration points */\n\n      if (elem.parent && foreignModeIntegrationPoints.has(elem.parent.name)) {\n        opts = __assign(__assign({}, opts), {\n          xmlMode: false\n        });\n      }\n    }\n\n    if (!opts.xmlMode && foreignElements.has(elem.name)) {\n      opts = __assign(__assign({}, opts), {\n        xmlMode: \"foreign\"\n      });\n    }\n\n    var tag = \"<\" + elem.name;\n    var attribs = formatAttributes(elem.attribs, opts);\n\n    if (attribs) {\n      tag += \" \" + attribs;\n    }\n\n    if (elem.children.length === 0 && (opts.xmlMode ? // In XML mode or foreign mode, and user hasn't explicitly turned off self-closing tags\n    opts.selfClosingTags !== false : // User explicitly asked for self-closing tags, even in HTML mode\n    opts.selfClosingTags && singleTag.has(elem.name))) {\n      if (!opts.xmlMode) tag += \" \";\n      tag += \"/>\";\n    } else {\n      tag += \">\";\n\n      if (elem.children.length > 0) {\n        tag += render(elem.children, opts);\n      }\n\n      if (opts.xmlMode || !singleTag.has(elem.name)) {\n        tag += \"</\" + elem.name + \">\";\n      }\n    }\n\n    return tag;\n  }\n\n  function renderDirective(elem) {\n    return \"<\" + elem.data + \">\";\n  }\n\n  function renderText(elem, opts) {\n    var data = elem.data || \"\"; // If entities weren't decoded, no need to encode them back\n\n    if (opts.decodeEntities && !(elem.parent && unencodedElements.has(elem.parent.name))) {\n      data = lib.encodeXML(data);\n    }\n\n    return data;\n  }\n\n  function renderCdata(elem) {\n    return \"<![CDATA[\" + elem.children[0].data + \"]]>\";\n  }\n\n  function renderComment(elem) {\n    return \"<!--\" + elem.data + \"-->\";\n  }\n});\nunwrapExports(lib$3);\nvar stringify = createCommonjsModule(function (module, exports) {\n  var __importDefault = commonjsGlobal && commonjsGlobal.__importDefault || function (mod) {\n    return mod && mod.__esModule ? mod : {\n      \"default\": mod\n    };\n  };\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.getText = exports.getInnerHTML = exports.getOuterHTML = void 0;\n\n  var dom_serializer_1 = __importDefault(lib$3);\n  /**\n   * @param node Node to get the outer HTML of.\n   * @param options Options for serialization.\n   * @deprecated Use the `dom-serializer` module directly.\n   * @returns `node`'s outer HTML.\n   */\n\n\n  function getOuterHTML(node, options) {\n    return dom_serializer_1.default(node, options);\n  }\n\n  exports.getOuterHTML = getOuterHTML;\n  /**\n   * @param node Node to get the inner HTML of.\n   * @param options Options for serialization.\n   * @deprecated Use the `dom-serializer` module directly.\n   * @returns `node`'s inner HTML.\n   */\n\n  function getInnerHTML(node, options) {\n    return tagtypes.hasChildren(node) ? node.children.map(function (node) {\n      return getOuterHTML(node, options);\n    }).join(\"\") : \"\";\n  }\n\n  exports.getInnerHTML = getInnerHTML;\n  /**\n   * Get a node's inner text.\n   *\n   * @param node Node to get the inner text of.\n   * @returns `node`'s inner text.\n   */\n\n  function getText(node) {\n    if (Array.isArray(node)) return node.map(getText).join(\"\");\n    if (tagtypes.isTag(node)) return node.name === \"br\" ? \"\\n\" : getText(node.children);\n    if (tagtypes.isCDATA(node)) return getText(node.children);\n    if (tagtypes.isText(node)) return node.data;\n    return \"\";\n  }\n\n  exports.getText = getText;\n});\nunwrapExports(stringify);\nvar stringify_1 = stringify.getText;\nvar stringify_2 = stringify.getInnerHTML;\nvar stringify_3 = stringify.getOuterHTML;\nvar traversal = createCommonjsModule(function (module, exports) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.nextElementSibling = exports.getName = exports.hasAttrib = exports.getAttributeValue = exports.getSiblings = exports.getParent = exports.getChildren = void 0;\n  var emptyArray = [];\n  /**\n   * Get a node's children.\n   *\n   * @param elem Node to get the children of.\n   * @returns `elem`'s children, or an empty array.\n   */\n\n  function getChildren(elem) {\n    var _a;\n\n    return (_a = elem.children) !== null && _a !== void 0 ? _a : emptyArray;\n  }\n\n  exports.getChildren = getChildren;\n  /**\n   * Get a node's parent.\n   *\n   * @param elem Node to get the parent of.\n   * @returns `elem`'s parent node.\n   */\n\n  function getParent(elem) {\n    return elem.parent || null;\n  }\n\n  exports.getParent = getParent;\n  /**\n   * Gets an elements siblings, including the element itself.\n   *\n   * Attempts to get the children through the element's parent first.\n   * If we don't have a parent (the element is a root node),\n   * we walk the element's `prev` & `next` to get all remaining nodes.\n   *\n   * @param elem Element to get the siblings of.\n   * @returns `elem`'s siblings.\n   */\n\n  function getSiblings(elem) {\n    var _a, _b;\n\n    var parent = getParent(elem);\n    if (parent != null) return getChildren(parent);\n    var siblings = [elem];\n    var prev = elem.prev,\n        next = elem.next;\n\n    while (prev != null) {\n      siblings.unshift(prev);\n      _a = prev, prev = _a.prev;\n    }\n\n    while (next != null) {\n      siblings.push(next);\n      _b = next, next = _b.next;\n    }\n\n    return siblings;\n  }\n\n  exports.getSiblings = getSiblings;\n  /**\n   * Gets an attribute from an element.\n   *\n   * @param elem Element to check.\n   * @param name Attribute name to retrieve.\n   * @returns The element's attribute value, or `undefined`.\n   */\n\n  function getAttributeValue(elem, name) {\n    var _a;\n\n    return (_a = elem.attribs) === null || _a === void 0 ? void 0 : _a[name];\n  }\n\n  exports.getAttributeValue = getAttributeValue;\n  /**\n   * Checks whether an element has an attribute.\n   *\n   * @param elem Element to check.\n   * @param name Attribute name to look for.\n   * @returns Returns whether `elem` has the attribute `name`.\n   */\n\n  function hasAttrib(elem, name) {\n    return elem.attribs != null && Object.prototype.hasOwnProperty.call(elem.attribs, name) && elem.attribs[name] != null;\n  }\n\n  exports.hasAttrib = hasAttrib;\n  /**\n   * Get the tag name of an element.\n   *\n   * @param elem The element to get the name for.\n   * @returns The tag name of `elem`.\n   */\n\n  function getName(elem) {\n    return elem.name;\n  }\n\n  exports.getName = getName;\n  /**\n   * Returns the next element sibling of a node.\n   *\n   * @param elem The element to get the next sibling of.\n   * @returns `elem`'s next sibling that is a tag.\n   */\n\n  function nextElementSibling(elem) {\n    var _a;\n\n    var next = elem.next;\n\n    while (next !== null && !tagtypes.isTag(next)) {\n      _a = next, next = _a.next;\n    }\n\n    return next;\n  }\n\n  exports.nextElementSibling = nextElementSibling;\n});\nunwrapExports(traversal);\nvar traversal_1 = traversal.nextElementSibling;\nvar traversal_2 = traversal.getName;\nvar traversal_3 = traversal.hasAttrib;\nvar traversal_4 = traversal.getAttributeValue;\nvar traversal_5 = traversal.getSiblings;\nvar traversal_6 = traversal.getParent;\nvar traversal_7 = traversal.getChildren;\nvar manipulation = createCommonjsModule(function (module, exports) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.prepend = exports.prependChild = exports.append = exports.appendChild = exports.replaceElement = exports.removeElement = void 0;\n  /**\n   * Remove an element from the dom\n   *\n   * @param elem The element to be removed\n   */\n\n  function removeElement(elem) {\n    if (elem.prev) elem.prev.next = elem.next;\n    if (elem.next) elem.next.prev = elem.prev;\n\n    if (elem.parent) {\n      var childs = elem.parent.children;\n      childs.splice(childs.lastIndexOf(elem), 1);\n    }\n  }\n\n  exports.removeElement = removeElement;\n  /**\n   * Replace an element in the dom\n   *\n   * @param elem The element to be replaced\n   * @param replacement The element to be added\n   */\n\n  function replaceElement(elem, replacement) {\n    var prev = replacement.prev = elem.prev;\n\n    if (prev) {\n      prev.next = replacement;\n    }\n\n    var next = replacement.next = elem.next;\n\n    if (next) {\n      next.prev = replacement;\n    }\n\n    var parent = replacement.parent = elem.parent;\n\n    if (parent) {\n      var childs = parent.children;\n      childs[childs.lastIndexOf(elem)] = replacement;\n    }\n  }\n\n  exports.replaceElement = replaceElement;\n  /**\n   * Append a child to an element.\n   *\n   * @param elem The element to append to.\n   * @param child The element to be added as a child.\n   */\n\n  function appendChild(elem, child) {\n    removeElement(child);\n    child.next = null;\n    child.parent = elem;\n\n    if (elem.children.push(child) > 1) {\n      var sibling = elem.children[elem.children.length - 2];\n      sibling.next = child;\n      child.prev = sibling;\n    } else {\n      child.prev = null;\n    }\n  }\n\n  exports.appendChild = appendChild;\n  /**\n   * Append an element after another.\n   *\n   * @param elem The element to append after.\n   * @param next The element be added.\n   */\n\n  function append(elem, next) {\n    removeElement(next);\n    var parent = elem.parent;\n    var currNext = elem.next;\n    next.next = currNext;\n    next.prev = elem;\n    elem.next = next;\n    next.parent = parent;\n\n    if (currNext) {\n      currNext.prev = next;\n\n      if (parent) {\n        var childs = parent.children;\n        childs.splice(childs.lastIndexOf(currNext), 0, next);\n      }\n    } else if (parent) {\n      parent.children.push(next);\n    }\n  }\n\n  exports.append = append;\n  /**\n   * Prepend a child to an element.\n   *\n   * @param elem The element to prepend before.\n   * @param child The element to be added as a child.\n   */\n\n  function prependChild(elem, child) {\n    removeElement(child);\n    child.parent = elem;\n    child.prev = null;\n\n    if (elem.children.unshift(child) !== 1) {\n      var sibling = elem.children[1];\n      sibling.prev = child;\n      child.next = sibling;\n    } else {\n      child.next = null;\n    }\n  }\n\n  exports.prependChild = prependChild;\n  /**\n   * Prepend an element before another.\n   *\n   * @param elem The element to prepend before.\n   * @param prev The element be added.\n   */\n\n  function prepend(elem, prev) {\n    removeElement(prev);\n    var parent = elem.parent;\n\n    if (parent) {\n      var childs = parent.children;\n      childs.splice(childs.indexOf(elem), 0, prev);\n    }\n\n    if (elem.prev) {\n      elem.prev.next = prev;\n    }\n\n    prev.parent = parent;\n    prev.prev = elem.prev;\n    prev.next = elem;\n    elem.prev = prev;\n  }\n\n  exports.prepend = prepend;\n});\nunwrapExports(manipulation);\nvar manipulation_1 = manipulation.prepend;\nvar manipulation_2 = manipulation.prependChild;\nvar manipulation_3 = manipulation.append;\nvar manipulation_4 = manipulation.appendChild;\nvar manipulation_5 = manipulation.replaceElement;\nvar manipulation_6 = manipulation.removeElement;\nvar querying = createCommonjsModule(function (module, exports) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.findAll = exports.existsOne = exports.findOne = exports.findOneChild = exports.find = exports.filter = void 0;\n  /**\n   * Search a node and its children for nodes passing a test function.\n   *\n   * @param test Function to test nodes on.\n   * @param node Node to search. Will be included in the result set if it matches.\n   * @param recurse Also consider child nodes.\n   * @param limit Maximum number of nodes to return.\n   * @returns All nodes passing `test`.\n   */\n\n  function filter(test, node, recurse, limit) {\n    if (recurse === void 0) {\n      recurse = true;\n    }\n\n    if (limit === void 0) {\n      limit = Infinity;\n    }\n\n    if (!Array.isArray(node)) node = [node];\n    return find(test, node, recurse, limit);\n  }\n\n  exports.filter = filter;\n  /**\n   * Search an array of node and its children for nodes passing a test function.\n   *\n   * @param test Function to test nodes on.\n   * @param nodes Array of nodes to search.\n   * @param recurse Also consider child nodes.\n   * @param limit Maximum number of nodes to return.\n   * @returns All nodes passing `test`.\n   */\n\n  function find(test, nodes, recurse, limit) {\n    var result = [];\n\n    for (var _i = 0, nodes_1 = nodes; _i < nodes_1.length; _i++) {\n      var elem = nodes_1[_i];\n\n      if (test(elem)) {\n        result.push(elem);\n        if (--limit <= 0) break;\n      }\n\n      if (recurse && tagtypes.hasChildren(elem) && elem.children.length > 0) {\n        var children = find(test, elem.children, recurse, limit);\n        result.push.apply(result, children);\n        limit -= children.length;\n        if (limit <= 0) break;\n      }\n    }\n\n    return result;\n  }\n\n  exports.find = find;\n  /**\n   * Finds the first element inside of an array that matches a test function.\n   *\n   * @param test Function to test nodes on.\n   * @param nodes Array of nodes to search.\n   * @returns The first node in the array that passes `test`.\n   */\n\n  function findOneChild(test, nodes) {\n    return nodes.find(test);\n  }\n\n  exports.findOneChild = findOneChild;\n  /**\n   * Finds one element in a tree that passes a test.\n   *\n   * @param test Function to test nodes on.\n   * @param nodes Array of nodes to search.\n   * @param recurse Also consider child nodes.\n   * @returns The first child node that passes `test`.\n   */\n\n  function findOne(test, nodes, recurse) {\n    if (recurse === void 0) {\n      recurse = true;\n    }\n\n    var elem = null;\n\n    for (var i = 0; i < nodes.length && !elem; i++) {\n      var checked = nodes[i];\n\n      if (!tagtypes.isTag(checked)) {\n        continue;\n      } else if (test(checked)) {\n        elem = checked;\n      } else if (recurse && checked.children.length > 0) {\n        elem = findOne(test, checked.children);\n      }\n    }\n\n    return elem;\n  }\n\n  exports.findOne = findOne;\n  /**\n   * @param test Function to test nodes on.\n   * @param nodes Array of nodes to search.\n   * @returns Whether a tree of nodes contains at least one node passing a test.\n   */\n\n  function existsOne(test, nodes) {\n    return nodes.some(function (checked) {\n      return tagtypes.isTag(checked) && (test(checked) || checked.children.length > 0 && existsOne(test, checked.children));\n    });\n  }\n\n  exports.existsOne = existsOne;\n  /**\n   * Search and array of nodes and its children for nodes passing a test function.\n   *\n   * Same as `find`, only with less options, leading to reduced complexity.\n   *\n   * @param test Function to test nodes on.\n   * @param nodes Array of nodes to search.\n   * @returns All nodes passing `test`.\n   */\n\n  function findAll(test, nodes) {\n    var _a;\n\n    var result = [];\n    var stack = nodes.filter(tagtypes.isTag);\n    var elem;\n\n    while (elem = stack.shift()) {\n      var children = (_a = elem.children) === null || _a === void 0 ? void 0 : _a.filter(tagtypes.isTag);\n\n      if (children && children.length > 0) {\n        stack.unshift.apply(stack, children);\n      }\n\n      if (test(elem)) result.push(elem);\n    }\n\n    return result;\n  }\n\n  exports.findAll = findAll;\n});\nunwrapExports(querying);\nvar querying_1 = querying.findAll;\nvar querying_2 = querying.existsOne;\nvar querying_3 = querying.findOne;\nvar querying_4 = querying.findOneChild;\nvar querying_5 = querying.find;\nvar querying_6 = querying.filter;\nvar legacy$2 = createCommonjsModule(function (module, exports) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.getElementsByTagType = exports.getElementsByTagName = exports.getElementById = exports.getElements = exports.testElement = void 0;\n  var Checks = {\n    tag_name: function tag_name(name) {\n      if (typeof name === \"function\") {\n        return function (elem) {\n          return tagtypes.isTag(elem) && name(elem.name);\n        };\n      } else if (name === \"*\") {\n        return tagtypes.isTag;\n      }\n\n      return function (elem) {\n        return tagtypes.isTag(elem) && elem.name === name;\n      };\n    },\n    tag_type: function tag_type(type) {\n      if (typeof type === \"function\") {\n        return function (elem) {\n          return type(elem.type);\n        };\n      }\n\n      return function (elem) {\n        return elem.type === type;\n      };\n    },\n    tag_contains: function tag_contains(data) {\n      if (typeof data === \"function\") {\n        return function (elem) {\n          return tagtypes.isText(elem) && data(elem.data);\n        };\n      }\n\n      return function (elem) {\n        return tagtypes.isText(elem) && elem.data === data;\n      };\n    }\n  };\n  /**\n   * @param attrib Attribute to check.\n   * @param value Attribute value to look for.\n   * @returns A function to check whether the a node has an attribute with a particular value.\n   */\n\n  function getAttribCheck(attrib, value) {\n    if (typeof value === \"function\") {\n      return function (elem) {\n        return tagtypes.isTag(elem) && value(elem.attribs[attrib]);\n      };\n    }\n\n    return function (elem) {\n      return tagtypes.isTag(elem) && elem.attribs[attrib] === value;\n    };\n  }\n  /**\n   * @param a First function to combine.\n   * @param b Second function to combine.\n   * @returns A function taking a node and returning `true` if either\n   * of the input functions returns `true` for the node.\n   */\n\n\n  function combineFuncs(a, b) {\n    return function (elem) {\n      return a(elem) || b(elem);\n    };\n  }\n  /**\n   * @param options An object describing nodes to look for.\n   * @returns A function executing all checks in `options` and returning `true`\n   * if any of them match a node.\n   */\n\n\n  function compileTest(options) {\n    var funcs = Object.keys(options).map(function (key) {\n      var value = options[key];\n      return key in Checks ? Checks[key](value) : getAttribCheck(key, value);\n    });\n    return funcs.length === 0 ? null : funcs.reduce(combineFuncs);\n  }\n  /**\n   * @param options An object describing nodes to look for.\n   * @param node The element to test.\n   * @returns Whether the element matches the description in `options`.\n   */\n\n\n  function testElement(options, node) {\n    var test = compileTest(options);\n    return test ? test(node) : true;\n  }\n\n  exports.testElement = testElement;\n  /**\n   * @param options An object describing nodes to look for.\n   * @param nodes Nodes to search through.\n   * @param recurse Also consider child nodes.\n   * @param limit Maximum number of nodes to return.\n   * @returns All nodes that match `options`.\n   */\n\n  function getElements(options, nodes, recurse, limit) {\n    if (limit === void 0) {\n      limit = Infinity;\n    }\n\n    var test = compileTest(options);\n    return test ? querying.filter(test, nodes, recurse, limit) : [];\n  }\n\n  exports.getElements = getElements;\n  /**\n   * @param id The unique ID attribute value to look for.\n   * @param nodes Nodes to search through.\n   * @param recurse Also consider child nodes.\n   * @returns The node with the supplied ID.\n   */\n\n  function getElementById(id, nodes, recurse) {\n    if (recurse === void 0) {\n      recurse = true;\n    }\n\n    if (!Array.isArray(nodes)) nodes = [nodes];\n    return querying.findOne(getAttribCheck(\"id\", id), nodes, recurse);\n  }\n\n  exports.getElementById = getElementById;\n  /**\n   * @param tagName Tag name to search for.\n   * @param nodes Nodes to search through.\n   * @param recurse Also consider child nodes.\n   * @param limit Maximum number of nodes to return.\n   * @returns All nodes with the supplied `tagName`.\n   */\n\n  function getElementsByTagName(tagName, nodes, recurse, limit) {\n    if (recurse === void 0) {\n      recurse = true;\n    }\n\n    if (limit === void 0) {\n      limit = Infinity;\n    }\n\n    return querying.filter(Checks.tag_name(tagName), nodes, recurse, limit);\n  }\n\n  exports.getElementsByTagName = getElementsByTagName;\n  /**\n   * @param type Element type to look for.\n   * @param nodes Nodes to search through.\n   * @param recurse Also consider child nodes.\n   * @param limit Maximum number of nodes to return.\n   * @returns All nodes with the supplied `type`.\n   */\n\n  function getElementsByTagType(type, nodes, recurse, limit) {\n    if (recurse === void 0) {\n      recurse = true;\n    }\n\n    if (limit === void 0) {\n      limit = Infinity;\n    }\n\n    return querying.filter(Checks.tag_type(type), nodes, recurse, limit);\n  }\n\n  exports.getElementsByTagType = getElementsByTagType;\n});\nunwrapExports(legacy$2);\nvar legacy_1 = legacy$2.getElementsByTagType;\nvar legacy_2 = legacy$2.getElementsByTagName;\nvar legacy_3 = legacy$2.getElementById;\nvar legacy_4 = legacy$2.getElements;\nvar legacy_5 = legacy$2.testElement;\nvar helpers = createCommonjsModule(function (module, exports) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.uniqueSort = exports.compareDocumentPosition = exports.removeSubsets = void 0;\n  /**\n   * Given an array of nodes, remove any member that is contained by another.\n   *\n   * @param nodes Nodes to filter.\n   * @returns Remaining nodes that aren't subtrees of each other.\n   */\n\n  function removeSubsets(nodes) {\n    var idx = nodes.length;\n    /*\n     * Check if each node (or one of its ancestors) is already contained in the\n     * array.\n     */\n\n    while (--idx >= 0) {\n      var node = nodes[idx];\n      /*\n       * Remove the node if it is not unique.\n       * We are going through the array from the end, so we only\n       * have to check nodes that preceed the node under consideration in the array.\n       */\n\n      if (idx > 0 && nodes.lastIndexOf(node, idx - 1) >= 0) {\n        nodes.splice(idx, 1);\n        continue;\n      }\n\n      for (var ancestor = node.parent; ancestor; ancestor = ancestor.parent) {\n        if (nodes.includes(ancestor)) {\n          nodes.splice(idx, 1);\n          break;\n        }\n      }\n    }\n\n    return nodes;\n  }\n\n  exports.removeSubsets = removeSubsets;\n  /**\n   * Compare the position of one node against another node in any other document.\n   * The return value is a bitmask with the following values:\n   *\n   * Document order:\n   * > There is an ordering, document order, defined on all the nodes in the\n   * > document corresponding to the order in which the first character of the\n   * > XML representation of each node occurs in the XML representation of the\n   * > document after expansion of general entities. Thus, the document element\n   * > node will be the first node. Element nodes occur before their children.\n   * > Thus, document order orders element nodes in order of the occurrence of\n   * > their start-tag in the XML (after expansion of entities). The attribute\n   * > nodes of an element occur after the element and before its children. The\n   * > relative order of attribute nodes is implementation-dependent./\n   *\n   * Source:\n   * http://www.w3.org/TR/DOM-Level-3-Core/glossary.html#dt-document-order\n   *\n   * @param nodeA The first node to use in the comparison\n   * @param nodeB The second node to use in the comparison\n   * @returns A bitmask describing the input nodes' relative position.\n   *\n   * See http://dom.spec.whatwg.org/#dom-node-comparedocumentposition for\n   * a description of these values.\n   */\n\n  function compareDocumentPosition(nodeA, nodeB) {\n    var aParents = [];\n    var bParents = [];\n\n    if (nodeA === nodeB) {\n      return 0;\n    }\n\n    var current = tagtypes.hasChildren(nodeA) ? nodeA : nodeA.parent;\n\n    while (current) {\n      aParents.unshift(current);\n      current = current.parent;\n    }\n\n    current = tagtypes.hasChildren(nodeB) ? nodeB : nodeB.parent;\n\n    while (current) {\n      bParents.unshift(current);\n      current = current.parent;\n    }\n\n    var maxIdx = Math.min(aParents.length, bParents.length);\n    var idx = 0;\n\n    while (idx < maxIdx && aParents[idx] === bParents[idx]) {\n      idx++;\n    }\n\n    if (idx === 0) {\n      return 1\n      /* DISCONNECTED */\n      ;\n    }\n\n    var sharedParent = aParents[idx - 1];\n    var siblings = sharedParent.children;\n    var aSibling = aParents[idx];\n    var bSibling = bParents[idx];\n\n    if (siblings.indexOf(aSibling) > siblings.indexOf(bSibling)) {\n      if (sharedParent === nodeB) {\n        return 4\n        /* FOLLOWING */\n        | 16\n        /* CONTAINED_BY */\n        ;\n      }\n\n      return 4\n      /* FOLLOWING */\n      ;\n    }\n\n    if (sharedParent === nodeA) {\n      return 2\n      /* PRECEDING */\n      | 8\n      /* CONTAINS */\n      ;\n    }\n\n    return 2\n    /* PRECEDING */\n    ;\n  }\n\n  exports.compareDocumentPosition = compareDocumentPosition;\n  /**\n   * Sort an array of nodes based on their relative position in the document and\n   * remove any duplicate nodes. If the array contains nodes that do not belong\n   * to the same document, sort order is unspecified.\n   *\n   * @param nodes Array of DOM nodes.\n   * @returns Collection of unique nodes, sorted in document order.\n   */\n\n  function uniqueSort(nodes) {\n    nodes = nodes.filter(function (node, i, arr) {\n      return !arr.includes(node, i + 1);\n    });\n    nodes.sort(function (a, b) {\n      var relative = compareDocumentPosition(a, b);\n\n      if (relative & 2\n      /* PRECEDING */\n      ) {\n          return -1;\n        } else if (relative & 4\n      /* FOLLOWING */\n      ) {\n          return 1;\n        }\n\n      return 0;\n    });\n    return nodes;\n  }\n\n  exports.uniqueSort = uniqueSort;\n});\nunwrapExports(helpers);\nvar helpers_1 = helpers.uniqueSort;\nvar helpers_2 = helpers.compareDocumentPosition;\nvar helpers_3 = helpers.removeSubsets;\nvar lib$4 = createCommonjsModule(function (module, exports) {\n  var __createBinding = commonjsGlobal && commonjsGlobal.__createBinding || (Object.create ? function (o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    });\n  } : function (o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n  });\n\n  var __exportStar = commonjsGlobal && commonjsGlobal.__exportStar || function (m, exports) {\n    for (var p in m) {\n      if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n    }\n  };\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  __exportStar(stringify, exports);\n\n  __exportStar(traversal, exports);\n\n  __exportStar(manipulation, exports);\n\n  __exportStar(querying, exports);\n\n  __exportStar(legacy$2, exports);\n\n  __exportStar(helpers, exports);\n\n  __exportStar(tagtypes, exports);\n});\nunwrapExports(lib$4);\nvar FeedHandler_1 = createCommonjsModule(function (module, exports) {\n  var __extends = commonjsGlobal && commonjsGlobal.__extends || function () {\n    var _extendStatics4 = function extendStatics(d, b) {\n      _extendStatics4 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (d, b) {\n        d.__proto__ = b;\n      } || function (d, b) {\n        for (var p in b) {\n          if (b.hasOwnProperty(p)) d[p] = b[p];\n        }\n      };\n\n      return _extendStatics4(d, b);\n    };\n\n    return function (d, b) {\n      _extendStatics4(d, b);\n\n      function __() {\n        this.constructor = d;\n      }\n\n      d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n  }();\n\n  var __importDefault = commonjsGlobal && commonjsGlobal.__importDefault || function (mod) {\n    return mod && mod.__esModule ? mod : {\n      \"default\": mod\n    };\n  };\n\n  var __importStar = commonjsGlobal && commonjsGlobal.__importStar || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) {\n      if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    }\n    result[\"default\"] = mod;\n    return result;\n  };\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var domhandler_1 = __importDefault(lib$1);\n\n  var DomUtils = __importStar(lib$4); //TODO: Consume data as it is coming in\n\n\n  var FeedHandler =\n  /** @class */\n  function (_super) {\n    __extends(FeedHandler, _super);\n    /**\n     *\n     * @param callback\n     * @param options\n     */\n\n\n    function FeedHandler(callback, options) {\n      var _this = this;\n\n      if (typeof callback === \"object\" && callback !== null) {\n        callback = undefined;\n        options = callback;\n      }\n\n      _this = _super.call(this, callback, options) || this;\n      return _this;\n    }\n\n    FeedHandler.prototype.onend = function () {\n      var feed = {};\n      var feedRoot = getOneElement(isValidFeed, this.dom);\n\n      if (feedRoot) {\n        if (feedRoot.name === \"feed\") {\n          var childs = feedRoot.children;\n          feed.type = \"atom\";\n          addConditionally(feed, \"id\", \"id\", childs);\n          addConditionally(feed, \"title\", \"title\", childs);\n          var href = getAttribute(\"href\", getOneElement(\"link\", childs));\n\n          if (href) {\n            feed.link = href;\n          }\n\n          addConditionally(feed, \"description\", \"subtitle\", childs);\n          var updated = fetch(\"updated\", childs);\n\n          if (updated) {\n            feed.updated = new Date(updated);\n          }\n\n          addConditionally(feed, \"author\", \"email\", childs, true);\n          feed.items = getElements(\"entry\", childs).map(function (item) {\n            var entry = {};\n            var children = item.children;\n            addConditionally(entry, \"id\", \"id\", children);\n            addConditionally(entry, \"title\", \"title\", children);\n            var href = getAttribute(\"href\", getOneElement(\"link\", children));\n\n            if (href) {\n              entry.link = href;\n            }\n\n            var description = fetch(\"summary\", children) || fetch(\"content\", children);\n\n            if (description) {\n              entry.description = description;\n            }\n\n            var pubDate = fetch(\"updated\", children);\n\n            if (pubDate) {\n              entry.pubDate = new Date(pubDate);\n            }\n\n            return entry;\n          });\n        } else {\n          var childs = getOneElement(\"channel\", feedRoot.children).children;\n          feed.type = feedRoot.name.substr(0, 3);\n          feed.id = \"\";\n          addConditionally(feed, \"title\", \"title\", childs);\n          addConditionally(feed, \"link\", \"link\", childs);\n          addConditionally(feed, \"description\", \"description\", childs);\n          var updated = fetch(\"lastBuildDate\", childs);\n\n          if (updated) {\n            feed.updated = new Date(updated);\n          }\n\n          addConditionally(feed, \"author\", \"managingEditor\", childs, true);\n          feed.items = getElements(\"item\", feedRoot.children).map(function (item) {\n            var entry = {};\n            var children = item.children;\n            addConditionally(entry, \"id\", \"guid\", children);\n            addConditionally(entry, \"title\", \"title\", children);\n            addConditionally(entry, \"link\", \"link\", children);\n            addConditionally(entry, \"description\", \"description\", children);\n            var pubDate = fetch(\"pubDate\", children);\n            if (pubDate) entry.pubDate = new Date(pubDate);\n            return entry;\n          });\n        }\n      }\n\n      this.feed = feed;\n      this.handleCallback(feedRoot ? null : Error(\"couldn't find root of feed\"));\n    };\n\n    return FeedHandler;\n  }(domhandler_1.default);\n\n  exports.FeedHandler = FeedHandler;\n\n  function getElements(what, where) {\n    return DomUtils.getElementsByTagName(what, where, true);\n  }\n\n  function getOneElement(what, where) {\n    return DomUtils.getElementsByTagName(what, where, true, 1)[0];\n  }\n\n  function fetch(what, where, recurse) {\n    if (recurse === void 0) {\n      recurse = false;\n    }\n\n    return DomUtils.getText(DomUtils.getElementsByTagName(what, where, recurse, 1)).trim();\n  }\n\n  function getAttribute(name, elem) {\n    if (!elem) {\n      return null;\n    }\n\n    var attribs = elem.attribs;\n    return attribs[name];\n  }\n\n  function addConditionally(obj, prop, what, where, recurse) {\n    if (recurse === void 0) {\n      recurse = false;\n    }\n\n    var tmp = fetch(what, where, recurse); // @ts-ignore\n\n    if (tmp) obj[prop] = tmp;\n  }\n\n  function isValidFeed(value) {\n    return value === \"rss\" || value === \"feed\" || value === \"rdf:RDF\";\n  }\n\n  var defaultOptions = {\n    xmlMode: true\n  };\n  /**\n   * Parse a feed.\n   *\n   * @param feed The feed that should be parsed, as a string.\n   * @param options Optionally, options for parsing. When using this option, you probably want to set `xmlMode` to `true`.\n   */\n\n  function parseFeed(feed, options) {\n    if (options === void 0) {\n      options = defaultOptions;\n    }\n\n    var handler = new FeedHandler(options);\n    new Parser_1.Parser(handler, options).end(feed);\n    return handler.feed;\n  }\n\n  exports.parseFeed = parseFeed;\n});\nunwrapExports(FeedHandler_1);\nvar FeedHandler_2 = FeedHandler_1.FeedHandler;\nvar FeedHandler_3 = FeedHandler_1.parseFeed;\nvar _nodeResolve_empty = {};\n\nvar _nodeResolve_empty$1 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  'default': _nodeResolve_empty\n});\n\nvar MultiplexHandler_1 = createCommonjsModule(function (module, exports) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  /**\n   * Calls a specific handler function for all events that are encountered.\n   *\n   * @param func — The function to multiplex all events to.\n   */\n\n  var MultiplexHandler =\n  /** @class */\n  function () {\n    function MultiplexHandler(func) {\n      this._func = func;\n    }\n    /* Format: eventname: number of arguments */\n\n\n    MultiplexHandler.prototype.onattribute = function (name, value) {\n      this._func(\"onattribute\", name, value);\n    };\n\n    MultiplexHandler.prototype.oncdatastart = function () {\n      this._func(\"oncdatastart\");\n    };\n\n    MultiplexHandler.prototype.oncdataend = function () {\n      this._func(\"oncdataend\");\n    };\n\n    MultiplexHandler.prototype.ontext = function (text) {\n      this._func(\"ontext\", text);\n    };\n\n    MultiplexHandler.prototype.onprocessinginstruction = function (name, value) {\n      this._func(\"onprocessinginstruction\", name, value);\n    };\n\n    MultiplexHandler.prototype.oncomment = function (comment) {\n      this._func(\"oncomment\", comment);\n    };\n\n    MultiplexHandler.prototype.oncommentend = function () {\n      this._func(\"oncommentend\");\n    };\n\n    MultiplexHandler.prototype.onclosetag = function (name) {\n      this._func(\"onclosetag\", name);\n    };\n\n    MultiplexHandler.prototype.onopentag = function (name, attribs) {\n      this._func(\"onopentag\", name, attribs);\n    };\n\n    MultiplexHandler.prototype.onopentagname = function (name) {\n      this._func(\"onopentagname\", name);\n    };\n\n    MultiplexHandler.prototype.onerror = function (error) {\n      this._func(\"onerror\", error);\n    };\n\n    MultiplexHandler.prototype.onend = function () {\n      this._func(\"onend\");\n    };\n\n    MultiplexHandler.prototype.onparserinit = function (parser) {\n      this._func(\"onparserinit\", parser);\n    };\n\n    MultiplexHandler.prototype.onreset = function () {\n      this._func(\"onreset\");\n    };\n\n    return MultiplexHandler;\n  }();\n\n  exports.default = MultiplexHandler;\n});\nunwrapExports(MultiplexHandler_1);\nvar CollectingHandler_1 = createCommonjsModule(function (module, exports) {\n  var __extends = commonjsGlobal && commonjsGlobal.__extends || function () {\n    var _extendStatics5 = function extendStatics(d, b) {\n      _extendStatics5 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (d, b) {\n        d.__proto__ = b;\n      } || function (d, b) {\n        for (var p in b) {\n          if (b.hasOwnProperty(p)) d[p] = b[p];\n        }\n      };\n\n      return _extendStatics5(d, b);\n    };\n\n    return function (d, b) {\n      _extendStatics5(d, b);\n\n      function __() {\n        this.constructor = d;\n      }\n\n      d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n  }();\n\n  var __importDefault = commonjsGlobal && commonjsGlobal.__importDefault || function (mod) {\n    return mod && mod.__esModule ? mod : {\n      \"default\": mod\n    };\n  };\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var MultiplexHandler_1$1 = __importDefault(MultiplexHandler_1);\n\n  var CollectingHandler =\n  /** @class */\n  function (_super) {\n    __extends(CollectingHandler, _super);\n\n    function CollectingHandler(cbs) {\n      if (cbs === void 0) {\n        cbs = {};\n      }\n\n      var _this = _super.call(this, function (name) {\n        var _a;\n\n        var args = [];\n\n        for (var _i = 1; _i < arguments.length; _i++) {\n          args[_i - 1] = arguments[_i];\n        }\n\n        _this.events.push([name].concat(args)); // @ts-ignore\n\n\n        if (_this._cbs[name]) (_a = _this._cbs)[name].apply(_a, args);\n      }) || this;\n\n      _this._cbs = cbs;\n      _this.events = [];\n      return _this;\n    }\n\n    CollectingHandler.prototype.onreset = function () {\n      this.events = [];\n      if (this._cbs.onreset) this._cbs.onreset();\n    };\n\n    CollectingHandler.prototype.restart = function () {\n      var _a;\n\n      if (this._cbs.onreset) this._cbs.onreset();\n\n      for (var i = 0; i < this.events.length; i++) {\n        var _b = this.events[i],\n            name_1 = _b[0],\n            args = _b.slice(1);\n\n        if (!this._cbs[name_1]) {\n          continue;\n        } // @ts-ignore\n\n\n        (_a = this._cbs)[name_1].apply(_a, args);\n      }\n    };\n\n    return CollectingHandler;\n  }(MultiplexHandler_1$1.default);\n\n  exports.CollectingHandler = CollectingHandler;\n});\nunwrapExports(CollectingHandler_1);\nvar CollectingHandler_2 = CollectingHandler_1.CollectingHandler;\nvar require$$2$1 = getCjsExportFromNamespace(_nodeResolve_empty$1);\nvar lib$5 = createCommonjsModule(function (module, exports) {\n  function __export(m) {\n    for (var p in m) {\n      if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n    }\n  }\n\n  var __importStar = commonjsGlobal && commonjsGlobal.__importStar || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) {\n      if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    }\n    result[\"default\"] = mod;\n    return result;\n  };\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.Parser = Parser_1.Parser;\n  exports.DomHandler = lib$1.DomHandler;\n  exports.DefaultHandler = lib$1.DomHandler; // Helper methods\n\n  /**\n   * Parses data, returns the resulting DOM.\n   *\n   * @param data The data that should be parsed.\n   * @param options Optional options for the parser and DOM builder.\n   */\n\n  function parseDOM(data, options) {\n    var handler = new lib$1.DomHandler(void 0, options);\n    new Parser_1.Parser(handler, options).end(data);\n    return handler.dom;\n  }\n\n  exports.parseDOM = parseDOM;\n  /**\n   * Creates a parser instance, with an attached DOM handler.\n   *\n   * @param cb A callback that will be called once parsing has been completed.\n   * @param options Optional options for the parser and DOM builder.\n   * @param elementCb An optional callback that will be called every time a tag has been completed inside of the DOM.\n   */\n\n  function createDomStream(cb, options, elementCb) {\n    var handler = new lib$1.DomHandler(cb, options, elementCb);\n    return new Parser_1.Parser(handler, options);\n  }\n\n  exports.createDomStream = createDomStream;\n  exports.Tokenizer = Tokenizer_1.default;\n\n  var ElementType = __importStar(lib$2);\n\n  exports.ElementType = ElementType;\n  /**\n   * List of all events that the parser emits.\n   *\n   * Format: eventname: number of arguments.\n   */\n\n  exports.EVENTS = {\n    attribute: 2,\n    cdatastart: 0,\n    cdataend: 0,\n    text: 1,\n    processinginstruction: 2,\n    comment: 1,\n    commentend: 0,\n    closetag: 1,\n    opentag: 2,\n    opentagname: 1,\n    error: 1,\n    end: 0\n  };\n  /*\n      All of the following exports exist for backwards-compatibility.\n      They should probably be removed eventually.\n  */\n\n  __export(FeedHandler_1);\n\n  __export(require$$2$1);\n\n  __export(CollectingHandler_1);\n\n  var DomUtils = __importStar(lib$4);\n\n  exports.DomUtils = DomUtils;\n  var FeedHandler_1$1 = FeedHandler_1;\n  exports.RssHandler = FeedHandler_1$1.FeedHandler;\n});\nunwrapExports(lib$5);\nvar lib_1$3 = lib$5.Parser;\nvar lib_2$2 = lib$5.DomHandler;\nvar lib_3$2 = lib$5.DefaultHandler;\nvar lib_4$2 = lib$5.parseDOM;\nvar lib_5$2 = lib$5.createDomStream;\nvar lib_6$2 = lib$5.Tokenizer;\nvar lib_7$2 = lib$5.ElementType;\nvar lib_8$2 = lib$5.EVENTS;\nvar lib_9$2 = lib$5.DomUtils;\nvar lib_10$2 = lib$5.RssHandler;\n\nvar SaxParser =\n/** @class */\nfunction () {\n  function SaxParser() {\n    var _this = this;\n    /**\r\n     * Base event handlers used by this class. These are available no matter what\r\n     * the current `state` is.\r\n     */\n\n\n    this.baseHandlers = {}; // parser state stack which manages the current callbacks\n\n    this.state = []; // create a handler function which responds to all events, forwarding them\n    // to our `onEvent` handler\n\n    var handler = Object.keys(lib_8$2).reduce(function (handler, evt) {\n      var fnName = \"on\" + evt;\n      handler[fnName] = _this.onEvent.bind(_this, fnName);\n      return handler;\n    }, {});\n    this.parser = new lib_1$3(handler, {\n      decodeEntities: false\n    });\n  }\n  /**\r\n   * On a parser event, check if our current state contains a handler function.\r\n   * If so, call that function, passing the parser object as first argument,\r\n   * followed by event arguments.\r\n   *\r\n   * @param fnName parser event name\r\n   * @param args parser event arguments\r\n   */\n\n\n  SaxParser.prototype.onEvent = function (fnName) {\n    var _a;\n\n    var args = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      args[_i - 1] = arguments[_i];\n    }\n\n    var _b = this,\n        parser = _b.parser,\n        state = _b.state,\n        baseHandlers = _b.baseHandlers;\n\n    if (state[0][fnName]) {\n      return (_a = state[0])[fnName].apply(_a, __spreadArrays([parser], args));\n    }\n\n    if (baseHandlers[fnName]) {\n      return baseHandlers[fnName].apply(baseHandlers, args);\n    }\n  };\n\n  SaxParser.prototype.parse = function (html) {\n    var _this = this;\n\n    var parser = this.parser;\n    var promise = new Promise(function (resolve, reject) {\n      _this.baseHandlers = {\n        onerror: function onerror(err) {\n          // eslint-disable-next-line no-console\n          console.error('Document Parsing Error', err);\n          reject(new ParsingError(err));\n        },\n        onend: function onend() {\n          resolve();\n        }\n      };\n    });\n    parser.write(html);\n    parser.end();\n    return promise;\n  };\n\n  SaxParser.prototype.pushState = function (newState) {\n    this.state.unshift(newState);\n  };\n\n  SaxParser.prototype.popState = function () {\n    this.state.shift();\n  };\n\n  return SaxParser;\n}();\n\nvar ParsingError =\n/** @class */\nfunction (_super) {\n  __extends(ParsingError, _super);\n\n  function ParsingError() {\n    var params = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      params[_i] = arguments[_i];\n    }\n\n    var _this = _super.apply(this, params) || this;\n\n    _this.name = 'ParsingError';\n    return _this;\n  }\n\n  return ParsingError;\n}(Error);\n\nvar ENRICHMENTS = {\n  CONTRACT: 'contract',\n  INVOICE: 'invoice',\n  PURCHASE_ORDER: 'purchase_order'\n};\n\nfunction getEnrichmentName(enrichedHtml) {\n  if (enrichedHtml) {\n    if (ENRICHMENTS.INVOICE in enrichedHtml) {\n      return ENRICHMENTS.INVOICE;\n    } else if (ENRICHMENTS.PURCHASE_ORDER in enrichedHtml) {\n      return ENRICHMENTS.PURCHASE_ORDER;\n    }\n  }\n\n  return ENRICHMENTS.CONTRACT;\n}\n/**\r\n * Checks if document type is either invoice or purchase order.\r\n *\r\n * @param {string} enrichmentName enrichmentName is the type of document\r\n * @returns {boolean} true if enrichmentName is either Invoice or Purchase order\r\n */\n\n\nvar isInvoiceOrPurchaseOrder = function isInvoiceOrPurchaseOrder(enrichmentName) {\n  return enrichmentName === ENRICHMENTS.INVOICE || enrichmentName === ENRICHMENTS.PURCHASE_ORDER;\n};\n/**\r\n * Checks if object is of type RelationObject\r\n *\r\n * @param {*} object object\r\n * @returns {boolean} true if object has attributes within it\r\n */\n\n\nvar isRelationObject = function isRelationObject(object) {\n  return object.allAttributeIds;\n};\n/**\r\n * Checks if array has an object of relation\r\n *\r\n * @param {Array} items items is an array.\r\n * @returns {boolean} true if array has a relation object\r\n */\n\n\nvar hasRelation = function hasRelation(items) {\n  return items.some(isRelationObject);\n};\n/**\r\n * Creates an id string for the given item, based on the location.begin field\r\n *\r\n * @param {*} item Item to build a string id for\r\n * @returns {string} Id string\r\n */\n\n\nfunction getId(item) {\n  return item.location && item.location.begin + \"_\" + item.location.end;\n}\n/**\r\n * Finds an item in the given list that matches the given id\r\n *\r\n * @param {Array} list List to search within\r\n * @param {Array<string>>} ids Id string to find a match for in the list\r\n * @returns {*} matching item\r\n */\n\n\nfunction findElement(list, ids) {\n  return list[findElementIndex(list, ids)];\n}\n/**\r\n * Finds the index of an item in the given list that matches the given id\r\n *\r\n * @param {Array} list List to search within\r\n * @param {Array<string>} ids Id string to find a match for in the list\r\n * @returns {*} index of matching item\r\n */\n\n\nfunction findElementIndex(list, ids) {\n  if (list.some(function (li) {\n    return isRelationObject(li);\n  })) {\n    return list.findIndex(function (item) {\n      return isEqual_1(item.allAttributeIds.sort(), ids.sort());\n    });\n  }\n\n  return list.findIndex(function (item) {\n    return isEqual_1([getId(item)].sort(), ids.sort());\n  });\n}\n\nvar invoiceOntology = {\n  enrichment: 'invoice',\n  attributes: ['buyers', 'suppliers', 'currencies', 'purchase_order_numbers', 'invoice_numbers', 'invoice_dates', 'due_dates', 'amount', 'currency', 'quantity_ordered', 'part_description'],\n  relations: ['totals_due', 'unit_price', 'invoice_parts']\n};\nvar purchaseOrderOntology = {\n  enrichment: 'purchase_order',\n  attributes: ['buyers', 'purchase_order_numbers', 'purchase_order_dates', 'due_dates', 'payment_terms', 'currencies', 'suppliers', 'supplier_ids', 'bill_to', 'ship_to', 'invoice_to', 'total_amounts', 'item_description', 'quantity_ordered', 'unit_price'],\n  relations: ['line_items']\n};\n/** Used as references for various `Number` constants. */\n\nvar INFINITY$4 = 1 / 0;\n/**\n * Recursively flattens `array`.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flattenDeep([1, [2, [3, [4]], 5]]);\n * // => [1, 2, 3, 4, 5]\n */\n\nfunction flattenDeep(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? _baseFlatten(array, INFINITY$4) : [];\n}\n\nvar flattenDeep_1 = flattenDeep;\nvar ontologyMapping = {\n  invoice: invoiceOntology,\n  purchase_order: purchaseOrderOntology\n};\nvar modelMapping = {\n  contract: setMetadata,\n  invoice: setAttributesAndRelations,\n  purchase_order: setAttributesAndRelations\n};\n\nfunction getUpdatedEnrichment(enrichment, enrichmentName) {\n  if (enrichment && enrichmentName in modelMapping) {\n    enrichment = modelMapping[enrichmentName](enrichment, enrichmentName);\n  }\n\n  return enrichment;\n}\n\nfunction setMetadata(enrichedHtml) {\n  var meta = {\n    contract_amounts: enrichedHtml.contract_amounts,\n    effective_dates: enrichedHtml.effective_dates,\n    termination_dates: enrichedHtml.termination_dates,\n    contract_types: enrichedHtml.contract_types,\n    contract_terms: enrichedHtml.contract_terms,\n    payment_terms: enrichedHtml.payment_terms\n  };\n  var updatedMetadata = [];\n  Object.keys(meta).forEach(function (key) {\n    var metadataObj = meta[key];\n\n    if (typeof metadataObj === 'object' && !!metadataObj.length) {\n      updatedMetadata.push({\n        metadataType: key,\n        data: metadataObj\n      });\n    }\n  });\n  enrichedHtml.metadata = updatedMetadata;\n  return enrichedHtml;\n}\n\nfunction setAttributesAndRelations(enrichment, enrichmentName) {\n  var ontology = ontologyMapping[enrichmentName];\n  enrichment.attributes = setAttributes(ontology, enrichment);\n  enrichment.relations = setRelations(ontology, enrichment);\n  return enrichment;\n} // find any instances of attribute types that are defined in the ontology and create attribute objects\n\n\nfunction setAttributes(ontology, parsedObject) {\n  var filteredAttributes = ontology.attributes.filter(function (attributeDef) {\n    return parsedObject[attributeDef];\n  });\n  var attributes = filteredAttributes.map(function (attr) {\n    var parsedAttributes = parsedObject[attr];\n\n    if (Array.isArray(parsedAttributes)) {\n      return parsedAttributes.map(function (att) {\n        return createAttributeObject(att, attr);\n      });\n    } else if (hasLocationData(parsedAttributes)) {\n      return createAttributeObject(parsedAttributes, attr);\n    }\n\n    return parsedAttributes;\n  });\n  return flattenDeep_1(attributes);\n}\n\nfunction createAttributeObject(_a, type) {\n  var text = _a.text,\n      location = _a.location;\n  return {\n    type: type,\n    text: text,\n    location: location\n  };\n} // find any instances of relation types that are defined in the ontology and create relation objects\n\n\nfunction setRelations(ontology, parsedObject) {\n  var filteredRelations = ontology.relations.filter(function (relation) {\n    return parsedObject[relation];\n  });\n  var relations = filteredRelations.map(function (relation) {\n    return createRelationObject(parsedObject[relation], relation, ontology);\n  });\n  return flattenDeep_1(relations);\n}\n\nfunction createRelationObject(relation, type, ontology) {\n  // relation is either a array of relations of the same type, or a single relation object\n  var relationArray = Array.isArray(relation) ? relation : [relation];\n  var result = relationArray.map(function (rel) {\n    var attributes = setAttributes(ontology, rel);\n    var relations = setRelations(ontology, rel);\n    return {\n      type: type,\n      attributes: attributes.length > 0 ? attributes : [],\n      relations: relations.length > 0 ? relations : []\n    };\n  });\n  result.map(function (rel) {\n    var _a;\n\n    (_a = rel.attributes).push.apply(_a, getAllAttributesInRelation(rel));\n\n    rel.allAttributeIds = rel.attributes.map(function (attribute) {\n      return getId(attribute);\n    });\n    return rel;\n  });\n  return result;\n}\n\nfunction getAllAttributesInRelation(_a) {\n  var relations = _a.relations;\n  var allAttributes = (relations || []).map(function (rel) {\n    if (rel.relations && rel.relations.length > 0) {\n      return getAllAttributesInRelation(rel);\n    } else {\n      return rel.attributes;\n    }\n  });\n  return flattenDeep_1(allAttributes);\n} // Function checks if attribute is valid and has location data in it.\n// Since have observed noisy data before so this function is required.\n\n\nfunction hasLocationData(attr) {\n  return !!(attr && attr.location && typeof attr.location.begin !== 'undefined' && attr.location.end);\n}\n\nfunction transformEnrichment(enrichedHtml) {\n  if (enrichedHtml && enrichedHtml[0]) {\n    var enrichmentName = getEnrichmentName(enrichedHtml[0]);\n    var enrichment = enrichedHtml[0][enrichmentName];\n    var updatedEnrichment = getUpdatedEnrichment(enrichment, enrichmentName);\n    enrichedHtml[0][enrichmentName] = updatedEnrichment;\n  }\n\n  return enrichedHtml;\n}\n\nvar getDocumentTitle = function getDocumentTitle(document, titleField) {\n  if (document) {\n    return get_1(document, titleField) || get_1(document, 'extracted_metadata.title') || get_1(document, 'extracted_metadata.filename') || document.document_id;\n  }\n\n  return '';\n}; // split HTML into \"sections\" based on these top level tag(s)\n\n\nvar SECTION_NAMES = ['p', 'ul', 'table']; // enrichments with location data\n\nvar DOC_ENRICHMENTS = ['elements', 'attributes', 'relations'];\nvar TABLE_TAG = 'table';\nvar BBOX_TAG = 'bbox'; // skip rendering `<bbox>` nodes?\n// TODO When removing, we need to readjust the offsets for parent nodes;\n//      otherwise, parsing docs fails\n\nvar SKIP_BBOX = false;\nvar DEFAULT_OPTIONS = {\n  sections: false,\n  tables: false,\n  bbox: false,\n  itemMap: false\n};\n/**\r\n * Convert document data into structure that is more palatable for use by\r\n * CIDocument\r\n *\r\n * @param {Object} queryData Discovery document data\r\n * @param {Object} options\r\n * @param {Boolean} options.sections return array of HTML sections\r\n * @param {Boolean} options.tables return array of tables' bboxes\r\n * @param {Boolean} options.bbox return array of bboxes, with classname\r\n * @param {Boolean} options.itemMap return item mapping into 'sections'\r\n * @throws {ParsingError}\r\n */\n\nfunction processDoc( // eslint-disable-next-line @typescript-eslint/camelcase\nqueryData, options) {\n  return __awaiter(this, void 0, void 0, function () {\n    var _a, html, enrichedHtml, documentTitle, transformedEnrichmentArray, transformedEnrichment, enrichment, doc, parser, htmlContent;\n\n    return __generator(this, function (_b) {\n      switch (_b.label) {\n        case 0:\n          _a = cloneDeep_1(queryData), html = _a.html, enrichedHtml = _a.enriched_html;\n          documentTitle = getDocumentTitle(queryData, 'title');\n          options = _assign(_assign({}, DEFAULT_OPTIONS), options || {});\n          transformedEnrichmentArray = transformEnrichment(enrichedHtml);\n          transformedEnrichment = transformedEnrichmentArray && transformedEnrichmentArray[0];\n          enrichment = transformedEnrichment ? transformedEnrichment[getEnrichmentName(transformedEnrichment)] : [];\n          doc = {\n            title: documentTitle,\n            styles: ''\n          };\n\n          if (enrichment && enrichment.metadata) {\n            doc.metadata = enrichment.metadata;\n          }\n\n          if (enrichment && enrichment.attributes) {\n            doc.attributes = enrichment.attributes;\n          }\n\n          if (enrichment && enrichment.relations) {\n            doc.relations = enrichment.relations;\n          }\n\n          if (options.sections) {\n            doc.sections = [];\n          }\n\n          if (options.tables) {\n            doc.tables = [];\n          }\n\n          if (options.bbox) {\n            doc.bboxes = [];\n          }\n\n          parser = new SaxParser(); // setup initial parsing handling\n\n          setupDocParser(parser, doc);\n          htmlContent = Array.isArray(html) ? html[0] : html; // kick off parsing\n\n          return [4\n          /*yield*/\n          , parser.parse(htmlContent)];\n\n        case 1:\n          // kick off parsing\n          _b.sent();\n\n          sortFields(enrichment, doc);\n\n          if (options && options.sections && options.itemMap) {\n            addItemMap(doc);\n          }\n\n          return [2\n          /*return*/\n          , doc];\n      }\n    });\n  });\n}\n\nfunction setupDocParser(parser, doc) {\n  parser.pushState({\n    onopentag: function onopentag(_, tagName) {\n      /* eslint-disable-next-line default-case */\n      switch (tagName) {\n        case 'style':\n          {\n            setupStyleParser(parser, doc);\n            break;\n          }\n\n        case 'body':\n          {\n            setupBodyParser(parser, doc);\n            break;\n          }\n      }\n    }\n  });\n}\n\nfunction setupStyleParser(parser, doc) {\n  var styleText = '';\n  parser.pushState({\n    onopentag: function onopentag(_, tagName) {\n      throw new ParsingError(\"Unexpected open tag (\" + tagName + \") in <style>\");\n    },\n    ontext: function ontext(_, text) {\n      styleText += text;\n    },\n    onclosetag: function onclosetag(_, tagName) {\n      if (tagName !== 'style') {\n        throw new ParsingError(\"Unexpected close tag (\" + tagName + \"); expected </style>\");\n      } // finish\n\n\n      doc.styles += styleText; // cleanup\n\n      parser.popState();\n    }\n  });\n}\n\nfunction setupBodyParser(parser, doc) {\n  parser.pushState({\n    onopentag: function onopentag(p, tagName, attributes) {\n      if (SECTION_NAMES.includes(tagName)) {\n        setupSectionParser(parser, doc, tagName, attributes, p.startIndex, p);\n      }\n    }\n  });\n}\n\nfunction setupSectionParser(parser, doc, sectionTagName, sectionTagAttrs, sectionStartIndex, sectionParser) {\n  var lastClassName = '';\n  var currentTable = null;\n  var currentBbox = null; // track nested nodes of same tag name\n\n  var stackCount = 0;\n  var openTagIndices = [0];\n  var sectionHtml = [];\n  var actionState = getActionState();\n  parser.pushState(actionState); // Ensures the current section open tag is called first and then\n  // continues through tags inside of that section.\n\n  actionState.onopentag(sectionParser, sectionTagName, sectionTagAttrs);\n\n  function getActionState() {\n    return {\n      onopentag: function onopentag(p, tagName, attributes) {\n        if (attributes.class) {\n          lastClassName = attributes.class;\n        }\n\n        if (tagName !== BBOX_TAG || !SKIP_BBOX) {\n          if (tagName === TABLE_TAG) {\n            var descriptionId = \"table-description-\" + p.startIndex;\n            var tableDescription = 'This table was generated using AI. It may be missing semantic table markup for accessibility.';\n            var ariaLabel = \"Table generated from \" + doc.title + \" (id: \" + p.startIndex + \")\";\n            sectionHtml.push(\"<article aria-label=\\\"\" + ariaLabel + \"\\\" aria-describedby=\\\"\" + descriptionId + \"\\\">\");\n            sectionHtml.push(\"<p id=\\\"\" + descriptionId + \"\\\" style=\\\"display: none;\\\">\" + tableDescription + \"</p>\");\n          }\n\n          sectionHtml.push(openTagToString(tagName, attributes, getChildBeginFromOpenTag(p)));\n          openTagIndices.push(sectionHtml.length - 1);\n        } // <table border=\"1\" data-max-height=\"78.36000061035156\" data-max-width=\"514.1761474609375\"\n        //    data-max-x=\"48.999847412109375\" data-max-y=\"72.62348937988281\"\n        //    data-min-height=\"78.36000061035156\" data-min-width=\"514.1761474609375\"\n        //    data-min-x=\"48.999847412109375\" data-min-y=\"72.62348937988281\" data-page=\"39\">\n\n\n        if (tagName === TABLE_TAG && doc.tables) {\n          currentTable = {\n            location: {\n              begin: p.startIndex,\n              end: 0\n            },\n            bboxes: []\n          };\n          doc.tables.push(currentTable);\n        } // <bbox height=\"6.056159973144531\" page=\"1\" width=\"150.52044677734375\" x=\"72.0\" y=\"116.10381317138672\">\n\n\n        if (tagName === BBOX_TAG && (doc.bboxes || currentTable)) {\n          var left = Number(attributes.x);\n          var top_1 = Number(attributes.y);\n          currentBbox = {\n            left: left,\n            right: left + Number(attributes.width),\n            top: top_1,\n            bottom: top_1 + Number(attributes.height),\n            page: Number(attributes.page),\n            className: lastClassName,\n            location: {\n              begin: p.startIndex,\n              end: 0\n            }\n          };\n\n          if (doc.bboxes) {\n            doc.bboxes.push(currentBbox);\n          }\n\n          if (currentTable && doc.tables) {\n            currentTable.bboxes.push(currentBbox);\n          }\n        }\n\n        if (tagName === sectionTagName) {\n          stackCount++;\n        }\n      },\n      ontext: function ontext(_, text) {\n        // In order to properly highlight texts in the DOM we need\n        // to know if the original text contains some encoded\n        // html entities, and if so, we pass that value down to\n        // be used later.\n        if (lib_7(text).length !== text.length) {\n          var lastElemIndex = openTagIndices[openTagIndices.length - 1]; // For us to be able to access the original text, we need to\n          // encode it again because otherwise the dom will decode it\n          // when we try to access it later\n\n          sectionHtml[lastElemIndex] = sectionHtml[lastElemIndex].replace(/>$/, \" data-orig-text=\\\"\" + lib_12(text) + \"\\\">\");\n        }\n\n        sectionHtml.push(text);\n      },\n      onclosetag: function onclosetag(p, tagName) {\n        if (tagName !== BBOX_TAG || !SKIP_BBOX) {\n          sectionHtml.push(closeTagToString(tagName));\n\n          if (tagName === TABLE_TAG) {\n            sectionHtml.push('</article>');\n          } // update opening tag with location of closing tag\n\n\n          var openTagIdx = openTagIndices.pop();\n          sectionHtml[openTagIdx] = sectionHtml[openTagIdx].replace(/>$/, \" data-child-end=\\\"\" + getChildEndFromCloseTag(p) + \"\\\">\");\n        }\n\n        if (doc.tables && tagName === TABLE_TAG && currentTable) {\n          currentTable.location.end = p.endIndex || p.startIndex;\n          currentTable = null;\n        }\n\n        if (doc.bboxes && tagName === BBOX_TAG && currentBbox) {\n          currentBbox.location.end = getChildEndFromCloseTag(p);\n          currentBbox = null;\n        }\n\n        if (tagName === sectionTagName) {\n          stackCount--;\n\n          if (stackCount === 0) {\n            // finish\n            if (doc.sections) {\n              doc.sections.push({\n                html: sectionHtml.join(''),\n                location: {\n                  begin: sectionStartIndex,\n                  end: p.endIndex || p.startIndex\n                },\n                enrichments: []\n              });\n            } // cleanup\n\n\n            parser.popState();\n          }\n        }\n\n        if (tagName === 'body') {\n          parser.popState();\n        }\n      }\n    };\n  }\n}\n\nfunction getChildBeginFromOpenTag(p) {\n  // For an open tag, `p.endIndex` will be the \">\". Add one to get\n  // offset for child content.\n  // (Default to `startIndex` since `endIndex` is marked as possibly null)\n  return (p.endIndex || p.startIndex) + 1;\n}\n\nfunction getChildEndFromCloseTag(p) {\n  return p.startIndex;\n}\n\nfunction openTagToString(tagName, attributes, position) {\n  var text = [\"<\" + tagName];\n\n  if (attributes) {\n    for (var _i = 0, _a = Object.entries(attributes); _i < _a.length; _i++) {\n      var _b = _a[_i],\n          attr = _b[0],\n          val = _b[1];\n      text.push(\" \" + attr + \"=\\\"\" + val + \"\\\"\");\n    }\n  }\n\n  text.push(\" data-child-begin=\\\"\" + position + \"\\\"\");\n  text.push('>');\n  return text.join('');\n}\n\nfunction closeTagToString(tagName) {\n  return \"</\" + tagName + \">\";\n}\n\nfunction sortFields(_enrichments, doc) {\n  // shallow copy of object\n  var enrichments = Object.assign({}, _enrichments);\n\n  for (var _i = 0, DOC_ENRICHMENTS_1 = DOC_ENRICHMENTS; _i < DOC_ENRICHMENTS_1.length; _i++) {\n    var fieldType = DOC_ENRICHMENTS_1[_i];\n    var fields = enrichments[fieldType];\n\n    if (!fields) {\n      continue;\n    } // ASSUMPTIONS:\n    // - location data in JSON is sorted\n\n\n    if (doc.sections) {\n      for (var _a = 0, fields_1 = fields; _a < fields_1.length; _a++) {\n        var field = fields_1[_a];\n\n        if (isRelationObject(field)) {\n          for (var _b = 0, _c = field.attributes; _b < _c.length; _b++) {\n            var attribute = _c[_b];\n            sortFieldsBySection(attribute, doc.sections, fieldType);\n          }\n        } else {\n          sortFieldsBySection(field, doc.sections, fieldType);\n        }\n      }\n    }\n  }\n}\n\nfunction sortFieldsBySection(field, sections, fieldType) {\n  var _a;\n\n  var _b = field.location,\n      begin = _b.begin,\n      end = _b.end;\n  var sectionIdx = findIndex_1(sections, function (item) {\n    return spansIntersect({\n      begin: begin,\n      end: end\n    }, item.location);\n  });\n\n  if (sectionIdx === -1) {\n    // notify of error, but keep going\n    // eslint-disable-next-line no-console\n    console.error('Failed to find doc section which contains given field');\n    return;\n  }\n\n  sections[sectionIdx].enrichments.push(_assign(_assign({}, field), {\n    __type: fieldType\n  })); // 'elements' contain 'attributes', which also contain location data\n\n  if (fieldType === 'elements' && field.attributes && field.attributes.length) {\n    (_a = sections[sectionIdx].enrichments).push.apply(_a, field.attributes.map(function (attr) {\n      return _assign(_assign({}, attr), {\n        __type: 'attributes'\n      });\n    }));\n  }\n}\n\nfunction addItemMap(doc) {\n  var itemNames = ['elements', 'attributes', 'metadata'];\n  var sections = doc.sections;\n  var byItem = {};\n  var bySection = {};\n  sections.forEach(function (section, sectionNum) {\n    bySection[sectionNum] = [];\n    var itemsInSection = section.enrichments.filter(function (_a) {\n      var __type = _a.__type;\n      return itemNames.includes(__type);\n    });\n\n    for (var _i = 0, itemsInSection_1 = itemsInSection; _i < itemsInSection_1.length; _i++) {\n      var item = itemsInSection_1[_i];\n      var itemId = getId(item);\n      bySection[sectionNum].push(itemId);\n      byItem[itemId] = sectionNum;\n    }\n  });\n  doc.itemMap = {\n    byItem: byItem,\n    bySection: bySection\n  };\n}\n/**\r\n * Check whether two bbox intersect\r\n * @param boxA first bbox\r\n * @param boxB second bbox\r\n * @returns bool\r\n */\n\n\nfunction intersects(boxA, boxB) {\n  var leftA = boxA[0],\n      topA = boxA[1],\n      rightA = boxA[2],\n      bottomA = boxA[3],\n      pageA = boxA[4];\n  var leftB = boxB[0],\n      topB = boxB[1],\n      rightB = boxB[2],\n      bottomB = boxB[3],\n      pageB = boxB[4];\n  return !(leftB > rightA || rightB < leftA || topB > bottomA || bottomB < topA || pageA !== pageB);\n}\n/**\r\n * find the matching original document bboxes in the processed document bboxes\r\n * @param docBox bbox from original document\r\n * @param htmlBox bbox from processed document\r\n */\n\n\nvar findMatchingBbox = function findMatchingBbox(docBox, htmlBox) {\n  return htmlBox.filter(function (pBbox) {\n    var left = pBbox.left,\n        top = pBbox.top,\n        right = pBbox.right,\n        bottom = pBbox.bottom,\n        page = pBbox.page;\n    var _a = docBox.bbox,\n        left2 = _a[0],\n        top2 = _a[1],\n        right2 = _a[2],\n        bottom2 = _a[3];\n    return intersects([left2, top2, right2, bottom2, docBox.page_number], [left, top, right, bottom, page]);\n  });\n};\n\nvar canRenderHtmlView = function canRenderHtmlView(document) {\n  return !!get_1(document, 'html');\n};\n\nvar SANITIZE_CONFIG = {\n  ADD_TAGS: ['bbox'],\n  ADD_ATTR: [// bbox\n  'page'],\n  WHOLE_DOCUMENT: true\n};\nvar baseClassName = settings.prefix + \"--html\";\n\nvar HtmlView = function HtmlView(_a) {\n  var document = _a.document,\n      highlight = _a.highlight,\n      setHideToolbarControls = _a.setHideToolbarControls,\n      setLoading = _a.setLoading;\n  var contentRef = useRef(null);\n  var highlightRef = useRef(null);\n\n  if (setHideToolbarControls) {\n    setHideToolbarControls(true);\n  }\n\n  var _b = useState(null),\n      html = _b[0],\n      setHtml = _b[1];\n\n  var _c = useState(null),\n      processedDoc = _c[0],\n      setProcessedDoc = _c[1];\n\n  var _d = useState([]),\n      highlightLocations = _d[0],\n      setHighlightLocations = _d[1];\n\n  useLayoutEffect(function () {\n    purify.addHook('afterSanitizeAttributes', function (node) {\n      if (node.tagName === 'TABLE') {\n        node.setAttribute('role', 'presentation');\n      }\n    });\n    return function () {\n      purify.removeHook('afterSanitizeAttributes');\n    };\n  }, []);\n  useEffect(function () {\n    if (document) {\n      var docHtml_1 = document.html;\n\n      if (docHtml_1 && highlight) {\n        // \"process\" the original HTML string in order to find offsets for DOM nodes\n        var process_1 = function process_1() {\n          return __awaiter(void 0, void 0, void 0, function () {\n            var processedDoc, fullHtml;\n            return __generator(this, function (_a) {\n              switch (_a.label) {\n                case 0:\n                  return [4\n                  /*yield*/\n                  , processDoc(_assign(_assign({}, document), {\n                    docHtml: docHtml_1\n                  }), {\n                    sections: true,\n                    bbox: true\n                  })];\n\n                case 1:\n                  processedDoc = _a.sent();\n                  fullHtml = processedDoc.sections ? processedDoc.sections.map(function (section) {\n                    return section.html;\n                  }).join('') : '';\n                  setProcessedDoc(processedDoc); // set sanitized HTML (removing scripts, etc)\n\n                  setHtml(\"\\n            <style>\" + processedDoc.styles + \"</style>\\n            \" + purify.sanitize(fullHtml, SANITIZE_CONFIG) + \"\\n          \");\n                  setLoading(false);\n                  return [2\n                  /*return*/\n                  ];\n              }\n            });\n          });\n        };\n\n        process_1();\n      } else {\n        // if no highlight, then no need to \"process\"\n        setHtml(docHtml_1 ? purify.sanitize(docHtml_1, SANITIZE_CONFIG) : '');\n        setLoading(false);\n      }\n    }\n  }, [document, highlight, setLoading]);\n  useEffect(function () {\n    if (highlight) {\n      var textMappings = getTextMappings(document);\n\n      if (isPassage(highlight) && textMappings) {\n        var textMappingBbox = getPassagePageInfo(textMappings, highlight);\n\n        if (processedDoc && processedDoc.bboxes && textMappingBbox) {\n          var passageLocs = flatMap_1(textMappingBbox, function (bbox) {\n            return findMatchingBbox(bbox, processedDoc.bboxes);\n          }).map(function (bbox) {\n            return bbox.location;\n          });\n          setHighlightLocations(passageLocs);\n        }\n      } else {\n        var tableLoc = get_1(highlight, 'table.location', {});\n        setHighlightLocations([tableLoc]);\n      }\n    }\n  }, [document, highlight, processedDoc]); // highlight table and scroll into view\n\n  useEffect(function () {\n    if (!html || !highlightLocations) {\n      return;\n    }\n\n    var contentNode = contentRef.current;\n    var highlightNode = highlightRef.current;\n\n    if (highlightNode) {\n      clearNodeChildren(highlightNode);\n    }\n\n    if (!highlight || !contentNode || !highlightNode) {\n      return;\n    }\n\n    highlightLocations.forEach(function (location) {\n      var begin = location.begin,\n          end = location.end;\n\n      if (typeof begin === 'undefined' || typeof end === 'undefined') {\n        return;\n      }\n\n      var offsets = findOffsetInDOM(contentNode, begin, end);\n      var fragment = window.document.createDocumentFragment();\n      var parentRect = contentNode.getBoundingClientRect();\n      createFieldRects(_assign({\n        fragment: fragment,\n        parentRect: parentRect,\n        fieldType: 'highlight',\n        fieldId: begin.toString()\n      }, offsets));\n      highlightNode.appendChild(fragment);\n    }); // scroll highlight into view\n\n    var firstFieldRect = highlightNode.querySelector('.field--rect');\n\n    if (firstFieldRect) {\n      firstFieldRect.scrollIntoView({\n        block: 'center'\n      });\n    }\n  }, [highlight, html, highlightLocations]);\n  return React$g__default.createElement(\"div\", {\n    className: baseClassName\n  }, React$g__default.createElement(\"div\", {\n    ref: highlightRef\n  }), html && React$g__default.createElement(\"div\", {\n    className: baseClassName + \"__content\",\n    dangerouslySetInnerHTML: {\n      __html: html\n    },\n    ref: contentRef\n  }));\n};\n\nvar ZOOM_IN$1 = PrevToolbar.ZOOM_IN,\n    ZOOM_OUT$1 = PrevToolbar.ZOOM_OUT;\nvar SCALE_FACTOR = 1.2;\n\nvar DocumentPreview = function DocumentPreview(_a) {\n  var document = _a.document,\n      file = _a.file,\n      highlight = _a.highlight,\n      _b = _a.messages,\n      messages = _b === void 0 ? defaultMessages$3 : _b,\n      didCatch = _a.didCatch;\n  var selectedResult = useContext(SearchContext).selectedResult; // document prop takes precedence over that in context\n\n  var doc = document || selectedResult.document;\n  highlight = highlight || selectedResult.element || undefined;\n\n  var _c = useState(1),\n      scale = _c[0],\n      setScale = _c[1];\n\n  var _d = useState(1),\n      currentPage = _d[0],\n      setCurrentPage = _d[1];\n\n  var _e = useState(true),\n      loading = _e[0],\n      setLoading = _e[1];\n\n  var _f = useState(false),\n      hideToolbarControls = _f[0],\n      setHideToolbarControls = _f[1];\n\n  useEffect(function () {\n    // reset state if document changes\n    setCurrentPage(1); //reset scale if document changes\n\n    setScale(1); // TODO disable for now, until we can properly fix https://github.ibm.com/Watson-Discovery/docviz-squad-issue-tracker/issues/143\n    // setLoading(true);\n  }, [doc]);\n  var base = settings.prefix + \"--document-preview\";\n  return React$g__default.createElement(\"div\", {\n    className: \"\" + base\n  }, (doc || file) && !didCatch ? React$g__default.createElement(React$g__default.Fragment, null, React$g__default.createElement(PrevToolbar, {\n    loading: loading,\n    hideControls: hideToolbarControls,\n    current: currentPage,\n    total: 0,\n    onChange: setCurrentPage,\n    onZoom: function onZoom(zoom) {\n      if (zoom === ZOOM_IN$1 || zoom === ZOOM_OUT$1) {\n        setScale(zoom === ZOOM_IN$1 ? scale * SCALE_FACTOR : scale / SCALE_FACTOR);\n      } else {\n        setScale(1);\n      }\n    }\n  }), React$g__default.createElement(\"div\", {\n    className: base + \"__document\"\n  }, React$g__default.createElement(PreviewDocument, {\n    document: doc,\n    highlight: highlight,\n    setLoading: setLoading,\n    setHideToolbarControls: setHideToolbarControls,\n    loading: loading,\n    hideToolbarControls: hideToolbarControls\n  })), loading && React$g__default.createElement(\"div\", {\n    className: base + \"__skeleton\"\n  }, React$g__default.createElement(SkeletonText, {\n    paragraph: true,\n    lineCount: 40\n  }))) : didCatch ? React$g__default.createElement(\"div\", {\n    className: base + \"__error\"\n  }, messages.errorMessage) : React$g__default.createElement(\"div\", {\n    className: base + \"__error\"\n  }, messages.noDataMessage));\n};\n\nfunction PreviewDocument(_a) {\n  var document = _a.document,\n      loading = _a.loading,\n      setLoading = _a.setLoading,\n      hideToolbarControls = _a.hideToolbarControls,\n      setHideToolbarControls = _a.setHideToolbarControls,\n      highlight = _a.highlight;\n\n  if (document) {\n    var isJsonType = isJsonFile(document);\n    var isCsvType = isCsvFile(document);\n\n    if (document.html && !isJsonType && !isCsvType) {\n      return React$g__default.createElement(HtmlView, {\n        document: document,\n        highlight: highlight,\n        setHideToolbarControls: setHideToolbarControls,\n        setLoading: setLoading\n      });\n    }\n\n    return React$g__default.createElement(SimpleDocument, {\n      document: document,\n      highlight: highlight,\n      hideToolbarControls: hideToolbarControls,\n      setHideToolbarControls: setHideToolbarControls,\n      loading: loading,\n      setLoading: setLoading\n    });\n  }\n\n  return null;\n} //Replace any with a proper TS check\n\n\nvar ErrorBoundDocumentPreview = withErrorBoundary(DocumentPreview);\nErrorBoundDocumentPreview.PreviewToolbar = PrevToolbar;\nErrorBoundDocumentPreview.PreviewDocument = PreviewDocument;\n\nvar TablesOnlyToggle = function TablesOnlyToggle(_a) {\n  var setShowTablesOnlyResults = _a.setShowTablesOnlyResults,\n      showTablesOnlyResults = _a.showTablesOnlyResults,\n      showTablesOnlyToggle = _a.showTablesOnlyToggle,\n      messages = _a.messages;\n  var setIsResultsPaginationComponentHidden = useContext(SearchApi).setIsResultsPaginationComponentHidden;\n\n  var handleToggle = function handleToggle() {\n    setShowTablesOnlyResults(!showTablesOnlyResults);\n    showTablesOnlyResults ? setIsResultsPaginationComponentHidden(false) : setIsResultsPaginationComponentHidden(true);\n  };\n\n  var toggleClassName = settings.prefix + \"--search-result--toggle\";\n  return React$g__default.createElement(React$g__default.Fragment, null, showTablesOnlyToggle && React$g__default.createElement(ToggleSmall, {\n    \"aria-label\": messages.tablesOnlyToggleLabelText,\n    className: toggleClassName,\n    id: settings.prefix + \"--tables-only-toggle\",\n    labelText: messages.tablesOnlyToggleLabelText,\n    onToggle: handleToggle,\n    toggled: showTablesOnlyResults\n  }));\n};\n\nvar mustache = createCommonjsModule(function (module, exports) {\n  // This file has been generated from mustache.mjs\n  (function (global, factory) {\n    module.exports = factory();\n  })(commonjsGlobal, function () {\n    /*!\n     * mustache.js - Logic-less {{mustache}} templates with JavaScript\n     * http://github.com/janl/mustache.js\n     */\n    var objectToString = Object.prototype.toString;\n\n    var isArray = Array.isArray || function isArrayPolyfill(object) {\n      return objectToString.call(object) === '[object Array]';\n    };\n\n    function isFunction(object) {\n      return typeof object === 'function';\n    }\n    /**\n     * More correct typeof string handling array\n     * which normally returns typeof 'object'\n     */\n\n\n    function typeStr(obj) {\n      return isArray(obj) ? 'array' : typeof obj;\n    }\n\n    function escapeRegExp(string) {\n      return string.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g, '\\\\$&');\n    }\n    /**\n     * Null safe way of checking whether or not an object,\n     * including its prototype, has a given property\n     */\n\n\n    function hasProperty(obj, propName) {\n      return obj != null && typeof obj === 'object' && propName in obj;\n    }\n    /**\n     * Safe way of detecting whether or not the given thing is a primitive and\n     * whether it has the given property\n     */\n\n\n    function primitiveHasOwnProperty(primitive, propName) {\n      return primitive != null && typeof primitive !== 'object' && primitive.hasOwnProperty && primitive.hasOwnProperty(propName);\n    } // Workaround for https://issues.apache.org/jira/browse/COUCHDB-577\n    // See https://github.com/janl/mustache.js/issues/189\n\n\n    var regExpTest = RegExp.prototype.test;\n\n    function testRegExp(re, string) {\n      return regExpTest.call(re, string);\n    }\n\n    var nonSpaceRe = /\\S/;\n\n    function isWhitespace(string) {\n      return !testRegExp(nonSpaceRe, string);\n    }\n\n    var entityMap = {\n      '&': '&amp;',\n      '<': '&lt;',\n      '>': '&gt;',\n      '\"': '&quot;',\n      \"'\": '&#39;',\n      '/': '&#x2F;',\n      '`': '&#x60;',\n      '=': '&#x3D;'\n    };\n\n    function escapeHtml(string) {\n      return String(string).replace(/[&<>\"'`=\\/]/g, function fromEntityMap(s) {\n        return entityMap[s];\n      });\n    }\n\n    var whiteRe = /\\s*/;\n    var spaceRe = /\\s+/;\n    var equalsRe = /\\s*=/;\n    var curlyRe = /\\s*\\}/;\n    var tagRe = /#|\\^|\\/|>|\\{|&|=|!/;\n    /**\n     * Breaks up the given `template` string into a tree of tokens. If the `tags`\n     * argument is given here it must be an array with two string values: the\n     * opening and closing tags used in the template (e.g. [ \"<%\", \"%>\" ]). Of\n     * course, the default is to use mustaches (i.e. mustache.tags).\n     *\n     * A token is an array with at least 4 elements. The first element is the\n     * mustache symbol that was used inside the tag, e.g. \"#\" or \"&\". If the tag\n     * did not contain a symbol (i.e. {{myValue}}) this element is \"name\". For\n     * all text that appears outside a symbol this element is \"text\".\n     *\n     * The second element of a token is its \"value\". For mustache tags this is\n     * whatever else was inside the tag besides the opening symbol. For text tokens\n     * this is the text itself.\n     *\n     * The third and fourth elements of the token are the start and end indices,\n     * respectively, of the token in the original template.\n     *\n     * Tokens that are the root node of a subtree contain two more elements: 1) an\n     * array of tokens in the subtree and 2) the index in the original template at\n     * which the closing tag for that section begins.\n     *\n     * Tokens for partials also contain two more elements: 1) a string value of\n     * indendation prior to that tag and 2) the index of that tag on that line -\n     * eg a value of 2 indicates the partial is the third tag on this line.\n     */\n\n    function parseTemplate(template, tags) {\n      if (!template) return [];\n      var lineHasNonSpace = false;\n      var sections = []; // Stack to hold section tokens\n\n      var tokens = []; // Buffer to hold the tokens\n\n      var spaces = []; // Indices of whitespace tokens on the current line\n\n      var hasTag = false; // Is there a {{tag}} on the current line?\n\n      var nonSpace = false; // Is there a non-space char on the current line?\n\n      var indentation = ''; // Tracks indentation for tags that use it\n\n      var tagIndex = 0; // Stores a count of number of tags encountered on a line\n      // Strips all whitespace tokens array for the current line\n      // if there was a {{#tag}} on it and otherwise only space.\n\n      function stripSpace() {\n        if (hasTag && !nonSpace) {\n          while (spaces.length) {\n            delete tokens[spaces.pop()];\n          }\n        } else {\n          spaces = [];\n        }\n\n        hasTag = false;\n        nonSpace = false;\n      }\n\n      var openingTagRe, closingTagRe, closingCurlyRe;\n\n      function compileTags(tagsToCompile) {\n        if (typeof tagsToCompile === 'string') tagsToCompile = tagsToCompile.split(spaceRe, 2);\n        if (!isArray(tagsToCompile) || tagsToCompile.length !== 2) throw new Error('Invalid tags: ' + tagsToCompile);\n        openingTagRe = new RegExp(escapeRegExp(tagsToCompile[0]) + '\\\\s*');\n        closingTagRe = new RegExp('\\\\s*' + escapeRegExp(tagsToCompile[1]));\n        closingCurlyRe = new RegExp('\\\\s*' + escapeRegExp('}' + tagsToCompile[1]));\n      }\n\n      compileTags(tags || mustache.tags);\n      var scanner = new Scanner(template);\n      var start, type, value, chr, token, openSection;\n\n      while (!scanner.eos()) {\n        start = scanner.pos; // Match any text between tags.\n\n        value = scanner.scanUntil(openingTagRe);\n\n        if (value) {\n          for (var i = 0, valueLength = value.length; i < valueLength; ++i) {\n            chr = value.charAt(i);\n\n            if (isWhitespace(chr)) {\n              spaces.push(tokens.length);\n              indentation += chr;\n            } else {\n              nonSpace = true;\n              lineHasNonSpace = true;\n              indentation += ' ';\n            }\n\n            tokens.push(['text', chr, start, start + 1]);\n            start += 1; // Check for whitespace on the current line.\n\n            if (chr === '\\n') {\n              stripSpace();\n              indentation = '';\n              tagIndex = 0;\n              lineHasNonSpace = false;\n            }\n          }\n        } // Match the opening tag.\n\n\n        if (!scanner.scan(openingTagRe)) break;\n        hasTag = true; // Get the tag type.\n\n        type = scanner.scan(tagRe) || 'name';\n        scanner.scan(whiteRe); // Get the tag value.\n\n        if (type === '=') {\n          value = scanner.scanUntil(equalsRe);\n          scanner.scan(equalsRe);\n          scanner.scanUntil(closingTagRe);\n        } else if (type === '{') {\n          value = scanner.scanUntil(closingCurlyRe);\n          scanner.scan(curlyRe);\n          scanner.scanUntil(closingTagRe);\n          type = '&';\n        } else {\n          value = scanner.scanUntil(closingTagRe);\n        } // Match the closing tag.\n\n\n        if (!scanner.scan(closingTagRe)) throw new Error('Unclosed tag at ' + scanner.pos);\n\n        if (type == '>') {\n          token = [type, value, start, scanner.pos, indentation, tagIndex, lineHasNonSpace];\n        } else {\n          token = [type, value, start, scanner.pos];\n        }\n\n        tagIndex++;\n        tokens.push(token);\n\n        if (type === '#' || type === '^') {\n          sections.push(token);\n        } else if (type === '/') {\n          // Check section nesting.\n          openSection = sections.pop();\n          if (!openSection) throw new Error('Unopened section \"' + value + '\" at ' + start);\n          if (openSection[1] !== value) throw new Error('Unclosed section \"' + openSection[1] + '\" at ' + start);\n        } else if (type === 'name' || type === '{' || type === '&') {\n          nonSpace = true;\n        } else if (type === '=') {\n          // Set the tags for the next time around.\n          compileTags(value);\n        }\n      }\n\n      stripSpace(); // Make sure there are no open sections when we're done.\n\n      openSection = sections.pop();\n      if (openSection) throw new Error('Unclosed section \"' + openSection[1] + '\" at ' + scanner.pos);\n      return nestTokens(squashTokens(tokens));\n    }\n    /**\n     * Combines the values of consecutive text tokens in the given `tokens` array\n     * to a single token.\n     */\n\n\n    function squashTokens(tokens) {\n      var squashedTokens = [];\n      var token, lastToken;\n\n      for (var i = 0, numTokens = tokens.length; i < numTokens; ++i) {\n        token = tokens[i];\n\n        if (token) {\n          if (token[0] === 'text' && lastToken && lastToken[0] === 'text') {\n            lastToken[1] += token[1];\n            lastToken[3] = token[3];\n          } else {\n            squashedTokens.push(token);\n            lastToken = token;\n          }\n        }\n      }\n\n      return squashedTokens;\n    }\n    /**\n     * Forms the given array of `tokens` into a nested tree structure where\n     * tokens that represent a section have two additional items: 1) an array of\n     * all tokens that appear in that section and 2) the index in the original\n     * template that represents the end of that section.\n     */\n\n\n    function nestTokens(tokens) {\n      var nestedTokens = [];\n      var collector = nestedTokens;\n      var sections = [];\n      var token, section;\n\n      for (var i = 0, numTokens = tokens.length; i < numTokens; ++i) {\n        token = tokens[i];\n\n        switch (token[0]) {\n          case '#':\n          case '^':\n            collector.push(token);\n            sections.push(token);\n            collector = token[4] = [];\n            break;\n\n          case '/':\n            section = sections.pop();\n            section[5] = token[2];\n            collector = sections.length > 0 ? sections[sections.length - 1][4] : nestedTokens;\n            break;\n\n          default:\n            collector.push(token);\n        }\n      }\n\n      return nestedTokens;\n    }\n    /**\n     * A simple string scanner that is used by the template parser to find\n     * tokens in template strings.\n     */\n\n\n    function Scanner(string) {\n      this.string = string;\n      this.tail = string;\n      this.pos = 0;\n    }\n    /**\n     * Returns `true` if the tail is empty (end of string).\n     */\n\n\n    Scanner.prototype.eos = function eos() {\n      return this.tail === '';\n    };\n    /**\n     * Tries to match the given regular expression at the current position.\n     * Returns the matched text if it can match, the empty string otherwise.\n     */\n\n\n    Scanner.prototype.scan = function scan(re) {\n      var match = this.tail.match(re);\n      if (!match || match.index !== 0) return '';\n      var string = match[0];\n      this.tail = this.tail.substring(string.length);\n      this.pos += string.length;\n      return string;\n    };\n    /**\n     * Skips all text until the given regular expression can be matched. Returns\n     * the skipped string, which is the entire tail if no match can be made.\n     */\n\n\n    Scanner.prototype.scanUntil = function scanUntil(re) {\n      var index = this.tail.search(re),\n          match;\n\n      switch (index) {\n        case -1:\n          match = this.tail;\n          this.tail = '';\n          break;\n\n        case 0:\n          match = '';\n          break;\n\n        default:\n          match = this.tail.substring(0, index);\n          this.tail = this.tail.substring(index);\n      }\n\n      this.pos += match.length;\n      return match;\n    };\n    /**\n     * Represents a rendering context by wrapping a view object and\n     * maintaining a reference to the parent context.\n     */\n\n\n    function Context(view, parentContext) {\n      this.view = view;\n      this.cache = {\n        '.': this.view\n      };\n      this.parent = parentContext;\n    }\n    /**\n     * Creates a new context using the given view with this context\n     * as the parent.\n     */\n\n\n    Context.prototype.push = function push(view) {\n      return new Context(view, this);\n    };\n    /**\n     * Returns the value of the given name in this context, traversing\n     * up the context hierarchy if the value is absent in this context's view.\n     */\n\n\n    Context.prototype.lookup = function lookup(name) {\n      var cache = this.cache;\n      var value;\n\n      if (cache.hasOwnProperty(name)) {\n        value = cache[name];\n      } else {\n        var context = this,\n            intermediateValue,\n            names,\n            index,\n            lookupHit = false;\n\n        while (context) {\n          if (name.indexOf('.') > 0) {\n            intermediateValue = context.view;\n            names = name.split('.');\n            index = 0;\n            /**\n             * Using the dot notion path in `name`, we descend through the\n             * nested objects.\n             *\n             * To be certain that the lookup has been successful, we have to\n             * check if the last object in the path actually has the property\n             * we are looking for. We store the result in `lookupHit`.\n             *\n             * This is specially necessary for when the value has been set to\n             * `undefined` and we want to avoid looking up parent contexts.\n             *\n             * In the case where dot notation is used, we consider the lookup\n             * to be successful even if the last \"object\" in the path is\n             * not actually an object but a primitive (e.g., a string, or an\n             * integer), because it is sometimes useful to access a property\n             * of an autoboxed primitive, such as the length of a string.\n             **/\n\n            while (intermediateValue != null && index < names.length) {\n              if (index === names.length - 1) lookupHit = hasProperty(intermediateValue, names[index]) || primitiveHasOwnProperty(intermediateValue, names[index]);\n              intermediateValue = intermediateValue[names[index++]];\n            }\n          } else {\n            intermediateValue = context.view[name];\n            /**\n             * Only checking against `hasProperty`, which always returns `false` if\n             * `context.view` is not an object. Deliberately omitting the check\n             * against `primitiveHasOwnProperty` if dot notation is not used.\n             *\n             * Consider this example:\n             * ```\n             * Mustache.render(\"The length of a football field is {{#length}}{{length}}{{/length}}.\", {length: \"100 yards\"})\n             * ```\n             *\n             * If we were to check also against `primitiveHasOwnProperty`, as we do\n             * in the dot notation case, then render call would return:\n             *\n             * \"The length of a football field is 9.\"\n             *\n             * rather than the expected:\n             *\n             * \"The length of a football field is 100 yards.\"\n             **/\n\n            lookupHit = hasProperty(context.view, name);\n          }\n\n          if (lookupHit) {\n            value = intermediateValue;\n            break;\n          }\n\n          context = context.parent;\n        }\n\n        cache[name] = value;\n      }\n\n      if (isFunction(value)) value = value.call(this.view);\n      return value;\n    };\n    /**\n     * A Writer knows how to take a stream of tokens and render them to a\n     * string, given a context. It also maintains a cache of templates to\n     * avoid the need to parse the same template twice.\n     */\n\n\n    function Writer() {\n      this.cache = {};\n    }\n    /**\n     * Clears all cached templates in this writer.\n     */\n\n\n    Writer.prototype.clearCache = function clearCache() {\n      this.cache = {};\n    };\n    /**\n     * Parses and caches the given `template` according to the given `tags` or\n     * `mustache.tags` if `tags` is omitted,  and returns the array of tokens\n     * that is generated from the parse.\n     */\n\n\n    Writer.prototype.parse = function parse(template, tags) {\n      var cache = this.cache;\n      var cacheKey = template + ':' + (tags || mustache.tags).join(':');\n      var tokens = cache[cacheKey];\n      if (tokens == null) tokens = cache[cacheKey] = parseTemplate(template, tags);\n      return tokens;\n    };\n    /**\n     * High-level method that is used to render the given `template` with\n     * the given `view`.\n     *\n     * The optional `partials` argument may be an object that contains the\n     * names and templates of partials that are used in the template. It may\n     * also be a function that is used to load partial templates on the fly\n     * that takes a single argument: the name of the partial.\n     *\n     * If the optional `tags` argument is given here it must be an array with two\n     * string values: the opening and closing tags used in the template (e.g.\n     * [ \"<%\", \"%>\" ]). The default is to mustache.tags.\n     */\n\n\n    Writer.prototype.render = function render(template, view, partials, tags) {\n      var tokens = this.parse(template, tags);\n      var context = view instanceof Context ? view : new Context(view, undefined);\n      return this.renderTokens(tokens, context, partials, template, tags);\n    };\n    /**\n     * Low-level method that renders the given array of `tokens` using\n     * the given `context` and `partials`.\n     *\n     * Note: The `originalTemplate` is only ever used to extract the portion\n     * of the original template that was contained in a higher-order section.\n     * If the template doesn't use higher-order sections, this argument may\n     * be omitted.\n     */\n\n\n    Writer.prototype.renderTokens = function renderTokens(tokens, context, partials, originalTemplate, tags) {\n      var buffer = '';\n      var token, symbol, value;\n\n      for (var i = 0, numTokens = tokens.length; i < numTokens; ++i) {\n        value = undefined;\n        token = tokens[i];\n        symbol = token[0];\n        if (symbol === '#') value = this.renderSection(token, context, partials, originalTemplate);else if (symbol === '^') value = this.renderInverted(token, context, partials, originalTemplate);else if (symbol === '>') value = this.renderPartial(token, context, partials, tags);else if (symbol === '&') value = this.unescapedValue(token, context);else if (symbol === 'name') value = this.escapedValue(token, context);else if (symbol === 'text') value = this.rawValue(token);\n        if (value !== undefined) buffer += value;\n      }\n\n      return buffer;\n    };\n\n    Writer.prototype.renderSection = function renderSection(token, context, partials, originalTemplate) {\n      var self = this;\n      var buffer = '';\n      var value = context.lookup(token[1]); // This function is used to render an arbitrary template\n      // in the current context by higher-order sections.\n\n      function subRender(template) {\n        return self.render(template, context, partials);\n      }\n\n      if (!value) return;\n\n      if (isArray(value)) {\n        for (var j = 0, valueLength = value.length; j < valueLength; ++j) {\n          buffer += this.renderTokens(token[4], context.push(value[j]), partials, originalTemplate);\n        }\n      } else if (typeof value === 'object' || typeof value === 'string' || typeof value === 'number') {\n        buffer += this.renderTokens(token[4], context.push(value), partials, originalTemplate);\n      } else if (isFunction(value)) {\n        if (typeof originalTemplate !== 'string') throw new Error('Cannot use higher-order sections without the original template'); // Extract the portion of the original template that the section contains.\n\n        value = value.call(context.view, originalTemplate.slice(token[3], token[5]), subRender);\n        if (value != null) buffer += value;\n      } else {\n        buffer += this.renderTokens(token[4], context, partials, originalTemplate);\n      }\n\n      return buffer;\n    };\n\n    Writer.prototype.renderInverted = function renderInverted(token, context, partials, originalTemplate) {\n      var value = context.lookup(token[1]); // Use JavaScript's definition of falsy. Include empty arrays.\n      // See https://github.com/janl/mustache.js/issues/186\n\n      if (!value || isArray(value) && value.length === 0) return this.renderTokens(token[4], context, partials, originalTemplate);\n    };\n\n    Writer.prototype.indentPartial = function indentPartial(partial, indentation, lineHasNonSpace) {\n      var filteredIndentation = indentation.replace(/[^ \\t]/g, '');\n      var partialByNl = partial.split('\\n');\n\n      for (var i = 0; i < partialByNl.length; i++) {\n        if (partialByNl[i].length && (i > 0 || !lineHasNonSpace)) {\n          partialByNl[i] = filteredIndentation + partialByNl[i];\n        }\n      }\n\n      return partialByNl.join('\\n');\n    };\n\n    Writer.prototype.renderPartial = function renderPartial(token, context, partials, tags) {\n      if (!partials) return;\n      var value = isFunction(partials) ? partials(token[1]) : partials[token[1]];\n\n      if (value != null) {\n        var lineHasNonSpace = token[6];\n        var tagIndex = token[5];\n        var indentation = token[4];\n        var indentedValue = value;\n\n        if (tagIndex == 0 && indentation) {\n          indentedValue = this.indentPartial(value, indentation, lineHasNonSpace);\n        }\n\n        return this.renderTokens(this.parse(indentedValue, tags), context, partials, indentedValue);\n      }\n    };\n\n    Writer.prototype.unescapedValue = function unescapedValue(token, context) {\n      var value = context.lookup(token[1]);\n      if (value != null) return value;\n    };\n\n    Writer.prototype.escapedValue = function escapedValue(token, context) {\n      var value = context.lookup(token[1]);\n      if (value != null) return mustache.escape(value);\n    };\n\n    Writer.prototype.rawValue = function rawValue(token) {\n      return token[1];\n    };\n\n    var mustache = {\n      name: 'mustache.js',\n      version: '3.2.1',\n      tags: ['{{', '}}'],\n      clearCache: undefined,\n      escape: undefined,\n      parse: undefined,\n      render: undefined,\n      to_html: undefined,\n      Scanner: undefined,\n      Context: undefined,\n      Writer: undefined\n    }; // All high-level mustache.* functions use this writer.\n\n    var defaultWriter = new Writer();\n    /**\n     * Clears all cached templates in the default writer.\n     */\n\n    mustache.clearCache = function clearCache() {\n      return defaultWriter.clearCache();\n    };\n    /**\n     * Parses and caches the given template in the default writer and returns the\n     * array of tokens it contains. Doing this ahead of time avoids the need to\n     * parse templates on the fly as they are rendered.\n     */\n\n\n    mustache.parse = function parse(template, tags) {\n      return defaultWriter.parse(template, tags);\n    };\n    /**\n     * Renders the `template` with the given `view` and `partials` using the\n     * default writer. If the optional `tags` argument is given here it must be an\n     * array with two string values: the opening and closing tags used in the\n     * template (e.g. [ \"<%\", \"%>\" ]). The default is to mustache.tags.\n     */\n\n\n    mustache.render = function render(template, view, partials, tags) {\n      if (typeof template !== 'string') {\n        throw new TypeError('Invalid template! Template should be a \"string\" ' + 'but \"' + typeStr(template) + '\" was given as the first ' + 'argument for mustache#render(template, view, partials)');\n      }\n\n      return defaultWriter.render(template, view, partials, tags);\n    }; // This is here for backwards compatibility with 0.4.x.,\n\n    /*eslint-disable */\n    // eslint wants camel cased function name\n\n\n    mustache.to_html = function to_html(template, view, partials, send) {\n      /*eslint-enable*/\n      var result = mustache.render(template, view, partials);\n\n      if (isFunction(send)) {\n        send(result);\n      } else {\n        return result;\n      }\n    }; // Export the escaping function so that the user may override it.\n    // See https://github.com/janl/mustache.js/issues/244\n\n\n    mustache.escape = escapeHtml; // Export these mainly for testing, but also for advanced usage.\n\n    mustache.Scanner = Scanner;\n    mustache.Context = Context;\n    mustache.Writer = Writer;\n    return mustache;\n  });\n});\n\nfunction _interopDefault$a(ex) {\n  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;\n}\n\nvar React$a = _interopDefault$a(React$g__default);\n\nvar _ref2$a =\n/*#__PURE__*/\n\n/*#__PURE__*/\nReact$a.createElement(\"path\", {\n  d: \"M13,14H3c-0.6,0-1-0.4-1-1V3c0-0.6,0.4-1,1-1h5v1H3v10h10V8h1v5C14,13.6,13.6,14,13,14z\"\n});\n\nvar _ref3$3 =\n/*#__PURE__*/\n\n/*#__PURE__*/\nReact$a.createElement(\"path\", {\n  d: \"M10 1L10 2 13.3 2 9 6.3 9.7 7 14 2.7 14 6 15 6 15 1z\"\n});\n\nvar Launch16 = /*#__PURE__*/React$a.forwardRef(function Launch16(_ref, ref) {\n  var children = _ref.children,\n      rest = IconE8f71a9c._objectWithoutProperties(_ref, [\"children\"]);\n\n  return /*#__PURE__*/React$a.createElement(IconE8f71a9c.Icon, IconE8f71a9c._extends({\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"currentColor\",\n    ref: ref\n  }, rest), _ref2$a, _ref3$3, children);\n});\nvar _16$4 = Launch16;\n\nfunction _interopDefault$b(ex) {\n  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;\n}\n\nvar React$b = _interopDefault$b(React$g__default);\n\nvar _ref2$b =\n/*#__PURE__*/\n\n/*#__PURE__*/\nReact$b.createElement(\"path\", {\n  d: \"M27,3H5A2,2,0,0,0,3,5V27a2,2,0,0,0,2,2H27a2,2,0,0,0,2-2V5A2,2,0,0,0,27,3Zm0,2V9H5V5ZM17,11H27v7H17Zm-2,7H5V11H15ZM5,20H15v7H5Zm12,7V20H27v7Z\"\n});\n\nvar TableSplit16 = /*#__PURE__*/React$b.forwardRef(function TableSplit16(_ref, ref) {\n  var children = _ref.children,\n      rest = IconE8f71a9c._objectWithoutProperties(_ref, [\"children\"]);\n\n  return /*#__PURE__*/React$b.createElement(IconE8f71a9c.Icon, IconE8f71a9c._extends({\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 32 32\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"currentColor\",\n    ref: ref\n  }, rest), _ref2$b, children);\n});\nvar _16$5 = TableSplit16; // Multiple search results\n\nvar baseClass$1 = settings.prefix + \"--search-results\";\nvar searchResultsListClass = baseClass$1 + \"__list\";\nvar searchResultsHeaderClass = baseClass$1 + \"__header\"; // Single search result\n\nvar searchResultClass = settings.prefix + \"--search-result\";\nvar searchResultSelectedClass = searchResultClass + \"--selected\";\nvar searchResultLoadingClass = searchResultClass + \"--loading\";\nvar searchResultCurationClass = searchResultClass + \"_curation\";\nvar searchResultContentWrapperClass = searchResultClass + \"__content-wrapper\";\nvar searchResultContentWrapperBodyClass = searchResultContentWrapperClass + \"__body\";\nvar searchResultContentWrapperBodyButtonClass = searchResultContentWrapperBodyClass + \"__button\";\nvar searchResultContentWrapperBodyPassageHighlightsClass = searchResultContentWrapperBodyClass + \"--passage__highlights\";\nvar searchResultContentWrapperHalfClass = searchResultContentWrapperClass + \"--half\";\nvar searchResultFooterClass = searchResultClass + \"__footer\";\nvar searchResultFooterTitleClass = searchResultFooterClass + \"__title\";\nvar searchResultFooterCollectionNameClass = searchResultFooterClass + \"__collection-name\";\n\nvar ResultElement = function ResultElement(_a) {\n  var body = _a.body,\n      _b = _a.buttonText,\n      buttonText = _b === void 0 ? 'View document' : _b,\n      _c = _a.element,\n      element = _c === void 0 ? null : _c,\n      _d = _a.elementType,\n      elementType = _d === void 0 ? null : _d,\n      elementLabel = _a.elementLabel,\n      handleSelectResult = _a.handleSelectResult,\n      passageTextClassName = _a.passageTextClassName,\n      hasResult = _a.hasResult,\n      dangerouslyRenderHtml = _a.dangerouslyRenderHtml;\n  var elementBodyClassNames = [searchResultContentWrapperBodyClass];\n\n  if (elementType) {\n    elementBodyClassNames.push(searchResultContentWrapperBodyClass + \"--\" + elementType);\n  }\n\n  if (elementType === 'passage') {\n    passageTextClassName ? elementBodyClassNames.push(passageTextClassName) : elementBodyClassNames.push(searchResultContentWrapperBodyPassageHighlightsClass);\n  }\n\n  var icon = elementType === 'table' ? _16$5 : _16$4;\n\n  var elementBodyProps = _assign({\n    className: elementBodyClassNames.join(' '),\n    'data-testid': \"search-result-element-body-\" + elementType,\n    'aria-label': elementLabel\n  }, elementType === 'table' ? {\n    role: 'article'\n  } : {});\n\n  useLayoutEffect(function () {\n    if (elementType === 'table') {\n      purify.addHook('afterSanitizeAttributes', function (node) {\n        if (node.tagName === 'TABLE') {\n          node.setAttribute('role', 'presentation');\n        }\n      });\n    }\n\n    return function () {\n      if (elementType === 'table') {\n        purify.removeHook('afterSanitizeAttributes');\n      }\n    };\n  }, [elementType]);\n  return React$g__default.createElement(Tile, null, dangerouslyRenderHtml ? React$g__default.createElement(\"div\", _assign({}, elementBodyProps, {\n    dangerouslySetInnerHTML: {\n      __html: purify.sanitize(body)\n    }\n  })) : React$g__default.createElement(\"div\", _assign({}, elementBodyProps), body), React$g__default.createElement(Button, {\n    className: searchResultContentWrapperBodyButtonClass,\n    onClick: handleSelectResult(element, elementType),\n    kind: \"ghost\",\n    renderIcon: icon,\n    disabled: !hasResult,\n    \"data-testid\": 'search-result-element-preview-button'\n  }, React$g__default.createElement(\"span\", null, buttonText)));\n};\n\nvar Result = function Result(_a) {\n  var bodyField = _a.bodyField,\n      collectionName = _a.collectionName,\n      passageTextClassName = _a.passageTextClassName,\n      result = _a.result,\n      resultLinkField = _a.resultLinkField,\n      resultLinkTemplate = _a.resultLinkTemplate,\n      resultTitleField = _a.resultTitleField,\n      showTablesOnlyResults = _a.showTablesOnlyResults,\n      table = _a.table,\n      dangerouslyRenderHtml = _a.dangerouslyRenderHtml,\n      usePassages = _a.usePassages,\n      onSelectResult = _a.onSelectResult,\n      messages = _a.messages;\n  var setSelectedResult = useContext(SearchApi).setSelectedResult;\n\n  var _b = useContext(SearchContext),\n      selectedResult = _b.selectedResult,\n      isLoading = _b.fetchDocumentsResponseStore.isLoading;\n\n  var firstPassage = get_1(result, 'document_passages[0]');\n  var firstPassageText = get_1(firstPassage, 'passage_text');\n  var hasPassage = usePassages && !!firstPassageText;\n  var displayedText = get_1(result, bodyField);\n\n  if (hasPassage) {\n    displayedText = firstPassageText;\n  }\n\n  var shouldDangerouslyRenderHtml = hasPassage || dangerouslyRenderHtml;\n  var displayedTextElement = hasPassage ? firstPassage : null;\n  var displayedTextElementType = hasPassage ? 'passage' : null;\n  var tableHtml = get_1(table, 'table_html'); // Need to check that showTablesOnlyResults isn't enabled to ensure text for a linked result isn't displayed in a tables only results view\n\n  var hasText = displayedText && !showTablesOnlyResults;\n  var emptyResultContent = !(hasText || tableHtml);\n  var title = getDocumentTitle(result, resultTitleField);\n\n  if (Array.isArray(title)) {\n    title = title[0]; // only first element will be shown if title is array\n  }\n\n  var searchResultClasses = [searchResultClass];\n\n  if (isEqual_1(result, selectedResult.document)) {\n    searchResultClasses.push(searchResultSelectedClass);\n  }\n\n  var documentRetrievalSource = get_1(result, 'result_metadata.document_retrieval_source');\n\n  if (documentRetrievalSource === 'curation') {\n    searchResultClasses.push(searchResultCurationClass);\n  }\n\n  var searchResultContentWrapperClasses = [searchResultContentWrapperClass];\n\n  if (displayedText && tableHtml && !showTablesOnlyResults) {\n    searchResultContentWrapperClasses.push(searchResultContentWrapperHalfClass);\n  }\n\n  var handleSelectResult = function handleSelectResult(element, elementType) {\n    return function (event) {\n      event.preventDefault();\n\n      if (resultLinkField || resultLinkTemplate) {\n        // expected behavior, use the resultLinkField if it exists over the resultLinkTemplate\n        var url = resultLinkField ? get_1(result, resultLinkField) : mustache.render(resultLinkTemplate, result);\n        window.open(url);\n      } else if (result) {\n        setSelectedResult({\n          document: result,\n          element: element,\n          elementType: elementType\n        }); //When onSelectResult props is present, send back document\n\n        onSelectResult && onSelectResult({\n          document: result\n        });\n      }\n    };\n  };\n\n  return React$g__default.createElement(\"div\", {\n    className: searchResultClasses.join(' ')\n  }, React$g__default.createElement(\"div\", {\n    className: searchResultContentWrapperClasses.join(' ')\n  }, emptyResultContent ? React$g__default.createElement(ResultElement, {\n    body: messages.emptyResultContentBodyText,\n    handleSelectResult: handleSelectResult,\n    hasResult: !!result\n  }) : React$g__default.createElement(React$g__default.Fragment, null, displayedText && !showTablesOnlyResults && React$g__default.createElement(ResultElement, {\n    body: displayedText,\n    buttonText: hasPassage ? messages.viewExcerptInDocumentButtonText : undefined,\n    element: displayedTextElement,\n    elementType: displayedTextElementType,\n    handleSelectResult: handleSelectResult,\n    passageTextClassName: passageTextClassName,\n    hasResult: !!result,\n    dangerouslyRenderHtml: shouldDangerouslyRenderHtml\n  }), tableHtml && React$g__default.createElement(ResultElement, {\n    body: tableHtml,\n    buttonText: messages.viewTableInDocumentButtonText,\n    element: table,\n    elementType: \"table\",\n    handleSelectResult: handleSelectResult,\n    hasResult: !!result,\n    dangerouslyRenderHtml: true,\n    elementLabel: messages.elementTableLabel ? formatMessage(messages.elementTableLabel, {\n      documentName: title\n    }, false).join('') : undefined\n  }))), (collectionName || result) && React$g__default.createElement(\"div\", {\n    className: searchResultFooterClass\n  }, isLoading || !result ? React$g__default.createElement(SkeletonText, {\n    width: '30%',\n    \"data-testid\": \"result-title-skeleton\"\n  }) : result && React$g__default.createElement(\"div\", {\n    className: searchResultFooterTitleClass,\n    title: title\n  }, title), collectionName && React$g__default.createElement(\"div\", {\n    className: searchResultFooterCollectionNameClass,\n    title: collectionName\n  }, messages.collectionLabel, \" \", collectionName)));\n};\n\nvar SpellingSuggestion = function SpellingSuggestion(_a) {\n  var spellingSuggestionPrefix = _a.spellingSuggestionPrefix,\n      onChange = _a.onChange;\n  var spellingSuggestionClassName = settings.prefix + \"--spelling-suggestion\";\n  var spellingSuggestionWrapperClassName = settings.prefix + \"--spelling-suggestion__wrapper\";\n  var _b = useContext(SearchContext).searchResponseStore,\n      searchParameters = _b.parameters,\n      searchResponse = _b.data;\n  var performSearch = useContext(SearchApi).performSearch;\n  var suggestedQuery = searchResponse && searchResponse.suggested_query;\n  var prepareFreshSearchParameters = useDeepCompareCallback(function (nlq) {\n    return _assign(_assign({}, searchParameters), {\n      naturalLanguageQuery: nlq,\n      offset: 0,\n      filter: ''\n    });\n  }, [searchParameters]);\n\n  var selectSuggestion = function selectSuggestion(evt) {\n    evt.preventDefault();\n\n    if (!!suggestedQuery) {\n      performSearch(prepareFreshSearchParameters(suggestedQuery));\n\n      if (onChange) {\n        onChange(suggestedQuery);\n      }\n    }\n  };\n\n  return React$g__default.createElement(React$g__default.Fragment, null, !!suggestedQuery && React$g__default.createElement(\"div\", {\n    className: spellingSuggestionWrapperClassName\n  }, spellingSuggestionPrefix, React$g__default.createElement(Button, {\n    className: spellingSuggestionClassName,\n    onClick: selectSuggestion,\n    kind: \"ghost\",\n    size: \"small\"\n  }, suggestedQuery)));\n};\n\nvar findCollectionName = function findCollectionName(collectionResponse, queryResult) {\n  var collectionId = get_1(queryResult, 'result_metadata.collection_id') || get_1(queryResult, 'collection_id');\n  var collections = get_1(collectionResponse, 'collections', []);\n  var matchingCollection = collections.find(function (collection) {\n    return collection.collection_id === collectionId;\n  });\n  return get_1(matchingCollection, 'name', collectionId);\n};\n\nvar getDisplaySettings = function getDisplaySettings(params, componentSettings) {\n  if (componentSettings === void 0) {\n    componentSettings = null;\n  }\n\n  return {\n    resultTitleField: params.resultTitleField || get_1(componentSettings, 'fields_shown.title.field'),\n    bodyField: params.bodyField || get_1(componentSettings, 'fields_shown.body.field', 'text'),\n    usePassages: params.usePassages === undefined ? get_1(componentSettings, 'fields_shown.body.use_passage', true) : params.usePassages\n  };\n};\n\nvar findTablesWithoutResults = function findTablesWithoutResults(tableResults, results) {\n  var tablesWithoutResults = tableResults.filter(function (table) {\n    var matchingResult = results.find(function (result) {\n      return table.source_document_id === result.document_id && table.collection_id === get_1(result, 'result_metadata.collection_id');\n    });\n    return !matchingResult;\n  });\n  return tablesWithoutResults;\n};\n\nvar defaultMessages$4 = {\n  collectionLabel: 'Collection:',\n  viewExcerptInDocumentButtonText: 'View passage in document',\n  viewTableInDocumentButtonText: 'View table in document',\n  tablesOnlyToggleLabelText: 'Show table results only',\n  spellingSuggestionsPrefix: 'Did you mean:',\n  emptyResultContentBodyText: 'Excerpt unavailable.',\n  noResultsFoundText: 'There were no results found',\n  elementTableLabel: 'Table snippet extracted from {documentName}'\n};\nvar DEFAULT_LOADING_COUNT = 3;\n\nvar SearchResults = function SearchResults(_a) {\n  var resultLinkField = _a.resultLinkField,\n      resultLinkTemplate = _a.resultLinkTemplate,\n      resultTitleField = _a.resultTitleField,\n      bodyField = _a.bodyField,\n      _b = _a.dangerouslyRenderHtml,\n      dangerouslyRenderHtml = _b === void 0 ? false : _b,\n      usePassages = _a.usePassages,\n      passageLength = _a.passageLength,\n      passageTextClassName = _a.passageTextClassName,\n      showTablesOnlyToggle = _a.showTablesOnlyToggle,\n      _c = _a.showTablesOnly,\n      showTablesOnly = _c === void 0 ? false : _c,\n      _d = _a.messages,\n      messages = _d === void 0 ? defaultMessages$4 : _d,\n      onSelectResult = _a.onSelectResult,\n      onChange = _a.onChange;\n\n  var mergedMessages = _assign(_assign({}, defaultMessages$4), messages);\n\n  var _e = useContext(SearchContext),\n      _f = _e.searchResponseStore,\n      searchResponse = _f.data,\n      isLoading = _f.isLoading,\n      parameters = _f.parameters,\n      collectionsResults = _e.collectionsResults,\n      componentSettings = _e.componentSettings;\n\n  var _g = useState(showTablesOnly),\n      showTablesOnlyResults = _g[0],\n      setShowTablesOnlyResults = _g[1];\n\n  var _h = useState(false),\n      hasFetchedDocuments = _h[0],\n      setHasFetchedDocuments = _h[1];\n\n  var displaySettings = getDisplaySettings({\n    resultTitleField: resultTitleField,\n    bodyField: bodyField,\n    usePassages: usePassages\n  }, componentSettings);\n\n  var _j = useContext(SearchApi),\n      setSearchParameters = _j.setSearchParameters,\n      fetchDocuments = _j.fetchDocuments;\n\n  var matchingResults = searchResponse && searchResponse.matching_results || 0;\n  var results = searchResponse && searchResponse.results || [];\n  var tableResults = searchResponse && searchResponse.table_results || [];\n  var emptySearch = searchResponse ? mergedMessages.noResultsFoundText : '';\n  var hasTables = tableResults && tableResults.length > 0;\n  var hasMatchingResults = matchingResults && matchingResults > 0;\n  var resultsFound = showTablesOnlyResults ? hasTables : hasMatchingResults;\n\n  var _k = useState(typeof showTablesOnlyToggle === 'undefined' ? hasTables : showTablesOnlyToggle),\n      showTablesOnlyToggleState = _k[0],\n      setShowTablesOnlyToggleState = _k[1];\n\n  useEffect(function () {\n    if (passageLength) {\n      setSearchParameters(function (currentSearchParameters) {\n        return _assign(_assign({}, currentSearchParameters), {\n          passages: {\n            characters: passageLength,\n            enabled: true\n          }\n        });\n      });\n    }\n  }, [passageLength, setSearchParameters]);\n  useEffect(function () {\n    setShowTablesOnlyResults(showTablesOnly);\n  }, [showTablesOnly]);\n  useEffect(function () {\n    setHasFetchedDocuments(false);\n  }, [parameters.naturalLanguageQuery]);\n  useEffect(function () {\n    setShowTablesOnlyToggleState(typeof showTablesOnlyToggle === 'undefined' ? hasTables : showTablesOnlyToggle);\n  }, [showTablesOnlyToggle, hasTables]); // tablesWithoutResults are the tables in our searchResponse with no corresponding QueryResult\n\n  useDeepCompareEffect(function () {\n    var tableResults = searchResponse && searchResponse.table_results || [];\n    var results = searchResponse && searchResponse.results || [];\n    var tablesWithoutResults = findTablesWithoutResults(tableResults, results);\n\n    if (!hasFetchedDocuments && tablesWithoutResults && tablesWithoutResults.length) {\n      var filterString = 'document_id::' + tablesWithoutResults.map(function (table) {\n        return table.source_document_id;\n      }).join('|');\n      fetchDocuments(filterString, searchResponse);\n      setHasFetchedDocuments(true);\n    }\n  }, [searchResponse, fetchDocuments, hasFetchedDocuments]);\n  var skeletons = useMemo(function () {\n    var searchResultLoadingClasses = [searchResultClass, searchResultLoadingClass];\n    var numberOfSkeletons = Math.min(parameters.count || 10, DEFAULT_LOADING_COUNT);\n    var size = Array.from(Array(numberOfSkeletons).keys());\n    return size.map(function (number) {\n      return React$g__default.createElement(\"div\", {\n        \"data-testid\": \"skeleton_text\",\n        key: number.toString(),\n        className: searchResultLoadingClasses.join(' ')\n      }, React$g__default.createElement(SkeletonText, {\n        paragraph: true,\n        width: '85%'\n      }));\n    });\n  }, [parameters.count]);\n  return React$g__default.createElement(\"div\", {\n    className: baseClass$1\n  }, React$g__default.createElement(\"div\", {\n    className: searchResultsHeaderClass,\n    \"data-testid\": \"search_results_header\"\n  }, React$g__default.createElement(SpellingSuggestion, {\n    spellingSuggestionPrefix: mergedMessages.spellingSuggestionsPrefix,\n    onChange: onChange\n  }), React$g__default.createElement(TablesOnlyToggle, {\n    setShowTablesOnlyResults: setShowTablesOnlyResults,\n    showTablesOnlyToggle: showTablesOnlyToggleState,\n    showTablesOnlyResults: showTablesOnlyResults,\n    messages: mergedMessages\n  })), isLoading ? skeletons : resultsFound ? React$g__default.createElement(\"div\", {\n    className: searchResultsListClass\n  }, showTablesOnlyResults ? tableResults.map(function (table) {\n    var collectionName = findCollectionName(collectionsResults, table);\n    var result = results.find(function (result) {\n      return result.document_id === table.source_document_id;\n    });\n    return React$g__default.createElement(Result, {\n      key: table.collection_id + \"_\" + table.table_id,\n      bodyField: displaySettings.bodyField,\n      collectionName: collectionName,\n      result: result,\n      resultLinkField: resultLinkField,\n      resultLinkTemplate: resultLinkTemplate,\n      resultTitleField: displaySettings.resultTitleField,\n      showTablesOnlyResults: showTablesOnlyResults,\n      table: table,\n      messages: mergedMessages,\n      onSelectResult: onSelectResult\n    });\n  }) : results.map(function (result) {\n    var documentTableResult = tableResults.find(function (tableResult) {\n      return tableResult.source_document_id === result.document_id;\n    });\n    var collectionName = findCollectionName(collectionsResults, result);\n    return React$g__default.createElement(Result, {\n      key: get_1(result, 'result_metadata.collection_id') + \"_\" + result.document_id,\n      bodyField: displaySettings.bodyField,\n      collectionName: collectionName,\n      passageTextClassName: passageTextClassName,\n      result: result,\n      resultLinkField: resultLinkField,\n      resultLinkTemplate: resultLinkTemplate,\n      resultTitleField: displaySettings.resultTitleField,\n      table: documentTableResult,\n      usePassages: displaySettings.usePassages,\n      dangerouslyRenderHtml: dangerouslyRenderHtml,\n      messages: mergedMessages,\n      onSelectResult: onSelectResult\n    });\n  })) : emptySearch && React$g__default.createElement(\"div\", {\n    className: searchResultClass\n  }, emptySearch));\n};\n\nvar SearchResults$1 = commonjs_2(SearchResults, FallbackComponent('SearchResults'), onErrorCallback);\n/** Used as the size to enable large array optimizations. */\n\nvar LARGE_ARRAY_SIZE$2 = 200;\n/**\n * The base implementation of methods like `_.difference` without support\n * for excluding multiple arrays or iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Array} values The values to exclude.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of filtered values.\n */\n\nfunction baseDifference(array, values, iteratee, comparator) {\n  var index = -1,\n      includes = _arrayIncludes,\n      isCommon = true,\n      length = array.length,\n      result = [],\n      valuesLength = values.length;\n\n  if (!length) {\n    return result;\n  }\n\n  if (iteratee) {\n    values = _arrayMap(values, _baseUnary(iteratee));\n  }\n\n  if (comparator) {\n    includes = _arrayIncludesWith;\n    isCommon = false;\n  } else if (values.length >= LARGE_ARRAY_SIZE$2) {\n    includes = _cacheHas;\n    isCommon = false;\n    values = new _SetCache(values);\n  }\n\n  outer: while (++index < length) {\n    var value = array[index],\n        computed = iteratee == null ? value : iteratee(value);\n    value = comparator || value !== 0 ? value : 0;\n\n    if (isCommon && computed === computed) {\n      var valuesIndex = valuesLength;\n\n      while (valuesIndex--) {\n        if (values[valuesIndex] === computed) {\n          continue outer;\n        }\n      }\n\n      result.push(value);\n    } else if (!includes(values, computed, comparator)) {\n      result.push(value);\n    }\n  }\n\n  return result;\n}\n\nvar _baseDifference = baseDifference;\n/**\n * Creates an array of `array` values not included in the other given arrays\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons. The order and references of result values are\n * determined by the first array.\n *\n * **Note:** Unlike `_.pullAll`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {...Array} [values] The values to exclude.\n * @returns {Array} Returns the new array of filtered values.\n * @see _.without, _.xor\n * @example\n *\n * _.difference([2, 1], [2, 3]);\n * // => [1]\n */\n\nvar difference = _baseRest(function (array, values) {\n  return isArrayLikeObject_1(array) ? _baseDifference(array, _baseFlatten(values, 1, isArrayLikeObject_1, true)) : [];\n});\n\nvar difference_1 = difference;\n/**\n * The base implementation of `_.slice` without an iteratee call guard.\n *\n * @private\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\n\nfunction baseSlice(array, start, end) {\n  var index = -1,\n      length = array.length;\n\n  if (start < 0) {\n    start = -start > length ? 0 : length + start;\n  }\n\n  end = end > length ? length : end;\n\n  if (end < 0) {\n    end += length;\n  }\n\n  length = start > end ? 0 : end - start >>> 0;\n  start >>>= 0;\n  var result = Array(length);\n\n  while (++index < length) {\n    result[index] = array[index + start];\n  }\n\n  return result;\n}\n\nvar _baseSlice = baseSlice;\n/**\n * Casts `array` to a slice if it's needed.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {number} start The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the cast slice.\n */\n\nfunction castSlice(array, start, end) {\n  var length = array.length;\n  end = end === undefined ? length : end;\n  return !start && end >= length ? array : _baseSlice(array, start, end);\n}\n\nvar _castSlice = castSlice;\n/** Used to compose unicode character classes. */\n\nvar rsAstralRange = \"\\\\ud800-\\\\udfff\",\n    rsComboMarksRange = \"\\\\u0300-\\\\u036f\",\n    reComboHalfMarksRange = \"\\\\ufe20-\\\\ufe2f\",\n    rsComboSymbolsRange = \"\\\\u20d0-\\\\u20ff\",\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsVarRange = \"\\\\ufe0e\\\\ufe0f\";\n/** Used to compose unicode capture groups. */\n\nvar rsZWJ = \"\\\\u200d\";\n/** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\n\nvar reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange + rsComboRange + rsVarRange + ']');\n/**\n * Checks if `string` contains Unicode symbols.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n */\n\nfunction hasUnicode(string) {\n  return reHasUnicode.test(string);\n}\n\nvar _hasUnicode = hasUnicode;\n/**\n * Converts an ASCII `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\n\nfunction asciiToArray(string) {\n  return string.split('');\n}\n\nvar _asciiToArray = asciiToArray;\n/** Used to compose unicode character classes. */\n\nvar rsAstralRange$1 = \"\\\\ud800-\\\\udfff\",\n    rsComboMarksRange$1 = \"\\\\u0300-\\\\u036f\",\n    reComboHalfMarksRange$1 = \"\\\\ufe20-\\\\ufe2f\",\n    rsComboSymbolsRange$1 = \"\\\\u20d0-\\\\u20ff\",\n    rsComboRange$1 = rsComboMarksRange$1 + reComboHalfMarksRange$1 + rsComboSymbolsRange$1,\n    rsVarRange$1 = \"\\\\ufe0e\\\\ufe0f\";\n/** Used to compose unicode capture groups. */\n\nvar rsAstral = '[' + rsAstralRange$1 + ']',\n    rsCombo = '[' + rsComboRange$1 + ']',\n    rsFitz = \"\\\\ud83c[\\\\udffb-\\\\udfff]\",\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange$1 + ']',\n    rsRegional = \"(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}\",\n    rsSurrPair = \"[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]\",\n    rsZWJ$1 = \"\\\\u200d\";\n/** Used to compose unicode regexes. */\n\nvar reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange$1 + ']?',\n    rsOptJoin = '(?:' + rsZWJ$1 + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n/** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\n\nvar reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n/**\n * Converts a Unicode `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\n\nfunction unicodeToArray(string) {\n  return string.match(reUnicode) || [];\n}\n\nvar _unicodeToArray = unicodeToArray;\n/**\n * Converts `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\n\nfunction stringToArray(string) {\n  return _hasUnicode(string) ? _unicodeToArray(string) : _asciiToArray(string);\n}\n\nvar _stringToArray = stringToArray;\n/**\n * Creates a function like `_.lowerFirst`.\n *\n * @private\n * @param {string} methodName The name of the `String` case method to use.\n * @returns {Function} Returns the new case function.\n */\n\nfunction createCaseFirst(methodName) {\n  return function (string) {\n    string = toString_1(string);\n    var strSymbols = _hasUnicode(string) ? _stringToArray(string) : undefined;\n    var chr = strSymbols ? strSymbols[0] : string.charAt(0);\n    var trailing = strSymbols ? _castSlice(strSymbols, 1).join('') : string.slice(1);\n    return chr[methodName]() + trailing;\n  };\n}\n\nvar _createCaseFirst = createCaseFirst;\n/**\n * Converts the first character of `string` to upper case.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.upperFirst('fred');\n * // => 'Fred'\n *\n * _.upperFirst('FRED');\n * // => 'FRED'\n */\n\nvar upperFirst = _createCaseFirst('toUpperCase');\n\nvar upperFirst_1 = upperFirst;\n/**\n * Converts the first character of `string` to upper case and the remaining\n * to lower case.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to capitalize.\n * @returns {string} Returns the capitalized string.\n * @example\n *\n * _.capitalize('FRED');\n * // => 'Fred'\n */\n\nfunction capitalize(string) {\n  return upperFirst_1(toString_1(string).toLowerCase());\n}\n\nvar capitalize_1 = capitalize;\nvar classnames = createCommonjsModule(function (module) {\n  /*!\n    Copyright (c) 2017 Jed Watson.\n    Licensed under the MIT License (MIT), see\n    http://jedwatson.github.io/classnames\n  */\n\n  /* global define */\n  (function () {\n    var hasOwn = {}.hasOwnProperty;\n\n    function classNames() {\n      var classes = [];\n\n      for (var i = 0; i < arguments.length; i++) {\n        var arg = arguments[i];\n        if (!arg) continue;\n        var argType = typeof arg;\n\n        if (argType === 'string' || argType === 'number') {\n          classes.push(arg);\n        } else if (Array.isArray(arg) && arg.length) {\n          var inner = classNames.apply(null, arg);\n\n          if (inner) {\n            classes.push(inner);\n          }\n        } else if (argType === 'object') {\n          for (var key in arg) {\n            if (hasOwn.call(arg, key) && arg[key]) {\n              classes.push(key);\n            }\n          }\n        }\n      }\n\n      return classes.join(' ');\n    }\n\n    if (module.exports) {\n      classNames.default = classNames;\n      module.exports = classNames;\n    } else {\n      window.classNames = classNames;\n    }\n  })();\n}); // display name mappings for values within documents (contracts, invoices and purchase orders)\n\nvar documentDisplayNames = {\n  amount: 'Amount',\n  bill_to: 'Bill to',\n  buyers: 'Buyer',\n  contract_amounts: 'Contract amounts',\n  contract_terms: 'Contract terms',\n  contract_types: 'Contract types',\n  currencies: 'Currency',\n  currency: 'Currency',\n  due_dates: 'Due date',\n  effective_dates: 'Effective dates',\n  invoice_dates: 'Invoice date',\n  invoice_numbers: 'Invoice number',\n  invoice_parts: 'Invoice parts',\n  invoice_to: 'Invoice to',\n  item_description: 'Item description',\n  line_items: 'Line item',\n  part_description: 'Part description',\n  payment_terms: 'Payment terms',\n  purchase_order_dates: 'Purchase order date',\n  purchase_order_numbers: 'Purchase order number',\n  quantity_ordered: 'Quantity',\n  ship_to: 'Ship to',\n  supplier_ids: 'Supplier id',\n  suppliers: 'Suppliers',\n  termination_dates: 'Termination dates',\n  total_amounts: 'Total amount',\n  totals_due: 'Total due',\n  unit_price: 'Unit price'\n};\nvar defaultMessages$5 = {\n  noneLabel: 'None',\n  detailsTitle: 'Details',\n  noneSelectedMessage: 'Nothing selected'\n};\n\nvar Details = function Details(_a) {\n  var title = _a.title,\n      items = _a.items,\n      selectedLink = _a.selectedLink,\n      _b = _a.messages,\n      messages = _b === void 0 ? defaultMessages$5 : _b,\n      onClick = _a.onClick;\n\n  var renderItems = function renderItems() {\n    return React$g__default.createElement(\"ul\", null, items.map(function (item) {\n      return item.link === true ? renderLinks(item, onClick, selectedLink, title) : renderContent(item);\n    }));\n  };\n\n  return React$g__default.createElement(\"div\", {\n    className: \"section\",\n    \"data-testid\": 'details-pane-' + title\n  }, React$g__default.createElement(\"h3\", {\n    className: \"sectionHeader\"\n  }, capitalize_1(title)), items && items.length > 0 ? renderItems() : messages.noneLabel);\n};\n\nfunction renderLinks(_a, _onClick2, selectedLink, sectionTitle) {\n  var type = _a.type,\n      label = _a.label,\n      value = _a.value;\n  return React$g__default.createElement(\"li\", {\n    key: type,\n    className: \"content\"\n  }, value && React$g__default.createElement(\"div\", {\n    className: \"display-name\"\n  }, documentDisplayNames[type]), React$g__default.createElement(Link, {\n    className: classnames({\n      selected: selectedLink === type\n    }),\n    href: \"#\",\n    onClick: function onClick(evt) {\n      evt.preventDefault();\n\n      _onClick2({\n        sectionTitle: sectionTitle,\n        type: type\n      });\n    }\n  }, value && value.label ? value.label : label));\n}\n\nfunction renderContent(item) {\n  return React$g__default.createElement(\"li\", {\n    className: \"content\",\n    key: item.label || item\n  }, renderText(item));\n}\n\nfunction renderText(item) {\n  if (item.label) {\n    return item.label;\n  }\n\n  return documentDisplayNames[item] || item;\n}\n\nvar base$1 = settings.prefix + \"--ci-doc-details\";\n\nvar DetailsPane = function DetailsPane(_a) {\n  var items = _a.items,\n      selectedLink = _a.selectedLink,\n      _b = _a.messages,\n      messages = _b === void 0 ? defaultMessages$5 : _b,\n      onActiveLinkChange = _a.onActiveLinkChange;\n  return React$g__default.createElement(\"div\", {\n    className: base$1,\n    \"data-testid\": \"details-pane\"\n  }, React$g__default.createElement(\"h2\", {\n    className: \"title\",\n    id: \"documentDetailsId\"\n  }, messages.detailsTitle), items.length > 0 ? items.map(function (_a) {\n    var heading = _a.heading,\n        items = _a.items;\n    return React$g__default.createElement(Details, {\n      title: heading,\n      items: items,\n      onClick: onActiveLinkChange,\n      key: heading,\n      selectedLink: selectedLink,\n      messages: messages\n    });\n  }) : React$g__default.createElement(\"div\", {\n    className: \"nothingSelected\"\n  }, messages.noneSelectedMessage));\n};\n/**\r\n * Checks if the given filter is empty\r\n *\r\n * @param {Object} filter the filter to check for emptiness\r\n * @returns true if the filter is empty\r\n */\n\n\nfunction isFilterEmpty(filter) {\n  return !Object.values(filter).some(function (labelList) {\n    return labelList.length !== 0;\n  });\n}\n/**\r\n * Checks if the given filter contains the given filter part\r\n *\r\n * @param {Object} filter the filter\r\n * @param {string} groupId\r\n * @param {string} optionId\r\n * @returns true if the filter is empty\r\n */\n\n\nfunction filterContains(filter, groupId, optionId) {\n  return !!filter[groupId] && filter[groupId].includes(optionId);\n}\n\nfunction updateFilter(filter, _a) {\n  var _b;\n\n  var type = _a.type,\n      _c = _a.checked,\n      checked = _c === void 0 ? true : _c,\n      groupId = _a.groupId,\n      optionId = _a.optionId;\n  var updatedList = [];\n\n  if (type === 'checkbox' && filter[groupId]) {\n    updatedList.push.apply(updatedList, filter[groupId]);\n  }\n\n  if (checked) {\n    updatedList.push(optionId);\n  } else {\n    var index = updatedList.indexOf(optionId);\n\n    if (index > -1) {\n      updatedList.splice(index, 1);\n    }\n  }\n\n  return _assign(_assign({}, filter), (_b = {}, _b[groupId] = updatedList, _b));\n} // display name mappings for invoices and purchase orders\n\n\nvar displayNames = {\n  amount: 'Amount',\n  bill_to: 'Bill to',\n  buyers: 'Buyer',\n  currencies: 'Currency',\n  currency: 'Currency',\n  due_dates: 'Due date',\n  invoice_dates: 'Invoice date',\n  invoice_numbers: 'Invoice number',\n  invoice_parts: 'Invoice parts',\n  invoice_to: 'Invoice to',\n  item_description: 'Item description',\n  line_items: 'Line item',\n  part_description: 'Part description',\n  payment_terms: 'Payment terms',\n  purchase_order_dates: 'Purchase order date',\n  purchase_order_numbers: 'Purchase order number',\n  quantity_ordered: 'Quantity',\n  ship_to: 'Ship to',\n  supplier_ids: 'Supplier id',\n  suppliers: 'Suppliers',\n  total_amounts: 'Total amount',\n  totals_due: 'Total due',\n  unit_price: 'Unit price'\n};\nvar defaultMessages$6 = {\n  filterTitle: 'Select labels to filter elements',\n  resetFilterLabel: 'Reset filters'\n};\nvar base$2 = settings.prefix + \"--ci-doc-filter\";\nvar inputTagTypes = {\n  checkbox: Checkbox,\n  radio: RadioButton\n};\n\nvar FilterPanel = function FilterPanel(_a) {\n  var className = _a.className,\n      filter = _a.filter,\n      filterGroups = _a.filterGroups,\n      _b = _a.messages,\n      messages = _b === void 0 ? defaultMessages$6 : _b,\n      onFilterChange = _a.onFilterChange,\n      onFilterClear = _a.onFilterClear;\n  var loading = !filter || !filterGroups || filterGroups.length === 0;\n  return React$g__default.createElement(\"div\", {\n    className: classnames(base$2, className, {\n      skeletons: loading\n    }),\n    \"data-testid\": \"CIDocument_filterPanel\"\n  }, loading ? React$g__default.createElement(SkeletonText, {\n    paragraph: true,\n    lineCount: 6\n  }) : React$g__default.createElement(\"div\", null, React$g__default.createElement(\"div\", {\n    className: \"filterTitle\"\n  }, messages.filterTitle), React$g__default.createElement(Button, {\n    className: \"resetButton\",\n    kind: \"ghost\",\n    size: \"small\",\n    onClick: onFilterClear,\n    disabled: filter && isFilterEmpty(filter)\n  }, messages.resetFilterLabel), React$g__default.createElement(\"div\", {\n    className: \"groups\"\n  }, filterGroups && filterGroups.map(function (group) {\n    return React$g__default.createElement(\"div\", {\n      key: group.id,\n      className: \"group\",\n      \"aria-label\": group.title,\n      role: \"group\"\n    }, React$g__default.createElement(\"h3\", {\n      className: \"group-title\"\n    }, group.title), group.optionsList && group.optionsList.map(function (_a) {\n      var id = _a.id,\n          count = _a.count,\n          displayName = _a.displayName;\n      var InputTag = inputTagTypes[group.type];\n      var labelText = React$g__default.createElement(React$g__default.Fragment, null, displayNames[displayName] || displayName, !!count && React$g__default.createElement(\"span\", {\n        className: \"count\"\n      }, \"(\", count, \")\"));\n      return InputTag && React$g__default.createElement(InputTag, {\n        key: group.id + \"-\" + id,\n        id: group.id + \"-\" + id,\n        className: \"group-option input\",\n        labelText: labelText,\n        name: group.id,\n        disabled: !count,\n        checked: filter && filterContains(filter, group.id, id),\n        onChange: handleChange(id, group.id, group.type, onFilterChange)\n      });\n    }));\n  }))));\n};\n\nfunction handleChange(id, name, type, onFilterChange) {\n  if (onFilterChange) {\n    return function (value) {\n      // value is string for radio buttons, boolean for checkbox\n      // Always send true for radio buttons; otherwise, send along checkbox boolean\n      var checked = typeof value === 'string' || value;\n      onFilterChange({\n        optionId: id,\n        groupId: name,\n        type: type,\n        checked: checked\n      });\n    };\n  }\n\n  return undefined;\n}\n\nfunction _extends$2() {\n  _extends$2 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends$2.apply(this, arguments);\n}\n\nfunction _objectWithoutProperties$3(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose$3(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose$3(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar _ref2$c = /*#__PURE__*/React$g__default.createElement(\"g\", {\n  fill: \"#34BC6E\",\n  fillRule: \"nonzero\"\n}, /*#__PURE__*/React$g__default.createElement(\"circle\", {\n  cx: 3.5,\n  cy: 3.5,\n  r: 2.5\n}), /*#__PURE__*/React$g__default.createElement(\"circle\", {\n  cx: 10.5,\n  cy: 3.5,\n  r: 2.5\n}), /*#__PURE__*/React$g__default.createElement(\"circle\", {\n  cx: 17.5,\n  cy: 3.5,\n  r: 2.5\n}));\n\nvar SvgConfidenceHigh = function SvgConfidenceHigh(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties$3(_ref, [\"svgRef\"]);\n\n  return /*#__PURE__*/React$g__default.createElement(\"svg\", _extends$2({\n    width: 21,\n    height: 7,\n    ref: svgRef\n  }, props), _ref2$c);\n};\n\nvar ForwardRef$2 = /*#__PURE__*/React$g__default.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React$g__default.createElement(SvgConfidenceHigh, _extends$2({\n    svgRef: ref\n  }, props));\n});\n\nfunction _extends$3() {\n  _extends$3 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends$3.apply(this, arguments);\n}\n\nfunction _objectWithoutProperties$4(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose$4(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose$4(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar _ref2$d = /*#__PURE__*/React$g__default.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"nonzero\"\n}, /*#__PURE__*/React$g__default.createElement(\"circle\", {\n  cx: 3.5,\n  cy: 3.5,\n  r: 2.5,\n  fill: \"#FED500\"\n}), /*#__PURE__*/React$g__default.createElement(\"circle\", {\n  cx: 10.5,\n  cy: 3.5,\n  r: 2.5,\n  fill: \"#FED500\"\n}), /*#__PURE__*/React$g__default.createElement(\"circle\", {\n  cx: 17.5,\n  cy: 3.5,\n  r: 2.5,\n  fill: \"#C0BFC0\"\n}));\n\nvar SvgConfidenceMedium = function SvgConfidenceMedium(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties$4(_ref, [\"svgRef\"]);\n\n  return /*#__PURE__*/React$g__default.createElement(\"svg\", _extends$3({\n    width: 21,\n    height: 7,\n    ref: svgRef\n  }, props), _ref2$d);\n};\n\nvar ForwardRef$3 = /*#__PURE__*/React$g__default.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React$g__default.createElement(SvgConfidenceMedium, _extends$3({\n    svgRef: ref\n  }, props));\n});\n\nfunction _extends$4() {\n  _extends$4 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends$4.apply(this, arguments);\n}\n\nfunction _objectWithoutProperties$5(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose$5(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose$5(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar _ref2$e = /*#__PURE__*/React$g__default.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"nonzero\"\n}, /*#__PURE__*/React$g__default.createElement(\"circle\", {\n  cx: 3.5,\n  cy: 3.5,\n  r: 2.5,\n  fill: \"#E62325\"\n}), /*#__PURE__*/React$g__default.createElement(\"circle\", {\n  cx: 10.5,\n  cy: 3.5,\n  r: 2.5,\n  fill: \"#C0BFC0\"\n}), /*#__PURE__*/React$g__default.createElement(\"circle\", {\n  cx: 17.5,\n  cy: 3.5,\n  r: 2.5,\n  fill: \"#C0BFC0\"\n}));\n\nvar SvgConfidenceLow = function SvgConfidenceLow(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties$5(_ref, [\"svgRef\"]);\n\n  return /*#__PURE__*/React$g__default.createElement(\"svg\", _extends$4({\n    width: 21,\n    height: 7,\n    ref: svgRef\n  }, props), _ref2$e);\n};\n\nvar ForwardRef$4 = /*#__PURE__*/React$g__default.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React$g__default.createElement(SvgConfidenceLow, _extends$4({\n    svgRef: ref\n  }, props));\n});\n\nvar MetadataRow = function MetadataRow(_a) {\n  var metadata = _a.metadata,\n      activeMetadataId = _a.activeMetadataId,\n      _b = _a.contactsLabel,\n      contactsLabel = _b === void 0 ? 'Contacts' : _b,\n      _c = _a.partiesLabel,\n      partiesLabel = _c === void 0 ? 'Parties' : _c,\n      _d = _a.confidenceLabel,\n      confidenceLabel = _d === void 0 ? 'Confidence' : _d,\n      _e = _a.highConfidenceTooltipText,\n      highConfidenceTooltipText = _e === void 0 ? 'High confidence: Watson is very confident that the identified data is correct.' : _e,\n      _f = _a.mediumConfidenceTooltipText,\n      mediumConfidenceTooltipText = _f === void 0 ? 'Medium confidence: Watson is somewhat confident that the identified data is correct.' : _f,\n      _g = _a.lowConfidenceTooltipText,\n      lowConfidenceTooltipText = _g === void 0 ? 'Low confidence: Watson is unsure if the identified data is correct.' : _g,\n      onActiveMetadataChange = _a.onActiveMetadataChange;\n  var metadataType = metadata.metadataType,\n      data = metadata.data;\n  var headings = {\n    contacts: contactsLabel,\n    parties: partiesLabel,\n    contract_amounts: 'Contract amounts',\n    effective_dates: 'Effective dates',\n    termination_dates: 'Termination dates',\n    contract_types: 'Contract types',\n    contract_terms: 'Contract terms',\n    payment_terms: 'Payment terms'\n  };\n  var confidenceLevel = {\n    High: {\n      icon: ForwardRef$2,\n      description: highConfidenceTooltipText\n    },\n    Medium: {\n      icon: ForwardRef$3,\n      description: mediumConfidenceTooltipText\n    },\n    Low: {\n      icon: ForwardRef$4,\n      description: lowConfidenceTooltipText\n    }\n  };\n  return React$g__default.createElement(\"div\", {\n    className: \"group\"\n  }, React$g__default.createElement(\"h3\", {\n    className: \"group-title\"\n  }, headings[metadataType], \" \"), React$g__default.createElement(\"ul\", null, data.map(function (dt) {\n    var metadataId = getId(dt);\n    var metadataTypeId = getMetadataTypeId(metadataId, metadataType);\n    return React$g__default.createElement(\"li\", {\n      key: metadataTypeId\n    }, React$g__default.createElement(Tooltip, {\n      direction: \"right\",\n      iconDescription: confidenceLabel,\n      renderIcon: confidenceLevel[dt.confidence_level].icon,\n      tabIndex: 0,\n      size: \"small\"\n    }, confidenceLevel[dt.confidence_level].description), React$g__default.createElement(Link, {\n      className: classnames({\n        selected: getMetadataTypeId(activeMetadataId, metadataType) === metadataTypeId\n      }),\n      href: \"#\",\n      onClick: function onClick(evt) {\n        onLinkClick(evt, metadataId, metadataType, onActiveMetadataChange, dt);\n      }\n    }, dt.text_normalized || dt.text));\n  })));\n};\n\nfunction onLinkClick(evt, metadataId, metadataType, onActiveMetadataChange, data) {\n  evt.preventDefault();\n  data.metadataType = metadataType;\n  onActiveMetadataChange({\n    metadataId: metadataId,\n    metadataType: metadataType,\n    data: [data]\n  });\n}\n\nfunction getMetadataTypeId(id, metadataType) {\n  return id ? id + \"_\" + metadataType : '';\n}\n\nvar HIDDEN_ROLES = ['Unknown'];\n\nvar PartyRow = function PartyRow(_a) {\n  var party = _a.party,\n      activeMetadataId = _a.activeMetadataId,\n      _b = _a.addressesHeading,\n      addressesHeading = _b === void 0 ? 'Addresses' : _b,\n      _c = _a.contactsHeading,\n      contactsHeading = _c === void 0 ? 'Contacts' : _c,\n      onActivePartyChange = _a.onActivePartyChange;\n  return React$g__default.createElement(React$g__default.Fragment, null, party.mentions ? React$g__default.createElement(Link, {\n    className: classnames('link', {\n      selected: party.mentions.some(function (mention) {\n        return getId(mention) === activeMetadataId;\n      })\n    }),\n    onClick: function onClick(evt) {\n      onLinkClick$1(evt, party.mentions, onActivePartyChange);\n    },\n    href: \"#\"\n  }, getNameRoleDisplayString({\n    name: party.party,\n    role: party.role\n  }), \"\\xA0(\", party.mentions.length, \")\") : React$g__default.createElement(\"p\", null, getNameRoleDisplayString({\n    name: party.party,\n    role: party.role\n  })), React$g__default.createElement(\"div\", null, party.addresses.length > 0 && React$g__default.createElement(\"div\", null, React$g__default.createElement(\"h3\", null, addressesHeading), React$g__default.createElement(\"ul\", null, party.addresses.map(function (address) {\n    return React$g__default.createElement(\"li\", {\n      key: getId(address)\n    }, React$g__default.createElement(Link, {\n      className: classnames('link', {\n        selected: party.addresses.some(function (adrs) {\n          return getId(adrs) === activeMetadataId;\n        })\n      }),\n      href: \"#\",\n      onClick: function onClick(evt) {\n        onLinkClick$1(evt, party.addresses, onActivePartyChange);\n      }\n    }, address.text));\n  }))), party.contacts.length > 0 && React$g__default.createElement(\"div\", null, React$g__default.createElement(\"h3\", null, contactsHeading), React$g__default.createElement(\"ul\", null, party.contacts.map(function (contact) {\n    return React$g__default.createElement(\"li\", {\n      key: contact.name + \"-\" + contact.role\n    }, getNameRoleDisplayString(contact));\n  })))));\n};\n\nfunction getNameRoleDisplayString(_a) {\n  var name = _a.name,\n      role = _a.role;\n\n  if (role && !HIDDEN_ROLES.includes(role)) {\n    return name + \" (\" + role + \")\";\n  }\n\n  return name;\n}\n\nfunction onLinkClick$1(evt, items, onActivePartyChange) {\n  evt.preventDefault();\n  onActivePartyChange(items);\n}\n\nvar defaultMessages$7 = {\n  partiesHeading: 'Parties'\n};\n\nvar MetadataPane = function MetadataPane(_a) {\n  var _b = _a.metadata,\n      metadata = _b === void 0 ? [] : _b,\n      _c = _a.parties,\n      parties = _c === void 0 ? [] : _c,\n      activeMetadataId = _a.activeMetadataId,\n      _d = _a.messages,\n      messages = _d === void 0 ? defaultMessages$7 : _d,\n      onActiveMetadataChange = _a.onActiveMetadataChange,\n      onActivePartyChange = _a.onActivePartyChange;\n  var filteredParties = filterParties(parties);\n  var base = settings.prefix + \"--ci-doc-metadata\";\n  return React$g__default.createElement(\"div\", {\n    className: base,\n    \"data-testid\": \"metadata-pane\"\n  }, React$g__default.createElement(\"div\", {\n    className: \"section\"\n  }, metadata.map(function (data, index) {\n    return React$g__default.createElement(MetadataRow, {\n      key: index,\n      metadata: data,\n      activeMetadataId: activeMetadataId,\n      onActiveMetadataChange: onActiveMetadataChange\n    });\n  })), React$g__default.createElement(\"div\", {\n    className: \"section\"\n  }, React$g__default.createElement(\"div\", {\n    className: \"group\"\n  }, React$g__default.createElement(\"h3\", {\n    className: \"group-title\"\n  }, messages.partiesHeading), React$g__default.createElement(\"ul\", null, filteredParties.map(function (party, index) {\n    return React$g__default.createElement(\"li\", {\n      key: index\n    }, React$g__default.createElement(PartyRow, {\n      party: party,\n      activeMetadataId: activeMetadataId,\n      onActivePartyChange: onActivePartyChange\n    }));\n  })))));\n};\n\nfunction showParty(originalParty) {\n  var importance = originalParty.importance,\n      addresses = originalParty.addresses,\n      contacts = originalParty.contacts,\n      role = originalParty.role,\n      party = originalParty.party;\n  return importance === 'Primary' || addresses.length > 0 || contacts.length > 0 || !!role && role.toLowerCase() !== 'unknown' && role.toLowerCase() !== party.toLowerCase();\n}\n\nfunction filterParties(parties) {\n  if (parties === void 0) {\n    parties = [];\n  }\n\n  return parties.filter(function (party) {\n    return showParty(party);\n  });\n}\n\nfunction _interopDefault$c(ex) {\n  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;\n}\n\nvar React$c = _interopDefault$c(React$g__default);\n\nvar _ref2$f =\n/*#__PURE__*/\n\n/*#__PURE__*/\nReact$c.createElement(\"path\", {\n  d: \"M5 8L10 3 10.7 3.7 6.4 8 10.7 12.3 10 13z\"\n});\n\nvar ChevronLeft16 = /*#__PURE__*/React$c.forwardRef(function ChevronLeft16(_ref, ref) {\n  var children = _ref.children,\n      rest = IconE8f71a9c._objectWithoutProperties(_ref, [\"children\"]);\n\n  return /*#__PURE__*/React$c.createElement(IconE8f71a9c.Icon, IconE8f71a9c._extends({\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"currentColor\",\n    ref: ref\n  }, rest), _ref2$f, children);\n});\nvar _16$6 = ChevronLeft16;\n\nfunction _interopDefault$d(ex) {\n  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;\n}\n\nvar React$d = _interopDefault$d(React$g__default);\n\nvar _ref2$g =\n/*#__PURE__*/\n\n/*#__PURE__*/\nReact$d.createElement(\"path\", {\n  d: \"M11 8L6 13 5.3 12.3 9.6 8 5.3 3.7 6 3z\"\n});\n\nvar ChevronRight16 = /*#__PURE__*/React$d.forwardRef(function ChevronRight16(_ref, ref) {\n  var children = _ref.children,\n      rest = IconE8f71a9c._objectWithoutProperties(_ref, [\"children\"]);\n\n  return /*#__PURE__*/React$d.createElement(IconE8f71a9c.Icon, IconE8f71a9c._extends({\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"currentColor\",\n    ref: ref\n  }, rest), _ref2$g, children);\n});\nvar _16$7 = ChevronRight16;\nvar defaultMessages$8 = {\n  previousLabel: 'Previous',\n  nextLabel: 'Next',\n  navigation: 'Highlighted items navigation',\n  counterPattern: '{index} / {max}'\n};\n\nvar NavigationToolbar = function NavigationToolbar(_a) {\n  var className = _a.className,\n      _b = _a.index,\n      index = _b === void 0 ? 0 : _b,\n      max = _a.max,\n      _c = _a.messages,\n      messages = _c === void 0 ? defaultMessages$8 : _c,\n      onChange = _a.onChange;\n  var base = settings.prefix + \"--ci-doc-toolbar\";\n  return React$g__default.createElement(\"nav\", {\n    className: classnames(base, className),\n    \"aria-label\": messages.navigation\n  }, React$g__default.createElement(Button, {\n    className: \"button\",\n    title: messages.previousLabel,\n    kind: \"ghost\",\n    size: \"small\",\n    renderIcon: _16$6,\n    \"aria-label\": messages.previousLabel,\n    iconDescription: messages.previousLabel,\n    onClick: handleChange$1(onChange, index, max, -1),\n    \"data-testid\": \"NavigationToolbar_previous\"\n  }), React$g__default.createElement(\"span\", {\n    className: \"text\",\n    \"data-testid\": \"NavigationToolbar_counter\"\n  }, messages.counterPattern.replace('{index}', index > 0 ? String(index) : '-').replace('{max}', String(max))), React$g__default.createElement(Button, {\n    className: \"button\",\n    title: messages.nextLabel,\n    kind: \"ghost\",\n    size: \"small\",\n    \"aria-label\": messages.nextLabel,\n    renderIcon: _16$7,\n    iconDescription: messages.nextLabel,\n    onClick: handleChange$1(onChange, index, max, 1),\n    \"data-testid\": \"NavigationToolbar_next\"\n  }));\n};\n\nfunction handleChange$1(onChange, index, max, change) {\n  return function () {\n    // If the previous button is pressed when there is no index, set index to max.\n    // Otherwise, set the index to the current index + or - 1, looping from 1 to max or max to 1 as needed\n    var isBelowMin = index <= 0 && change < 0;\n    var newIndex = isBelowMin ? max : (max + (index - 1) + change) % max + 1;\n    onChange(newIndex);\n  };\n}\n/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing. The function also has a property 'clear' \n * that is a function which will clear the timer to prevent previously scheduled executions. \n *\n * @source underscore.js\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n * @param {Function} function to wrap\n * @param {Number} timeout in ms (`100`)\n * @param {Boolean} whether to execute at the beginning (`false`)\n * @api public\n */\n\n\nfunction debounce(func, wait, immediate) {\n  var timeout, args, context, timestamp, result;\n  if (null == wait) wait = 100;\n\n  function later() {\n    var last = Date.now() - timestamp;\n\n    if (last < wait && last >= 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n\n      if (!immediate) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n    }\n  }\n\n  var debounced = function debounced() {\n    context = this;\n    args = arguments;\n    timestamp = Date.now();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n\n  debounced.clear = function () {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n\n  debounced.flush = function () {\n    if (timeout) {\n      result = func.apply(context, args);\n      context = args = null;\n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n\n  return debounced;\n} // Adds compatibility for ES modules\n\n\ndebounce.debounce = debounce;\nvar debounce_1 = debounce;\n/**\r\n * A collection of shims that provide minimal functionality of the ES6 collections.\r\n *\r\n * These implementations are not meant to be used outside of the ResizeObserver\r\n * modules as they cover only a limited range of use cases.\r\n */\n\n/* eslint-disable require-jsdoc, valid-jsdoc */\n\nvar MapShim = function () {\n  if (typeof Map !== 'undefined') {\n    return Map;\n  }\n  /**\r\n   * Returns index in provided array that matches the specified key.\r\n   *\r\n   * @param {Array<Array>} arr\r\n   * @param {*} key\r\n   * @returns {number}\r\n   */\n\n\n  function getIndex(arr, key) {\n    var result = -1;\n    arr.some(function (entry, index) {\n      if (entry[0] === key) {\n        result = index;\n        return true;\n      }\n\n      return false;\n    });\n    return result;\n  }\n\n  return (\n    /** @class */\n    function () {\n      function class_1() {\n        this.__entries__ = [];\n      }\n\n      Object.defineProperty(class_1.prototype, \"size\", {\n        /**\r\n         * @returns {boolean}\r\n         */\n        get: function get() {\n          return this.__entries__.length;\n        },\n        enumerable: true,\n        configurable: true\n      });\n      /**\r\n       * @param {*} key\r\n       * @returns {*}\r\n       */\n\n      class_1.prototype.get = function (key) {\n        var index = getIndex(this.__entries__, key);\n        var entry = this.__entries__[index];\n        return entry && entry[1];\n      };\n      /**\r\n       * @param {*} key\r\n       * @param {*} value\r\n       * @returns {void}\r\n       */\n\n\n      class_1.prototype.set = function (key, value) {\n        var index = getIndex(this.__entries__, key);\n\n        if (~index) {\n          this.__entries__[index][1] = value;\n        } else {\n          this.__entries__.push([key, value]);\n        }\n      };\n      /**\r\n       * @param {*} key\r\n       * @returns {void}\r\n       */\n\n\n      class_1.prototype.delete = function (key) {\n        var entries = this.__entries__;\n        var index = getIndex(entries, key);\n\n        if (~index) {\n          entries.splice(index, 1);\n        }\n      };\n      /**\r\n       * @param {*} key\r\n       * @returns {void}\r\n       */\n\n\n      class_1.prototype.has = function (key) {\n        return !!~getIndex(this.__entries__, key);\n      };\n      /**\r\n       * @returns {void}\r\n       */\n\n\n      class_1.prototype.clear = function () {\n        this.__entries__.splice(0);\n      };\n      /**\r\n       * @param {Function} callback\r\n       * @param {*} [ctx=null]\r\n       * @returns {void}\r\n       */\n\n\n      class_1.prototype.forEach = function (callback, ctx) {\n        if (ctx === void 0) {\n          ctx = null;\n        }\n\n        for (var _i = 0, _a = this.__entries__; _i < _a.length; _i++) {\n          var entry = _a[_i];\n          callback.call(ctx, entry[1], entry[0]);\n        }\n      };\n\n      return class_1;\n    }()\n  );\n}();\n/**\r\n * Detects whether window and document objects are available in current environment.\r\n */\n\n\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && window.document === document; // Returns global object of a current environment.\n\nvar global$1 = function () {\n  if (typeof global !== 'undefined' && global.Math === Math) {\n    return global;\n  }\n\n  if (typeof self !== 'undefined' && self.Math === Math) {\n    return self;\n  }\n\n  if (typeof window !== 'undefined' && window.Math === Math) {\n    return window;\n  } // eslint-disable-next-line no-new-func\n\n\n  return Function('return this')();\n}();\n/**\r\n * A shim for the requestAnimationFrame which falls back to the setTimeout if\r\n * first one is not supported.\r\n *\r\n * @returns {number} Requests' identifier.\r\n */\n\n\nvar requestAnimationFrame$1 = function () {\n  if (typeof requestAnimationFrame === 'function') {\n    // It's required to use a bounded function because IE sometimes throws\n    // an \"Invalid calling object\" error if rAF is invoked without the global\n    // object on the left hand side.\n    return requestAnimationFrame.bind(global$1);\n  }\n\n  return function (callback) {\n    return setTimeout(function () {\n      return callback(Date.now());\n    }, 1000 / 60);\n  };\n}(); // Defines minimum timeout before adding a trailing call.\n\n\nvar trailingTimeout = 2;\n/**\r\n * Creates a wrapper function which ensures that provided callback will be\r\n * invoked only once during the specified delay period.\r\n *\r\n * @param {Function} callback - Function to be invoked after the delay period.\r\n * @param {number} delay - Delay after which to invoke callback.\r\n * @returns {Function}\r\n */\n\nfunction throttle(callback, delay) {\n  var leadingCall = false,\n      trailingCall = false,\n      lastCallTime = 0;\n  /**\r\n   * Invokes the original callback function and schedules new invocation if\r\n   * the \"proxy\" was called during current request.\r\n   *\r\n   * @returns {void}\r\n   */\n\n  function resolvePending() {\n    if (leadingCall) {\n      leadingCall = false;\n      callback();\n    }\n\n    if (trailingCall) {\n      proxy();\n    }\n  }\n  /**\r\n   * Callback invoked after the specified delay. It will further postpone\r\n   * invocation of the original function delegating it to the\r\n   * requestAnimationFrame.\r\n   *\r\n   * @returns {void}\r\n   */\n\n\n  function timeoutCallback() {\n    requestAnimationFrame$1(resolvePending);\n  }\n  /**\r\n   * Schedules invocation of the original function.\r\n   *\r\n   * @returns {void}\r\n   */\n\n\n  function proxy() {\n    var timeStamp = Date.now();\n\n    if (leadingCall) {\n      // Reject immediately following calls.\n      if (timeStamp - lastCallTime < trailingTimeout) {\n        return;\n      } // Schedule new call to be in invoked when the pending one is resolved.\n      // This is important for \"transitions\" which never actually start\n      // immediately so there is a chance that we might miss one if change\n      // happens amids the pending invocation.\n\n\n      trailingCall = true;\n    } else {\n      leadingCall = true;\n      trailingCall = false;\n      setTimeout(timeoutCallback, delay);\n    }\n\n    lastCallTime = timeStamp;\n  }\n\n  return proxy;\n} // Minimum delay before invoking the update of observers.\n\n\nvar REFRESH_DELAY = 20; // A list of substrings of CSS properties used to find transition events that\n// might affect dimensions of observed elements.\n\nvar transitionKeys = ['top', 'right', 'bottom', 'left', 'width', 'height', 'size', 'weight']; // Check if MutationObserver is available.\n\nvar mutationObserverSupported = typeof MutationObserver !== 'undefined';\n/**\r\n * Singleton controller class which handles updates of ResizeObserver instances.\r\n */\n\nvar ResizeObserverController =\n/** @class */\nfunction () {\n  /**\r\n   * Creates a new instance of ResizeObserverController.\r\n   *\r\n   * @private\r\n   */\n  function ResizeObserverController() {\n    /**\r\n     * Indicates whether DOM listeners have been added.\r\n     *\r\n     * @private {boolean}\r\n     */\n    this.connected_ = false;\n    /**\r\n     * Tells that controller has subscribed for Mutation Events.\r\n     *\r\n     * @private {boolean}\r\n     */\n\n    this.mutationEventsAdded_ = false;\n    /**\r\n     * Keeps reference to the instance of MutationObserver.\r\n     *\r\n     * @private {MutationObserver}\r\n     */\n\n    this.mutationsObserver_ = null;\n    /**\r\n     * A list of connected observers.\r\n     *\r\n     * @private {Array<ResizeObserverSPI>}\r\n     */\n\n    this.observers_ = [];\n    this.onTransitionEnd_ = this.onTransitionEnd_.bind(this);\n    this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);\n  }\n  /**\r\n   * Adds observer to observers list.\r\n   *\r\n   * @param {ResizeObserverSPI} observer - Observer to be added.\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverController.prototype.addObserver = function (observer) {\n    if (!~this.observers_.indexOf(observer)) {\n      this.observers_.push(observer);\n    } // Add listeners if they haven't been added yet.\n\n\n    if (!this.connected_) {\n      this.connect_();\n    }\n  };\n  /**\r\n   * Removes observer from observers list.\r\n   *\r\n   * @param {ResizeObserverSPI} observer - Observer to be removed.\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverController.prototype.removeObserver = function (observer) {\n    var observers = this.observers_;\n    var index = observers.indexOf(observer); // Remove observer if it's present in registry.\n\n    if (~index) {\n      observers.splice(index, 1);\n    } // Remove listeners if controller has no connected observers.\n\n\n    if (!observers.length && this.connected_) {\n      this.disconnect_();\n    }\n  };\n  /**\r\n   * Invokes the update of observers. It will continue running updates insofar\r\n   * it detects changes.\r\n   *\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverController.prototype.refresh = function () {\n    var changesDetected = this.updateObservers_(); // Continue running updates if changes have been detected as there might\n    // be future ones caused by CSS transitions.\n\n    if (changesDetected) {\n      this.refresh();\n    }\n  };\n  /**\r\n   * Updates every observer from observers list and notifies them of queued\r\n   * entries.\r\n   *\r\n   * @private\r\n   * @returns {boolean} Returns \"true\" if any observer has detected changes in\r\n   *      dimensions of it's elements.\r\n   */\n\n\n  ResizeObserverController.prototype.updateObservers_ = function () {\n    // Collect observers that have active observations.\n    var activeObservers = this.observers_.filter(function (observer) {\n      return observer.gatherActive(), observer.hasActive();\n    }); // Deliver notifications in a separate cycle in order to avoid any\n    // collisions between observers, e.g. when multiple instances of\n    // ResizeObserver are tracking the same element and the callback of one\n    // of them changes content dimensions of the observed target. Sometimes\n    // this may result in notifications being blocked for the rest of observers.\n\n    activeObservers.forEach(function (observer) {\n      return observer.broadcastActive();\n    });\n    return activeObservers.length > 0;\n  };\n  /**\r\n   * Initializes DOM listeners.\r\n   *\r\n   * @private\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverController.prototype.connect_ = function () {\n    // Do nothing if running in a non-browser environment or if listeners\n    // have been already added.\n    if (!isBrowser || this.connected_) {\n      return;\n    } // Subscription to the \"Transitionend\" event is used as a workaround for\n    // delayed transitions. This way it's possible to capture at least the\n    // final state of an element.\n\n\n    document.addEventListener('transitionend', this.onTransitionEnd_);\n    window.addEventListener('resize', this.refresh);\n\n    if (mutationObserverSupported) {\n      this.mutationsObserver_ = new MutationObserver(this.refresh);\n      this.mutationsObserver_.observe(document, {\n        attributes: true,\n        childList: true,\n        characterData: true,\n        subtree: true\n      });\n    } else {\n      document.addEventListener('DOMSubtreeModified', this.refresh);\n      this.mutationEventsAdded_ = true;\n    }\n\n    this.connected_ = true;\n  };\n  /**\r\n   * Removes DOM listeners.\r\n   *\r\n   * @private\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverController.prototype.disconnect_ = function () {\n    // Do nothing if running in a non-browser environment or if listeners\n    // have been already removed.\n    if (!isBrowser || !this.connected_) {\n      return;\n    }\n\n    document.removeEventListener('transitionend', this.onTransitionEnd_);\n    window.removeEventListener('resize', this.refresh);\n\n    if (this.mutationsObserver_) {\n      this.mutationsObserver_.disconnect();\n    }\n\n    if (this.mutationEventsAdded_) {\n      document.removeEventListener('DOMSubtreeModified', this.refresh);\n    }\n\n    this.mutationsObserver_ = null;\n    this.mutationEventsAdded_ = false;\n    this.connected_ = false;\n  };\n  /**\r\n   * \"Transitionend\" event handler.\r\n   *\r\n   * @private\r\n   * @param {TransitionEvent} event\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverController.prototype.onTransitionEnd_ = function (_a) {\n    var _b = _a.propertyName,\n        propertyName = _b === void 0 ? '' : _b; // Detect whether transition may affect dimensions of an element.\n\n    var isReflowProperty = transitionKeys.some(function (key) {\n      return !!~propertyName.indexOf(key);\n    });\n\n    if (isReflowProperty) {\n      this.refresh();\n    }\n  };\n  /**\r\n   * Returns instance of the ResizeObserverController.\r\n   *\r\n   * @returns {ResizeObserverController}\r\n   */\n\n\n  ResizeObserverController.getInstance = function () {\n    if (!this.instance_) {\n      this.instance_ = new ResizeObserverController();\n    }\n\n    return this.instance_;\n  };\n  /**\r\n   * Holds reference to the controller's instance.\r\n   *\r\n   * @private {ResizeObserverController}\r\n   */\n\n\n  ResizeObserverController.instance_ = null;\n  return ResizeObserverController;\n}();\n/**\r\n * Defines non-writable/enumerable properties of the provided target object.\r\n *\r\n * @param {Object} target - Object for which to define properties.\r\n * @param {Object} props - Properties to be defined.\r\n * @returns {Object} Target object.\r\n */\n\n\nvar defineConfigurable = function defineConfigurable(target, props) {\n  for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\n    var key = _a[_i];\n    Object.defineProperty(target, key, {\n      value: props[key],\n      enumerable: false,\n      writable: false,\n      configurable: true\n    });\n  }\n\n  return target;\n};\n/**\r\n * Returns the global object associated with provided element.\r\n *\r\n * @param {Object} target\r\n * @returns {Object}\r\n */\n\n\nvar getWindowOf = function getWindowOf(target) {\n  // Assume that the element is an instance of Node, which means that it\n  // has the \"ownerDocument\" property from which we can retrieve a\n  // corresponding global object.\n  var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView; // Return the local global object if it's not possible extract one from\n  // provided element.\n\n  return ownerGlobal || global$1;\n}; // Placeholder of an empty content rectangle.\n\n\nvar emptyRect = createRectInit(0, 0, 0, 0);\n/**\r\n * Converts provided string to a number.\r\n *\r\n * @param {number|string} value\r\n * @returns {number}\r\n */\n\nfunction toFloat(value) {\n  return parseFloat(value) || 0;\n}\n/**\r\n * Extracts borders size from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @param {...string} positions - Borders positions (top, right, ...)\r\n * @returns {number}\r\n */\n\n\nfunction getBordersSize(styles) {\n  var positions = [];\n\n  for (var _i = 1; _i < arguments.length; _i++) {\n    positions[_i - 1] = arguments[_i];\n  }\n\n  return positions.reduce(function (size, position) {\n    var value = styles['border-' + position + '-width'];\n    return size + toFloat(value);\n  }, 0);\n}\n/**\r\n * Extracts paddings sizes from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @returns {Object} Paddings box.\r\n */\n\n\nfunction getPaddings(styles) {\n  var positions = ['top', 'right', 'bottom', 'left'];\n  var paddings = {};\n\n  for (var _i = 0, positions_1 = positions; _i < positions_1.length; _i++) {\n    var position = positions_1[_i];\n    var value = styles['padding-' + position];\n    paddings[position] = toFloat(value);\n  }\n\n  return paddings;\n}\n/**\r\n * Calculates content rectangle of provided SVG element.\r\n *\r\n * @param {SVGGraphicsElement} target - Element content rectangle of which needs\r\n *      to be calculated.\r\n * @returns {DOMRectInit}\r\n */\n\n\nfunction getSVGContentRect(target) {\n  var bbox = target.getBBox();\n  return createRectInit(0, 0, bbox.width, bbox.height);\n}\n/**\r\n * Calculates content rectangle of provided HTMLElement.\r\n *\r\n * @param {HTMLElement} target - Element for which to calculate the content rectangle.\r\n * @returns {DOMRectInit}\r\n */\n\n\nfunction getHTMLElementContentRect(target) {\n  // Client width & height properties can't be\n  // used exclusively as they provide rounded values.\n  var clientWidth = target.clientWidth,\n      clientHeight = target.clientHeight; // By this condition we can catch all non-replaced inline, hidden and\n  // detached elements. Though elements with width & height properties less\n  // than 0.5 will be discarded as well.\n  //\n  // Without it we would need to implement separate methods for each of\n  // those cases and it's not possible to perform a precise and performance\n  // effective test for hidden elements. E.g. even jQuery's ':visible' filter\n  // gives wrong results for elements with width & height less than 0.5.\n\n  if (!clientWidth && !clientHeight) {\n    return emptyRect;\n  }\n\n  var styles = getWindowOf(target).getComputedStyle(target);\n  var paddings = getPaddings(styles);\n  var horizPad = paddings.left + paddings.right;\n  var vertPad = paddings.top + paddings.bottom; // Computed styles of width & height are being used because they are the\n  // only dimensions available to JS that contain non-rounded values. It could\n  // be possible to utilize the getBoundingClientRect if only it's data wasn't\n  // affected by CSS transformations let alone paddings, borders and scroll bars.\n\n  var width = toFloat(styles.width),\n      height = toFloat(styles.height); // Width & height include paddings and borders when the 'border-box' box\n  // model is applied (except for IE).\n\n  if (styles.boxSizing === 'border-box') {\n    // Following conditions are required to handle Internet Explorer which\n    // doesn't include paddings and borders to computed CSS dimensions.\n    //\n    // We can say that if CSS dimensions + paddings are equal to the \"client\"\n    // properties then it's either IE, and thus we don't need to subtract\n    // anything, or an element merely doesn't have paddings/borders styles.\n    if (Math.round(width + horizPad) !== clientWidth) {\n      width -= getBordersSize(styles, 'left', 'right') + horizPad;\n    }\n\n    if (Math.round(height + vertPad) !== clientHeight) {\n      height -= getBordersSize(styles, 'top', 'bottom') + vertPad;\n    }\n  } // Following steps can't be applied to the document's root element as its\n  // client[Width/Height] properties represent viewport area of the window.\n  // Besides, it's as well not necessary as the <html> itself neither has\n  // rendered scroll bars nor it can be clipped.\n\n\n  if (!isDocumentElement(target)) {\n    // In some browsers (only in Firefox, actually) CSS width & height\n    // include scroll bars size which can be removed at this step as scroll\n    // bars are the only difference between rounded dimensions + paddings\n    // and \"client\" properties, though that is not always true in Chrome.\n    var vertScrollbar = Math.round(width + horizPad) - clientWidth;\n    var horizScrollbar = Math.round(height + vertPad) - clientHeight; // Chrome has a rather weird rounding of \"client\" properties.\n    // E.g. for an element with content width of 314.2px it sometimes gives\n    // the client width of 315px and for the width of 314.7px it may give\n    // 314px. And it doesn't happen all the time. So just ignore this delta\n    // as a non-relevant.\n\n    if (Math.abs(vertScrollbar) !== 1) {\n      width -= vertScrollbar;\n    }\n\n    if (Math.abs(horizScrollbar) !== 1) {\n      height -= horizScrollbar;\n    }\n  }\n\n  return createRectInit(paddings.left, paddings.top, width, height);\n}\n/**\r\n * Checks whether provided element is an instance of the SVGGraphicsElement.\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\n\n\nvar isSVGGraphicsElement = function () {\n  // Some browsers, namely IE and Edge, don't have the SVGGraphicsElement\n  // interface.\n  if (typeof SVGGraphicsElement !== 'undefined') {\n    return function (target) {\n      return target instanceof getWindowOf(target).SVGGraphicsElement;\n    };\n  } // If it's so, then check that element is at least an instance of the\n  // SVGElement and that it has the \"getBBox\" method.\n  // eslint-disable-next-line no-extra-parens\n\n\n  return function (target) {\n    return target instanceof getWindowOf(target).SVGElement && typeof target.getBBox === 'function';\n  };\n}();\n/**\r\n * Checks whether provided element is a document element (<html>).\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\n\n\nfunction isDocumentElement(target) {\n  return target === getWindowOf(target).document.documentElement;\n}\n/**\r\n * Calculates an appropriate content rectangle for provided html or svg element.\r\n *\r\n * @param {Element} target - Element content rectangle of which needs to be calculated.\r\n * @returns {DOMRectInit}\r\n */\n\n\nfunction getContentRect(target) {\n  if (!isBrowser) {\n    return emptyRect;\n  }\n\n  if (isSVGGraphicsElement(target)) {\n    return getSVGContentRect(target);\n  }\n\n  return getHTMLElementContentRect(target);\n}\n/**\r\n * Creates rectangle with an interface of the DOMRectReadOnly.\r\n * Spec: https://drafts.fxtf.org/geometry/#domrectreadonly\r\n *\r\n * @param {DOMRectInit} rectInit - Object with rectangle's x/y coordinates and dimensions.\r\n * @returns {DOMRectReadOnly}\r\n */\n\n\nfunction createReadOnlyRect(_a) {\n  var x = _a.x,\n      y = _a.y,\n      width = _a.width,\n      height = _a.height; // If DOMRectReadOnly is available use it as a prototype for the rectangle.\n\n  var Constr = typeof DOMRectReadOnly !== 'undefined' ? DOMRectReadOnly : Object;\n  var rect = Object.create(Constr.prototype); // Rectangle's properties are not writable and non-enumerable.\n\n  defineConfigurable(rect, {\n    x: x,\n    y: y,\n    width: width,\n    height: height,\n    top: y,\n    right: x + width,\n    bottom: height + y,\n    left: x\n  });\n  return rect;\n}\n/**\r\n * Creates DOMRectInit object based on the provided dimensions and the x/y coordinates.\r\n * Spec: https://drafts.fxtf.org/geometry/#dictdef-domrectinit\r\n *\r\n * @param {number} x - X coordinate.\r\n * @param {number} y - Y coordinate.\r\n * @param {number} width - Rectangle's width.\r\n * @param {number} height - Rectangle's height.\r\n * @returns {DOMRectInit}\r\n */\n\n\nfunction createRectInit(x, y, width, height) {\n  return {\n    x: x,\n    y: y,\n    width: width,\n    height: height\n  };\n}\n/**\r\n * Class that is responsible for computations of the content rectangle of\r\n * provided DOM element and for keeping track of it's changes.\r\n */\n\n\nvar ResizeObservation =\n/** @class */\nfunction () {\n  /**\r\n   * Creates an instance of ResizeObservation.\r\n   *\r\n   * @param {Element} target - Element to be observed.\r\n   */\n  function ResizeObservation(target) {\n    /**\r\n     * Broadcasted width of content rectangle.\r\n     *\r\n     * @type {number}\r\n     */\n    this.broadcastWidth = 0;\n    /**\r\n     * Broadcasted height of content rectangle.\r\n     *\r\n     * @type {number}\r\n     */\n\n    this.broadcastHeight = 0;\n    /**\r\n     * Reference to the last observed content rectangle.\r\n     *\r\n     * @private {DOMRectInit}\r\n     */\n\n    this.contentRect_ = createRectInit(0, 0, 0, 0);\n    this.target = target;\n  }\n  /**\r\n   * Updates content rectangle and tells whether it's width or height properties\r\n   * have changed since the last broadcast.\r\n   *\r\n   * @returns {boolean}\r\n   */\n\n\n  ResizeObservation.prototype.isActive = function () {\n    var rect = getContentRect(this.target);\n    this.contentRect_ = rect;\n    return rect.width !== this.broadcastWidth || rect.height !== this.broadcastHeight;\n  };\n  /**\r\n   * Updates 'broadcastWidth' and 'broadcastHeight' properties with a data\r\n   * from the corresponding properties of the last observed content rectangle.\r\n   *\r\n   * @returns {DOMRectInit} Last observed content rectangle.\r\n   */\n\n\n  ResizeObservation.prototype.broadcastRect = function () {\n    var rect = this.contentRect_;\n    this.broadcastWidth = rect.width;\n    this.broadcastHeight = rect.height;\n    return rect;\n  };\n\n  return ResizeObservation;\n}();\n\nvar ResizeObserverEntry =\n/** @class */\nfunction () {\n  /**\r\n   * Creates an instance of ResizeObserverEntry.\r\n   *\r\n   * @param {Element} target - Element that is being observed.\r\n   * @param {DOMRectInit} rectInit - Data of the element's content rectangle.\r\n   */\n  function ResizeObserverEntry(target, rectInit) {\n    var contentRect = createReadOnlyRect(rectInit); // According to the specification following properties are not writable\n    // and are also not enumerable in the native implementation.\n    //\n    // Property accessors are not being used as they'd require to define a\n    // private WeakMap storage which may cause memory leaks in browsers that\n    // don't support this type of collections.\n\n    defineConfigurable(this, {\n      target: target,\n      contentRect: contentRect\n    });\n  }\n\n  return ResizeObserverEntry;\n}();\n\nvar ResizeObserverSPI =\n/** @class */\nfunction () {\n  /**\r\n   * Creates a new instance of ResizeObserver.\r\n   *\r\n   * @param {ResizeObserverCallback} callback - Callback function that is invoked\r\n   *      when one of the observed elements changes it's content dimensions.\r\n   * @param {ResizeObserverController} controller - Controller instance which\r\n   *      is responsible for the updates of observer.\r\n   * @param {ResizeObserver} callbackCtx - Reference to the public\r\n   *      ResizeObserver instance which will be passed to callback function.\r\n   */\n  function ResizeObserverSPI(callback, controller, callbackCtx) {\n    /**\r\n     * Collection of resize observations that have detected changes in dimensions\r\n     * of elements.\r\n     *\r\n     * @private {Array<ResizeObservation>}\r\n     */\n    this.activeObservations_ = [];\n    /**\r\n     * Registry of the ResizeObservation instances.\r\n     *\r\n     * @private {Map<Element, ResizeObservation>}\r\n     */\n\n    this.observations_ = new MapShim();\n\n    if (typeof callback !== 'function') {\n      throw new TypeError('The callback provided as parameter 1 is not a function.');\n    }\n\n    this.callback_ = callback;\n    this.controller_ = controller;\n    this.callbackCtx_ = callbackCtx;\n  }\n  /**\r\n   * Starts observing provided element.\r\n   *\r\n   * @param {Element} target - Element to be observed.\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverSPI.prototype.observe = function (target) {\n    if (!arguments.length) {\n      throw new TypeError('1 argument required, but only 0 present.');\n    } // Do nothing if current environment doesn't have the Element interface.\n\n\n    if (typeof Element === 'undefined' || !(Element instanceof Object)) {\n      return;\n    }\n\n    if (!(target instanceof getWindowOf(target).Element)) {\n      throw new TypeError('parameter 1 is not of type \"Element\".');\n    }\n\n    var observations = this.observations_; // Do nothing if element is already being observed.\n\n    if (observations.has(target)) {\n      return;\n    }\n\n    observations.set(target, new ResizeObservation(target));\n    this.controller_.addObserver(this); // Force the update of observations.\n\n    this.controller_.refresh();\n  };\n  /**\r\n   * Stops observing provided element.\r\n   *\r\n   * @param {Element} target - Element to stop observing.\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverSPI.prototype.unobserve = function (target) {\n    if (!arguments.length) {\n      throw new TypeError('1 argument required, but only 0 present.');\n    } // Do nothing if current environment doesn't have the Element interface.\n\n\n    if (typeof Element === 'undefined' || !(Element instanceof Object)) {\n      return;\n    }\n\n    if (!(target instanceof getWindowOf(target).Element)) {\n      throw new TypeError('parameter 1 is not of type \"Element\".');\n    }\n\n    var observations = this.observations_; // Do nothing if element is not being observed.\n\n    if (!observations.has(target)) {\n      return;\n    }\n\n    observations.delete(target);\n\n    if (!observations.size) {\n      this.controller_.removeObserver(this);\n    }\n  };\n  /**\r\n   * Stops observing all elements.\r\n   *\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverSPI.prototype.disconnect = function () {\n    this.clearActive();\n    this.observations_.clear();\n    this.controller_.removeObserver(this);\n  };\n  /**\r\n   * Collects observation instances the associated element of which has changed\r\n   * it's content rectangle.\r\n   *\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverSPI.prototype.gatherActive = function () {\n    var _this = this;\n\n    this.clearActive();\n    this.observations_.forEach(function (observation) {\n      if (observation.isActive()) {\n        _this.activeObservations_.push(observation);\n      }\n    });\n  };\n  /**\r\n   * Invokes initial callback function with a list of ResizeObserverEntry\r\n   * instances collected from active resize observations.\r\n   *\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverSPI.prototype.broadcastActive = function () {\n    // Do nothing if observer doesn't have active observations.\n    if (!this.hasActive()) {\n      return;\n    }\n\n    var ctx = this.callbackCtx_; // Create ResizeObserverEntry instance for every active observation.\n\n    var entries = this.activeObservations_.map(function (observation) {\n      return new ResizeObserverEntry(observation.target, observation.broadcastRect());\n    });\n    this.callback_.call(ctx, entries, ctx);\n    this.clearActive();\n  };\n  /**\r\n   * Clears the collection of active observations.\r\n   *\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverSPI.prototype.clearActive = function () {\n    this.activeObservations_.splice(0);\n  };\n  /**\r\n   * Tells whether observer has active observations.\r\n   *\r\n   * @returns {boolean}\r\n   */\n\n\n  ResizeObserverSPI.prototype.hasActive = function () {\n    return this.activeObservations_.length > 0;\n  };\n\n  return ResizeObserverSPI;\n}(); // Registry of internal observers. If WeakMap is not available use current shim\n// for the Map collection as it has all required methods and because WeakMap\n// can't be fully polyfilled anyway.\n\n\nvar observers = typeof WeakMap !== 'undefined' ? new WeakMap() : new MapShim();\n/**\r\n * ResizeObserver API. Encapsulates the ResizeObserver SPI implementation\r\n * exposing only those methods and properties that are defined in the spec.\r\n */\n\nvar ResizeObserver =\n/** @class */\nfunction () {\n  /**\r\n   * Creates a new instance of ResizeObserver.\r\n   *\r\n   * @param {ResizeObserverCallback} callback - Callback that is invoked when\r\n   *      dimensions of the observed elements change.\r\n   */\n  function ResizeObserver(callback) {\n    if (!(this instanceof ResizeObserver)) {\n      throw new TypeError('Cannot call a class as a function.');\n    }\n\n    if (!arguments.length) {\n      throw new TypeError('1 argument required, but only 0 present.');\n    }\n\n    var controller = ResizeObserverController.getInstance();\n    var observer = new ResizeObserverSPI(callback, controller, this);\n    observers.set(this, observer);\n  }\n\n  return ResizeObserver;\n}(); // Expose public methods of ResizeObserver.\n\n\n['observe', 'unobserve', 'disconnect'].forEach(function (method) {\n  ResizeObserver.prototype[method] = function () {\n    var _a;\n\n    return (_a = observers.get(this))[method].apply(_a, arguments);\n  };\n});\n\nvar index = function () {\n  // Export existing implementation if available.\n  if (typeof global$1.ResizeObserver !== 'undefined') {\n    return global$1.ResizeObserver;\n  }\n\n  return ResizeObserver;\n}();\n\nvar rafSchd = function rafSchd(fn) {\n  var lastArgs = [];\n  var frameId = null;\n\n  var wrapperFn = function wrapperFn() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    lastArgs = args;\n\n    if (frameId) {\n      return;\n    }\n\n    frameId = requestAnimationFrame(function () {\n      frameId = null;\n      fn.apply(void 0, lastArgs);\n    });\n  };\n\n  wrapperFn.cancel = function () {\n    if (!frameId) {\n      return;\n    }\n\n    cancelAnimationFrame(frameId);\n    frameId = null;\n  };\n\n  return wrapperFn;\n};\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\n\n\nvar now = function now() {\n  return _root.Date.now();\n};\n\nvar now_1 = now;\n/** Error message constants. */\n\nvar FUNC_ERROR_TEXT$1 = 'Expected a function';\n/* Built-in method references for those with the same name as other `lodash` methods. */\n\nvar nativeMax$2 = Math.max,\n    nativeMin = Math.min;\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\n\nfunction debounce$1(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT$1);\n  }\n\n  wait = toNumber_1(wait) || 0;\n\n  if (isObject_1(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax$2(toNumber_1(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time; // Start the timer for the trailing edge.\n\n    timerId = setTimeout(timerExpired, wait); // Invoke the leading edge.\n\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n    return maxing ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke) : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime; // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n\n    return lastCallTime === undefined || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;\n  }\n\n  function timerExpired() {\n    var time = now_1();\n\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    } // Restart the timer.\n\n\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined; // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now_1());\n  }\n\n  function debounced() {\n    var time = now_1(),\n        isInvoking = shouldInvoke(time);\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n\n    return result;\n  }\n\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nvar debounce_1$1 = debounce$1;\n/** Error message constants. */\n\nvar FUNC_ERROR_TEXT$2 = 'Expected a function';\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\n\nfunction throttle$1(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT$2);\n  }\n\n  if (isObject_1(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  return debounce_1$1(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\nvar throttle_1 = throttle$1;\nvar utils = createCommonjsModule(function (module, exports) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.isDOMElement = exports.isSSR = exports.isFunction = exports.getHandle = exports.listHandle = void 0;\n\n  var _debounce = _interopRequireDefault(debounce_1$1);\n\n  var _throttle = _interopRequireDefault(throttle_1);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      \"default\": obj\n    };\n  }\n\n  var listHandle = {\n    debounce: _debounce[\"default\"],\n    throttle: _throttle[\"default\"]\n  };\n  exports.listHandle = listHandle;\n\n  var getHandle = function getHandle(type) {\n    return listHandle[type];\n  };\n\n  exports.getHandle = getHandle;\n\n  var isFunction = function isFunction(fn) {\n    return typeof fn === 'function';\n  };\n\n  exports.isFunction = isFunction;\n\n  var isSSR = function isSSR() {\n    return typeof window === 'undefined';\n  };\n\n  exports.isSSR = isSSR;\n\n  var isDOMElement = function isDOMElement(element) {\n    return element instanceof Element || element instanceof HTMLDocument;\n  };\n\n  exports.isDOMElement = isDOMElement;\n});\nunwrapExports(utils);\nvar utils_1 = utils.isDOMElement;\nvar utils_2 = utils.isSSR;\nvar utils_3 = utils.isFunction;\nvar utils_4 = utils.getHandle;\nvar utils_5 = utils.listHandle;\nvar ChildWrapper_1 = createCommonjsModule(function (module, exports) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports[\"default\"] = void 0;\n\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      _typeof = function _typeof(obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function _typeof(obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) _setPrototypeOf(subClass, superClass);\n  }\n\n  function _setPrototypeOf(o, p) {\n    _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n      o.__proto__ = p;\n      return o;\n    };\n\n    return _setPrototypeOf(o, p);\n  }\n\n  function _createSuper(Derived) {\n    return function () {\n      var Super = _getPrototypeOf(Derived),\n          result;\n\n      if (_isNativeReflectConstruct()) {\n        var NewTarget = _getPrototypeOf(this).constructor;\n\n        result = Reflect.construct(Super, arguments, NewTarget);\n      } else {\n        result = Super.apply(this, arguments);\n      }\n\n      return _possibleConstructorReturn(this, result);\n    };\n  }\n\n  function _possibleConstructorReturn(self, call) {\n    if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n      return call;\n    }\n\n    return _assertThisInitialized(self);\n  }\n\n  function _assertThisInitialized(self) {\n    if (self === void 0) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return self;\n  }\n\n  function _isNativeReflectConstruct() {\n    if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n    if (Reflect.construct.sham) return false;\n    if (typeof Proxy === \"function\") return true;\n\n    try {\n      Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  function _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n      return o.__proto__ || Object.getPrototypeOf(o);\n    };\n    return _getPrototypeOf(o);\n  }\n\n  var ChildWrapper = /*#__PURE__*/function (_PureComponent) {\n    _inherits(ChildWrapper, _PureComponent);\n\n    var _super = _createSuper(ChildWrapper);\n\n    function ChildWrapper() {\n      _classCallCheck(this, ChildWrapper);\n\n      return _super.apply(this, arguments);\n    }\n\n    _createClass(ChildWrapper, [{\n      key: \"render\",\n      value: function render() {\n        // eslint-disable-next-line react/prop-types\n        return this.props.children;\n      }\n    }]);\n\n    return ChildWrapper;\n  }(React$g__default.PureComponent);\n\n  var _default = ChildWrapper;\n  exports[\"default\"] = _default;\n});\nunwrapExports(ChildWrapper_1);\nvar ResizeDetector_1 = createCommonjsModule(function (module, exports) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports[\"default\"] = void 0;\n\n  var _react = _interopRequireWildcard(React$g__default);\n\n  var _resizeObserverPolyfill = _interopRequireDefault(index);\n\n  var _rafSchd = _interopRequireDefault(rafSchd);\n\n  var _ChildWrapper = _interopRequireDefault(ChildWrapper_1);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      \"default\": obj\n    };\n  }\n\n  function _getRequireWildcardCache() {\n    if (typeof WeakMap !== \"function\") return null;\n    var cache = new WeakMap();\n\n    _getRequireWildcardCache = function _getRequireWildcardCache() {\n      return cache;\n    };\n\n    return cache;\n  }\n\n  function _interopRequireWildcard(obj) {\n    if (obj && obj.__esModule) {\n      return obj;\n    }\n\n    if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n      return {\n        \"default\": obj\n      };\n    }\n\n    var cache = _getRequireWildcardCache();\n\n    if (cache && cache.has(obj)) {\n      return cache.get(obj);\n    }\n\n    var newObj = {};\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n\n    newObj[\"default\"] = obj;\n\n    if (cache) {\n      cache.set(obj, newObj);\n    }\n\n    return newObj;\n  }\n\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      _typeof = function _typeof(obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function _typeof(obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) _setPrototypeOf(subClass, superClass);\n  }\n\n  function _setPrototypeOf(o, p) {\n    _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n      o.__proto__ = p;\n      return o;\n    };\n\n    return _setPrototypeOf(o, p);\n  }\n\n  function _createSuper(Derived) {\n    return function () {\n      var Super = _getPrototypeOf(Derived),\n          result;\n\n      if (_isNativeReflectConstruct()) {\n        var NewTarget = _getPrototypeOf(this).constructor;\n\n        result = Reflect.construct(Super, arguments, NewTarget);\n      } else {\n        result = Super.apply(this, arguments);\n      }\n\n      return _possibleConstructorReturn(this, result);\n    };\n  }\n\n  function _possibleConstructorReturn(self, call) {\n    if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n      return call;\n    }\n\n    return _assertThisInitialized(self);\n  }\n\n  function _assertThisInitialized(self) {\n    if (self === void 0) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return self;\n  }\n\n  function _isNativeReflectConstruct() {\n    if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n    if (Reflect.construct.sham) return false;\n    if (typeof Proxy === \"function\") return true;\n\n    try {\n      Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  function _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n      return o.__proto__ || Object.getPrototypeOf(o);\n    };\n    return _getPrototypeOf(o);\n  }\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  var ResizeDetector = /*#__PURE__*/function (_PureComponent) {\n    _inherits(ResizeDetector, _PureComponent);\n\n    var _super = _createSuper(ResizeDetector);\n\n    function ResizeDetector(props) {\n      var _this;\n\n      _classCallCheck(this, ResizeDetector);\n\n      _this = _super.call(this, props);\n\n      _defineProperty(_assertThisInitialized(_this), \"cancelHandler\", function () {\n        if (_this.resizeHandler && _this.resizeHandler.cancel) {\n          // cancel debounced handler\n          _this.resizeHandler.cancel();\n\n          _this.resizeHandler = null;\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"rafClean\", function () {\n        if (_this.raf && _this.raf.cancel) {\n          _this.raf.cancel();\n\n          _this.raf = null;\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"toggleObserver\", function (type) {\n        var element = _this.getElement();\n\n        if (!element || !_this.resizeObserver[type]) return;\n\n        _this.resizeObserver[type](element);\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"getElement\", function () {\n        var _this$props = _this.props,\n            querySelector = _this$props.querySelector,\n            targetDomEl = _this$props.targetDomEl;\n        if ((0, utils.isSSR)()) return undefined;\n        if (querySelector) return document.querySelector(querySelector);\n        if (targetDomEl && (0, utils.isDOMElement)(targetDomEl)) return targetDomEl; // eslint-disable-next-line react/no-find-dom-node\n\n        var currentElement = _this.element && (0, reactDom.findDOMNode)(_this.element);\n        if (!currentElement) return undefined;\n        return currentElement.parentElement;\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"createUpdater\", function () {\n        _this.rafClean();\n\n        _this.raf = (0, _rafSchd[\"default\"])(function (_ref) {\n          var width = _ref.width,\n              height = _ref.height;\n          var onResize = _this.props.onResize;\n\n          if ((0, utils.isFunction)(onResize)) {\n            onResize(width, height);\n          }\n\n          _this.setState({\n            width: width,\n            height: height\n          });\n        });\n        return _this.raf;\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"createResizeHandler\", function (entries) {\n        var _this$state = _this.state,\n            widthCurrent = _this$state.width,\n            heightCurrent = _this$state.height;\n        var _this$props2 = _this.props,\n            handleWidth = _this$props2.handleWidth,\n            handleHeight = _this$props2.handleHeight;\n        if (!handleWidth && !handleHeight) return;\n\n        var updater = _this.createUpdater();\n\n        entries.forEach(function (entry) {\n          var _ref2 = entry && entry.contentRect || {},\n              width = _ref2.width,\n              height = _ref2.height;\n\n          var isWidthChanged = handleWidth && widthCurrent !== width;\n          var isHeightChanged = handleHeight && heightCurrent !== height;\n          var isSizeChanged = isWidthChanged || isHeightChanged;\n          var shouldSetSize = !_this.skipOnMount && isSizeChanged && !(0, utils.isSSR)();\n\n          if (shouldSetSize) {\n            updater({\n              width: width,\n              height: height\n            });\n          }\n\n          _this.skipOnMount = false;\n        });\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"onRef\", function (el) {\n        _this.element = el;\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"getRenderType\", function () {\n        var _this$props3 = _this.props,\n            render = _this$props3.render,\n            children = _this$props3.children;\n\n        if ((0, utils.isFunction)(render)) {\n          return 'renderProp';\n        }\n\n        if ((0, utils.isFunction)(children)) {\n          return 'childFunction';\n        }\n\n        if ((0, _react.isValidElement)(children)) {\n          return 'child';\n        }\n\n        if (Array.isArray(children)) {\n          return 'childArray';\n        }\n\n        return 'parent';\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"getTargetComponent\", function () {\n        var _this$props4 = _this.props,\n            render = _this$props4.render,\n            children = _this$props4.children,\n            nodeType = _this$props4.nodeType;\n        var _this$state2 = _this.state,\n            width = _this$state2.width,\n            height = _this$state2.height;\n        var childProps = {\n          width: width,\n          height: height\n        };\n\n        var renderType = _this.getRenderType();\n\n        switch (renderType) {\n          case 'renderProp':\n            return (0, _react.cloneElement)(render(childProps), {\n              key: 'resize-detector'\n            });\n\n          case 'childFunction':\n            return (0, _react.cloneElement)(children(childProps));\n\n          case 'child':\n            return (0, _react.cloneElement)(children, childProps);\n\n          case 'childArray':\n            return children.map(function (el) {\n              return !!el && (0, _react.cloneElement)(el, childProps);\n            });\n\n          default:\n            return (0, _react.createElement)(nodeType);\n        }\n      });\n\n      var skipOnMount = props.skipOnMount,\n          refreshMode = props.refreshMode,\n          refreshRate = props.refreshRate,\n          refreshOptions = props.refreshOptions;\n      _this.state = {\n        width: undefined,\n        height: undefined\n      };\n      _this.skipOnMount = skipOnMount;\n      _this.raf = null;\n      _this.element = null;\n      _this.unmounted = false;\n      var handle = (0, utils.getHandle)(refreshMode);\n      _this.resizeHandler = handle ? handle(_this.createResizeHandler, refreshRate, refreshOptions) : _this.createResizeHandler;\n      _this.resizeObserver = new _resizeObserverPolyfill[\"default\"](_this.resizeHandler);\n      return _this;\n    }\n\n    _createClass(ResizeDetector, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        this.toggleObserver('observe');\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        this.toggleObserver('unobserve');\n        this.rafClean();\n        this.cancelHandler();\n        this.unmounted = true;\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        return /*#__PURE__*/_react[\"default\"].createElement(_ChildWrapper[\"default\"], {\n          ref: this.onRef\n        }, this.getTargetComponent());\n      }\n    }]);\n\n    return ResizeDetector;\n  }(_react.PureComponent);\n\n  ResizeDetector.propTypes = {\n    handleWidth: propTypes.bool,\n    handleHeight: propTypes.bool,\n    skipOnMount: propTypes.bool,\n    refreshRate: propTypes.number,\n    refreshMode: propTypes.string,\n    refreshOptions: (0, propTypes.shape)({\n      leading: propTypes.bool,\n      trailing: propTypes.bool\n    }),\n    querySelector: propTypes.string,\n    targetDomEl: propTypes.any,\n    // eslint-disable-line react/forbid-prop-types\n    onResize: propTypes.func,\n    render: propTypes.func,\n    children: propTypes.any,\n    // eslint-disable-line react/forbid-prop-types\n    nodeType: propTypes.node\n  };\n  ResizeDetector.defaultProps = {\n    handleWidth: false,\n    handleHeight: false,\n    skipOnMount: false,\n    refreshRate: 1000,\n    refreshMode: undefined,\n    refreshOptions: undefined,\n    querySelector: null,\n    targetDomEl: null,\n    onResize: null,\n    render: undefined,\n    children: null,\n    nodeType: 'div'\n  };\n  var _default = ResizeDetector;\n  exports[\"default\"] = _default;\n});\nunwrapExports(ResizeDetector_1);\nvar withResizeDetector_1 = createCommonjsModule(function (module, exports) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports[\"default\"] = void 0;\n\n  var _react = _interopRequireWildcard(React$g__default);\n\n  var _ResizeDetector = _interopRequireDefault(ResizeDetector_1);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      \"default\": obj\n    };\n  }\n\n  function _getRequireWildcardCache() {\n    if (typeof WeakMap !== \"function\") return null;\n    var cache = new WeakMap();\n\n    _getRequireWildcardCache = function _getRequireWildcardCache() {\n      return cache;\n    };\n\n    return cache;\n  }\n\n  function _interopRequireWildcard(obj) {\n    if (obj && obj.__esModule) {\n      return obj;\n    }\n\n    if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n      return {\n        \"default\": obj\n      };\n    }\n\n    var cache = _getRequireWildcardCache();\n\n    if (cache && cache.has(obj)) {\n      return cache.get(obj);\n    }\n\n    var newObj = {};\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n\n    newObj[\"default\"] = obj;\n\n    if (cache) {\n      cache.set(obj, newObj);\n    }\n\n    return newObj;\n  }\n\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      _typeof = function _typeof(obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function _typeof(obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) _setPrototypeOf(subClass, superClass);\n  }\n\n  function _setPrototypeOf(o, p) {\n    _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n      o.__proto__ = p;\n      return o;\n    };\n\n    return _setPrototypeOf(o, p);\n  }\n\n  function _createSuper(Derived) {\n    return function () {\n      var Super = _getPrototypeOf(Derived),\n          result;\n\n      if (_isNativeReflectConstruct()) {\n        var NewTarget = _getPrototypeOf(this).constructor;\n\n        result = Reflect.construct(Super, arguments, NewTarget);\n      } else {\n        result = Super.apply(this, arguments);\n      }\n\n      return _possibleConstructorReturn(this, result);\n    };\n  }\n\n  function _possibleConstructorReturn(self, call) {\n    if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n      return call;\n    }\n\n    return _assertThisInitialized(self);\n  }\n\n  function _assertThisInitialized(self) {\n    if (self === void 0) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return self;\n  }\n\n  function _isNativeReflectConstruct() {\n    if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n    if (Reflect.construct.sham) return false;\n    if (typeof Proxy === \"function\") return true;\n\n    try {\n      Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  function _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n      return o.__proto__ || Object.getPrototypeOf(o);\n    };\n    return _getPrototypeOf(o);\n  }\n\n  var withResizeDetector = function withResizeDetector(WrappedComponent) {\n    var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      handleWidth: true,\n      handleHeight: true\n    };\n    return (\n      /*#__PURE__*/\n      // eslint-disable-next-line\n      function (_Component) {\n        _inherits(ResizeDetectorHOC, _Component);\n\n        var _super = _createSuper(ResizeDetectorHOC);\n\n        function ResizeDetectorHOC() {\n          _classCallCheck(this, ResizeDetectorHOC);\n\n          return _super.apply(this, arguments);\n        }\n\n        _createClass(ResizeDetectorHOC, [{\n          key: \"render\",\n          value: function render() {\n            return /*#__PURE__*/_react[\"default\"].createElement(_ResizeDetector[\"default\"], props, /*#__PURE__*/_react[\"default\"].createElement(WrappedComponent, this.props));\n          }\n        }]);\n\n        return ResizeDetectorHOC;\n      }(_react.Component)\n    );\n  };\n\n  var _default = withResizeDetector;\n  exports[\"default\"] = _default;\n});\nunwrapExports(withResizeDetector_1);\nvar lib$6 = createCommonjsModule(function (module, exports) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  Object.defineProperty(exports, \"withResizeDetector\", {\n    enumerable: true,\n    get: function get() {\n      return _withResizeDetector[\"default\"];\n    }\n  });\n  exports[\"default\"] = void 0;\n\n  var _ResizeDetector = _interopRequireDefault(ResizeDetector_1);\n\n  var _withResizeDetector = _interopRequireDefault(withResizeDetector_1);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      \"default\": obj\n    };\n  }\n\n  var _default = _ResizeDetector[\"default\"];\n  exports[\"default\"] = _default;\n});\nvar ReactResizeDetector = unwrapExports(lib$6);\nvar lib_1$4 = lib$6.withResizeDetector;\n\nfunction elementFromPoint(x, y, className) {\n  return document.elementsFromPoint(x, y).find(function (elem) {\n    return elem.classList.contains(className);\n  });\n} // Edge uses a non-standard name; also returns NodeList instead of array\n\n\nfunction elementFromPointMs(x, y, className) {\n  return Array.from(document.msElementsFromPoint(x, y)).find(function (elem) {\n    return elem.classList.contains(className);\n  });\n} // fallback for older browsers which don't support `document.elementsFromPoint` (note the plural)\n\n\nfunction elementFromPointFallback(x, y, className, stopElem) {\n  var els = [];\n  var elem; // eslint-disable-next-line no-cond-assign\n\n  while ((elem = document.elementFromPoint(x, y)) && elem !== null) {\n    // if we found a field rect or if we've made it back to our container node, stop looping\n    if (elem.classList.contains(className)) {\n      break;\n    }\n\n    if (elem === stopElem) {\n      elem = null;\n      break;\n    } // else, set current elem to ignore pointer events and check next layer\n\n\n    els.push(elem);\n    elem.style.pointerEvents = 'none';\n  } // reset pointer events\n\n\n  els.forEach(function (el) {\n    return el.style.pointerEvents = 'none';\n  });\n  return elem;\n} // @ts-expect-error function is not always defined\n\n\nvar exportFn = document.elementsFromPoint ? elementFromPoint : // @ts-expect-error function is not always defined\ndocument.msElementsFromPoint ? elementFromPointMs : elementFromPointFallback;\n/**\r\n * A section of a CI (HTML) document. Rendered as a row within a virtual\r\n * \"infinite\" list.\r\n */\n\nvar baseClassName$1 = settings.prefix + \"--ci-doc-section\";\n\nvar Section = function Section(_a) {\n  var section = _a.section,\n      onFieldClick = _a.onFieldClick;\n  var html = section.html;\n\n  var _b = useState(null),\n      hoveredField = _b[0],\n      setHoveredField = _b[1];\n\n  var sectionNode = useRef(null);\n  var contentNode = useRef(null);\n  var fieldsNode = useRef(null);\n\n  var createSectionFields = function createSectionFields() {\n    try {\n      renderSectionFields(section, sectionNode.current, contentNode.current, fieldsNode.current);\n    } catch (err) {\n      // eslint-disable-next-line no-console\n      console.error('Failed to create section fields:', err);\n    }\n  };\n\n  useEffect(function () {\n    createSectionFields(); // Run every time this section changes\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [section]);\n  var resizeFn = debounce_1(createSectionFields, 100);\n  return (// TODO Need to think about how to properly handle keyboard events within\n    // a section, where there may be multiple selectable \"elements\" that need\n    // to be handled individually.\n    // eslint-disable-next-line jsx-a11y/click-events-have-key-events, jsx-a11y/no-static-element-interactions\n    React$g__default.createElement(\"div\", {\n      className: classnames(\"\" + baseClassName$1, {\n        hasTable: hasTable(html)\n      }),\n      ref: sectionNode,\n      onMouseMove: mouseMoveListener(hoveredField, setHoveredField),\n      onMouseLeave: mouseLeaveListener(hoveredField, setHoveredField),\n      onClick: mouseClickListener(onFieldClick)\n    }, React$g__default.createElement(\"div\", {\n      className: \"fields\",\n      ref: fieldsNode\n    }), React$g__default.createElement(\"div\", {\n      className: \"content htmlReset htmlOverride\",\n      ref: contentNode,\n      dangerouslySetInnerHTML: {\n        __html: html\n      }\n    }), React$g__default.createElement(ReactResizeDetector, {\n      handleWidth: true,\n      handleHeight: true,\n      onResize: resizeFn\n    }))\n  );\n};\n\nfunction mouseMoveListener(hoveredField, setHoveredField) {\n  return function _mouseMoveListener(event) {\n    var fieldRect = exportFn(event.clientX, event.clientY, 'field--rect', event.currentTarget);\n\n    if (!fieldRect) {\n      if (hoveredField) {\n        hoveredField.classList.remove('hover');\n        setHoveredField(null);\n        document.body.style.cursor = 'initial';\n      }\n\n      return;\n    }\n\n    var fieldNode = fieldRect.closest('.field');\n\n    if (hoveredField !== fieldNode) {\n      if (hoveredField) {\n        hoveredField.classList.remove('hover');\n      }\n\n      setHoveredField(fieldNode);\n\n      if (fieldNode) {\n        fieldNode.classList.add('hover');\n      }\n\n      document.body.style.cursor = 'pointer';\n    }\n  };\n}\n\nfunction mouseLeaveListener(hoveredField, setHoveredField) {\n  return function _mouseLeaveListener() {\n    if (hoveredField) {\n      hoveredField.classList.remove('hover');\n      setHoveredField(null);\n      document.body.style.cursor = 'initial';\n    }\n  };\n}\n\nfunction mouseClickListener(onFieldClick) {\n  if (onFieldClick) {\n    return function _mouseClickListener(event) {\n      var fieldRect = exportFn(event.clientX, event.clientY, 'field--rect', event.currentTarget);\n\n      if (fieldRect) {\n        var fieldNode = fieldRect.closest('.field');\n\n        if (fieldNode) {\n          onFieldClick({\n            type: fieldNode.dataset.fieldType,\n            id: fieldNode.dataset.fieldId\n          });\n        }\n      }\n    };\n  }\n\n  return;\n}\n\nfunction renderSectionFields(section, sectionNode, contentNode, fieldsNode) {\n  if (!sectionNode || !contentNode || !fieldsNode) {\n    return;\n  } // Clear out any existing field nodes (from previous creations)\n\n\n  clearNodeChildren(fieldsNode);\n\n  if (!section.enrichments) {\n    return;\n  } // Keep track of the last begin index and sort the enrichments array by begin\n  // This brings the function down from O(m * n) to O(m + n)\n\n\n  section.enrichments.sort(function (a, b) {\n    // Sort based on begin, and then by end (if begins are equal)\n    return a.location.begin !== b.location.begin ? a.location.begin - b.location.begin : a.location.end - b.location.end;\n  });\n  var sectionRect = sectionNode.getBoundingClientRect(); // Store all changes in fragment then add them at the end (to prevent unnecessary reflow)\n\n  var fragment = document.createDocumentFragment();\n\n  for (var _i = 0, _a = section.enrichments; _i < _a.length; _i++) {\n    var field = _a[_i];\n    var fieldType = field.__type;\n    var _b = field.location,\n        begin = _b.begin,\n        end = _b.end;\n    var offsets = findOffsetInDOM(contentNode, begin, end);\n    createFieldRects(_assign({\n      fragment: fragment,\n      parentRect: sectionRect,\n      fieldType: fieldType,\n      fieldId: getId(field)\n    }, offsets));\n  }\n\n  fieldsNode.appendChild(fragment);\n}\n\nfunction hasTable(html) {\n  return html.toLowerCase().includes('<table');\n}\n\nvar _global = createCommonjsModule(function (module) {\n  // https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\n  var global = module.exports = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self // eslint-disable-next-line no-new-func\n  : Function('return this')();\n  if (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n});\n\nvar _core = createCommonjsModule(function (module) {\n  var core = module.exports = {\n    version: '2.6.12'\n  };\n  if (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n});\n\nvar _core_1 = _core.version;\n\nvar _aFunction = function _aFunction(it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n}; // optional / simple context binding\n\n\nvar _ctx = function _ctx(fn, that, length) {\n  _aFunction(fn);\n\n  if (that === undefined) return fn;\n\n  switch (length) {\n    case 1:\n      return function (a) {\n        return fn.call(that, a);\n      };\n\n    case 2:\n      return function (a, b) {\n        return fn.call(that, a, b);\n      };\n\n    case 3:\n      return function (a, b, c) {\n        return fn.call(that, a, b, c);\n      };\n  }\n\n  return function ()\n  /* ...args */\n  {\n    return fn.apply(that, arguments);\n  };\n};\n\nvar _isObject = function _isObject(it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n\nvar _anObject = function _anObject(it) {\n  if (!_isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n\nvar _fails = function _fails(exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n}; // Thank's IE8 for his funny defineProperty\n\n\nvar _descriptors = !_fails(function () {\n  return Object.defineProperty({}, 'a', {\n    get: function get() {\n      return 7;\n    }\n  }).a != 7;\n});\n\nvar document$1 = _global.document; // typeof document.createElement is 'object' in old IE\n\nvar is = _isObject(document$1) && _isObject(document$1.createElement);\n\nvar _domCreate = function _domCreate(it) {\n  return is ? document$1.createElement(it) : {};\n};\n\nvar _ie8DomDefine = !_descriptors && !_fails(function () {\n  return Object.defineProperty(_domCreate('div'), 'a', {\n    get: function get() {\n      return 7;\n    }\n  }).a != 7;\n}); // 7.1.1 ToPrimitive(input [, PreferredType])\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\n\n\nvar _toPrimitive = function _toPrimitive(it, S) {\n  if (!_isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !_isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !_isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !_isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n\nvar dP = Object.defineProperty;\nvar f$1 = _descriptors ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  _anObject(O);\n\n  P = _toPrimitive(P, true);\n\n  _anObject(Attributes);\n\n  if (_ie8DomDefine) try {\n    return dP(O, P, Attributes);\n  } catch (e) {\n    /* empty */\n  }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\nvar _objectDp = {\n  f: f$1\n};\n\nvar _propertyDesc = function _propertyDesc(bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n\nvar _hide = _descriptors ? function (object, key, value) {\n  return _objectDp.f(object, key, _propertyDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n\nvar hasOwnProperty$d = {}.hasOwnProperty;\n\nvar _has = function _has(it, key) {\n  return hasOwnProperty$d.call(it, key);\n};\n\nvar PROTOTYPE = 'prototype';\n\nvar $export = function $export(type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var IS_WRAP = type & $export.W;\n  var exports = IS_GLOBAL ? _core : _core[name] || (_core[name] = {});\n  var expProto = exports[PROTOTYPE];\n  var target = IS_GLOBAL ? _global : IS_STATIC ? _global[name] : (_global[name] || {})[PROTOTYPE];\n  var key, own, out;\n  if (IS_GLOBAL) source = name;\n\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if (own && _has(exports, key)) continue; // export native or passed\n\n    out = own ? target[key] : source[key]; // prevent global pollution for namespaces\n\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key] // bind timers to global for call from export context\n    : IS_BIND && own ? _ctx(out, _global) // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? function (C) {\n      var F = function F(a, b, c) {\n        if (this instanceof C) {\n          switch (arguments.length) {\n            case 0:\n              return new C();\n\n            case 1:\n              return new C(a);\n\n            case 2:\n              return new C(a, b);\n          }\n\n          return new C(a, b, c);\n        }\n\n        return C.apply(this, arguments);\n      };\n\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F; // make static versions for prototype methods\n    }(out) : IS_PROTO && typeof out == 'function' ? _ctx(Function.call, out) : out; // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n\n    if (IS_PROTO) {\n      (exports.virtual || (exports.virtual = {}))[key] = out; // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n\n      if (type & $export.R && expProto && !expProto[key]) _hide(expProto, key, out);\n    }\n  }\n}; // type bitmap\n\n\n$export.F = 1; // forced\n\n$export.G = 2; // global\n\n$export.S = 4; // static\n\n$export.P = 8; // proto\n\n$export.B = 16; // bind\n\n$export.W = 32; // wrap\n\n$export.U = 64; // safe\n\n$export.R = 128; // real proto method for `library`\n\nvar _export = $export;\nvar toString$2 = {}.toString;\n\nvar _cof = function _cof(it) {\n  return toString$2.call(it).slice(8, -1);\n}; // fallback for non-array-like ES3 and non-enumerable old V8 strings\n// eslint-disable-next-line no-prototype-builtins\n\n\nvar _iobject = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return _cof(it) == 'String' ? it.split('') : Object(it);\n}; // 7.2.1 RequireObjectCoercible(argument)\n\n\nvar _defined = function _defined(it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n}; // to indexed object, toObject with fallback for non-array-like ES3 strings\n\n\nvar _toIobject = function _toIobject(it) {\n  return _iobject(_defined(it));\n}; // 7.1.4 ToInteger\n\n\nvar ceil = Math.ceil;\nvar floor = Math.floor;\n\nvar _toInteger = function _toInteger(it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n}; // 7.1.15 ToLength\n\n\nvar min = Math.min;\n\nvar _toLength = function _toLength(it) {\n  return it > 0 ? min(_toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n\nvar max = Math.max;\nvar min$1 = Math.min;\n\nvar _toAbsoluteIndex = function _toAbsoluteIndex(index, length) {\n  index = _toInteger(index);\n  return index < 0 ? max(index + length, 0) : min$1(index, length);\n}; // false -> Array#indexOf\n// true  -> Array#includes\n\n\nvar _arrayIncludes$1 = function _arrayIncludes$1(IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = _toIobject($this);\n\n    var length = _toLength(O.length);\n\n    var index = _toAbsoluteIndex(fromIndex, length);\n\n    var value; // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++]; // eslint-disable-next-line no-self-compare\n\n      if (value != value) return true; // Array#indexOf ignores holes, Array#includes - not\n    } else for (; length > index; index++) {\n      if (IS_INCLUDES || index in O) {\n        if (O[index] === el) return IS_INCLUDES || index || 0;\n      }\n    }\n    return !IS_INCLUDES && -1;\n  };\n};\n\nvar _library = true;\n\nvar _shared = createCommonjsModule(function (module) {\n  var SHARED = '__core-js_shared__';\n  var store = _global[SHARED] || (_global[SHARED] = {});\n  (module.exports = function (key, value) {\n    return store[key] || (store[key] = value !== undefined ? value : {});\n  })('versions', []).push({\n    version: _core.version,\n    mode: 'pure',\n    copyright: '© 2020 Denis Pushkarev (zloirock.ru)'\n  });\n});\n\nvar id = 0;\nvar px = Math.random();\n\nvar _uid = function _uid(key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n\nvar shared = _shared('keys');\n\nvar _sharedKey = function _sharedKey(key) {\n  return shared[key] || (shared[key] = _uid(key));\n};\n\nvar arrayIndexOf = _arrayIncludes$1(false);\n\nvar IE_PROTO = _sharedKey('IE_PROTO');\n\nvar _objectKeysInternal = function _objectKeysInternal(object, names) {\n  var O = _toIobject(object);\n\n  var i = 0;\n  var result = [];\n  var key;\n\n  for (key in O) {\n    if (key != IE_PROTO) _has(O, key) && result.push(key);\n  } // Don't enum bug & hidden keys\n\n\n  while (names.length > i) {\n    if (_has(O, key = names[i++])) {\n      ~arrayIndexOf(result, key) || result.push(key);\n    }\n  }\n\n  return result;\n}; // IE 8- don't enum bug keys\n\n\nvar _enumBugKeys = 'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'.split(','); // 19.1.2.14 / 15.2.3.14 Object.keys(O)\n\n\nvar _objectKeys = Object.keys || function keys(O) {\n  return _objectKeysInternal(O, _enumBugKeys);\n};\n\nvar f$2 = Object.getOwnPropertySymbols;\nvar _objectGops = {\n  f: f$2\n};\nvar f$3 = {}.propertyIsEnumerable;\nvar _objectPie = {\n  f: f$3\n}; // 7.1.13 ToObject(argument)\n\nvar _toObject = function _toObject(it) {\n  return Object(_defined(it));\n}; // 19.1.2.1 Object.assign(target, source, ...)\n\n\nvar $assign = Object.assign; // should work with symbols and should have deterministic property order (V8 bug)\n\nvar _objectAssign = !$assign || _fails(function () {\n  var A = {};\n  var B = {}; // eslint-disable-next-line no-undef\n\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) {\n    B[k] = k;\n  });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) {\n  // eslint-disable-line no-unused-vars\n  var T = _toObject(target);\n\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = _objectGops.f;\n  var isEnum = _objectPie.f;\n\n  while (aLen > index) {\n    var S = _iobject(arguments[index++]);\n\n    var keys = getSymbols ? _objectKeys(S).concat(getSymbols(S)) : _objectKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n\n    while (length > j) {\n      key = keys[j++];\n      if (!_descriptors || isEnum.call(S, key)) T[key] = S[key];\n    }\n  }\n\n  return T;\n} : $assign; // 19.1.3.1 Object.assign(target, source)\n\n\n_export(_export.S + _export.F, 'Object', {\n  assign: _objectAssign\n});\n\nvar assign = _core.Object.assign;\nvar assign$1 = createCommonjsModule(function (module) {\n  module.exports = {\n    \"default\": assign,\n    __esModule: true\n  };\n});\n\nvar _Object$assign = unwrapExports(assign$1);\n\nvar _extends$5 = createCommonjsModule(function (module, exports) {\n  exports.__esModule = true;\n\n  var _assign2 = _interopRequireDefault(assign$1);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  exports.default = _assign2.default || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n});\n\nvar _extends$6 = unwrapExports(_extends$5); // 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\n\n\nvar IE_PROTO$1 = _sharedKey('IE_PROTO');\n\nvar ObjectProto = Object.prototype;\n\nvar _objectGpo = Object.getPrototypeOf || function (O) {\n  O = _toObject(O);\n  if (_has(O, IE_PROTO$1)) return O[IE_PROTO$1];\n\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  }\n\n  return O instanceof Object ? ObjectProto : null;\n}; // most Object methods by ES6 should accept primitives\n\n\nvar _objectSap = function _objectSap(KEY, exec) {\n  var fn = (_core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n\n  _export(_export.S + _export.F * _fails(function () {\n    fn(1);\n  }), 'Object', exp);\n}; // 19.1.2.9 Object.getPrototypeOf(O)\n\n\n_objectSap('getPrototypeOf', function () {\n  return function getPrototypeOf(it) {\n    return _objectGpo(_toObject(it));\n  };\n});\n\nvar getPrototypeOf = _core.Object.getPrototypeOf;\nvar getPrototypeOf$1 = createCommonjsModule(function (module) {\n  module.exports = {\n    \"default\": getPrototypeOf,\n    __esModule: true\n  };\n});\n\nvar _Object$getPrototypeOf = unwrapExports(getPrototypeOf$1);\n\nvar classCallCheck = createCommonjsModule(function (module, exports) {\n  exports.__esModule = true;\n\n  exports.default = function (instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  };\n});\n\nvar _classCallCheck = unwrapExports(classCallCheck); // 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n\n\n_export(_export.S + _export.F * !_descriptors, 'Object', {\n  defineProperty: _objectDp.f\n});\n\nvar $Object = _core.Object;\n\nvar defineProperty$1 = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n\nvar defineProperty$2 = createCommonjsModule(function (module) {\n  module.exports = {\n    \"default\": defineProperty$1,\n    __esModule: true\n  };\n});\nunwrapExports(defineProperty$2);\nvar createClass = createCommonjsModule(function (module, exports) {\n  exports.__esModule = true;\n\n  var _defineProperty2 = _interopRequireDefault(defineProperty$2);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  exports.default = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n});\n\nvar _createClass = unwrapExports(createClass); // true  -> String#at\n// false -> String#codePointAt\n\n\nvar _stringAt = function _stringAt(TO_STRING) {\n  return function (that, pos) {\n    var s = String(_defined(that));\n\n    var i = _toInteger(pos);\n\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff ? TO_STRING ? s.charAt(i) : a : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n\nvar _redefine = _hide;\nvar _iterators = {};\n\nvar _objectDps = _descriptors ? Object.defineProperties : function defineProperties(O, Properties) {\n  _anObject(O);\n\n  var keys = _objectKeys(Properties);\n\n  var length = keys.length;\n  var i = 0;\n  var P;\n\n  while (length > i) {\n    _objectDp.f(O, P = keys[i++], Properties[P]);\n  }\n\n  return O;\n};\n\nvar document$2 = _global.document;\n\nvar _html = document$2 && document$2.documentElement; // 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n\n\nvar IE_PROTO$2 = _sharedKey('IE_PROTO');\n\nvar Empty = function Empty() {\n  /* empty */\n};\n\nvar PROTOTYPE$1 = 'prototype'; // Create object with fake `null` prototype: use iframe Object with cleared prototype\n\nvar _createDict = function createDict() {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = _domCreate('iframe');\n\n  var i = _enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n\n  _html.appendChild(iframe);\n\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  _createDict = iframeDocument.F;\n\n  while (i--) {\n    delete _createDict[PROTOTYPE$1][_enumBugKeys[i]];\n  }\n\n  return _createDict();\n};\n\nvar _objectCreate = Object.create || function create(O, Properties) {\n  var result;\n\n  if (O !== null) {\n    Empty[PROTOTYPE$1] = _anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE$1] = null; // add \"__proto__\" for Object.getPrototypeOf polyfill\n\n    result[IE_PROTO$2] = O;\n  } else result = _createDict();\n\n  return Properties === undefined ? result : _objectDps(result, Properties);\n};\n\nvar _wks = createCommonjsModule(function (module) {\n  var store = _shared('wks');\n\n  var Symbol = _global.Symbol;\n  var USE_SYMBOL = typeof Symbol == 'function';\n\n  var $exports = module.exports = function (name) {\n    return store[name] || (store[name] = USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : _uid)('Symbol.' + name));\n  };\n\n  $exports.store = store;\n});\n\nvar def = _objectDp.f;\n\nvar TAG = _wks('toStringTag');\n\nvar _setToStringTag = function _setToStringTag(it, tag, stat) {\n  if (it && !_has(it = stat ? it : it.prototype, TAG)) def(it, TAG, {\n    configurable: true,\n    value: tag\n  });\n};\n\nvar IteratorPrototype = {}; // 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\n\n_hide(IteratorPrototype, _wks('iterator'), function () {\n  return this;\n});\n\nvar _iterCreate = function _iterCreate(Constructor, NAME, next) {\n  Constructor.prototype = _objectCreate(IteratorPrototype, {\n    next: _propertyDesc(1, next)\n  });\n\n  _setToStringTag(Constructor, NAME + ' Iterator');\n};\n\nvar ITERATOR = _wks('iterator');\n\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\n\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function returnThis() {\n  return this;\n};\n\nvar _iterDefine = function _iterDefine(Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  _iterCreate(Constructor, NAME, next);\n\n  var getMethod = function getMethod(kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n\n    switch (kind) {\n      case KEYS:\n        return function keys() {\n          return new Constructor(this, kind);\n        };\n\n      case VALUES:\n        return function values() {\n          return new Constructor(this, kind);\n        };\n    }\n\n    return function entries() {\n      return new Constructor(this, kind);\n    };\n  };\n\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype; // Fix native\n\n  if ($anyNative) {\n    IteratorPrototype = _objectGpo($anyNative.call(new Base()));\n\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      _setToStringTag(IteratorPrototype, TAG, true);\n    }\n  } // fix Array#{values, @@iterator}.name in V8 / FF\n\n\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n\n    $default = function values() {\n      return $native.call(this);\n    };\n  } // Define iterator\n\n\n  if (FORCED && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    _hide(proto, ITERATOR, $default);\n  } // Plug for library\n\n\n  _iterators[NAME] = $default;\n  _iterators[TAG] = returnThis;\n\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) _redefine(proto, key, methods[key]);\n    } else _export(_export.P + _export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n\n  return methods;\n};\n\nvar $at = _stringAt(true); // 21.1.3.27 String.prototype[@@iterator]()\n\n\n_iterDefine(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n\n  this._i = 0; // next index\n  // 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return {\n    value: undefined,\n    done: true\n  };\n  point = $at(O, index);\n  this._i += point.length;\n  return {\n    value: point,\n    done: false\n  };\n});\n\nvar _iterStep = function _iterStep(done, value) {\n  return {\n    value: value,\n    done: !!done\n  };\n}; // 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\n\n\nvar es6_array_iterator = _iterDefine(Array, 'Array', function (iterated, kind) {\n  this._t = _toIobject(iterated); // target\n\n  this._i = 0; // next index\n\n  this._k = kind; // kind\n  // 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return _iterStep(1);\n  }\n\n  if (kind == 'keys') return _iterStep(0, index);\n  if (kind == 'values') return _iterStep(0, O[index]);\n  return _iterStep(0, [index, O[index]]);\n}, 'values'); // argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\n\n\n_iterators.Arguments = _iterators.Array;\n\nvar TO_STRING_TAG = _wks('toStringTag');\n\nvar DOMIterables = ('CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,' + 'DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,' + 'MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,' + 'SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,' + 'TextTrackList,TouchList').split(',');\n\nfor (var i$1 = 0; i$1 < DOMIterables.length; i$1++) {\n  var NAME = DOMIterables[i$1];\n  var Collection = _global[NAME];\n  var proto = Collection && Collection.prototype;\n  if (proto && !proto[TO_STRING_TAG]) _hide(proto, TO_STRING_TAG, NAME);\n  _iterators[NAME] = _iterators.Array;\n}\n\nvar f$4 = _wks;\nvar _wksExt = {\n  f: f$4\n};\n\nvar iterator = _wksExt.f('iterator');\n\nvar iterator$1 = createCommonjsModule(function (module) {\n  module.exports = {\n    \"default\": iterator,\n    __esModule: true\n  };\n});\nunwrapExports(iterator$1);\n\nvar _meta = createCommonjsModule(function (module) {\n  var META = _uid('meta');\n\n  var setDesc = _objectDp.f;\n  var id = 0;\n\n  var isExtensible = Object.isExtensible || function () {\n    return true;\n  };\n\n  var FREEZE = !_fails(function () {\n    return isExtensible(Object.preventExtensions({}));\n  });\n\n  var setMeta = function setMeta(it) {\n    setDesc(it, META, {\n      value: {\n        i: 'O' + ++id,\n        // object ID\n        w: {} // weak collections IDs\n\n      }\n    });\n  };\n\n  var fastKey = function fastKey(it, create) {\n    // return primitive with prefix\n    if (!_isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n\n    if (!_has(it, META)) {\n      // can't set metadata to uncaught frozen object\n      if (!isExtensible(it)) return 'F'; // not necessary to add metadata\n\n      if (!create) return 'E'; // add missing metadata\n\n      setMeta(it); // return object ID\n    }\n\n    return it[META].i;\n  };\n\n  var getWeak = function getWeak(it, create) {\n    if (!_has(it, META)) {\n      // can't set metadata to uncaught frozen object\n      if (!isExtensible(it)) return true; // not necessary to add metadata\n\n      if (!create) return false; // add missing metadata\n\n      setMeta(it); // return hash weak collections IDs\n    }\n\n    return it[META].w;\n  }; // add metadata on freeze-family methods calling\n\n\n  var onFreeze = function onFreeze(it) {\n    if (FREEZE && meta.NEED && isExtensible(it) && !_has(it, META)) setMeta(it);\n    return it;\n  };\n\n  var meta = module.exports = {\n    KEY: META,\n    NEED: false,\n    fastKey: fastKey,\n    getWeak: getWeak,\n    onFreeze: onFreeze\n  };\n});\n\nvar _meta_1 = _meta.KEY;\nvar _meta_2 = _meta.NEED;\nvar _meta_3 = _meta.fastKey;\nvar _meta_4 = _meta.getWeak;\nvar _meta_5 = _meta.onFreeze;\nvar defineProperty$3 = _objectDp.f;\n\nvar _wksDefine = function _wksDefine(name) {\n  var $Symbol = _core.Symbol || (_core.Symbol = {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty$3($Symbol, name, {\n    value: _wksExt.f(name)\n  });\n}; // all enumerable object keys, includes symbols\n\n\nvar _enumKeys = function _enumKeys(it) {\n  var result = _objectKeys(it);\n\n  var getSymbols = _objectGops.f;\n\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = _objectPie.f;\n    var i = 0;\n    var key;\n\n    while (symbols.length > i) {\n      if (isEnum.call(it, key = symbols[i++])) result.push(key);\n    }\n  }\n\n  return result;\n}; // 7.2.2 IsArray(argument)\n\n\nvar _isArray = Array.isArray || function isArray(arg) {\n  return _cof(arg) == 'Array';\n}; // 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\n\n\nvar hiddenKeys = _enumBugKeys.concat('length', 'prototype');\n\nvar f$5 = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return _objectKeysInternal(O, hiddenKeys);\n};\n\nvar _objectGopn = {\n  f: f$5\n}; // fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\n\nvar gOPN = _objectGopn.f;\nvar toString$3 = {}.toString;\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function getWindowNames(it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nvar f$6 = function getOwnPropertyNames(it) {\n  return windowNames && toString$3.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(_toIobject(it));\n};\n\nvar _objectGopnExt = {\n  f: f$6\n};\nvar gOPD = Object.getOwnPropertyDescriptor;\nvar f$7 = _descriptors ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = _toIobject(O);\n  P = _toPrimitive(P, true);\n  if (_ie8DomDefine) try {\n    return gOPD(O, P);\n  } catch (e) {\n    /* empty */\n  }\n  if (_has(O, P)) return _propertyDesc(!_objectPie.f.call(O, P), O[P]);\n};\nvar _objectGopd = {\n  f: f$7\n}; // ECMAScript 6 symbols shim\n\nvar META = _meta.KEY;\nvar gOPD$1 = _objectGopd.f;\nvar dP$1 = _objectDp.f;\nvar gOPN$1 = _objectGopnExt.f;\nvar $Symbol = _global.Symbol;\nvar $JSON = _global.JSON;\n\nvar _stringify = $JSON && $JSON.stringify;\n\nvar PROTOTYPE$2 = 'prototype';\n\nvar HIDDEN = _wks('_hidden');\n\nvar TO_PRIMITIVE = _wks('toPrimitive');\n\nvar isEnum = {}.propertyIsEnumerable;\n\nvar SymbolRegistry = _shared('symbol-registry');\n\nvar AllSymbols = _shared('symbols');\n\nvar OPSymbols = _shared('op-symbols');\n\nvar ObjectProto$1 = Object[PROTOTYPE$2];\nvar USE_NATIVE = typeof $Symbol == 'function' && !!_objectGops.f;\nvar QObject = _global.QObject; // Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\n\nvar setter = !QObject || !QObject[PROTOTYPE$2] || !QObject[PROTOTYPE$2].findChild; // fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\n\nvar setSymbolDesc = _descriptors && _fails(function () {\n  return _objectCreate(dP$1({}, 'a', {\n    get: function get() {\n      return dP$1(this, 'a', {\n        value: 7\n      }).a;\n    }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD$1(ObjectProto$1, key);\n  if (protoDesc) delete ObjectProto$1[key];\n  dP$1(it, key, D);\n  if (protoDesc && it !== ObjectProto$1) dP$1(ObjectProto$1, key, protoDesc);\n} : dP$1;\n\nvar wrap = function wrap(tag) {\n  var sym = AllSymbols[tag] = _objectCreate($Symbol[PROTOTYPE$2]);\n\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol$1 = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto$1) $defineProperty(OPSymbols, key, D);\n\n  _anObject(it);\n\n  key = _toPrimitive(key, true);\n\n  _anObject(D);\n\n  if (_has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!_has(it, HIDDEN)) dP$1(it, HIDDEN, _propertyDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (_has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _objectCreate(D, {\n        enumerable: _propertyDesc(0, false)\n      });\n    }\n\n    return setSymbolDesc(it, key, D);\n  }\n\n  return dP$1(it, key, D);\n};\n\nvar $defineProperties = function defineProperties(it, P) {\n  _anObject(it);\n\n  var keys = _enumKeys(P = _toIobject(P));\n\n  var i = 0;\n  var l = keys.length;\n  var key;\n\n  while (l > i) {\n    $defineProperty(it, key = keys[i++], P[key]);\n  }\n\n  return it;\n};\n\nvar $create = function create(it, P) {\n  return P === undefined ? _objectCreate(it) : $defineProperties(_objectCreate(it), P);\n};\n\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = _toPrimitive(key, true));\n  if (this === ObjectProto$1 && _has(AllSymbols, key) && !_has(OPSymbols, key)) return false;\n  return E || !_has(this, key) || !_has(AllSymbols, key) || _has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\n\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = _toIobject(it);\n  key = _toPrimitive(key, true);\n  if (it === ObjectProto$1 && _has(AllSymbols, key) && !_has(OPSymbols, key)) return;\n  var D = gOPD$1(it, key);\n  if (D && _has(AllSymbols, key) && !(_has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\n\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN$1(_toIobject(it));\n  var result = [];\n  var i = 0;\n  var key;\n\n  while (names.length > i) {\n    if (!_has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  }\n\n  return result;\n};\n\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto$1;\n  var names = gOPN$1(IS_OP ? OPSymbols : _toIobject(it));\n  var result = [];\n  var i = 0;\n  var key;\n\n  while (names.length > i) {\n    if (_has(AllSymbols, key = names[i++]) && (IS_OP ? _has(ObjectProto$1, key) : true)) result.push(AllSymbols[key]);\n  }\n\n  return result;\n}; // 19.4.1.1 Symbol([description])\n\n\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n\n    var tag = _uid(arguments.length > 0 ? arguments[0] : undefined);\n\n    var $set = function $set(value) {\n      if (this === ObjectProto$1) $set.call(OPSymbols, value);\n      if (_has(this, HIDDEN) && _has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, _propertyDesc(1, value));\n    };\n\n    if (_descriptors && setter) setSymbolDesc(ObjectProto$1, tag, {\n      configurable: true,\n      set: $set\n    });\n    return wrap(tag);\n  };\n\n  _redefine($Symbol[PROTOTYPE$2], 'toString', function toString() {\n    return this._k;\n  });\n\n  _objectGopd.f = $getOwnPropertyDescriptor;\n  _objectDp.f = $defineProperty;\n  _objectGopn.f = _objectGopnExt.f = $getOwnPropertyNames;\n  _objectPie.f = $propertyIsEnumerable;\n  _objectGops.f = $getOwnPropertySymbols;\n\n  if (_descriptors && !_library) {\n    _redefine(ObjectProto$1, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  _wksExt.f = function (name) {\n    return wrap(_wks(name));\n  };\n}\n\n_export(_export.G + _export.W + _export.F * !USE_NATIVE, {\n  Symbol: $Symbol\n});\n\nfor (var es6Symbols = // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'.split(','), j = 0; es6Symbols.length > j;) {\n  _wks(es6Symbols[j++]);\n}\n\nfor (var wellKnownSymbols = _objectKeys(_wks.store), k$1 = 0; wellKnownSymbols.length > k$1;) {\n  _wksDefine(wellKnownSymbols[k$1++]);\n}\n\n_export(_export.S + _export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function _for(key) {\n    return _has(SymbolRegistry, key += '') ? SymbolRegistry[key] : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol$1(sym)) throw TypeError(sym + ' is not a symbol!');\n\n    for (var key in SymbolRegistry) {\n      if (SymbolRegistry[key] === sym) return key;\n    }\n  },\n  useSetter: function useSetter() {\n    setter = true;\n  },\n  useSimple: function useSimple() {\n    setter = false;\n  }\n});\n\n_export(_export.S + _export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n}); // Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\n\n\nvar FAILS_ON_PRIMITIVES = _fails(function () {\n  _objectGops.f(1);\n});\n\n_export(_export.S + _export.F * FAILS_ON_PRIMITIVES, 'Object', {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    return _objectGops.f(_toObject(it));\n  }\n}); // 24.3.2 JSON.stringify(value [, replacer [, space]])\n\n\n$JSON && _export(_export.S + _export.F * (!USE_NATIVE || _fails(function () {\n  var S = $Symbol(); // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n\n  return _stringify([S]) != '[null]' || _stringify({\n    a: S\n  }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n\n    while (arguments.length > i) {\n      args.push(arguments[i++]);\n    }\n\n    $replacer = replacer = args[1];\n    if (!_isObject(replacer) && it === undefined || isSymbol$1(it)) return; // IE8 returns string on undefined\n\n    if (!_isArray(replacer)) replacer = function replacer(key, value) {\n      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n      if (!isSymbol$1(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n}); // 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n\n$Symbol[PROTOTYPE$2][TO_PRIMITIVE] || _hide($Symbol[PROTOTYPE$2], TO_PRIMITIVE, $Symbol[PROTOTYPE$2].valueOf); // 19.4.3.5 Symbol.prototype[@@toStringTag]\n\n_setToStringTag($Symbol, 'Symbol'); // 20.2.1.9 Math[@@toStringTag]\n\n\n_setToStringTag(Math, 'Math', true); // 24.3.3 JSON[@@toStringTag]\n\n\n_setToStringTag(_global.JSON, 'JSON', true);\n\n_wksDefine('asyncIterator');\n\n_wksDefine('observable');\n\nvar symbol = _core.Symbol;\nvar symbol$1 = createCommonjsModule(function (module) {\n  module.exports = {\n    \"default\": symbol,\n    __esModule: true\n  };\n});\nunwrapExports(symbol$1);\n\nvar _typeof_1 = createCommonjsModule(function (module, exports) {\n  exports.__esModule = true;\n\n  var _iterator2 = _interopRequireDefault(iterator$1);\n\n  var _symbol2 = _interopRequireDefault(symbol$1);\n\n  var _typeof = typeof _symbol2.default === \"function\" && typeof _iterator2.default === \"symbol\" ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj;\n  };\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  exports.default = typeof _symbol2.default === \"function\" && _typeof(_iterator2.default) === \"symbol\" ? function (obj) {\n    return typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n  } : function (obj) {\n    return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n  };\n});\n\nunwrapExports(_typeof_1);\nvar possibleConstructorReturn = createCommonjsModule(function (module, exports) {\n  exports.__esModule = true;\n\n  var _typeof3 = _interopRequireDefault(_typeof_1);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  exports.default = function (self, call) {\n    if (!self) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return call && ((typeof call === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(call)) === \"object\" || typeof call === \"function\") ? call : self;\n  };\n});\n\nvar _possibleConstructorReturn = unwrapExports(possibleConstructorReturn); // Works with __proto__ only. Old v8 can't work with null proto objects.\n\n/* eslint-disable no-proto */\n\n\nvar check = function check(O, proto) {\n  _anObject(O);\n\n  if (!_isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\n\nvar _setProto = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n  function (test, buggy, set) {\n    try {\n      set = _ctx(Function.call, _objectGopd.f(Object.prototype, '__proto__').set, 2);\n      set(test, []);\n      buggy = !(test instanceof Array);\n    } catch (e) {\n      buggy = true;\n    }\n\n    return function setPrototypeOf(O, proto) {\n      check(O, proto);\n      if (buggy) O.__proto__ = proto;else set(O, proto);\n      return O;\n    };\n  }({}, false) : undefined),\n  check: check\n}; // 19.1.3.19 Object.setPrototypeOf(O, proto)\n\n_export(_export.S, 'Object', {\n  setPrototypeOf: _setProto.set\n});\n\nvar setPrototypeOf = _core.Object.setPrototypeOf;\nvar setPrototypeOf$1 = createCommonjsModule(function (module) {\n  module.exports = {\n    \"default\": setPrototypeOf,\n    __esModule: true\n  };\n});\nunwrapExports(setPrototypeOf$1); // 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n\n_export(_export.S, 'Object', {\n  create: _objectCreate\n});\n\nvar $Object$1 = _core.Object;\n\nvar create = function create(P, D) {\n  return $Object$1.create(P, D);\n};\n\nvar create$1 = createCommonjsModule(function (module) {\n  module.exports = {\n    \"default\": create,\n    __esModule: true\n  };\n});\nunwrapExports(create$1);\nvar inherits = createCommonjsModule(function (module, exports) {\n  exports.__esModule = true;\n\n  var _setPrototypeOf2 = _interopRequireDefault(setPrototypeOf$1);\n\n  var _create2 = _interopRequireDefault(create$1);\n\n  var _typeof3 = _interopRequireDefault(_typeof_1);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  exports.default = function (subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function, not \" + (typeof superClass === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(superClass)));\n    }\n\n    subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;\n  };\n});\n\nvar _inherits = unwrapExports(inherits);\n/**\n * Detect Element Resize.\n * https://github.com/sdecima/javascript-detect-element-resize\n * Sebastian Decima\n *\n * Forked from version 0.5.3; includes the following modifications:\n * 1) Guard against unsafe 'window' and 'document' references (to support SSR).\n * 2) Defer initialization code via a top-level function wrapper (to support SSR).\n * 3) Avoid unnecessary reflows by not measuring size for scroll events bubbling from children.\n * 4) Add nonce for style element.\n **/\n\n\nfunction createDetectElementResize(nonce) {\n  // Check `document` and `window` in case of server-side rendering\n  var _window;\n\n  if (typeof window !== 'undefined') {\n    _window = window;\n  } else if (typeof self !== 'undefined') {\n    _window = self;\n  } else {\n    _window = global;\n  }\n\n  var attachEvent = typeof document !== 'undefined' && document.attachEvent;\n\n  if (!attachEvent) {\n    var requestFrame = function () {\n      var raf = _window.requestAnimationFrame || _window.mozRequestAnimationFrame || _window.webkitRequestAnimationFrame || function (fn) {\n        return _window.setTimeout(fn, 20);\n      };\n\n      return function (fn) {\n        return raf(fn);\n      };\n    }();\n\n    var cancelFrame = function () {\n      var cancel = _window.cancelAnimationFrame || _window.mozCancelAnimationFrame || _window.webkitCancelAnimationFrame || _window.clearTimeout;\n      return function (id) {\n        return cancel(id);\n      };\n    }();\n\n    var resetTriggers = function resetTriggers(element) {\n      var triggers = element.__resizeTriggers__,\n          expand = triggers.firstElementChild,\n          contract = triggers.lastElementChild,\n          expandChild = expand.firstElementChild;\n      contract.scrollLeft = contract.scrollWidth;\n      contract.scrollTop = contract.scrollHeight;\n      expandChild.style.width = expand.offsetWidth + 1 + 'px';\n      expandChild.style.height = expand.offsetHeight + 1 + 'px';\n      expand.scrollLeft = expand.scrollWidth;\n      expand.scrollTop = expand.scrollHeight;\n    };\n\n    var checkTriggers = function checkTriggers(element) {\n      return element.offsetWidth != element.__resizeLast__.width || element.offsetHeight != element.__resizeLast__.height;\n    };\n\n    var scrollListener = function scrollListener(e) {\n      // Don't measure (which forces) reflow for scrolls that happen inside of children!\n      if (e.target.className && typeof e.target.className.indexOf === 'function' && e.target.className.indexOf('contract-trigger') < 0 && e.target.className.indexOf('expand-trigger') < 0) {\n        return;\n      }\n\n      var element = this;\n      resetTriggers(this);\n\n      if (this.__resizeRAF__) {\n        cancelFrame(this.__resizeRAF__);\n      }\n\n      this.__resizeRAF__ = requestFrame(function () {\n        if (checkTriggers(element)) {\n          element.__resizeLast__.width = element.offsetWidth;\n          element.__resizeLast__.height = element.offsetHeight;\n\n          element.__resizeListeners__.forEach(function (fn) {\n            fn.call(element, e);\n          });\n        }\n      });\n    };\n    /* Detect CSS Animations support to detect element display/re-attach */\n\n\n    var animation = false,\n        keyframeprefix = '',\n        animationstartevent = 'animationstart',\n        domPrefixes = 'Webkit Moz O ms'.split(' '),\n        startEvents = 'webkitAnimationStart animationstart oAnimationStart MSAnimationStart'.split(' '),\n        pfx = '';\n    {\n      var elm = document.createElement('fakeelement');\n\n      if (elm.style.animationName !== undefined) {\n        animation = true;\n      }\n\n      if (animation === false) {\n        for (var i = 0; i < domPrefixes.length; i++) {\n          if (elm.style[domPrefixes[i] + 'AnimationName'] !== undefined) {\n            pfx = domPrefixes[i];\n            keyframeprefix = '-' + pfx.toLowerCase() + '-';\n            animationstartevent = startEvents[i];\n            animation = true;\n            break;\n          }\n        }\n      }\n    }\n    var animationName = 'resizeanim';\n    var animationKeyframes = '@' + keyframeprefix + 'keyframes ' + animationName + ' { from { opacity: 0; } to { opacity: 0; } } ';\n    var animationStyle = keyframeprefix + 'animation: 1ms ' + animationName + '; ';\n  }\n\n  var createStyles = function createStyles(doc) {\n    if (!doc.getElementById('detectElementResize')) {\n      //opacity:0 works around a chrome bug https://code.google.com/p/chromium/issues/detail?id=286360\n      var css = (animationKeyframes ? animationKeyframes : '') + '.resize-triggers { ' + (animationStyle ? animationStyle : '') + 'visibility: hidden; opacity: 0; } ' + '.resize-triggers, .resize-triggers > div, .contract-trigger:before { content: \" \"; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',\n          head = doc.head || doc.getElementsByTagName('head')[0],\n          style = doc.createElement('style');\n      style.id = 'detectElementResize';\n      style.type = 'text/css';\n\n      if (nonce != null) {\n        style.setAttribute('nonce', nonce);\n      }\n\n      if (style.styleSheet) {\n        style.styleSheet.cssText = css;\n      } else {\n        style.appendChild(doc.createTextNode(css));\n      }\n\n      head.appendChild(style);\n    }\n  };\n\n  var addResizeListener = function addResizeListener(element, fn) {\n    if (attachEvent) {\n      element.attachEvent('onresize', fn);\n    } else {\n      if (!element.__resizeTriggers__) {\n        var doc = element.ownerDocument;\n\n        var elementStyle = _window.getComputedStyle(element);\n\n        if (elementStyle && elementStyle.position == 'static') {\n          element.style.position = 'relative';\n        }\n\n        createStyles(doc);\n        element.__resizeLast__ = {};\n        element.__resizeListeners__ = [];\n        (element.__resizeTriggers__ = doc.createElement('div')).className = 'resize-triggers';\n        element.__resizeTriggers__.innerHTML = '<div class=\"expand-trigger\"><div></div></div>' + '<div class=\"contract-trigger\"></div>';\n        element.appendChild(element.__resizeTriggers__);\n        resetTriggers(element);\n        element.addEventListener('scroll', scrollListener, true);\n        /* Listen for a css animation to detect element display/re-attach */\n\n        if (animationstartevent) {\n          element.__resizeTriggers__.__animationListener__ = function animationListener(e) {\n            if (e.animationName == animationName) {\n              resetTriggers(element);\n            }\n          };\n\n          element.__resizeTriggers__.addEventListener(animationstartevent, element.__resizeTriggers__.__animationListener__);\n        }\n      }\n\n      element.__resizeListeners__.push(fn);\n    }\n  };\n\n  var removeResizeListener = function removeResizeListener(element, fn) {\n    if (attachEvent) {\n      element.detachEvent('onresize', fn);\n    } else {\n      element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(fn), 1);\n\n      if (!element.__resizeListeners__.length) {\n        element.removeEventListener('scroll', scrollListener, true);\n\n        if (element.__resizeTriggers__.__animationListener__) {\n          element.__resizeTriggers__.removeEventListener(animationstartevent, element.__resizeTriggers__.__animationListener__);\n\n          element.__resizeTriggers__.__animationListener__ = null;\n        }\n\n        try {\n          element.__resizeTriggers__ = !element.removeChild(element.__resizeTriggers__);\n        } catch (e) {// Preact compat; see developit/preact-compat/issues/228\n        }\n      }\n    }\n  };\n\n  return {\n    addResizeListener: addResizeListener,\n    removeResizeListener: removeResizeListener\n  };\n}\n\nvar AutoSizer = function (_React$PureComponent) {\n  _inherits(AutoSizer, _React$PureComponent);\n\n  function AutoSizer() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, AutoSizer);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = AutoSizer.__proto__ || _Object$getPrototypeOf(AutoSizer)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      height: _this.props.defaultHeight || 0,\n      width: _this.props.defaultWidth || 0\n    }, _this._onResize = function () {\n      var _this$props = _this.props,\n          disableHeight = _this$props.disableHeight,\n          disableWidth = _this$props.disableWidth,\n          onResize = _this$props.onResize;\n\n      if (_this._parentNode) {\n        // Guard against AutoSizer component being removed from the DOM immediately after being added.\n        // This can result in invalid style values which can result in NaN values if we don't handle them.\n        // See issue #150 for more context.\n        var _height = _this._parentNode.offsetHeight || 0;\n\n        var _width = _this._parentNode.offsetWidth || 0;\n\n        var _style = window.getComputedStyle(_this._parentNode) || {};\n\n        var paddingLeft = parseInt(_style.paddingLeft, 10) || 0;\n        var paddingRight = parseInt(_style.paddingRight, 10) || 0;\n        var paddingTop = parseInt(_style.paddingTop, 10) || 0;\n        var paddingBottom = parseInt(_style.paddingBottom, 10) || 0;\n        var newHeight = _height - paddingTop - paddingBottom;\n        var newWidth = _width - paddingLeft - paddingRight;\n\n        if (!disableHeight && _this.state.height !== newHeight || !disableWidth && _this.state.width !== newWidth) {\n          _this.setState({\n            height: _height - paddingTop - paddingBottom,\n            width: _width - paddingLeft - paddingRight\n          });\n\n          onResize({\n            height: _height,\n            width: _width\n          });\n        }\n      }\n    }, _this._setRef = function (autoSizer) {\n      _this._autoSizer = autoSizer;\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(AutoSizer, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var nonce = this.props.nonce;\n\n      if (this._autoSizer && this._autoSizer.parentNode && this._autoSizer.parentNode.ownerDocument && this._autoSizer.parentNode.ownerDocument.defaultView && this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement) {\n        // Delay access of parentNode until mount.\n        // This handles edge-cases where the component has already been unmounted before its ref has been set,\n        // As well as libraries like react-lite which have a slightly different lifecycle.\n        this._parentNode = this._autoSizer.parentNode; // Defer requiring resize handler in order to support server-side rendering.\n        // See issue #41\n\n        this._detectElementResize = createDetectElementResize(nonce);\n\n        this._detectElementResize.addResizeListener(this._parentNode, this._onResize);\n\n        this._onResize();\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this._detectElementResize && this._parentNode) {\n        this._detectElementResize.removeResizeListener(this._parentNode, this._onResize);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          children = _props.children,\n          className = _props.className,\n          disableHeight = _props.disableHeight,\n          disableWidth = _props.disableWidth,\n          style = _props.style;\n      var _state = this.state,\n          height = _state.height,\n          width = _state.width; // Outer div should not force width/height since that may prevent containers from shrinking.\n      // Inner component should overflow and use calculated width/height.\n      // See issue #68 for more information.\n\n      var outerStyle = {\n        overflow: 'visible'\n      };\n      var childParams = {};\n\n      if (!disableHeight) {\n        outerStyle.height = 0;\n        childParams.height = height;\n      }\n\n      if (!disableWidth) {\n        outerStyle.width = 0;\n        childParams.width = width;\n      }\n      /**\n       * TODO: Avoid rendering children before the initial measurements have been collected.\n       * At best this would just be wasting cycles.\n       * Add this check into version 10 though as it could break too many ref callbacks in version 9.\n       * Note that if default width/height props were provided this would still work with SSR.\n      if (\n        height !== 0 &&\n        width !== 0\n      ) {\n        child = children({ height, width })\n      }\n      */\n\n\n      return createElement('div', {\n        className: className,\n        ref: this._setRef,\n        style: _extends$6({}, outerStyle, style)\n      }, children(childParams));\n    }\n  }]);\n\n  return AutoSizer;\n}(PureComponent);\n\nAutoSizer.defaultProps = {\n  onResize: function onResize() {},\n  disableHeight: false,\n  disableWidth: false,\n  style: {}\n};\nAutoSizer.propTypes = process.env.NODE_ENV === 'production' ? null : {\n  /** Function responsible for rendering children.*/\n  children: propTypes.func.isRequired,\n\n  /** Optional custom CSS class name to attach to root AutoSizer element.  */\n  className: propTypes.string,\n\n  /** Default height to use for initial render; useful for SSR */\n  defaultHeight: propTypes.number,\n\n  /** Default width to use for initial render; useful for SSR */\n  defaultWidth: propTypes.number,\n\n  /** Disable dynamic :height property */\n  disableHeight: propTypes.bool.isRequired,\n\n  /** Disable dynamic :width property */\n  disableWidth: propTypes.bool.isRequired,\n\n  /** Nonce of the inlined stylesheet for Content Security Policy */\n  nonce: propTypes.string,\n\n  /** Callback to be invoked on-resize */\n  onResize: propTypes.func.isRequired,\n\n  /** Optional inline style */\n  style: propTypes.object\n};\nvar bpfrpt_proptype_CellMeasureCache = process.env.NODE_ENV === 'production' ? null : {\n  hasFixedWidth: propTypes.func.isRequired,\n  hasFixedHeight: propTypes.func.isRequired,\n  has: propTypes.func.isRequired,\n  set: propTypes.func.isRequired,\n  getHeight: propTypes.func.isRequired,\n  getWidth: propTypes.func.isRequired\n};\n/**\n * Wraps a cell and measures its rendered content.\n * Measurements are stored in a per-cell cache.\n * Cached-content is not be re-measured.\n */\n\nvar CellMeasurer = function (_React$PureComponent) {\n  _inherits(CellMeasurer, _React$PureComponent);\n\n  function CellMeasurer() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, CellMeasurer);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = CellMeasurer.__proto__ || _Object$getPrototypeOf(CellMeasurer)).call.apply(_ref, [this].concat(args))), _this), _this._measure = function () {\n      var _this$props = _this.props,\n          cache = _this$props.cache,\n          _this$props$columnInd = _this$props.columnIndex,\n          columnIndex = _this$props$columnInd === undefined ? 0 : _this$props$columnInd,\n          parent = _this$props.parent,\n          _this$props$rowIndex = _this$props.rowIndex,\n          rowIndex = _this$props$rowIndex === undefined ? _this.props.index || 0 : _this$props$rowIndex;\n\n      var _this$_getCellMeasure = _this._getCellMeasurements(),\n          height = _this$_getCellMeasure.height,\n          width = _this$_getCellMeasure.width;\n\n      if (height !== cache.getHeight(rowIndex, columnIndex) || width !== cache.getWidth(rowIndex, columnIndex)) {\n        cache.set(rowIndex, columnIndex, width, height);\n\n        if (parent && typeof parent.recomputeGridSize === 'function') {\n          parent.recomputeGridSize({\n            columnIndex: columnIndex,\n            rowIndex: rowIndex\n          });\n        }\n      }\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(CellMeasurer, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this._maybeMeasureCell();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      this._maybeMeasureCell();\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var children = this.props.children;\n      return typeof children === 'function' ? children({\n        measure: this._measure\n      }) : children;\n    }\n  }, {\n    key: '_getCellMeasurements',\n    value: function _getCellMeasurements() {\n      var cache = this.props.cache;\n      var node = findDOMNode(this); // TODO Check for a bad combination of fixedWidth and missing numeric width or vice versa with height\n\n      if (node && node.ownerDocument && node.ownerDocument.defaultView && node instanceof node.ownerDocument.defaultView.HTMLElement) {\n        var styleWidth = node.style.width;\n        var styleHeight = node.style.height; // If we are re-measuring a cell that has already been measured,\n        // It will have a hard-coded width/height from the previous measurement.\n        // The fact that we are measuring indicates this measurement is probably stale,\n        // So explicitly clear it out (eg set to \"auto\") so we can recalculate.\n        // See issue #593 for more info.\n        // Even if we are measuring initially- if we're inside of a MultiGrid component,\n        // Explicitly clear width/height before measuring to avoid being tainted by another Grid.\n        // eg top/left Grid renders before bottom/right Grid\n        // Since the CellMeasurerCache is shared between them this taints derived cell size values.\n\n        if (!cache.hasFixedWidth()) {\n          node.style.width = 'auto';\n        }\n\n        if (!cache.hasFixedHeight()) {\n          node.style.height = 'auto';\n        }\n\n        var height = Math.ceil(node.offsetHeight);\n        var width = Math.ceil(node.offsetWidth); // Reset after measuring to avoid breaking styles; see #660\n\n        if (styleWidth) {\n          node.style.width = styleWidth;\n        }\n\n        if (styleHeight) {\n          node.style.height = styleHeight;\n        }\n\n        return {\n          height: height,\n          width: width\n        };\n      } else {\n        return {\n          height: 0,\n          width: 0\n        };\n      }\n    }\n  }, {\n    key: '_maybeMeasureCell',\n    value: function _maybeMeasureCell() {\n      var _props = this.props,\n          cache = _props.cache,\n          _props$columnIndex = _props.columnIndex,\n          columnIndex = _props$columnIndex === undefined ? 0 : _props$columnIndex,\n          parent = _props.parent,\n          _props$rowIndex = _props.rowIndex,\n          rowIndex = _props$rowIndex === undefined ? this.props.index || 0 : _props$rowIndex;\n\n      if (!cache.has(rowIndex, columnIndex)) {\n        var _getCellMeasurements2 = this._getCellMeasurements(),\n            height = _getCellMeasurements2.height,\n            width = _getCellMeasurements2.width;\n\n        cache.set(rowIndex, columnIndex, width, height); // If size has changed, let Grid know to re-render.\n\n        if (parent && typeof parent.invalidateCellSizeAfterRender === 'function') {\n          parent.invalidateCellSizeAfterRender({\n            columnIndex: columnIndex,\n            rowIndex: rowIndex\n          });\n        }\n      }\n    }\n  }]);\n\n  return CellMeasurer;\n}(PureComponent); // Used for DEV mode warning check\n\n\nCellMeasurer.__internalCellMeasurerFlag = false;\nCellMeasurer.propTypes = process.env.NODE_ENV === 'production' ? null : {\n  cache: function cache() {\n    return (typeof bpfrpt_proptype_CellMeasureCache === 'function' ? bpfrpt_proptype_CellMeasureCache.isRequired ? bpfrpt_proptype_CellMeasureCache.isRequired : bpfrpt_proptype_CellMeasureCache : propTypes.shape(bpfrpt_proptype_CellMeasureCache).isRequired).apply(this, arguments);\n  },\n  children: propTypes.oneOfType([propTypes.func, propTypes.node]).isRequired,\n  columnIndex: propTypes.number,\n  index: propTypes.number,\n  parent: propTypes.shape({\n    invalidateCellSizeAfterRender: propTypes.func,\n    recomputeGridSize: propTypes.func\n  }).isRequired,\n  rowIndex: propTypes.number\n};\n\nif (process.env.NODE_ENV !== 'production') {\n  CellMeasurer.__internalCellMeasurerFlag = true;\n}\n\nvar DEFAULT_HEIGHT = 30;\nvar DEFAULT_WIDTH = 100; // Enables more intelligent mapping of a given column and row index to an item ID.\n// This prevents a cell cache from being invalidated when its parent collection is modified.\n\n/**\n * Caches measurements for a given cell.\n */\n\nvar CellMeasurerCache = function () {\n  function CellMeasurerCache() {\n    var _this = this;\n\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, CellMeasurerCache);\n\n    this._cellHeightCache = {};\n    this._cellWidthCache = {};\n    this._columnWidthCache = {};\n    this._rowHeightCache = {};\n    this._columnCount = 0;\n    this._rowCount = 0;\n\n    this.columnWidth = function (_ref) {\n      var index = _ref.index;\n\n      var key = _this._keyMapper(0, index);\n\n      return _this._columnWidthCache.hasOwnProperty(key) ? _this._columnWidthCache[key] : _this._defaultWidth;\n    };\n\n    this.rowHeight = function (_ref2) {\n      var index = _ref2.index;\n\n      var key = _this._keyMapper(index, 0);\n\n      return _this._rowHeightCache.hasOwnProperty(key) ? _this._rowHeightCache[key] : _this._defaultHeight;\n    };\n\n    var defaultHeight = params.defaultHeight,\n        defaultWidth = params.defaultWidth,\n        fixedHeight = params.fixedHeight,\n        fixedWidth = params.fixedWidth,\n        keyMapper = params.keyMapper,\n        minHeight = params.minHeight,\n        minWidth = params.minWidth;\n    this._hasFixedHeight = fixedHeight === true;\n    this._hasFixedWidth = fixedWidth === true;\n    this._minHeight = minHeight || 0;\n    this._minWidth = minWidth || 0;\n    this._keyMapper = keyMapper || defaultKeyMapper;\n    this._defaultHeight = Math.max(this._minHeight, typeof defaultHeight === 'number' ? defaultHeight : DEFAULT_HEIGHT);\n    this._defaultWidth = Math.max(this._minWidth, typeof defaultWidth === 'number' ? defaultWidth : DEFAULT_WIDTH);\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (this._hasFixedHeight === false && this._hasFixedWidth === false) {\n        console.warn(\"CellMeasurerCache should only measure a cell's width or height. \" + 'You have configured CellMeasurerCache to measure both. ' + 'This will result in poor performance.');\n      }\n\n      if (this._hasFixedHeight === false && this._defaultHeight === 0) {\n        console.warn('Fixed height CellMeasurerCache should specify a :defaultHeight greater than 0. ' + 'Failing to do so will lead to unnecessary layout and poor performance.');\n      }\n\n      if (this._hasFixedWidth === false && this._defaultWidth === 0) {\n        console.warn('Fixed width CellMeasurerCache should specify a :defaultWidth greater than 0. ' + 'Failing to do so will lead to unnecessary layout and poor performance.');\n      }\n    }\n  }\n\n  _createClass(CellMeasurerCache, [{\n    key: 'clear',\n    value: function clear(rowIndex) {\n      var columnIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      var key = this._keyMapper(rowIndex, columnIndex);\n\n      delete this._cellHeightCache[key];\n      delete this._cellWidthCache[key];\n\n      this._updateCachedColumnAndRowSizes(rowIndex, columnIndex);\n    }\n  }, {\n    key: 'clearAll',\n    value: function clearAll() {\n      this._cellHeightCache = {};\n      this._cellWidthCache = {};\n      this._columnWidthCache = {};\n      this._rowHeightCache = {};\n      this._rowCount = 0;\n      this._columnCount = 0;\n    }\n  }, {\n    key: 'hasFixedHeight',\n    value: function hasFixedHeight() {\n      return this._hasFixedHeight;\n    }\n  }, {\n    key: 'hasFixedWidth',\n    value: function hasFixedWidth() {\n      return this._hasFixedWidth;\n    }\n  }, {\n    key: 'getHeight',\n    value: function getHeight(rowIndex) {\n      var columnIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      if (this._hasFixedHeight) {\n        return this._defaultHeight;\n      } else {\n        var _key = this._keyMapper(rowIndex, columnIndex);\n\n        return this._cellHeightCache.hasOwnProperty(_key) ? Math.max(this._minHeight, this._cellHeightCache[_key]) : this._defaultHeight;\n      }\n    }\n  }, {\n    key: 'getWidth',\n    value: function getWidth(rowIndex) {\n      var columnIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      if (this._hasFixedWidth) {\n        return this._defaultWidth;\n      } else {\n        var _key2 = this._keyMapper(rowIndex, columnIndex);\n\n        return this._cellWidthCache.hasOwnProperty(_key2) ? Math.max(this._minWidth, this._cellWidthCache[_key2]) : this._defaultWidth;\n      }\n    }\n  }, {\n    key: 'has',\n    value: function has(rowIndex) {\n      var columnIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      var key = this._keyMapper(rowIndex, columnIndex);\n\n      return this._cellHeightCache.hasOwnProperty(key);\n    }\n  }, {\n    key: 'set',\n    value: function set(rowIndex, columnIndex, width, height) {\n      var key = this._keyMapper(rowIndex, columnIndex);\n\n      if (columnIndex >= this._columnCount) {\n        this._columnCount = columnIndex + 1;\n      }\n\n      if (rowIndex >= this._rowCount) {\n        this._rowCount = rowIndex + 1;\n      } // Size is cached per cell so we don't have to re-measure if cells are re-ordered.\n\n\n      this._cellHeightCache[key] = height;\n      this._cellWidthCache[key] = width;\n\n      this._updateCachedColumnAndRowSizes(rowIndex, columnIndex);\n    }\n  }, {\n    key: '_updateCachedColumnAndRowSizes',\n    value: function _updateCachedColumnAndRowSizes(rowIndex, columnIndex) {\n      // :columnWidth and :rowHeight are derived based on all cells in a column/row.\n      // Pre-cache these derived values for faster lookup later.\n      // Reads are expected to occur more frequently than writes in this case.\n      // Only update non-fixed dimensions though to avoid doing unnecessary work.\n      if (!this._hasFixedWidth) {\n        var columnWidth = 0;\n\n        for (var i = 0; i < this._rowCount; i++) {\n          columnWidth = Math.max(columnWidth, this.getWidth(i, columnIndex));\n        }\n\n        var columnKey = this._keyMapper(0, columnIndex);\n\n        this._columnWidthCache[columnKey] = columnWidth;\n      }\n\n      if (!this._hasFixedHeight) {\n        var rowHeight = 0;\n\n        for (var _i = 0; _i < this._columnCount; _i++) {\n          rowHeight = Math.max(rowHeight, this.getHeight(rowIndex, _i));\n        }\n\n        var rowKey = this._keyMapper(rowIndex, 0);\n\n        this._rowHeightCache[rowKey] = rowHeight;\n      }\n    }\n  }, {\n    key: 'defaultHeight',\n    get: function get() {\n      return this._defaultHeight;\n    }\n  }, {\n    key: 'defaultWidth',\n    get: function get() {\n      return this._defaultWidth;\n    }\n  }]);\n\n  return CellMeasurerCache;\n}();\n\nfunction defaultKeyMapper(rowIndex, columnIndex) {\n  return rowIndex + '-' + columnIndex;\n} // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n\n\nvar $getOwnPropertyDescriptor$1 = _objectGopd.f;\n\n_objectSap('getOwnPropertyDescriptor', function () {\n  return function getOwnPropertyDescriptor(it, key) {\n    return $getOwnPropertyDescriptor$1(_toIobject(it), key);\n  };\n});\n\nvar $Object$2 = _core.Object;\n\nvar getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  return $Object$2.getOwnPropertyDescriptor(it, key);\n};\n\nvar getOwnPropertyDescriptor$1 = createCommonjsModule(function (module) {\n  module.exports = {\n    \"default\": getOwnPropertyDescriptor,\n    __esModule: true\n  };\n});\n\nvar _Object$getOwnPropertyDescriptor = unwrapExports(getOwnPropertyDescriptor$1);\n\nfunction toVal(mix) {\n  var k,\n      y,\n      str = '';\n\n  if (typeof mix === 'string' || typeof mix === 'number') {\n    str += mix;\n  } else if (typeof mix === 'object') {\n    if (Array.isArray(mix)) {\n      for (k = 0; k < mix.length; k++) {\n        if (mix[k]) {\n          if (y = toVal(mix[k])) {\n            str && (str += ' ');\n            str += y;\n          }\n        }\n      }\n    } else {\n      for (k in mix) {\n        if (mix[k]) {\n          str && (str += ' ');\n          str += k;\n        }\n      }\n    }\n  }\n\n  return str;\n}\n\nfunction clsx() {\n  var i = 0,\n      tmp,\n      x,\n      str = '';\n\n  while (i < arguments.length) {\n    if (tmp = arguments[i++]) {\n      if (x = toVal(tmp)) {\n        str && (str += ' ');\n        str += x;\n      }\n    }\n  }\n\n  return str;\n}\n\nfunction calculateSizeAndPositionDataAndUpdateScrollOffset(_ref) {\n  var cellCount = _ref.cellCount,\n      cellSize = _ref.cellSize,\n      computeMetadataCallback = _ref.computeMetadataCallback,\n      computeMetadataCallbackProps = _ref.computeMetadataCallbackProps,\n      nextCellsCount = _ref.nextCellsCount,\n      nextCellSize = _ref.nextCellSize,\n      nextScrollToIndex = _ref.nextScrollToIndex,\n      scrollToIndex = _ref.scrollToIndex,\n      updateScrollOffsetForScrollToIndex = _ref.updateScrollOffsetForScrollToIndex; // Don't compare cell sizes if they are functions because inline functions would cause infinite loops.\n  // In that event users should use the manual recompute methods to inform of changes.\n\n  if (cellCount !== nextCellsCount || (typeof cellSize === 'number' || typeof nextCellSize === 'number') && cellSize !== nextCellSize) {\n    computeMetadataCallback(computeMetadataCallbackProps); // Updated cell metadata may have hidden the previous scrolled-to item.\n    // In this case we should also update the scrollTop to ensure it stays visible.\n\n    if (scrollToIndex >= 0 && scrollToIndex === nextScrollToIndex) {\n      updateScrollOffsetForScrollToIndex();\n    }\n  }\n}\n/**\n * Helper method that determines when to recalculate row or column metadata.\n */\n\n\nvar objectWithoutProperties = createCommonjsModule(function (module, exports) {\n  exports.__esModule = true;\n\n  exports.default = function (obj, keys) {\n    var target = {};\n\n    for (var i in obj) {\n      if (keys.indexOf(i) >= 0) continue;\n      if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n      target[i] = obj[i];\n    }\n\n    return target;\n  };\n});\n\nvar _objectWithoutProperties$6 = unwrapExports(objectWithoutProperties);\n\nvar linearLayoutVector = LinearLayoutVector;\nLinearLayoutVector.prototype.getLength = getLength;\nLinearLayoutVector.prototype.setLength = setLength;\nLinearLayoutVector.prototype.getDefaultSize = getDefaultSize;\nLinearLayoutVector.prototype.setDefaultSize = setDefaultSize;\nLinearLayoutVector.prototype.getAxisOffset = getAxisOffset;\nLinearLayoutVector.prototype.setAxisOffset = setAxisOffset;\nLinearLayoutVector.prototype.getGap = getGap;\nLinearLayoutVector.prototype.setGap = setGap;\nLinearLayoutVector.prototype.getItemSize = getItemSize;\nLinearLayoutVector.prototype.setItemSize = setItemSize;\nLinearLayoutVector.prototype.insert = insert;\nLinearLayoutVector.prototype.remove = remove;\nLinearLayoutVector.prototype.start = start;\nLinearLayoutVector.prototype.end = end;\nLinearLayoutVector.prototype.indexOf = indexOf;\nLinearLayoutVector.prototype.clear = clear;\nLinearLayoutVector.prototype.toString = toString$4;\n/**\n * A sparse array of sizes that represent items in a dimension.\n *\n * Provides efficient support for finding the cumulative distance to\n * the start/end of an item along the axis, and similarly for finding the\n * index of the item at a particular distance.\n *\n * Default size is used for items whose size hasn't been specified.\n */\n\nfunction LinearLayoutVector(block_size) {\n  if (block_size === undefined) {\n    block_size = 128;\n  } // Assumption: vector elements (sizes) will typically be set in\n  // small ranges that reflect localized scrolling.  Allocate vector\n  // elements in blocks of block_size, which must be a power of 2.\n  // block_shift is the power of 2 and block_mask masks off as many\n  // low order bits.  The block_table contains all of the allocated\n  // blocks and has length/block_size elements which are allocated lazily.\n\n\n  var pow = Math.log(block_size) / Math.log(2) | 0,\n      size = Math.pow(2, pow),\n      mask = size - 1;\n  this.block_size = size;\n  this.block_shift = pow;\n  this.block_mask = mask;\n  this.block_table = [];\n  this._defaultSize = 0;\n  this._axisOffset = 0;\n  this._gap = 0; // Sorted Vector of intervals for the pending removes, in descending order,\n  // for example [7, 5, 3, 1] for the removes at 7, 6, 5, 3, 2, 1\n\n  this.removes = null; // Sorted Vector of intervals for the pending inserts, in ascending order,\n  // for example [1, 3, 5, 7] for the inserts at 1, 2, 3, 5, 6, 7\n\n  this.inserts = null;\n  this._length = 0; // What the length will be after any pending changes are flushed.\n\n  this._pendingLength = -1;\n}\n/**\n * The number of item size valued elements.\n *\n * @default 0\n */\n\n\nfunction getLength() {\n  return this._pendingLength === -1 ? this._length : this._pendingLength;\n}\n/**\n * @private\n * Grows or truncates the vector to be the specified newLength.\n * When truncating, releases empty blocks and sets to NaN any values\n * in the last block beyond the newLength.\n */\n\n\nfunction setLength(newLength) {\n  flushPendingChanges.call(this);\n\n  if (newLength < this._length) {\n    // Clear any remaining non-NaN values in the last block\n    var blockIndex = newLength >> this.block_shift;\n    var endIndex = Math.min(blockIndex * this.block_size + this.block_size, this._length) - 1;\n    clearInterval.call(this, newLength, endIndex);\n  }\n\n  this._length = newLength; // update the table\n\n  var partialBlock = (this._length & this.block_mask) === 0 ? 0 : 1;\n  this.block_table.length = (this._length >> this.block_shift) + partialBlock;\n} //----------------------------------\n//  defaultSize\n//----------------------------------\n\n/**\n * The size of items whose size was not specified with setItemSize.\n *\n * @default 0\n */\n\n\nfunction getDefaultSize() {\n  return this._defaultSize;\n}\n/**\n * @private\n */\n\n\nfunction setDefaultSize(value) {\n  this._defaultSize = value;\n} //----------------------------------\n//  axisOffset\n//----------------------------------\n\n/**\n * The offset of the first item from the origin in the majorAxis\n * direction. This is useful when implementing padding,\n * in addition to gaps, for virtual layouts.\n *\n * @see #gap\n */\n\n\nfunction getAxisOffset() {\n  return this._axisOffset;\n}\n/**\n * @private\n */\n\n\nfunction setAxisOffset(value) {\n  this._axisOffset = value;\n} //----------------------------------\n//  gap\n//----------------------------------\n\n/**\n * The distance between items.\n *\n * @default 0\n */\n\n\nfunction getGap() {\n  return this._gap;\n}\n/**\n * @private\n */\n\n\nfunction setGap(value) {\n  this._gap = value;\n} //--------------------------------------------------------------------------\n//\n//  Methods\n//\n//--------------------------------------------------------------------------\n\n/**\n * Return the size of the item at index.  If no size was ever\n * specified then then the defaultSize is returned.\n *\n * @param index The item's index.\n * @see defaultSize\n */\n\n\nfunction getItemSize(index) {\n  flushPendingChanges.call(this);\n  var block = this.block_table[index >> this.block_shift];\n\n  if (block) {\n    var value = block.sizes[index & this.block_mask];\n    return value !== value ? this._defaultSize : value;\n  } else {\n    return this._defaultSize;\n  }\n}\n/**\n * Set the size of the item at index. If an index is\n * set to <code>NaN</code> then subsequent calls to get\n * will return the defaultSize.\n *\n * @param index The item's index.\n * @param value The item's size.\n * @see defaultSize\n */\n\n\nfunction setItemSize(index, value) {\n  flushPendingChanges.call(this);\n\n  if (index >= this.getLength()) {\n    throw new Error(\"Invalid index and all that.\");\n  }\n\n  var blockIndex = index >> this.block_shift;\n  var block = this.block_table[blockIndex];\n\n  if (!block) {\n    block = this.block_table[blockIndex] = new Block(this.block_size);\n  }\n\n  var sizesIndex = index & this.block_mask;\n  var sizes = block.sizes;\n  var oldValue = sizes[sizesIndex];\n\n  if (oldValue === value) {\n    return;\n  }\n\n  if (oldValue !== oldValue) {\n    block.defaultCount -= 1;\n    block.sizesSum += value;\n  } else if (value !== value) {\n    block.defaultCount += 1;\n    block.sizesSum -= oldValue;\n  } else {\n    block.sizesSum += value - oldValue;\n  }\n\n  sizes[sizesIndex] = value;\n}\n/**\n * Make room for a new item at index by shifting all of the sizes\n * one position to the right, beginning with startIndex.\n *\n * The value at index will be NaN.\n *\n * This is similar to array.splice(index, 0, NaN).\n *\n * @param index The position of the new NaN size item.\n */\n\n\nfunction insert(index) {\n  // We don't support interleaved pending inserts and removes\n  if (this.removes) {\n    flushPendingChanges.call(this);\n  }\n\n  if (this.inserts) {\n    // Update the last interval or add a new one?\n    var lastIndex = this.inserts.length - 1;\n    var intervalEnd = this.inserts[lastIndex];\n\n    if (index === intervalEnd + 1) {\n      // Extend the end of the interval\n      this.inserts[lastIndex] = index;\n    } else if (index > intervalEnd) {\n      // New interval\n      this.inserts.push(index);\n      this.inserts.push(index);\n    } else {\n      // We can't support pending inserts that are not ascending\n      flushPendingChanges.call(this);\n    }\n  }\n\n  this._pendingLength = Math.max(this._length, index + 1);\n\n  if (!this.inserts) {\n    this.inserts = [];\n    this.inserts.push(index);\n    this.inserts.push(index);\n  }\n}\n/**\n * Remove index by shifting all of the sizes one position to the left,\n * begining with index+1.\n *\n * This is similar to array.splice(index, 1).\n *\n * @param index The position to be removed.\n */\n\n\nfunction remove(index) {\n  // We don't support interleaved pending inserts and removes\n  if (this.inserts) {\n    flushPendingChanges.call(this);\n  } // length getter takes into account pending inserts/removes but doesn't flush\n\n\n  if (index >= this.getLength()) {\n    throw new Error(\"Invalid index and all that.\");\n  }\n\n  if (this.removes) {\n    // Update the last interval or add a new one?\n    var lastIndex = this.removes.length - 1;\n    var intervalStart = this.removes[lastIndex];\n\n    if (index === intervalStart - 1) {\n      // Extend the start of the interval\n      this.removes[lastIndex] = index;\n    } else if (index < intervalStart) {\n      // New interval\n      this.removes.push(index);\n      this.removes.push(index);\n    } else {\n      // We can't support pending removes that are not descending\n      flushPendingChanges.call(this);\n    }\n  }\n\n  this._pendingLength = this._pendingLength === -1 ? length - 1 : this._pendingLength - 1;\n\n  if (!this.removes) {\n    this.removes = [];\n    this.removes.push(index);\n    this.removes.push(index);\n  }\n}\n/**\n * @private\n * Returns true when all sizes in the specified interval for the block are NaN\n */\n\n\nfunction isIntervalClear(block, index, count) {\n  var sizes = block.sizes,\n      size;\n\n  for (count += index; index < count; ++index) {\n    if ((size = sizes[index]) === size) {\n      return false;\n    }\n  }\n\n  return true;\n}\n/**\n * @private\n * Copies elements between blocks. Indices relative to the blocks.\n * If srcBlock is null, then it fills the destination with NaNs.\n * The case of srcBlock === dstBlock is also supported.\n * The caller must ensure that count is within range.\n */\n\n\nfunction inBlockCopy(dstBlock, dstIndexStart, srcBlock, srcIndexStart, count) {\n  var ascending = dstIndexStart < srcIndexStart;\n  var srcIndex = ascending ? srcIndexStart : srcIndexStart + count - 1;\n  var dstIndex = ascending ? dstIndexStart : dstIndexStart + count - 1;\n  var increment = ascending ? +1 : -1;\n  var dstSizes = dstBlock.sizes;\n  var srcSizes = srcBlock ? srcBlock.sizes : null;\n  var dstValue = NaN;\n  var srcValue = NaN;\n  var sizesSumDelta = 0; // How much the destination sizesSum will change\n\n  var defaultCountDelta = 0; // How much the destination defaultCount will change\n\n  while (count > 0) {\n    if (srcSizes) {\n      srcValue = srcSizes[srcIndex];\n    }\n\n    dstValue = dstSizes[dstIndex]; // Are the values different?\n\n    if (srcValue !== dstValue) {\n      // Triple '=' to handle NaN comparison\n      // Are we removing a default size or a chached size?\n      if (dstValue !== dstValue) {\n        defaultCountDelta--;\n      } else {\n        sizesSumDelta -= dstValue;\n      } // Are we adding a default size or a cached size?\n\n\n      if (srcValue !== srcValue) {\n        defaultCountDelta++;\n      } else {\n        sizesSumDelta += srcValue;\n      }\n\n      dstSizes[dstIndex] = srcValue;\n    }\n\n    srcIndex += increment;\n    dstIndex += increment;\n    count--;\n  }\n\n  dstBlock.sizesSum += sizesSumDelta;\n  dstBlock.defaultCount += defaultCountDelta;\n}\n/**\n * @private\n * Copies 'count' elements from dstIndex to srcIndex.\n * Safe for overlapping source and destination intervals.\n * If any blocks are left full of NaNs, they will be deallcated.\n */\n\n\nfunction copyInterval(dstIndex, srcIndex, count) {\n  var ascending = dstIndex < srcIndex;\n\n  if (!ascending) {\n    dstIndex += count - 1;\n    srcIndex += count - 1;\n  }\n\n  while (count > 0) {\n    // Figure out destination block\n    var dstBlockIndex = dstIndex >> this.block_shift;\n    var dstSizesIndex = dstIndex & this.block_mask;\n    var dstBlock = this.block_table[dstBlockIndex]; // Figure out source block\n\n    var srcBlockIndex = srcIndex >> this.block_shift;\n    var srcSizesIndex = srcIndex & this.block_mask;\n    var srcBlock = this.block_table[srcBlockIndex]; // Figure out number of elements to copy\n\n    var copyCount = ascending ? Math.min(this.block_size - dstSizesIndex, this.block_size - srcSizesIndex) : 1 + Math.min(dstSizesIndex, srcSizesIndex);\n    copyCount = Math.min(copyCount, count); // Figure out the start index for each block\n\n    var dstStartIndex = ascending ? dstSizesIndex : dstSizesIndex - copyCount + 1;\n    var srcStartIndex = ascending ? srcSizesIndex : srcSizesIndex - copyCount + 1; // Check whether a destination block needs to be allocated.\n    // Allocate only if there are non-default values to be copied from the source.\n\n    if (srcBlock && !dstBlock && isIntervalClear(srcBlock, srcStartIndex, copyCount)) {\n      dstBlock = new Block(this.block_size);\n      this.block_table[dstBlockIndex] = dstBlock;\n    } // Copy to non-null dstBlock, srcBlock can be null\n\n\n    if (dstBlock) {\n      inBlockCopy(dstBlock, dstStartIndex, srcBlock, srcStartIndex, copyCount); // If this is the last time we're visiting this block, and it contains\n      // only NaNs, then remove it\n\n      if (dstBlock.defaultCount === this.block_size) {\n        var blockEndReached = ascending ? dstStartIndex + copyCount === this.block_size : dstStartIndex === 0;\n        if (blockEndReached || count === copyCount) this.block_table[dstBlockIndex] = null;\n      }\n    }\n\n    dstIndex += ascending ? copyCount : -copyCount;\n    srcIndex += ascending ? copyCount : -copyCount;\n    count -= copyCount;\n  }\n}\n/**\n * @private\n * Sets all elements within the specified interval to NaN (both ends inclusive).\n * Releases empty blocks.\n */\n\n\nfunction clearInterval(start, end) {\n  while (start <= end) {\n    // Figure our destination block\n    var blockIndex = start >> this.block_shift;\n    var sizesIndex = start & this.block_mask;\n    var block = this.block_table[blockIndex]; // Figure out number of elements to clear in this iteration\n    // Make sure we don't clear more items than requested\n\n    var clearCount = this.block_size - sizesIndex;\n    clearCount = Math.min(clearCount, end - start + 1);\n\n    if (block) {\n      if (clearCount === this.block_size) {\n        this.block_table[blockIndex] = null;\n      } else {\n        // Copying from null source block is equivalent of clearing the destination block\n        inBlockCopy(block, sizesIndex, null\n        /*srcBlock*/\n        , 0, clearCount); // If the blockDst contains only default sizes, then remove the block\n\n        if (block.defaultCount === this.block_size) {\n          this.block_table[blockIndex] = null;\n        }\n      }\n    }\n\n    start += clearCount;\n  }\n}\n/**\n * @private\n * Removes the elements designated by the intervals and truncates\n * the LinearLayoutVector to the new length.\n * 'intervals' is a Vector of descending intervals [7, 5, 3, 1]\n */\n\n\nfunction removeIntervals(intervals) {\n  var intervalsCount = intervals.length;\n\n  if (intervalsCount === 0) {\n    return;\n  } // Adding final nextIntervalStart value (see below).\n\n\n  intervals.reverse(); // turn into ascending, for example [7, 5, 3, 1] --> [1, 3, 5, 7]\n\n  intervals.push(this.getLength()); // Move the elements\n\n  var dstStart = intervals[0];\n  var srcStart;\n  var count;\n  var i = 0;\n\n  do {\n    var intervalEnd = intervals[i + 1];\n    var nextIntervalStart = intervals[i + 2];\n    i += 2; // Start copy from after the end of current interval\n\n    srcStart = intervalEnd + 1; // copy all elements up to the start of the next interval.\n\n    count = nextIntervalStart - srcStart;\n    copyInterval.call(this, dstStart, srcStart, count);\n    dstStart += count;\n  } while (i < intervalsCount); // Truncate the excess elements.\n\n\n  this.setLength(dstStart);\n}\n/**\n * @private\n * Increases the length and inserts NaN values for the elements designated by the intervals.\n * 'intervals' is a Vector of ascending intervals [1, 3, 5, 7]\n */\n\n\nfunction insertIntervals(intervals, newLength) {\n  var intervalsCount = intervals.length;\n\n  if (intervalsCount === 0) {\n    return;\n  } // Allocate enough space for the insertions, all the elements\n  // allocated are NaN by default.\n\n\n  var oldLength = this.getLength();\n  this.setLength(newLength);\n  var srcEnd = oldLength - 1;\n  var dstEnd = newLength - 1;\n  var i = intervalsCount - 2;\n\n  while (i >= 0) {\n    // Find current interval\n    var intervalStart = intervals[i];\n    var intervalEnd = intervals[i + 1];\n    i -= 2; // Start after the current interval\n\n    var dstStart = intervalEnd + 1;\n    var copyCount = dstEnd - dstStart + 1;\n    var srcStart = srcEnd - copyCount + 1;\n    copyInterval.call(this, dstStart, srcStart, copyCount);\n    dstStart -= copyCount;\n    dstEnd = intervalStart - 1; // Fill in with default NaN values after the copy\n\n    clearInterval.call(this, intervalStart, intervalEnd);\n  }\n}\n/**\n * @private\n * Processes any pending removes or pending inserts.\n */\n\n\nfunction flushPendingChanges() {\n  var intervals;\n\n  if (this.removes) {\n    intervals = this.removes;\n    this.removes = null;\n    this._pendingLength = -1;\n    removeIntervals.call(this, intervals);\n  } else if (this.inserts) {\n    intervals = this.inserts;\n    var newLength = this._pendingLength;\n    this.inserts = null;\n    this._pendingLength = -1;\n    insertIntervals.call(this, intervals, newLength);\n  }\n}\n/**\n * The cumulative distance to the start of the item at index, including\n * the gaps between items and the axisOffset.\n *\n * The value of start(0) is axisOffset.\n *\n * Equivalent to:\n * <pre>\n * var distance = this.getAxisOffset();\n * for (var i = 0; i &lt; index; i++)\n *     distance += get(i);\n * return distance + (gap * index);\n * </pre>\n *\n * The actual implementation is relatively efficient.\n *\n * @param index The item's index.\n * @see #end\n */\n\n\nfunction start(index) {\n  flushPendingChanges.call(this);\n\n  if (this._length === 0 || index === 0) {\n    return this.getAxisOffset();\n  }\n\n  if (index >= this._length) {\n    throw new Error(\"Invalid index and all that.\");\n  }\n\n  var distance = this.getAxisOffset();\n  var blockIndex = index >> this.block_shift;\n\n  for (var i = 0; i < blockIndex; i++) {\n    var block = this.block_table[i];\n    distance += block ? block.sizesSum + block.defaultCount * this._defaultSize : this.block_size * this._defaultSize;\n  }\n\n  var lastBlock = this.block_table[blockIndex];\n  var lastBlockOffset = index & ~this.block_mask;\n  var lastBlockLength = index - lastBlockOffset;\n\n  if (lastBlock) {\n    var sizes = lastBlock.sizes;\n\n    for (i = 0; i < lastBlockLength; i++) {\n      var size = sizes[i];\n      distance += size !== size ? this._defaultSize : size;\n    }\n  } else {\n    distance += this._defaultSize * lastBlockLength;\n  }\n\n  distance += index * this.getGap();\n  return distance;\n}\n/**\n * The cumulative distance to the end of the item at index, including\n * the gaps between items.\n *\n * If <code>index &lt;(length-1)</code> then the value of this\n * function is defined as:\n * <code>start(index) + get(index)</code>.\n *\n * @param index The item's index.\n * @see #start\n */\n\n\nfunction end(index) {\n  flushPendingChanges.call(this);\n  return this.start(index) + this.getItemSize(index);\n}\n/**\n * Returns the index of the item that overlaps the specified distance.\n *\n * The item at index <code>i</code> overlaps a distance value\n * if <code>start(i) &lt;= distance &lt; end(i)</code>.\n *\n * If no such item exists, -1 is returned.\n */\n\n\nfunction indexOf(distance) {\n  flushPendingChanges.call(this);\n  var index = indexOfInternal.call(this, distance);\n  return index >= this._length ? -1 : index;\n}\n\nfunction indexOfInternal(distance) {\n  if (this._length === 0 || distance < 0) {\n    return -1;\n  } // The area of the first item includes the axisOffset\n\n\n  var curDistance = this.getAxisOffset();\n\n  if (distance < curDistance) {\n    return 0;\n  }\n\n  var index = -1,\n      block = null,\n      blockSize = this.block_size,\n      defaultSize = this._defaultSize,\n      gap = this.getGap(),\n      blockGap = gap * blockSize; // Find the block that contains distance and the index of its\n  // first element\n\n  var blockIndex = -1,\n      blockTable = this.block_table,\n      blockTableLength = blockTable.length;\n\n  for (; ++blockIndex < blockTableLength;) {\n    block = blockTable[blockIndex];\n    var blockDistance = blockGap + (block ? block.sizesSum + block.defaultCount * defaultSize : blockSize * defaultSize);\n\n    if (distance === curDistance || distance >= curDistance && distance < curDistance + blockDistance) {\n      index = blockIndex << this.block_shift;\n      break;\n    }\n\n    curDistance += blockDistance;\n  }\n\n  if (index === -1 || distance === curDistance) {\n    return index;\n  } // At this point index corresponds to the first item in this block\n\n\n  if (block) {\n    // Find the item that contains distance and return its index\n    var sizes = block.sizes,\n        n = this.block_size - 1;\n\n    for (var i = 0; i < n; i++) {\n      var size = sizes[i];\n      curDistance += gap + (size !== size ? this._defaultSize : size);\n\n      if (curDistance > distance) {\n        return index + i;\n      }\n    } // TBD special-case for the very last index\n\n\n    return index + this.block_size - 1;\n  } else {\n    return index + Math.floor(Number(distance - curDistance) / Number(this._defaultSize + gap));\n  }\n}\n/**\n * Clear all cached state, reset length to zero.\n */\n\n\nfunction clear() {\n  // Discard any pending changes, before setting the length\n  // otherwise the length setter will commit the changes.\n  this.removes = null;\n  this.inserts = null;\n  this._pendingLength = -1;\n  this.setLength(0); // clears the this.block_table as well\n}\n\nfunction toString$4() {\n  return \"LinearLayoutVector { \" + \"length: \" + this._length + \", \" + \"size: \" + this.end(this.getLength() - 1) + \", \" + \"[blocks: \" + this.block_table.length + \"]\" + \", \" + \"gap: \" + this._gap + \", \" + \"defaultSize: \" + this._defaultSize + \", \" + \"pendingRemoves: \" + (this.removes ? this.removes.length : 0) + \", \" + \"pendingInserts: \" + (this.inserts ? this.inserts.length : 0) + \" }\";\n}\n/**\n * @private\n * A LinearLayoutVector block of layout element heights or widths.\n *\n * Total \"distance\" for a Block is: sizesSum + (defaultCount * distanceVector.default).\n */\n\n\nfunction Block(block_size) {\n  this.sizes = new Array(block_size);\n  this.sizesSum = 0;\n  this.defaultCount = block_size;\n\n  for (var i = -1; ++i < block_size;) {\n    this.sizes[i] = NaN;\n  }\n}\n\nvar bpfrpt_proptype_CellPosition = process.env.NODE_ENV === 'production' ? null : {\n  columnIndex: propTypes.number.isRequired,\n  rowIndex: propTypes.number.isRequired\n};\nvar bpfrpt_proptype_CellRendererParams = process.env.NODE_ENV === 'production' ? null : {\n  columnIndex: propTypes.number.isRequired,\n  isScrolling: propTypes.bool.isRequired,\n  isVisible: propTypes.bool.isRequired,\n  key: propTypes.string.isRequired,\n  parent: propTypes.object.isRequired,\n  rowIndex: propTypes.number.isRequired,\n  style: propTypes.object.isRequired\n};\nvar bpfrpt_proptype_CellRenderer = process.env.NODE_ENV === 'production' ? null : propTypes.func;\nvar bpfrpt_proptype_CellCache = process.env.NODE_ENV === 'production' ? null : propTypes.objectOf(propTypes.node.isRequired);\nvar bpfrpt_proptype_StyleCache = process.env.NODE_ENV === 'production' ? null : propTypes.objectOf(propTypes.object.isRequired);\nvar bpfrpt_proptype_CellRangeRendererParams = process.env.NODE_ENV === 'production' ? null : {\n  cellCache: propTypes.objectOf(propTypes.node.isRequired).isRequired,\n  cellRenderer: propTypes.func.isRequired,\n  columnSizeAndPositionManager: function columnSizeAndPositionManager() {\n    return (typeof ScalingCellSizeAndPositionManager === 'function' ? propTypes.instanceOf(ScalingCellSizeAndPositionManager).isRequired : propTypes.any.isRequired).apply(this, arguments);\n  },\n  columnStartIndex: propTypes.number.isRequired,\n  columnStopIndex: propTypes.number.isRequired,\n  deferredMeasurementCache: propTypes.object,\n  horizontalOffsetAdjustment: propTypes.number.isRequired,\n  isScrolling: propTypes.bool.isRequired,\n  isScrollingOptOut: propTypes.bool.isRequired,\n  parent: propTypes.object.isRequired,\n  rowSizeAndPositionManager: function rowSizeAndPositionManager() {\n    return (typeof ScalingCellSizeAndPositionManager === 'function' ? propTypes.instanceOf(ScalingCellSizeAndPositionManager).isRequired : propTypes.any.isRequired).apply(this, arguments);\n  },\n  rowStartIndex: propTypes.number.isRequired,\n  rowStopIndex: propTypes.number.isRequired,\n  scrollLeft: propTypes.number.isRequired,\n  scrollTop: propTypes.number.isRequired,\n  styleCache: propTypes.objectOf(propTypes.object.isRequired).isRequired,\n  verticalOffsetAdjustment: propTypes.number.isRequired,\n  visibleColumnIndices: propTypes.object.isRequired,\n  visibleRowIndices: propTypes.object.isRequired\n};\nvar bpfrpt_proptype_CellRangeRenderer = process.env.NODE_ENV === 'production' ? null : propTypes.func;\nvar bpfrpt_proptype_CellSizeGetter = process.env.NODE_ENV === 'production' ? null : propTypes.func;\nvar bpfrpt_proptype_CellSize = process.env.NODE_ENV === 'production' ? null : propTypes.oneOfType([propTypes.func, propTypes.number]);\nvar bpfrpt_proptype_NoContentRenderer = process.env.NODE_ENV === 'production' ? null : propTypes.func;\nvar bpfrpt_proptype_Scroll = process.env.NODE_ENV === 'production' ? null : {\n  clientHeight: propTypes.number.isRequired,\n  clientWidth: propTypes.number.isRequired,\n  scrollHeight: propTypes.number.isRequired,\n  scrollLeft: propTypes.number.isRequired,\n  scrollTop: propTypes.number.isRequired,\n  scrollWidth: propTypes.number.isRequired\n};\nvar bpfrpt_proptype_ScrollbarPresenceChange = process.env.NODE_ENV === 'production' ? null : {\n  horizontal: propTypes.bool.isRequired,\n  vertical: propTypes.bool.isRequired,\n  size: propTypes.number.isRequired\n};\nvar bpfrpt_proptype_RenderedSection = process.env.NODE_ENV === 'production' ? null : {\n  columnOverscanStartIndex: propTypes.number.isRequired,\n  columnOverscanStopIndex: propTypes.number.isRequired,\n  columnStartIndex: propTypes.number.isRequired,\n  columnStopIndex: propTypes.number.isRequired,\n  rowOverscanStartIndex: propTypes.number.isRequired,\n  rowOverscanStopIndex: propTypes.number.isRequired,\n  rowStartIndex: propTypes.number.isRequired,\n  rowStopIndex: propTypes.number.isRequired\n};\nvar bpfrpt_proptype_OverscanIndicesGetterParams = process.env.NODE_ENV === 'production' ? null : {\n  // One of SCROLL_DIRECTION_HORIZONTAL or SCROLL_DIRECTION_VERTICAL\n  direction: propTypes.oneOf(['horizontal', 'vertical']).isRequired,\n  // One of SCROLL_DIRECTION_BACKWARD or SCROLL_DIRECTION_FORWARD\n  scrollDirection: propTypes.oneOf([-1, 1]).isRequired,\n  // Number of rows or columns in the current axis\n  cellCount: propTypes.number.isRequired,\n  // Maximum number of cells to over-render in either direction\n  overscanCellsCount: propTypes.number.isRequired,\n  // Begin of range of visible cells\n  startIndex: propTypes.number.isRequired,\n  // End of range of visible cells\n  stopIndex: propTypes.number.isRequired\n};\nvar bpfrpt_proptype_OverscanIndices = process.env.NODE_ENV === 'production' ? null : {\n  overscanStartIndex: propTypes.number.isRequired,\n  overscanStopIndex: propTypes.number.isRequired\n};\nvar bpfrpt_proptype_OverscanIndicesGetter = process.env.NODE_ENV === 'production' ? null : propTypes.func;\nvar bpfrpt_proptype_Alignment = process.env.NODE_ENV === 'production' ? null : propTypes.oneOf(['auto', 'end', 'start', 'center']);\nvar bpfrpt_proptype_VisibleCellRange = process.env.NODE_ENV === 'production' ? null : {\n  start: propTypes.number,\n  stop: propTypes.number\n};\n/**\n * Just-in-time calculates and caches size and position information for a collection of cells.\n */\n\nvar CellSizeAndPositionManager = function () {\n  // Measurements for cells up to this index can be trusted; cells afterward should be estimated.\n  function CellSizeAndPositionManager(_ref) {\n    var cellCount = _ref.cellCount,\n        cellSizeGetter = _ref.cellSizeGetter,\n        estimatedCellSize = _ref.estimatedCellSize;\n\n    _classCallCheck(this, CellSizeAndPositionManager);\n\n    this._lastMeasuredIndex = -1;\n    this._cellSizeGetter = cellSizeGetter;\n    this._cellCount = cellCount;\n    this._estimatedCellSize = estimatedCellSize;\n    this._layoutVector = new linearLayoutVector();\n\n    this._layoutVector.setLength(cellCount);\n\n    this._layoutVector.setDefaultSize(estimatedCellSize);\n  } // Cache of size and position data for cells, mapped by cell index.\n  // Note that invalid values may exist in this map so only rely on cells up to this._lastMeasuredIndex\n\n\n  _createClass(CellSizeAndPositionManager, [{\n    key: 'areOffsetsAdjusted',\n    value: function areOffsetsAdjusted() {\n      return false;\n    }\n  }, {\n    key: 'configure',\n    value: function configure(_ref2) {\n      var cellCount = _ref2.cellCount,\n          estimatedCellSize = _ref2.estimatedCellSize,\n          cellSizeGetter = _ref2.cellSizeGetter;\n      this._cellCount = cellCount;\n      this._estimatedCellSize = estimatedCellSize;\n      this._cellSizeGetter = cellSizeGetter;\n\n      this._layoutVector.setLength(cellCount);\n\n      this._layoutVector.setDefaultSize(estimatedCellSize);\n    }\n  }, {\n    key: 'getCellCount',\n    value: function getCellCount() {\n      return this._cellCount;\n    }\n  }, {\n    key: 'getEstimatedCellSize',\n    value: function getEstimatedCellSize() {\n      return this._estimatedCellSize;\n    }\n  }, {\n    key: 'getLastMeasuredIndex',\n    value: function getLastMeasuredIndex() {\n      return this._lastMeasuredIndex;\n    }\n  }, {\n    key: 'getOffsetAdjustment',\n    value: function getOffsetAdjustment() {\n      return 0;\n    }\n    /**\n     * This method returns the size and position for the cell at the specified index.\n     * It just-in-time calculates (or used cached values) for cells leading up to the index.\n     */\n\n  }, {\n    key: 'getSizeAndPositionOfCell',\n    value: function getSizeAndPositionOfCell(index) {\n      if (index < 0 || index >= this._cellCount) {\n        throw Error('Requested index ' + index + ' is outside of range 0..' + this._cellCount);\n      }\n\n      var vector = this._layoutVector;\n\n      if (index > this._lastMeasuredIndex) {\n        var token = {\n          index: this._lastMeasuredIndex + 1\n        };\n\n        for (var i = token.index; i <= index; token.index = ++i) {\n          var _size = this._cellSizeGetter(token); // undefined or NaN probably means a logic error in the size getter.\n          // null means we're using CellMeasurer and haven't yet measured a given index.\n\n\n          if (_size === undefined || _size !== _size) {\n            throw Error('Invalid size returned for cell ' + i + ' of value ' + _size);\n          } else if (_size !== null) {\n            vector.setItemSize(i, _size);\n          }\n        }\n\n        this._lastMeasuredIndex = Math.min(index, this._cellCount - 1);\n      }\n\n      return {\n        offset: vector.start(index),\n        size: vector.getItemSize(index)\n      };\n    }\n  }, {\n    key: 'getSizeAndPositionOfLastMeasuredCell',\n    value: function getSizeAndPositionOfLastMeasuredCell() {\n      var index = this._lastMeasuredIndex;\n\n      if (index <= 0) {\n        return {\n          offset: 0,\n          size: 0\n        };\n      }\n\n      var vector = this._layoutVector;\n      return {\n        offset: vector.start(index),\n        size: vector.getItemSize(index)\n      };\n    }\n    /**\n     * Total size of all cells being measured.\n     * This value will be completely estimated initially.\n     * As cells are measured, the estimate will be updated.\n     */\n\n  }, {\n    key: 'getTotalSize',\n    value: function getTotalSize() {\n      var lastIndex = this._cellCount - 1;\n      return lastIndex >= 0 ? this._layoutVector.end(lastIndex) : 0;\n    }\n    /**\n     * Determines a new offset that ensures a certain cell is visible, given the current offset.\n     * If the cell is already visible then the current offset will be returned.\n     * If the current offset is too great or small, it will be adjusted just enough to ensure the specified index is visible.\n     *\n     * @param align Desired alignment within container; one of \"auto\" (default), \"start\", or \"end\"\n     * @param containerSize Size (width or height) of the container viewport\n     * @param currentOffset Container's current (x or y) offset\n     * @param totalSize Total size (width or height) of all cells\n     * @return Offset to use to ensure the specified cell is visible\n     */\n\n  }, {\n    key: 'getUpdatedOffsetForIndex',\n    value: function getUpdatedOffsetForIndex(_ref3) {\n      var _ref3$align = _ref3.align,\n          align = _ref3$align === undefined ? 'auto' : _ref3$align,\n          containerSize = _ref3.containerSize,\n          currentOffset = _ref3.currentOffset,\n          targetIndex = _ref3.targetIndex;\n\n      if (containerSize <= 0) {\n        return 0;\n      }\n\n      var datum = this.getSizeAndPositionOfCell(targetIndex);\n      var maxOffset = datum.offset;\n      var minOffset = maxOffset - containerSize + datum.size;\n      var idealOffset = void 0;\n\n      switch (align) {\n        case 'start':\n          idealOffset = maxOffset;\n          break;\n\n        case 'end':\n          idealOffset = minOffset;\n          break;\n\n        case 'center':\n          idealOffset = maxOffset - (containerSize - datum.size) / 2;\n          break;\n\n        default:\n          idealOffset = Math.max(minOffset, Math.min(maxOffset, currentOffset));\n          break;\n      }\n\n      var totalSize = this.getTotalSize();\n      return Math.max(0, Math.min(totalSize - containerSize, idealOffset));\n    }\n  }, {\n    key: 'getVisibleCellRange',\n    value: function getVisibleCellRange(params) {\n      if (this.getTotalSize() === 0) {\n        return {};\n      }\n\n      var containerSize = params.containerSize,\n          offset = params.offset;\n      var maxOffset = offset + containerSize - 1;\n      return {\n        start: this._findNearestCell(offset),\n        stop: this._findNearestCell(maxOffset)\n      };\n    }\n    /**\n     * Clear all cached values for cells after the specified index.\n     * This method should be called for any cell that has changed its size.\n     * It will not immediately perform any calculations; they'll be performed the next time getSizeAndPositionOfCell() is called.\n     */\n\n  }, {\n    key: 'resetCell',\n    value: function resetCell(index) {\n      this._lastMeasuredIndex = Math.min(this._lastMeasuredIndex, index - 1);\n    }\n    /**\n     * Searches for the cell (index) nearest the specified offset.\n     *\n     * If no exact match is found the next lowest cell index will be returned.\n     * This allows partially visible cells (with offsets just before/above the fold) to be visible.\n     */\n\n  }, {\n    key: '_findNearestCell',\n    value: function _findNearestCell(offset) {\n      if (isNaN(offset)) {\n        throw Error('Invalid offset ' + offset + ' specified');\n      }\n\n      var vector = this._layoutVector;\n      var lastIndex = this._cellCount - 1; // Our search algorithms find the nearest match at or below the specified offset.\n      // So make sure the offset is at least 0 or no match will be found.\n\n      var targetOffset = Math.max(0, Math.min(offset, vector.start(lastIndex))); // First interrogate the constant-time lookup table\n\n      var nearestCellIndex = vector.indexOf(targetOffset); // If we haven't yet measured this high, compute sizes for each cell up to the desired offset.\n\n      while (nearestCellIndex > this._lastMeasuredIndex) {\n        // Measure all the cells up to the one we want to find presently.\n        // Do this before the last-index check to ensure the sparse array\n        // is fully populated.\n        this.getSizeAndPositionOfCell(nearestCellIndex); // No need to search and compare again if we're at the end.\n\n        if (nearestCellIndex === lastIndex) {\n          return nearestCellIndex;\n        }\n\n        nearestCellIndex = vector.indexOf(targetOffset); // Guard in case `getSizeAndPositionOfCell` didn't fully measure to\n        // the nearestCellIndex. This might happen scrolling quickly down\n        // and back up on large lists -- possible race with React or DOM?\n\n        if (nearestCellIndex === -1) {\n          nearestCellIndex = this._lastMeasuredIndex;\n          this._lastMeasuredIndex = nearestCellIndex - 1;\n          targetOffset = Math.max(0, Math.min(offset, vector.start(lastIndex)));\n        }\n      }\n\n      return nearestCellIndex;\n    }\n  }]);\n\n  return CellSizeAndPositionManager;\n}();\n\nvar DEFAULT_MAX_ELEMENT_SIZE = 1500000;\nvar CHROME_MAX_ELEMENT_SIZE = 1.67771e7;\n\nvar isBrowser$1 = function isBrowser() {\n  return typeof window !== 'undefined';\n};\n\nvar isChrome = function isChrome() {\n  return !!window.chrome && !!window.chrome.webstore;\n};\n\nvar getMaxElementSize = function getMaxElementSize() {\n  if (isBrowser$1()) {\n    if (isChrome()) {\n      return CHROME_MAX_ELEMENT_SIZE;\n    }\n  }\n\n  return DEFAULT_MAX_ELEMENT_SIZE;\n};\n/**\n * Browsers have scroll offset limitations (eg Chrome stops scrolling at ~33.5M pixels where as Edge tops out at ~1.5M pixels).\n * After a certain position, the browser won't allow the user to scroll further (even via JavaScript scroll offset adjustments).\n * This util picks a lower ceiling for max size and artificially adjusts positions within to make it transparent for users.\n */\n\n/**\n * Extends CellSizeAndPositionManager and adds scaling behavior for lists that are too large to fit within a browser's native limits.\n */\n\n\nvar ScalingCellSizeAndPositionManager = function () {\n  function ScalingCellSizeAndPositionManager(_ref) {\n    var _ref$maxScrollSize = _ref.maxScrollSize,\n        maxScrollSize = _ref$maxScrollSize === undefined ? getMaxElementSize() : _ref$maxScrollSize,\n        params = _objectWithoutProperties$6(_ref, ['maxScrollSize']);\n\n    _classCallCheck(this, ScalingCellSizeAndPositionManager); // Favor composition over inheritance to simplify IE10 support\n\n\n    this._cellSizeAndPositionManager = new CellSizeAndPositionManager(params);\n    this._maxScrollSize = maxScrollSize;\n  }\n\n  _createClass(ScalingCellSizeAndPositionManager, [{\n    key: 'areOffsetsAdjusted',\n    value: function areOffsetsAdjusted() {\n      return this._cellSizeAndPositionManager.getTotalSize() > this._maxScrollSize;\n    }\n  }, {\n    key: 'configure',\n    value: function configure(params) {\n      this._cellSizeAndPositionManager.configure(params);\n    }\n  }, {\n    key: 'getCellCount',\n    value: function getCellCount() {\n      return this._cellSizeAndPositionManager.getCellCount();\n    }\n  }, {\n    key: 'getEstimatedCellSize',\n    value: function getEstimatedCellSize() {\n      return this._cellSizeAndPositionManager.getEstimatedCellSize();\n    }\n  }, {\n    key: 'getLastMeasuredIndex',\n    value: function getLastMeasuredIndex() {\n      return this._cellSizeAndPositionManager.getLastMeasuredIndex();\n    }\n    /**\n     * Number of pixels a cell at the given position (offset) should be shifted in order to fit within the scaled container.\n     * The offset passed to this function is scaled (safe) as well.\n     */\n\n  }, {\n    key: 'getOffsetAdjustment',\n    value: function getOffsetAdjustment(_ref2) {\n      var containerSize = _ref2.containerSize,\n          offset = _ref2.offset;\n\n      var totalSize = this._cellSizeAndPositionManager.getTotalSize();\n\n      var safeTotalSize = this.getTotalSize();\n\n      var offsetPercentage = this._getOffsetPercentage({\n        containerSize: containerSize,\n        offset: offset,\n        totalSize: safeTotalSize\n      });\n\n      return Math.round(offsetPercentage * (safeTotalSize - totalSize));\n    }\n  }, {\n    key: 'getSizeAndPositionOfCell',\n    value: function getSizeAndPositionOfCell(index) {\n      return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(index);\n    }\n  }, {\n    key: 'getSizeAndPositionOfLastMeasuredCell',\n    value: function getSizeAndPositionOfLastMeasuredCell() {\n      return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell();\n    }\n    /** See CellSizeAndPositionManager#getTotalSize */\n\n  }, {\n    key: 'getTotalSize',\n    value: function getTotalSize() {\n      return Math.min(this._maxScrollSize, this._cellSizeAndPositionManager.getTotalSize());\n    }\n    /** See CellSizeAndPositionManager#getUpdatedOffsetForIndex */\n\n  }, {\n    key: 'getUpdatedOffsetForIndex',\n    value: function getUpdatedOffsetForIndex(_ref3) {\n      var _ref3$align = _ref3.align,\n          align = _ref3$align === undefined ? 'auto' : _ref3$align,\n          containerSize = _ref3.containerSize,\n          currentOffset = _ref3.currentOffset,\n          targetIndex = _ref3.targetIndex;\n      currentOffset = this._safeOffsetToOffset({\n        containerSize: containerSize,\n        offset: currentOffset\n      });\n\n      var offset = this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({\n        align: align,\n        containerSize: containerSize,\n        currentOffset: currentOffset,\n        targetIndex: targetIndex\n      });\n\n      return this._offsetToSafeOffset({\n        containerSize: containerSize,\n        offset: offset\n      });\n    }\n    /** See CellSizeAndPositionManager#getVisibleCellRange */\n\n  }, {\n    key: 'getVisibleCellRange',\n    value: function getVisibleCellRange(_ref4) {\n      var containerSize = _ref4.containerSize,\n          offset = _ref4.offset;\n      offset = this._safeOffsetToOffset({\n        containerSize: containerSize,\n        offset: offset\n      });\n      return this._cellSizeAndPositionManager.getVisibleCellRange({\n        containerSize: containerSize,\n        offset: offset\n      });\n    }\n  }, {\n    key: 'resetCell',\n    value: function resetCell(index) {\n      this._cellSizeAndPositionManager.resetCell(index);\n    }\n  }, {\n    key: '_getOffsetPercentage',\n    value: function _getOffsetPercentage(_ref5) {\n      var containerSize = _ref5.containerSize,\n          offset = _ref5.offset,\n          totalSize = _ref5.totalSize;\n      return totalSize <= containerSize ? 0 : offset / (totalSize - containerSize);\n    }\n  }, {\n    key: '_offsetToSafeOffset',\n    value: function _offsetToSafeOffset(_ref6) {\n      var containerSize = _ref6.containerSize,\n          offset = _ref6.offset;\n\n      var totalSize = this._cellSizeAndPositionManager.getTotalSize();\n\n      var safeTotalSize = this.getTotalSize();\n\n      if (totalSize === safeTotalSize) {\n        return offset;\n      } else {\n        var offsetPercentage = this._getOffsetPercentage({\n          containerSize: containerSize,\n          offset: offset,\n          totalSize: totalSize\n        });\n\n        return Math.round(offsetPercentage * (safeTotalSize - containerSize));\n      }\n    }\n  }, {\n    key: '_safeOffsetToOffset',\n    value: function _safeOffsetToOffset(_ref7) {\n      var containerSize = _ref7.containerSize,\n          offset = _ref7.offset;\n\n      var totalSize = this._cellSizeAndPositionManager.getTotalSize();\n\n      var safeTotalSize = this.getTotalSize();\n\n      if (totalSize === safeTotalSize) {\n        return offset;\n      } else {\n        var offsetPercentage = this._getOffsetPercentage({\n          containerSize: containerSize,\n          offset: offset,\n          totalSize: safeTotalSize\n        });\n\n        return Math.round(offsetPercentage * (totalSize - containerSize));\n      }\n    }\n  }]);\n\n  return ScalingCellSizeAndPositionManager;\n}(); // 19.1.2.14 Object.keys(O)\n\n\n_objectSap('keys', function () {\n  return function keys(it) {\n    return _objectKeys(_toObject(it));\n  };\n});\n\nvar keys$1 = _core.Object.keys;\nvar keys$2 = createCommonjsModule(function (module) {\n  module.exports = {\n    \"default\": keys$1,\n    __esModule: true\n  };\n});\n\nvar _Object$keys = unwrapExports(keys$2);\n/**\n * Helper utility that updates the specified callback whenever any of the specified indices have changed.\n */\n\n\nfunction createCallbackMemoizer() {\n  var requireAllKeys = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n  var cachedIndices = {};\n  return function (_ref) {\n    var callback = _ref.callback,\n        indices = _ref.indices;\n\n    var keys = _Object$keys(indices);\n\n    var allInitialized = !requireAllKeys || keys.every(function (key) {\n      var value = indices[key];\n      return Array.isArray(value) ? value.length > 0 : value >= 0;\n    });\n    var indexChanged = keys.length !== _Object$keys(cachedIndices).length || keys.some(function (key) {\n      var cachedValue = cachedIndices[key];\n      var value = indices[key];\n      return Array.isArray(value) ? cachedValue.join(',') !== value.join(',') : cachedValue !== value;\n    });\n    cachedIndices = indices;\n\n    if (allInitialized && indexChanged) {\n      callback(indices);\n    }\n  };\n}\n\nvar SCROLL_DIRECTION_BACKWARD = -1;\nvar SCROLL_DIRECTION_FORWARD = 1;\n/**\n * Calculates the number of cells to overscan before and after a specified range.\n * This function ensures that overscanning doesn't exceed the available cells.\n */\n\nfunction defaultOverscanIndicesGetter(_ref) {\n  var cellCount = _ref.cellCount,\n      overscanCellsCount = _ref.overscanCellsCount,\n      scrollDirection = _ref.scrollDirection,\n      startIndex = _ref.startIndex,\n      stopIndex = _ref.stopIndex;\n\n  if (scrollDirection === SCROLL_DIRECTION_FORWARD) {\n    return {\n      overscanStartIndex: Math.max(0, startIndex),\n      overscanStopIndex: Math.min(cellCount - 1, stopIndex + overscanCellsCount)\n    };\n  } else {\n    return {\n      overscanStartIndex: Math.max(0, startIndex - overscanCellsCount),\n      overscanStopIndex: Math.min(cellCount - 1, stopIndex)\n    };\n  }\n}\n/**\n * Helper function that determines when to update scroll offsets to ensure that a scroll-to-index remains visible.\n * This function also ensures that the scroll ofset isn't past the last column/row of cells.\n */\n\n\nfunction updateScrollIndexHelper(_ref) {\n  var cellSize = _ref.cellSize,\n      cellSizeAndPositionManager = _ref.cellSizeAndPositionManager,\n      previousCellsCount = _ref.previousCellsCount,\n      previousCellSize = _ref.previousCellSize,\n      previousScrollToAlignment = _ref.previousScrollToAlignment,\n      previousScrollToIndex = _ref.previousScrollToIndex,\n      previousSize = _ref.previousSize,\n      scrollOffset = _ref.scrollOffset,\n      scrollToAlignment = _ref.scrollToAlignment,\n      scrollToIndex = _ref.scrollToIndex,\n      size = _ref.size,\n      sizeJustIncreasedFromZero = _ref.sizeJustIncreasedFromZero,\n      updateScrollIndexCallback = _ref.updateScrollIndexCallback;\n  var cellCount = cellSizeAndPositionManager.getCellCount();\n  var hasScrollToIndex = scrollToIndex >= 0 && scrollToIndex < cellCount;\n  var sizeHasChanged = size !== previousSize || sizeJustIncreasedFromZero || !previousCellSize || typeof cellSize === 'number' && cellSize !== previousCellSize; // If we have a new scroll target OR if height/row-height has changed,\n  // We should ensure that the scroll target is visible.\n\n  if (hasScrollToIndex && (sizeHasChanged || scrollToAlignment !== previousScrollToAlignment || scrollToIndex !== previousScrollToIndex)) {\n    updateScrollIndexCallback(scrollToIndex); // If we don't have a selected item but list size or number of children have decreased,\n    // Make sure we aren't scrolled too far past the current content.\n  } else if (!hasScrollToIndex && cellCount > 0 && (size < previousSize || cellCount < previousCellsCount)) {\n    // We need to ensure that the current scroll offset is still within the collection's range.\n    // To do this, we don't need to measure everything; CellMeasurer would perform poorly.\n    // Just check to make sure we're still okay.\n    // Only adjust the scroll position if we've scrolled below the last set of rows.\n    if (scrollOffset > cellSizeAndPositionManager.getTotalSize() - size) {\n      updateScrollIndexCallback(cellCount - 1);\n    }\n  }\n}\n/**\n * Default implementation of cellRangeRenderer used by Grid.\n * This renderer supports cell-caching while the user is scrolling.\n */\n\n\nfunction defaultCellRangeRenderer(_ref) {\n  var cellCache = _ref.cellCache,\n      cellRenderer = _ref.cellRenderer,\n      columnSizeAndPositionManager = _ref.columnSizeAndPositionManager,\n      columnStartIndex = _ref.columnStartIndex,\n      columnStopIndex = _ref.columnStopIndex,\n      deferredMeasurementCache = _ref.deferredMeasurementCache,\n      horizontalOffsetAdjustment = _ref.horizontalOffsetAdjustment,\n      isScrolling = _ref.isScrolling,\n      isScrollingOptOut = _ref.isScrollingOptOut,\n      parent = _ref.parent,\n      rowSizeAndPositionManager = _ref.rowSizeAndPositionManager,\n      rowStartIndex = _ref.rowStartIndex,\n      rowStopIndex = _ref.rowStopIndex,\n      styleCache = _ref.styleCache,\n      verticalOffsetAdjustment = _ref.verticalOffsetAdjustment,\n      visibleColumnIndices = _ref.visibleColumnIndices,\n      visibleRowIndices = _ref.visibleRowIndices;\n  var renderedCells = []; // Browsers have native size limits for elements (eg Chrome 33M pixels, IE 1.5M pixes).\n  // User cannot scroll beyond these size limitations.\n  // In order to work around this, ScalingCellSizeAndPositionManager compresses offsets.\n  // We should never cache styles for compressed offsets though as this can lead to bugs.\n  // See issue #576 for more.\n\n  var areOffsetsAdjusted = columnSizeAndPositionManager.areOffsetsAdjusted() || rowSizeAndPositionManager.areOffsetsAdjusted();\n  var canCacheStyle = !isScrolling && !areOffsetsAdjusted;\n\n  for (var rowIndex = rowStartIndex; rowIndex <= rowStopIndex; rowIndex++) {\n    var rowDatum = rowSizeAndPositionManager.getSizeAndPositionOfCell(rowIndex);\n\n    for (var columnIndex = columnStartIndex; columnIndex <= columnStopIndex; columnIndex++) {\n      var columnDatum = columnSizeAndPositionManager.getSizeAndPositionOfCell(columnIndex);\n      var isVisible = columnIndex >= visibleColumnIndices.start && columnIndex <= visibleColumnIndices.stop && rowIndex >= visibleRowIndices.start && rowIndex <= visibleRowIndices.stop;\n      var key = rowIndex + '-' + columnIndex;\n      var style = void 0; // Cache style objects so shallow-compare doesn't re-render unnecessarily.\n\n      if (canCacheStyle && styleCache[key]) {\n        style = styleCache[key];\n      } else {\n        // In deferred mode, cells will be initially rendered before we know their size.\n        // Don't interfere with CellMeasurer's measurements by setting an invalid size.\n        if (deferredMeasurementCache && !deferredMeasurementCache.has(rowIndex, columnIndex)) {\n          // Position not-yet-measured cells at top/left 0,0,\n          // And give them width/height of 'auto' so they can grow larger than the parent Grid if necessary.\n          // Positioning them further to the right/bottom influences their measured size.\n          style = {\n            height: 'auto',\n            left: 0,\n            position: 'absolute',\n            top: 0,\n            width: 'auto'\n          };\n        } else {\n          style = {\n            height: rowDatum.size,\n            left: columnDatum.offset + horizontalOffsetAdjustment,\n            position: 'absolute',\n            top: rowDatum.offset + verticalOffsetAdjustment,\n            width: columnDatum.size\n          };\n          styleCache[key] = style;\n        }\n      }\n\n      var cellRendererParams = {\n        columnIndex: columnIndex,\n        isScrolling: isScrolling,\n        isVisible: isVisible,\n        key: key,\n        parent: parent,\n        rowIndex: rowIndex,\n        style: style\n      };\n      var renderedCell = void 0; // Avoid re-creating cells while scrolling.\n      // This can lead to the same cell being created many times and can cause performance issues for \"heavy\" cells.\n      // If a scroll is in progress- cache and reuse cells.\n      // This cache will be thrown away once scrolling completes.\n      // However if we are scaling scroll positions and sizes, we should also avoid caching.\n      // This is because the offset changes slightly as scroll position changes and caching leads to stale values.\n      // For more info refer to issue #395\n      //\n      // If isScrollingOptOut is specified, we always cache cells.\n      // For more info refer to issue #1028\n\n      if ((isScrollingOptOut || isScrolling) && !horizontalOffsetAdjustment && !verticalOffsetAdjustment) {\n        if (!cellCache[key]) {\n          cellCache[key] = cellRenderer(cellRendererParams);\n        }\n\n        renderedCell = cellCache[key]; // If the user is no longer scrolling, don't cache cells.\n        // This makes dynamic cell content difficult for users and would also lead to a heavier memory footprint.\n      } else {\n        renderedCell = cellRenderer(cellRendererParams);\n      }\n\n      if (renderedCell == null || renderedCell === false) {\n        continue;\n      }\n\n      if (process.env.NODE_ENV !== 'production') {\n        warnAboutMissingStyle(parent, renderedCell);\n      }\n\n      renderedCells.push(renderedCell);\n    }\n  }\n\n  return renderedCells;\n}\n\nfunction warnAboutMissingStyle(parent, renderedCell) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (renderedCell) {\n      // If the direct child is a CellMeasurer, then we should check its child\n      // See issue #611\n      if (renderedCell.type && renderedCell.type.__internalCellMeasurerFlag) {\n        renderedCell = renderedCell.props.children;\n      }\n\n      if (renderedCell && renderedCell.props && renderedCell.props.style === undefined && parent.__warnedAboutMissingStyle !== true) {\n        parent.__warnedAboutMissingStyle = true;\n        console.warn('Rendered cell should include style property for positioning.');\n      }\n    }\n  }\n}\n\nvar interopRequireDefault = createCommonjsModule(function (module) {\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      \"default\": obj\n    };\n  }\n\n  module.exports = _interopRequireDefault;\n});\nunwrapExports(interopRequireDefault);\nvar inDOM = createCommonjsModule(function (module, exports) {\n  exports.__esModule = true;\n  exports.default = void 0;\n\n  var _default = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\n\n  exports.default = _default;\n  module.exports = exports[\"default\"];\n});\nunwrapExports(inDOM);\nvar scrollbarSize_1 = createCommonjsModule(function (module, exports) {\n  exports.__esModule = true;\n  exports.default = scrollbarSize;\n\n  var _inDOM = interopRequireDefault(inDOM);\n\n  var size;\n\n  function scrollbarSize(recalc) {\n    if (!size && size !== 0 || recalc) {\n      if (_inDOM.default) {\n        var scrollDiv = document.createElement('div');\n        scrollDiv.style.position = 'absolute';\n        scrollDiv.style.top = '-9999px';\n        scrollDiv.style.width = '50px';\n        scrollDiv.style.height = '50px';\n        scrollDiv.style.overflow = 'scroll';\n        document.body.appendChild(scrollDiv);\n        size = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n        document.body.removeChild(scrollDiv);\n      }\n    }\n\n    return size;\n  }\n\n  module.exports = exports[\"default\"];\n});\nvar scrollbarSize = unwrapExports(scrollbarSize_1);\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nfunction componentWillMount() {\n  // Call this.constructor.gDSFP to support sub-classes.\n  var state = this.constructor.getDerivedStateFromProps(this.props, this.state);\n\n  if (state !== null && state !== undefined) {\n    this.setState(state);\n  }\n}\n\nfunction componentWillReceiveProps(nextProps) {\n  // Call this.constructor.gDSFP to support sub-classes.\n  // Use the setState() updater to ensure state isn't stale in certain edge cases.\n  function updater(prevState) {\n    var state = this.constructor.getDerivedStateFromProps(nextProps, prevState);\n    return state !== null && state !== undefined ? state : null;\n  } // Binding \"this\" is important for shallow renderer support.\n\n\n  this.setState(updater.bind(this));\n}\n\nfunction componentWillUpdate(nextProps, nextState) {\n  try {\n    var prevProps = this.props;\n    var prevState = this.state;\n    this.props = nextProps;\n    this.state = nextState;\n    this.__reactInternalSnapshotFlag = true;\n    this.__reactInternalSnapshot = this.getSnapshotBeforeUpdate(prevProps, prevState);\n  } finally {\n    this.props = prevProps;\n    this.state = prevState;\n  }\n} // React may warn about cWM/cWRP/cWU methods being deprecated.\n// Add a flag to suppress these warnings for this special case.\n\n\ncomponentWillMount.__suppressDeprecationWarning = true;\ncomponentWillReceiveProps.__suppressDeprecationWarning = true;\ncomponentWillUpdate.__suppressDeprecationWarning = true;\n\nfunction polyfill(Component) {\n  var prototype = Component.prototype;\n\n  if (!prototype || !prototype.isReactComponent) {\n    throw new Error('Can only polyfill class components');\n  }\n\n  if (typeof Component.getDerivedStateFromProps !== 'function' && typeof prototype.getSnapshotBeforeUpdate !== 'function') {\n    return Component;\n  } // If new component APIs are defined, \"unsafe\" lifecycles won't be called.\n  // Error if any of these lifecycles are present,\n  // Because they would work differently between older and newer (16.3+) versions of React.\n\n\n  var foundWillMountName = null;\n  var foundWillReceivePropsName = null;\n  var foundWillUpdateName = null;\n\n  if (typeof prototype.componentWillMount === 'function') {\n    foundWillMountName = 'componentWillMount';\n  } else if (typeof prototype.UNSAFE_componentWillMount === 'function') {\n    foundWillMountName = 'UNSAFE_componentWillMount';\n  }\n\n  if (typeof prototype.componentWillReceiveProps === 'function') {\n    foundWillReceivePropsName = 'componentWillReceiveProps';\n  } else if (typeof prototype.UNSAFE_componentWillReceiveProps === 'function') {\n    foundWillReceivePropsName = 'UNSAFE_componentWillReceiveProps';\n  }\n\n  if (typeof prototype.componentWillUpdate === 'function') {\n    foundWillUpdateName = 'componentWillUpdate';\n  } else if (typeof prototype.UNSAFE_componentWillUpdate === 'function') {\n    foundWillUpdateName = 'UNSAFE_componentWillUpdate';\n  }\n\n  if (foundWillMountName !== null || foundWillReceivePropsName !== null || foundWillUpdateName !== null) {\n    var componentName = Component.displayName || Component.name;\n    var newApiName = typeof Component.getDerivedStateFromProps === 'function' ? 'getDerivedStateFromProps()' : 'getSnapshotBeforeUpdate()';\n    throw Error('Unsafe legacy lifecycles will not be called for components using new component APIs.\\n\\n' + componentName + ' uses ' + newApiName + ' but also contains the following legacy lifecycles:' + (foundWillMountName !== null ? '\\n  ' + foundWillMountName : '') + (foundWillReceivePropsName !== null ? '\\n  ' + foundWillReceivePropsName : '') + (foundWillUpdateName !== null ? '\\n  ' + foundWillUpdateName : '') + '\\n\\nThe above lifecycles should be removed. Learn more about this warning here:\\n' + 'https://fb.me/react-async-component-lifecycle-hooks');\n  } // React <= 16.2 does not support static getDerivedStateFromProps.\n  // As a workaround, use cWM and cWRP to invoke the new static lifecycle.\n  // Newer versions of React will ignore these lifecycles if gDSFP exists.\n\n\n  if (typeof Component.getDerivedStateFromProps === 'function') {\n    prototype.componentWillMount = componentWillMount;\n    prototype.componentWillReceiveProps = componentWillReceiveProps;\n  } // React <= 16.2 does not support getSnapshotBeforeUpdate.\n  // As a workaround, use cWU to invoke the new lifecycle.\n  // Newer versions of React will ignore that lifecycle if gSBU exists.\n\n\n  if (typeof prototype.getSnapshotBeforeUpdate === 'function') {\n    if (typeof prototype.componentDidUpdate !== 'function') {\n      throw new Error('Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype');\n    }\n\n    prototype.componentWillUpdate = componentWillUpdate;\n    var componentDidUpdate = prototype.componentDidUpdate;\n\n    prototype.componentDidUpdate = function componentDidUpdatePolyfill(prevProps, prevState, maybeSnapshot) {\n      // 16.3+ will not execute our will-update method;\n      // It will pass a snapshot value to did-update though.\n      // Older versions will require our polyfilled will-update value.\n      // We need to handle both cases, but can't just check for the presence of \"maybeSnapshot\",\n      // Because for <= 15.x versions this might be a \"prevContext\" object.\n      // We also can't just check \"__reactInternalSnapshot\",\n      // Because get-snapshot might return a falsy value.\n      // So check for the explicit __reactInternalSnapshotFlag flag to determine behavior.\n      var snapshot = this.__reactInternalSnapshotFlag ? this.__reactInternalSnapshot : maybeSnapshot;\n      componentDidUpdate.call(this, prevProps, prevState, snapshot);\n    };\n  }\n\n  return Component;\n} // getting tag from 19.1.3.6 Object.prototype.toString()\n\n\nvar TAG$1 = _wks('toStringTag'); // ES3 wrong here\n\n\nvar ARG = _cof(function () {\n  return arguments;\n}()) == 'Arguments'; // fallback for IE11 Script Access Denied error\n\nvar tryGet = function tryGet(it, key) {\n  try {\n    return it[key];\n  } catch (e) {\n    /* empty */\n  }\n};\n\nvar _classof = function _classof(it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null' // @@toStringTag case\n  : typeof (T = tryGet(O = Object(it), TAG$1)) == 'string' ? T // builtinTag case\n  : ARG ? _cof(O) // ES3 arguments fallback\n  : (B = _cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n\nvar _anInstance = function _anInstance(it, Constructor, name, forbiddenField) {\n  if (!(it instanceof Constructor) || forbiddenField !== undefined && forbiddenField in it) {\n    throw TypeError(name + ': incorrect invocation!');\n  }\n\n  return it;\n}; // call something on iterator step with safe closing on error\n\n\nvar _iterCall = function _iterCall(iterator, fn, value, entries) {\n  try {\n    return entries ? fn(_anObject(value)[0], value[1]) : fn(value); // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) _anObject(ret.call(iterator));\n    throw e;\n  }\n}; // check on default Array iterator\n\n\nvar ITERATOR$1 = _wks('iterator');\n\nvar ArrayProto = Array.prototype;\n\nvar _isArrayIter = function _isArrayIter(it) {\n  return it !== undefined && (_iterators.Array === it || ArrayProto[ITERATOR$1] === it);\n};\n\nvar ITERATOR$2 = _wks('iterator');\n\nvar core_getIteratorMethod = _core.getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR$2] || it['@@iterator'] || _iterators[_classof(it)];\n};\n\nvar _forOf = createCommonjsModule(function (module) {\n  var BREAK = {};\n  var RETURN = {};\n\n  var exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {\n    var iterFn = ITERATOR ? function () {\n      return iterable;\n    } : core_getIteratorMethod(iterable);\n\n    var f = _ctx(fn, that, entries ? 2 : 1);\n\n    var index = 0;\n    var length, step, iterator, result;\n    if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!'); // fast case for arrays with default iterator\n\n    if (_isArrayIter(iterFn)) for (length = _toLength(iterable.length); length > index; index++) {\n      result = entries ? f(_anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n      if (result === BREAK || result === RETURN) return result;\n    } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {\n      result = _iterCall(iterator, f, step.value, entries);\n      if (result === BREAK || result === RETURN) return result;\n    }\n  };\n\n  exports.BREAK = BREAK;\n  exports.RETURN = RETURN;\n}); // 7.3.20 SpeciesConstructor(O, defaultConstructor)\n\n\nvar SPECIES = _wks('species');\n\nvar _speciesConstructor = function _speciesConstructor(O, D) {\n  var C = _anObject(O).constructor;\n\n  var S;\n  return C === undefined || (S = _anObject(C)[SPECIES]) == undefined ? D : _aFunction(S);\n}; // fast apply, http://jsperf.lnkit.com/fast-apply/5\n\n\nvar _invoke = function _invoke(fn, args, that) {\n  var un = that === undefined;\n\n  switch (args.length) {\n    case 0:\n      return un ? fn() : fn.call(that);\n\n    case 1:\n      return un ? fn(args[0]) : fn.call(that, args[0]);\n\n    case 2:\n      return un ? fn(args[0], args[1]) : fn.call(that, args[0], args[1]);\n\n    case 3:\n      return un ? fn(args[0], args[1], args[2]) : fn.call(that, args[0], args[1], args[2]);\n\n    case 4:\n      return un ? fn(args[0], args[1], args[2], args[3]) : fn.call(that, args[0], args[1], args[2], args[3]);\n  }\n\n  return fn.apply(that, args);\n};\n\nvar process$1 = _global.process;\nvar setTask = _global.setImmediate;\nvar clearTask = _global.clearImmediate;\nvar MessageChannel = _global.MessageChannel;\nvar Dispatch = _global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\n\nvar run = function run() {\n  var id = +this; // eslint-disable-next-line no-prototype-builtins\n\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\n\nvar listener = function listener(event) {\n  run.call(event.data);\n}; // Node.js 0.9+ & IE10+ has setImmediate, otherwise:\n\n\nif (!setTask || !clearTask) {\n  setTask = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n\n    while (arguments.length > i) {\n      args.push(arguments[i++]);\n    }\n\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      _invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n\n    defer(counter);\n    return counter;\n  };\n\n  clearTask = function clearImmediate(id) {\n    delete queue[id];\n  }; // Node.js 0.8-\n\n\n  if (_cof(process$1) == 'process') {\n    defer = function defer(id) {\n      process$1.nextTick(_ctx(run, id, 1));\n    }; // Sphere (JS game engine) Dispatch API\n\n  } else if (Dispatch && Dispatch.now) {\n    defer = function defer(id) {\n      Dispatch.now(_ctx(run, id, 1));\n    }; // Browsers with MessageChannel, includes WebWorkers\n\n  } else if (MessageChannel) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = _ctx(port.postMessage, port, 1); // Browsers with postMessage, skip WebWorkers\n    // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (_global.addEventListener && typeof postMessage == 'function' && !_global.importScripts) {\n    defer = function defer(id) {\n      _global.postMessage(id + '', '*');\n    };\n\n    _global.addEventListener('message', listener, false); // IE8-\n\n  } else if (ONREADYSTATECHANGE in _domCreate('script')) {\n    defer = function defer(id) {\n      _html.appendChild(_domCreate('script'))[ONREADYSTATECHANGE] = function () {\n        _html.removeChild(this);\n\n        run.call(id);\n      };\n    }; // Rest old browsers\n\n  } else {\n    defer = function defer(id) {\n      setTimeout(_ctx(run, id, 1), 0);\n    };\n  }\n}\n\nvar _task = {\n  set: setTask,\n  clear: clearTask\n};\nvar macrotask = _task.set;\nvar Observer = _global.MutationObserver || _global.WebKitMutationObserver;\nvar process$2 = _global.process;\nvar Promise$2 = _global.Promise;\nvar isNode = _cof(process$2) == 'process';\n\nvar _microtask = function _microtask() {\n  var head, last, notify;\n\n  var flush = function flush() {\n    var parent, fn;\n    if (isNode && (parent = process$2.domain)) parent.exit();\n\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n\n      try {\n        fn();\n      } catch (e) {\n        if (head) notify();else last = undefined;\n        throw e;\n      }\n    }\n\n    last = undefined;\n    if (parent) parent.enter();\n  }; // Node.js\n\n\n  if (isNode) {\n    notify = function notify() {\n      process$2.nextTick(flush);\n    }; // browsers with MutationObserver, except iOS Safari - https://github.com/zloirock/core-js/issues/339\n\n  } else if (Observer && !(_global.navigator && _global.navigator.standalone)) {\n    var toggle = true;\n    var node = document.createTextNode('');\n    new Observer(flush).observe(node, {\n      characterData: true\n    }); // eslint-disable-line no-new\n\n    notify = function notify() {\n      node.data = toggle = !toggle;\n    }; // environments with maybe non-completely correct, but existent Promise\n\n  } else if (Promise$2 && Promise$2.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    var promise = Promise$2.resolve(undefined);\n\n    notify = function notify() {\n      promise.then(flush);\n    }; // for other environments - macrotask based on:\n    // - setImmediate\n    // - MessageChannel\n    // - window.postMessag\n    // - onreadystatechange\n    // - setTimeout\n\n  } else {\n    notify = function notify() {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(_global, flush);\n    };\n  }\n\n  return function (fn) {\n    var task = {\n      fn: fn,\n      next: undefined\n    };\n    if (last) last.next = task;\n\n    if (!head) {\n      head = task;\n      notify();\n    }\n\n    last = task;\n  };\n}; // 25.4.1.5 NewPromiseCapability(C)\n\n\nfunction PromiseCapability(C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = _aFunction(resolve);\n  this.reject = _aFunction(reject);\n}\n\nvar f$8 = function f$8(C) {\n  return new PromiseCapability(C);\n};\n\nvar _newPromiseCapability = {\n  f: f$8\n};\n\nvar _perform = function _perform(exec) {\n  try {\n    return {\n      e: false,\n      v: exec()\n    };\n  } catch (e) {\n    return {\n      e: true,\n      v: e\n    };\n  }\n};\n\nvar navigator = _global.navigator;\n\nvar _userAgent = navigator && navigator.userAgent || '';\n\nvar _promiseResolve = function _promiseResolve(C, x) {\n  _anObject(C);\n\n  if (_isObject(x) && x.constructor === C) return x;\n\n  var promiseCapability = _newPromiseCapability.f(C);\n\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n\nvar _redefineAll = function _redefineAll(target, src, safe) {\n  for (var key in src) {\n    if (safe && target[key]) target[key] = src[key];else _hide(target, key, src[key]);\n  }\n\n  return target;\n};\n\nvar SPECIES$1 = _wks('species');\n\nvar _setSpecies = function _setSpecies(KEY) {\n  var C = typeof _core[KEY] == 'function' ? _core[KEY] : _global[KEY];\n  if (_descriptors && C && !C[SPECIES$1]) _objectDp.f(C, SPECIES$1, {\n    configurable: true,\n    get: function get() {\n      return this;\n    }\n  });\n};\n\nvar ITERATOR$3 = _wks('iterator');\n\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR$3]();\n\n  riter['return'] = function () {\n    SAFE_CLOSING = true;\n  }; // eslint-disable-next-line no-throw-literal\n\n\n  Array.from(riter, function () {\n    throw 2;\n  });\n} catch (e) {\n  /* empty */\n}\n\nvar _iterDetect = function _iterDetect(exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR$3]();\n\n    iter.next = function () {\n      return {\n        done: safe = true\n      };\n    };\n\n    arr[ITERATOR$3] = function () {\n      return iter;\n    };\n\n    exec(arr);\n  } catch (e) {\n    /* empty */\n  }\n\n  return safe;\n};\n\nvar task = _task.set;\n\nvar microtask = _microtask();\n\nvar PROMISE = 'Promise';\nvar TypeError$1 = _global.TypeError;\nvar process$3 = _global.process;\nvar versions = process$3 && process$3.versions;\nvar v8 = versions && versions.v8 || '';\nvar $Promise = _global[PROMISE];\nvar isNode$1 = _classof(process$3) == 'process';\n\nvar empty = function empty() {\n  /* empty */\n};\n\nvar Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;\nvar newPromiseCapability = newGenericPromiseCapability = _newPromiseCapability.f;\nvar USE_NATIVE$1 = !!function () {\n  try {\n    // correct subclassing with @@species support\n    var promise = $Promise.resolve(1);\n\n    var FakePromise = (promise.constructor = {})[_wks('species')] = function (exec) {\n      exec(empty, empty);\n    }; // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n\n\n    return (isNode$1 || typeof PromiseRejectionEvent == 'function') && promise.then(empty) instanceof FakePromise // v8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n    // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n    // we can't detect it synchronously, so just check versions\n    && v8.indexOf('6.6') !== 0 && _userAgent.indexOf('Chrome/66') === -1;\n  } catch (e) {\n    /* empty */\n  }\n}(); // helpers\n\nvar isThenable = function isThenable(it) {\n  var then;\n  return _isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\n\nvar notify = function notify(promise, isReject) {\n  if (promise._n) return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function () {\n    var value = promise._v;\n    var ok = promise._s == 1;\n    var i = 0;\n\n    var run = function run(reaction) {\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n\n      try {\n        if (handler) {\n          if (!ok) {\n            if (promise._h == 2) onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n\n          if (handler === true) result = value;else {\n            if (domain) domain.enter();\n            result = handler(value); // may throw\n\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n\n          if (result === reaction.promise) {\n            reject(TypeError$1('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (e) {\n        if (domain && !exited) domain.exit();\n        reject(e);\n      }\n    };\n\n    while (chain.length > i) {\n      run(chain[i++]);\n    } // variable length - can't use forEach\n\n\n    promise._c = [];\n    promise._n = false;\n    if (isReject && !promise._h) onUnhandled(promise);\n  });\n};\n\nvar onUnhandled = function onUnhandled(promise) {\n  task.call(_global, function () {\n    var value = promise._v;\n    var unhandled = isUnhandled(promise);\n    var result, handler, console;\n\n    if (unhandled) {\n      result = _perform(function () {\n        if (isNode$1) {\n          process$3.emit('unhandledRejection', value, promise);\n        } else if (handler = _global.onunhandledrejection) {\n          handler({\n            promise: promise,\n            reason: value\n          });\n        } else if ((console = _global.console) && console.error) {\n          console.error('Unhandled promise rejection', value);\n        }\n      }); // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n\n      promise._h = isNode$1 || isUnhandled(promise) ? 2 : 1;\n    }\n\n    promise._a = undefined;\n    if (unhandled && result.e) throw result.v;\n  });\n};\n\nvar isUnhandled = function isUnhandled(promise) {\n  return promise._h !== 1 && (promise._a || promise._c).length === 0;\n};\n\nvar onHandleUnhandled = function onHandleUnhandled(promise) {\n  task.call(_global, function () {\n    var handler;\n\n    if (isNode$1) {\n      process$3.emit('rejectionHandled', promise);\n    } else if (handler = _global.onrejectionhandled) {\n      handler({\n        promise: promise,\n        reason: promise._v\n      });\n    }\n  });\n};\n\nvar $reject = function $reject(value) {\n  var promise = this;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n\n  promise._v = value;\n  promise._s = 2;\n  if (!promise._a) promise._a = promise._c.slice();\n  notify(promise, true);\n};\n\nvar $resolve = function $resolve(value) {\n  var promise = this;\n  var then;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n\n  try {\n    if (promise === value) throw TypeError$1(\"Promise can't be resolved itself\");\n\n    if (then = isThenable(value)) {\n      microtask(function () {\n        var wrapper = {\n          _w: promise,\n          _d: false\n        }; // wrap\n\n        try {\n          then.call(value, _ctx($resolve, wrapper, 1), _ctx($reject, wrapper, 1));\n        } catch (e) {\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch (e) {\n    $reject.call({\n      _w: promise,\n      _d: false\n    }, e); // wrap\n  }\n}; // constructor polyfill\n\n\nif (!USE_NATIVE$1) {\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor) {\n    _anInstance(this, $Promise, PROMISE, '_h');\n\n    _aFunction(executor);\n\n    Internal.call(this);\n\n    try {\n      executor(_ctx($resolve, this, 1), _ctx($reject, this, 1));\n    } catch (err) {\n      $reject.call(this, err);\n    }\n  }; // eslint-disable-next-line no-unused-vars\n\n\n  Internal = function Promise(executor) {\n    this._c = []; // <- awaiting reactions\n\n    this._a = undefined; // <- checked in isUnhandled reactions\n\n    this._s = 0; // <- state\n\n    this._d = false; // <- done\n\n    this._v = undefined; // <- value\n\n    this._h = 0; // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n\n    this._n = false; // <- notify\n  };\n\n  Internal.prototype = _redefineAll($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected) {\n      var reaction = newPromiseCapability(_speciesConstructor(this, $Promise));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode$1 ? process$3.domain : undefined;\n\n      this._c.push(reaction);\n\n      if (this._a) this._a.push(reaction);\n      if (this._s) notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function _catch(onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n\n  OwnPromiseCapability = function OwnPromiseCapability() {\n    var promise = new Internal();\n    this.promise = promise;\n    this.resolve = _ctx($resolve, promise, 1);\n    this.reject = _ctx($reject, promise, 1);\n  };\n\n  _newPromiseCapability.f = newPromiseCapability = function newPromiseCapability(C) {\n    return C === $Promise || C === Wrapper ? new OwnPromiseCapability(C) : newGenericPromiseCapability(C);\n  };\n}\n\n_export(_export.G + _export.W + _export.F * !USE_NATIVE$1, {\n  Promise: $Promise\n});\n\n_setToStringTag($Promise, PROMISE);\n\n_setSpecies(PROMISE);\n\nWrapper = _core[PROMISE]; // statics\n\n_export(_export.S + _export.F * !USE_NATIVE$1, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    var $$reject = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n\n_export(_export.S + _export.F * _library, PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x) {\n    return _promiseResolve(this === Wrapper ? $Promise : this, x);\n  }\n});\n\n_export(_export.S + _export.F * !(USE_NATIVE$1 && _iterDetect(function (iter) {\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n\n    var result = _perform(function () {\n      var values = [];\n      var index = 0;\n      var remaining = 1;\n\n      _forOf(iterable, false, function (promise) {\n        var $index = index++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n\n      --remaining || resolve(values);\n    });\n\n    if (result.e) reject(result.v);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n\n    var result = _perform(function () {\n      _forOf(iterable, false, function (promise) {\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n\n    if (result.e) reject(result.v);\n    return capability.promise;\n  }\n});\n\n_export(_export.P + _export.R, 'Promise', {\n  'finally': function _finally(onFinally) {\n    var C = _speciesConstructor(this, _core.Promise || _global.Promise);\n\n    var isFunction = typeof onFinally == 'function';\n    return this.then(isFunction ? function (x) {\n      return _promiseResolve(C, onFinally()).then(function () {\n        return x;\n      });\n    } : onFinally, isFunction ? function (e) {\n      return _promiseResolve(C, onFinally()).then(function () {\n        throw e;\n      });\n    } : onFinally);\n  }\n}); // https://github.com/tc39/proposal-promise-try\n\n\n_export(_export.S, 'Promise', {\n  'try': function _try(callbackfn) {\n    var promiseCapability = _newPromiseCapability.f(this);\n\n    var result = _perform(callbackfn);\n\n    (result.e ? promiseCapability.reject : promiseCapability.resolve)(result.v);\n    return promiseCapability.promise;\n  }\n});\n\nvar promise = _core.Promise;\nvar promise$1 = createCommonjsModule(function (module) {\n  module.exports = {\n    \"default\": promise,\n    __esModule: true\n  };\n});\n\nvar _Promise$1 = unwrapExports(promise$1); // Properly handle server-side rendering.\n\n\nvar win = void 0;\n\nif (typeof window !== 'undefined') {\n  win = window;\n} else if (typeof self !== 'undefined') {\n  win = self;\n} else {\n  win = {};\n} // requestAnimationFrame() shim by Paul Irish\n// http://paulirish.com/2011/requestanimationframe-for-smart-animating/\n\n\nvar request = win.requestAnimationFrame || win.webkitRequestAnimationFrame || win.mozRequestAnimationFrame || win.oRequestAnimationFrame || win.msRequestAnimationFrame || function (callback) {\n  return win.setTimeout(callback, 1000 / 60);\n};\n\nvar cancel = win.cancelAnimationFrame || win.webkitCancelAnimationFrame || win.mozCancelAnimationFrame || win.oCancelAnimationFrame || win.msCancelAnimationFrame || function (id) {\n  win.clearTimeout(id);\n};\n\nvar raf = request;\nvar caf = cancel;\nvar bpfrpt_proptype_AnimationTimeoutId = process.env.NODE_ENV === 'production' ? null : {\n  id: propTypes.number.isRequired\n};\n\nvar cancelAnimationTimeout = function cancelAnimationTimeout(frame) {\n  return caf(frame.id);\n};\n/**\n * Recursively calls requestAnimationFrame until a specified delay has been met or exceeded.\n * When the delay time has been reached the function you're timing out will be called.\n *\n * Credit: Joe Lambert (https://gist.github.com/joelambert/1002116#file-requesttimeout-js)\n */\n\n\nvar requestAnimationTimeout = function requestAnimationTimeout(callback, delay) {\n  var start = void 0; // wait for end of processing current event handler, because event handler may be long\n\n  _Promise$1.resolve().then(function () {\n    start = Date.now();\n  });\n\n  var timeout = function timeout() {\n    if (Date.now() - start >= delay) {\n      callback.call();\n    } else {\n      frame.id = raf(timeout);\n    }\n  };\n\n  var frame = {\n    id: raf(timeout)\n  };\n  return frame;\n};\n/**\n * Specifies the number of milliseconds during which to disable pointer events while a scroll is in progress.\n * This improves performance and makes scrolling smoother.\n */\n\n\nvar DEFAULT_SCROLLING_RESET_TIME_INTERVAL = 150;\n/**\n * Controls whether the Grid updates the DOM element's scrollLeft/scrollTop based on the current state or just observes it.\n * This prevents Grid from interrupting mouse-wheel animations (see issue #2).\n */\n\nvar SCROLL_POSITION_CHANGE_REASONS = {\n  OBSERVED: 'observed',\n  REQUESTED: 'requested'\n};\n\nvar renderNull = function renderNull() {\n  return null;\n};\n/**\n * Renders tabular data with virtualization along the vertical and horizontal axes.\n * Row heights and column widths must be known ahead of time and specified as properties.\n */\n\n\nvar Grid = function (_React$PureComponent) {\n  _inherits(Grid, _React$PureComponent); // Invokes onSectionRendered callback only when start/stop row or column indices change\n\n\n  function Grid(props) {\n    _classCallCheck(this, Grid);\n\n    var _this = _possibleConstructorReturn(this, (Grid.__proto__ || _Object$getPrototypeOf(Grid)).call(this, props));\n\n    _this._onGridRenderedMemoizer = createCallbackMemoizer();\n    _this._onScrollMemoizer = createCallbackMemoizer(false);\n    _this._deferredInvalidateColumnIndex = null;\n    _this._deferredInvalidateRowIndex = null;\n    _this._recomputeScrollLeftFlag = false;\n    _this._recomputeScrollTopFlag = false;\n    _this._horizontalScrollBarSize = 0;\n    _this._verticalScrollBarSize = 0;\n    _this._scrollbarPresenceChanged = false;\n    _this._renderedColumnStartIndex = 0;\n    _this._renderedColumnStopIndex = 0;\n    _this._renderedRowStartIndex = 0;\n    _this._renderedRowStopIndex = 0;\n    _this._styleCache = {};\n    _this._cellCache = {};\n\n    _this._debounceScrollEndedCallback = function () {\n      _this._disablePointerEventsTimeoutId = null; // isScrolling is used to determine if we reset styleCache\n\n      _this.setState({\n        isScrolling: false,\n        needToResetStyleCache: false\n      });\n    };\n\n    _this._invokeOnGridRenderedHelper = function () {\n      var onSectionRendered = _this.props.onSectionRendered;\n\n      _this._onGridRenderedMemoizer({\n        callback: onSectionRendered,\n        indices: {\n          columnOverscanStartIndex: _this._columnStartIndex,\n          columnOverscanStopIndex: _this._columnStopIndex,\n          columnStartIndex: _this._renderedColumnStartIndex,\n          columnStopIndex: _this._renderedColumnStopIndex,\n          rowOverscanStartIndex: _this._rowStartIndex,\n          rowOverscanStopIndex: _this._rowStopIndex,\n          rowStartIndex: _this._renderedRowStartIndex,\n          rowStopIndex: _this._renderedRowStopIndex\n        }\n      });\n    };\n\n    _this._setScrollingContainerRef = function (ref) {\n      _this._scrollingContainer = ref;\n    };\n\n    _this._onScroll = function (event) {\n      // In certain edge-cases React dispatches an onScroll event with an invalid target.scrollLeft / target.scrollTop.\n      // This invalid event can be detected by comparing event.target to this component's scrollable DOM element.\n      // See issue #404 for more information.\n      if (event.target === _this._scrollingContainer) {\n        _this.handleScrollEvent(event.target);\n      }\n    };\n\n    var columnSizeAndPositionManager = new ScalingCellSizeAndPositionManager({\n      cellCount: props.columnCount,\n      cellSizeGetter: function cellSizeGetter(params) {\n        return Grid._wrapSizeGetter(props.columnWidth)(params);\n      },\n      estimatedCellSize: Grid._getEstimatedColumnSize(props)\n    });\n    var rowSizeAndPositionManager = new ScalingCellSizeAndPositionManager({\n      cellCount: props.rowCount,\n      cellSizeGetter: function cellSizeGetter(params) {\n        return Grid._wrapSizeGetter(props.rowHeight)(params);\n      },\n      estimatedCellSize: Grid._getEstimatedRowSize(props)\n    });\n    _this.state = {\n      instanceProps: {\n        columnSizeAndPositionManager: columnSizeAndPositionManager,\n        rowSizeAndPositionManager: rowSizeAndPositionManager,\n        prevColumnWidth: props.columnWidth,\n        prevRowHeight: props.rowHeight,\n        prevColumnCount: props.columnCount,\n        prevRowCount: props.rowCount,\n        prevIsScrolling: props.isScrolling === true,\n        prevScrollToColumn: props.scrollToColumn,\n        prevScrollToRow: props.scrollToRow,\n        prevScrollLeft: props.scrollLeft,\n        prevScrollTop: props.scrollTop,\n        scrollbarSize: 0,\n        scrollbarSizeMeasured: false\n      },\n      isScrolling: false,\n      scrollDirectionHorizontal: SCROLL_DIRECTION_FORWARD,\n      scrollDirectionVertical: SCROLL_DIRECTION_FORWARD,\n      scrollLeft: props.scrollLeft || 0,\n      scrollTop: props.scrollTop || 0,\n      scrollPositionChangeReason: null,\n      needToResetStyleCache: false\n    };\n\n    if (props.scrollToRow > 0) {\n      _this._initialScrollTop = _this._getCalculatedScrollTop(props, _this.state);\n    }\n\n    if (props.scrollToColumn > 0) {\n      _this._initialScrollLeft = _this._getCalculatedScrollLeft(props, _this.state);\n    }\n\n    return _this;\n  }\n  /**\n   * Gets offsets for a given cell and alignment.\n   */\n\n\n  _createClass(Grid, [{\n    key: 'getOffsetForCell',\n    value: function getOffsetForCell() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref$alignment = _ref.alignment,\n          alignment = _ref$alignment === undefined ? this.props.scrollToAlignment : _ref$alignment,\n          _ref$columnIndex = _ref.columnIndex,\n          columnIndex = _ref$columnIndex === undefined ? this.props.scrollToColumn : _ref$columnIndex,\n          _ref$rowIndex = _ref.rowIndex,\n          rowIndex = _ref$rowIndex === undefined ? this.props.scrollToRow : _ref$rowIndex;\n\n      var offsetProps = _extends$6({}, this.props, {\n        scrollToAlignment: alignment,\n        scrollToColumn: columnIndex,\n        scrollToRow: rowIndex\n      });\n\n      return {\n        scrollLeft: this._getCalculatedScrollLeft(offsetProps),\n        scrollTop: this._getCalculatedScrollTop(offsetProps)\n      };\n    }\n    /**\n     * Gets estimated total rows' height.\n     */\n\n  }, {\n    key: 'getTotalRowsHeight',\n    value: function getTotalRowsHeight() {\n      return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize();\n    }\n    /**\n     * Gets estimated total columns' width.\n     */\n\n  }, {\n    key: 'getTotalColumnsWidth',\n    value: function getTotalColumnsWidth() {\n      return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize();\n    }\n    /**\n     * This method handles a scroll event originating from an external scroll control.\n     * It's an advanced method and should probably not be used unless you're implementing a custom scroll-bar solution.\n     */\n\n  }, {\n    key: 'handleScrollEvent',\n    value: function handleScrollEvent(_ref2) {\n      var _ref2$scrollLeft = _ref2.scrollLeft,\n          scrollLeftParam = _ref2$scrollLeft === undefined ? 0 : _ref2$scrollLeft,\n          _ref2$scrollTop = _ref2.scrollTop,\n          scrollTopParam = _ref2$scrollTop === undefined ? 0 : _ref2$scrollTop; // On iOS, we can arrive at negative offsets by swiping past the start.\n      // To prevent flicker here, we make playing in the negative offset zone cause nothing to happen.\n\n      if (scrollTopParam < 0) {\n        return;\n      } // Prevent pointer events from interrupting a smooth scroll\n\n\n      this._debounceScrollEnded();\n\n      var _props = this.props,\n          autoHeight = _props.autoHeight,\n          autoWidth = _props.autoWidth,\n          height = _props.height,\n          width = _props.width;\n      var instanceProps = this.state.instanceProps; // When this component is shrunk drastically, React dispatches a series of back-to-back scroll events,\n      // Gradually converging on a scrollTop that is within the bounds of the new, smaller height.\n      // This causes a series of rapid renders that is slow for long lists.\n      // We can avoid that by doing some simple bounds checking to ensure that scroll offsets never exceed their bounds.\n\n      var scrollbarSize = instanceProps.scrollbarSize;\n      var totalRowsHeight = instanceProps.rowSizeAndPositionManager.getTotalSize();\n      var totalColumnsWidth = instanceProps.columnSizeAndPositionManager.getTotalSize();\n      var scrollLeft = Math.min(Math.max(0, totalColumnsWidth - width + scrollbarSize), scrollLeftParam);\n      var scrollTop = Math.min(Math.max(0, totalRowsHeight - height + scrollbarSize), scrollTopParam); // Certain devices (like Apple touchpad) rapid-fire duplicate events.\n      // Don't force a re-render if this is the case.\n      // The mouse may move faster then the animation frame does.\n      // Use requestAnimationFrame to avoid over-updating.\n\n      if (this.state.scrollLeft !== scrollLeft || this.state.scrollTop !== scrollTop) {\n        // Track scrolling direction so we can more efficiently overscan rows to reduce empty space around the edges while scrolling.\n        // Don't change direction for an axis unless scroll offset has changed.\n        var _scrollDirectionHorizontal = scrollLeft !== this.state.scrollLeft ? scrollLeft > this.state.scrollLeft ? SCROLL_DIRECTION_FORWARD : SCROLL_DIRECTION_BACKWARD : this.state.scrollDirectionHorizontal;\n\n        var _scrollDirectionVertical = scrollTop !== this.state.scrollTop ? scrollTop > this.state.scrollTop ? SCROLL_DIRECTION_FORWARD : SCROLL_DIRECTION_BACKWARD : this.state.scrollDirectionVertical;\n\n        var newState = {\n          isScrolling: true,\n          scrollDirectionHorizontal: _scrollDirectionHorizontal,\n          scrollDirectionVertical: _scrollDirectionVertical,\n          scrollPositionChangeReason: SCROLL_POSITION_CHANGE_REASONS.OBSERVED\n        };\n\n        if (!autoHeight) {\n          newState.scrollTop = scrollTop;\n        }\n\n        if (!autoWidth) {\n          newState.scrollLeft = scrollLeft;\n        }\n\n        newState.needToResetStyleCache = false;\n        this.setState(newState);\n      }\n\n      this._invokeOnScrollMemoizer({\n        scrollLeft: scrollLeft,\n        scrollTop: scrollTop,\n        totalColumnsWidth: totalColumnsWidth,\n        totalRowsHeight: totalRowsHeight\n      });\n    }\n    /**\n     * Invalidate Grid size and recompute visible cells.\n     * This is a deferred wrapper for recomputeGridSize().\n     * It sets a flag to be evaluated on cDM/cDU to avoid unnecessary renders.\n     * This method is intended for advanced use-cases like CellMeasurer.\n     */\n    // @TODO (bvaughn) Add automated test coverage for this.\n\n  }, {\n    key: 'invalidateCellSizeAfterRender',\n    value: function invalidateCellSizeAfterRender(_ref3) {\n      var columnIndex = _ref3.columnIndex,\n          rowIndex = _ref3.rowIndex;\n      this._deferredInvalidateColumnIndex = typeof this._deferredInvalidateColumnIndex === 'number' ? Math.min(this._deferredInvalidateColumnIndex, columnIndex) : columnIndex;\n      this._deferredInvalidateRowIndex = typeof this._deferredInvalidateRowIndex === 'number' ? Math.min(this._deferredInvalidateRowIndex, rowIndex) : rowIndex;\n    }\n    /**\n     * Pre-measure all columns and rows in a Grid.\n     * Typically cells are only measured as needed and estimated sizes are used for cells that have not yet been measured.\n     * This method ensures that the next call to getTotalSize() returns an exact size (as opposed to just an estimated one).\n     */\n\n  }, {\n    key: 'measureAllCells',\n    value: function measureAllCells() {\n      var _props2 = this.props,\n          columnCount = _props2.columnCount,\n          rowCount = _props2.rowCount;\n      var instanceProps = this.state.instanceProps;\n      instanceProps.columnSizeAndPositionManager.getSizeAndPositionOfCell(columnCount - 1);\n      instanceProps.rowSizeAndPositionManager.getSizeAndPositionOfCell(rowCount - 1);\n    }\n    /**\n     * Forced recompute of row heights and column widths.\n     * This function should be called if dynamic column or row sizes have changed but nothing else has.\n     * Since Grid only receives :columnCount and :rowCount it has no way of detecting when the underlying data changes.\n     */\n\n  }, {\n    key: 'recomputeGridSize',\n    value: function recomputeGridSize() {\n      var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref4$columnIndex = _ref4.columnIndex,\n          columnIndex = _ref4$columnIndex === undefined ? 0 : _ref4$columnIndex,\n          _ref4$rowIndex = _ref4.rowIndex,\n          rowIndex = _ref4$rowIndex === undefined ? 0 : _ref4$rowIndex;\n\n      var _props3 = this.props,\n          scrollToColumn = _props3.scrollToColumn,\n          scrollToRow = _props3.scrollToRow;\n      var instanceProps = this.state.instanceProps;\n      instanceProps.columnSizeAndPositionManager.resetCell(columnIndex);\n      instanceProps.rowSizeAndPositionManager.resetCell(rowIndex); // Cell sizes may be determined by a function property.\n      // In this case the cDU handler can't know if they changed.\n      // Store this flag to let the next cDU pass know it needs to recompute the scroll offset.\n\n      this._recomputeScrollLeftFlag = scrollToColumn >= 0 && (this.state.scrollDirectionHorizontal === SCROLL_DIRECTION_FORWARD ? columnIndex <= scrollToColumn : columnIndex >= scrollToColumn);\n      this._recomputeScrollTopFlag = scrollToRow >= 0 && (this.state.scrollDirectionVertical === SCROLL_DIRECTION_FORWARD ? rowIndex <= scrollToRow : rowIndex >= scrollToRow); // Clear cell cache in case we are scrolling;\n      // Invalid row heights likely mean invalid cached content as well.\n\n      this._styleCache = {};\n      this._cellCache = {};\n      this.forceUpdate();\n    }\n    /**\n     * Ensure column and row are visible.\n     */\n\n  }, {\n    key: 'scrollToCell',\n    value: function scrollToCell(_ref5) {\n      var columnIndex = _ref5.columnIndex,\n          rowIndex = _ref5.rowIndex;\n      var columnCount = this.props.columnCount;\n      var props = this.props; // Don't adjust scroll offset for single-column grids (eg List, Table).\n      // This can cause a funky scroll offset because of the vertical scrollbar width.\n\n      if (columnCount > 1 && columnIndex !== undefined) {\n        this._updateScrollLeftForScrollToColumn(_extends$6({}, props, {\n          scrollToColumn: columnIndex\n        }));\n      }\n\n      if (rowIndex !== undefined) {\n        this._updateScrollTopForScrollToRow(_extends$6({}, props, {\n          scrollToRow: rowIndex\n        }));\n      }\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _props4 = this.props,\n          getScrollbarSize = _props4.getScrollbarSize,\n          height = _props4.height,\n          scrollLeft = _props4.scrollLeft,\n          scrollToColumn = _props4.scrollToColumn,\n          scrollTop = _props4.scrollTop,\n          scrollToRow = _props4.scrollToRow,\n          width = _props4.width;\n      var instanceProps = this.state.instanceProps; // Reset initial offsets to be ignored in browser\n\n      this._initialScrollTop = 0;\n      this._initialScrollLeft = 0; // If cell sizes have been invalidated (eg we are using CellMeasurer) then reset cached positions.\n      // We must do this at the start of the method as we may calculate and update scroll position below.\n\n      this._handleInvalidatedGridSize(); // If this component was first rendered server-side, scrollbar size will be undefined.\n      // In that event we need to remeasure.\n\n\n      if (!instanceProps.scrollbarSizeMeasured) {\n        this.setState(function (prevState) {\n          var stateUpdate = _extends$6({}, prevState, {\n            needToResetStyleCache: false\n          });\n\n          stateUpdate.instanceProps.scrollbarSize = getScrollbarSize();\n          stateUpdate.instanceProps.scrollbarSizeMeasured = true;\n          return stateUpdate;\n        });\n      }\n\n      if (typeof scrollLeft === 'number' && scrollLeft >= 0 || typeof scrollTop === 'number' && scrollTop >= 0) {\n        var stateUpdate = Grid._getScrollToPositionStateUpdate({\n          prevState: this.state,\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop\n        });\n\n        if (stateUpdate) {\n          stateUpdate.needToResetStyleCache = false;\n          this.setState(stateUpdate);\n        }\n      } // refs don't work in `react-test-renderer`\n\n\n      if (this._scrollingContainer) {\n        // setting the ref's scrollLeft and scrollTop.\n        // Somehow in MultiGrid the main grid doesn't trigger a update on mount.\n        if (this._scrollingContainer.scrollLeft !== this.state.scrollLeft) {\n          this._scrollingContainer.scrollLeft = this.state.scrollLeft;\n        }\n\n        if (this._scrollingContainer.scrollTop !== this.state.scrollTop) {\n          this._scrollingContainer.scrollTop = this.state.scrollTop;\n        }\n      } // Don't update scroll offset if the size is 0; we don't render any cells in this case.\n      // Setting a state may cause us to later thing we've updated the offce when we haven't.\n\n\n      var sizeIsBiggerThanZero = height > 0 && width > 0;\n\n      if (scrollToColumn >= 0 && sizeIsBiggerThanZero) {\n        this._updateScrollLeftForScrollToColumn();\n      }\n\n      if (scrollToRow >= 0 && sizeIsBiggerThanZero) {\n        this._updateScrollTopForScrollToRow();\n      } // Update onRowsRendered callback\n\n\n      this._invokeOnGridRenderedHelper(); // Initialize onScroll callback\n\n\n      this._invokeOnScrollMemoizer({\n        scrollLeft: scrollLeft || 0,\n        scrollTop: scrollTop || 0,\n        totalColumnsWidth: instanceProps.columnSizeAndPositionManager.getTotalSize(),\n        totalRowsHeight: instanceProps.rowSizeAndPositionManager.getTotalSize()\n      });\n\n      this._maybeCallOnScrollbarPresenceChange();\n    }\n    /**\n     * @private\n     * This method updates scrollLeft/scrollTop in state for the following conditions:\n     * 1) New scroll-to-cell props have been set\n     */\n\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps, prevState) {\n      var _this2 = this;\n\n      var _props5 = this.props,\n          autoHeight = _props5.autoHeight,\n          autoWidth = _props5.autoWidth,\n          columnCount = _props5.columnCount,\n          height = _props5.height,\n          rowCount = _props5.rowCount,\n          scrollToAlignment = _props5.scrollToAlignment,\n          scrollToColumn = _props5.scrollToColumn,\n          scrollToRow = _props5.scrollToRow,\n          width = _props5.width;\n      var _state = this.state,\n          scrollLeft = _state.scrollLeft,\n          scrollPositionChangeReason = _state.scrollPositionChangeReason,\n          scrollTop = _state.scrollTop,\n          instanceProps = _state.instanceProps; // If cell sizes have been invalidated (eg we are using CellMeasurer) then reset cached positions.\n      // We must do this at the start of the method as we may calculate and update scroll position below.\n\n      this._handleInvalidatedGridSize(); // Handle edge case where column or row count has only just increased over 0.\n      // In this case we may have to restore a previously-specified scroll offset.\n      // For more info see bvaughn/react-virtualized/issues/218\n\n\n      var columnOrRowCountJustIncreasedFromZero = columnCount > 0 && prevProps.columnCount === 0 || rowCount > 0 && prevProps.rowCount === 0; // Make sure requested changes to :scrollLeft or :scrollTop get applied.\n      // Assigning to scrollLeft/scrollTop tells the browser to interrupt any running scroll animations,\n      // And to discard any pending async changes to the scroll position that may have happened in the meantime (e.g. on a separate scrolling thread).\n      // So we only set these when we require an adjustment of the scroll position.\n      // See issue #2 for more information.\n\n      if (scrollPositionChangeReason === SCROLL_POSITION_CHANGE_REASONS.REQUESTED) {\n        // @TRICKY :autoHeight and :autoWidth properties instructs Grid to leave :scrollTop and :scrollLeft management to an external HOC (eg WindowScroller).\n        // In this case we should avoid checking scrollingContainer.scrollTop and scrollingContainer.scrollLeft since it forces layout/flow.\n        if (!autoWidth && scrollLeft >= 0 && (scrollLeft !== this._scrollingContainer.scrollLeft || columnOrRowCountJustIncreasedFromZero)) {\n          this._scrollingContainer.scrollLeft = scrollLeft;\n        }\n\n        if (!autoHeight && scrollTop >= 0 && (scrollTop !== this._scrollingContainer.scrollTop || columnOrRowCountJustIncreasedFromZero)) {\n          this._scrollingContainer.scrollTop = scrollTop;\n        }\n      } // Special case where the previous size was 0:\n      // In this case we don't show any windowed cells at all.\n      // So we should always recalculate offset afterwards.\n\n\n      var sizeJustIncreasedFromZero = (prevProps.width === 0 || prevProps.height === 0) && height > 0 && width > 0; // Update scroll offsets if the current :scrollToColumn or :scrollToRow values requires it\n      // @TODO Do we also need this check or can the one in componentWillUpdate() suffice?\n\n      if (this._recomputeScrollLeftFlag) {\n        this._recomputeScrollLeftFlag = false;\n\n        this._updateScrollLeftForScrollToColumn(this.props);\n      } else {\n        updateScrollIndexHelper({\n          cellSizeAndPositionManager: instanceProps.columnSizeAndPositionManager,\n          previousCellsCount: prevProps.columnCount,\n          previousCellSize: prevProps.columnWidth,\n          previousScrollToAlignment: prevProps.scrollToAlignment,\n          previousScrollToIndex: prevProps.scrollToColumn,\n          previousSize: prevProps.width,\n          scrollOffset: scrollLeft,\n          scrollToAlignment: scrollToAlignment,\n          scrollToIndex: scrollToColumn,\n          size: width,\n          sizeJustIncreasedFromZero: sizeJustIncreasedFromZero,\n          updateScrollIndexCallback: function updateScrollIndexCallback() {\n            return _this2._updateScrollLeftForScrollToColumn(_this2.props);\n          }\n        });\n      }\n\n      if (this._recomputeScrollTopFlag) {\n        this._recomputeScrollTopFlag = false;\n\n        this._updateScrollTopForScrollToRow(this.props);\n      } else {\n        updateScrollIndexHelper({\n          cellSizeAndPositionManager: instanceProps.rowSizeAndPositionManager,\n          previousCellsCount: prevProps.rowCount,\n          previousCellSize: prevProps.rowHeight,\n          previousScrollToAlignment: prevProps.scrollToAlignment,\n          previousScrollToIndex: prevProps.scrollToRow,\n          previousSize: prevProps.height,\n          scrollOffset: scrollTop,\n          scrollToAlignment: scrollToAlignment,\n          scrollToIndex: scrollToRow,\n          size: height,\n          sizeJustIncreasedFromZero: sizeJustIncreasedFromZero,\n          updateScrollIndexCallback: function updateScrollIndexCallback() {\n            return _this2._updateScrollTopForScrollToRow(_this2.props);\n          }\n        });\n      } // Update onRowsRendered callback if start/stop indices have changed\n\n\n      this._invokeOnGridRenderedHelper(); // Changes to :scrollLeft or :scrollTop should also notify :onScroll listeners\n\n\n      if (scrollLeft !== prevState.scrollLeft || scrollTop !== prevState.scrollTop) {\n        var totalRowsHeight = instanceProps.rowSizeAndPositionManager.getTotalSize();\n        var totalColumnsWidth = instanceProps.columnSizeAndPositionManager.getTotalSize();\n\n        this._invokeOnScrollMemoizer({\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop,\n          totalColumnsWidth: totalColumnsWidth,\n          totalRowsHeight: totalRowsHeight\n        });\n      }\n\n      this._maybeCallOnScrollbarPresenceChange();\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this._disablePointerEventsTimeoutId) {\n        cancelAnimationTimeout(this._disablePointerEventsTimeoutId);\n      }\n    }\n    /**\n     * This method updates scrollLeft/scrollTop in state for the following conditions:\n     * 1) Empty content (0 rows or columns)\n     * 2) New scroll props overriding the current state\n     * 3) Cells-count or cells-size has changed, making previous scroll offsets invalid\n     */\n\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props6 = this.props,\n          autoContainerWidth = _props6.autoContainerWidth,\n          autoHeight = _props6.autoHeight,\n          autoWidth = _props6.autoWidth,\n          className = _props6.className,\n          containerProps = _props6.containerProps,\n          containerRole = _props6.containerRole,\n          containerStyle = _props6.containerStyle,\n          height = _props6.height,\n          id = _props6.id,\n          noContentRenderer = _props6.noContentRenderer,\n          role = _props6.role,\n          style = _props6.style,\n          tabIndex = _props6.tabIndex,\n          width = _props6.width;\n      var _state2 = this.state,\n          instanceProps = _state2.instanceProps,\n          needToResetStyleCache = _state2.needToResetStyleCache;\n\n      var isScrolling = this._isScrolling();\n\n      var gridStyle = {\n        boxSizing: 'border-box',\n        direction: 'ltr',\n        height: autoHeight ? 'auto' : height,\n        position: 'relative',\n        width: autoWidth ? 'auto' : width,\n        WebkitOverflowScrolling: 'touch',\n        willChange: 'transform'\n      };\n\n      if (needToResetStyleCache) {\n        this._styleCache = {};\n      } // calculate _styleCache here\n      // if state.isScrolling (not from _isScrolling) then reset\n\n\n      if (!this.state.isScrolling) {\n        this._resetStyleCache();\n      } // calculate children to render here\n\n\n      this._calculateChildrenToRender(this.props, this.state);\n\n      var totalColumnsWidth = instanceProps.columnSizeAndPositionManager.getTotalSize();\n      var totalRowsHeight = instanceProps.rowSizeAndPositionManager.getTotalSize(); // Force browser to hide scrollbars when we know they aren't necessary.\n      // Otherwise once scrollbars appear they may not disappear again.\n      // For more info see issue #116\n\n      var verticalScrollBarSize = totalRowsHeight > height ? instanceProps.scrollbarSize : 0;\n      var horizontalScrollBarSize = totalColumnsWidth > width ? instanceProps.scrollbarSize : 0;\n\n      if (horizontalScrollBarSize !== this._horizontalScrollBarSize || verticalScrollBarSize !== this._verticalScrollBarSize) {\n        this._horizontalScrollBarSize = horizontalScrollBarSize;\n        this._verticalScrollBarSize = verticalScrollBarSize;\n        this._scrollbarPresenceChanged = true;\n      } // Also explicitly init styles to 'auto' if scrollbars are required.\n      // This works around an obscure edge case where external CSS styles have not yet been loaded,\n      // But an initial scroll index of offset is set as an external prop.\n      // Without this style, Grid would render the correct range of cells but would NOT update its internal offset.\n      // This was originally reported via clauderic/react-infinite-calendar/issues/23\n\n\n      gridStyle.overflowX = totalColumnsWidth + verticalScrollBarSize <= width ? 'hidden' : 'auto';\n      gridStyle.overflowY = totalRowsHeight + horizontalScrollBarSize <= height ? 'hidden' : 'auto';\n      var childrenToDisplay = this._childrenToDisplay;\n      var showNoContentRenderer = childrenToDisplay.length === 0 && height > 0 && width > 0;\n      return createElement('div', _extends$6({\n        ref: this._setScrollingContainerRef\n      }, containerProps, {\n        'aria-label': this.props['aria-label'],\n        'aria-readonly': this.props['aria-readonly'],\n        className: clsx('ReactVirtualized__Grid', className),\n        id: id,\n        onScroll: this._onScroll,\n        role: role,\n        style: _extends$6({}, gridStyle, style),\n        tabIndex: tabIndex\n      }), childrenToDisplay.length > 0 && createElement('div', {\n        className: 'ReactVirtualized__Grid__innerScrollContainer',\n        role: containerRole,\n        style: _extends$6({\n          width: autoContainerWidth ? 'auto' : totalColumnsWidth,\n          height: totalRowsHeight,\n          maxWidth: totalColumnsWidth,\n          maxHeight: totalRowsHeight,\n          overflow: 'hidden',\n          pointerEvents: isScrolling ? 'none' : '',\n          position: 'relative'\n        }, containerStyle)\n      }, childrenToDisplay), showNoContentRenderer && noContentRenderer());\n    }\n    /* ---------------------------- Helper methods ---------------------------- */\n\n  }, {\n    key: '_calculateChildrenToRender',\n    value: function _calculateChildrenToRender() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var state = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.state;\n      var cellRenderer = props.cellRenderer,\n          cellRangeRenderer = props.cellRangeRenderer,\n          columnCount = props.columnCount,\n          deferredMeasurementCache = props.deferredMeasurementCache,\n          height = props.height,\n          overscanColumnCount = props.overscanColumnCount,\n          overscanIndicesGetter = props.overscanIndicesGetter,\n          overscanRowCount = props.overscanRowCount,\n          rowCount = props.rowCount,\n          width = props.width,\n          isScrollingOptOut = props.isScrollingOptOut;\n      var scrollDirectionHorizontal = state.scrollDirectionHorizontal,\n          scrollDirectionVertical = state.scrollDirectionVertical,\n          instanceProps = state.instanceProps;\n      var scrollTop = this._initialScrollTop > 0 ? this._initialScrollTop : state.scrollTop;\n      var scrollLeft = this._initialScrollLeft > 0 ? this._initialScrollLeft : state.scrollLeft;\n\n      var isScrolling = this._isScrolling(props, state);\n\n      this._childrenToDisplay = []; // Render only enough columns and rows to cover the visible area of the grid.\n\n      if (height > 0 && width > 0) {\n        var visibleColumnIndices = instanceProps.columnSizeAndPositionManager.getVisibleCellRange({\n          containerSize: width,\n          offset: scrollLeft\n        });\n        var visibleRowIndices = instanceProps.rowSizeAndPositionManager.getVisibleCellRange({\n          containerSize: height,\n          offset: scrollTop\n        });\n        var horizontalOffsetAdjustment = instanceProps.columnSizeAndPositionManager.getOffsetAdjustment({\n          containerSize: width,\n          offset: scrollLeft\n        });\n        var verticalOffsetAdjustment = instanceProps.rowSizeAndPositionManager.getOffsetAdjustment({\n          containerSize: height,\n          offset: scrollTop\n        }); // Store for _invokeOnGridRenderedHelper()\n\n        this._renderedColumnStartIndex = visibleColumnIndices.start;\n        this._renderedColumnStopIndex = visibleColumnIndices.stop;\n        this._renderedRowStartIndex = visibleRowIndices.start;\n        this._renderedRowStopIndex = visibleRowIndices.stop;\n        var overscanColumnIndices = overscanIndicesGetter({\n          direction: 'horizontal',\n          cellCount: columnCount,\n          overscanCellsCount: overscanColumnCount,\n          scrollDirection: scrollDirectionHorizontal,\n          startIndex: typeof visibleColumnIndices.start === 'number' ? visibleColumnIndices.start : 0,\n          stopIndex: typeof visibleColumnIndices.stop === 'number' ? visibleColumnIndices.stop : -1\n        });\n        var overscanRowIndices = overscanIndicesGetter({\n          direction: 'vertical',\n          cellCount: rowCount,\n          overscanCellsCount: overscanRowCount,\n          scrollDirection: scrollDirectionVertical,\n          startIndex: typeof visibleRowIndices.start === 'number' ? visibleRowIndices.start : 0,\n          stopIndex: typeof visibleRowIndices.stop === 'number' ? visibleRowIndices.stop : -1\n        }); // Store for _invokeOnGridRenderedHelper()\n\n        var columnStartIndex = overscanColumnIndices.overscanStartIndex;\n        var columnStopIndex = overscanColumnIndices.overscanStopIndex;\n        var rowStartIndex = overscanRowIndices.overscanStartIndex;\n        var rowStopIndex = overscanRowIndices.overscanStopIndex; // Advanced use-cases (eg CellMeasurer) require batched measurements to determine accurate sizes.\n\n        if (deferredMeasurementCache) {\n          // If rows have a dynamic height, scan the rows we are about to render.\n          // If any have not yet been measured, then we need to render all columns initially,\n          // Because the height of the row is equal to the tallest cell within that row,\n          // (And so we can't know the height without measuring all column-cells first).\n          if (!deferredMeasurementCache.hasFixedHeight()) {\n            for (var rowIndex = rowStartIndex; rowIndex <= rowStopIndex; rowIndex++) {\n              if (!deferredMeasurementCache.has(rowIndex, 0)) {\n                columnStartIndex = 0;\n                columnStopIndex = columnCount - 1;\n                break;\n              }\n            }\n          } // If columns have a dynamic width, scan the columns we are about to render.\n          // If any have not yet been measured, then we need to render all rows initially,\n          // Because the width of the column is equal to the widest cell within that column,\n          // (And so we can't know the width without measuring all row-cells first).\n\n\n          if (!deferredMeasurementCache.hasFixedWidth()) {\n            for (var columnIndex = columnStartIndex; columnIndex <= columnStopIndex; columnIndex++) {\n              if (!deferredMeasurementCache.has(0, columnIndex)) {\n                rowStartIndex = 0;\n                rowStopIndex = rowCount - 1;\n                break;\n              }\n            }\n          }\n        }\n\n        this._childrenToDisplay = cellRangeRenderer({\n          cellCache: this._cellCache,\n          cellRenderer: cellRenderer,\n          columnSizeAndPositionManager: instanceProps.columnSizeAndPositionManager,\n          columnStartIndex: columnStartIndex,\n          columnStopIndex: columnStopIndex,\n          deferredMeasurementCache: deferredMeasurementCache,\n          horizontalOffsetAdjustment: horizontalOffsetAdjustment,\n          isScrolling: isScrolling,\n          isScrollingOptOut: isScrollingOptOut,\n          parent: this,\n          rowSizeAndPositionManager: instanceProps.rowSizeAndPositionManager,\n          rowStartIndex: rowStartIndex,\n          rowStopIndex: rowStopIndex,\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop,\n          styleCache: this._styleCache,\n          verticalOffsetAdjustment: verticalOffsetAdjustment,\n          visibleColumnIndices: visibleColumnIndices,\n          visibleRowIndices: visibleRowIndices\n        }); // update the indices\n\n        this._columnStartIndex = columnStartIndex;\n        this._columnStopIndex = columnStopIndex;\n        this._rowStartIndex = rowStartIndex;\n        this._rowStopIndex = rowStopIndex;\n      }\n    }\n    /**\n     * Sets an :isScrolling flag for a small window of time.\n     * This flag is used to disable pointer events on the scrollable portion of the Grid.\n     * This prevents jerky/stuttery mouse-wheel scrolling.\n     */\n\n  }, {\n    key: '_debounceScrollEnded',\n    value: function _debounceScrollEnded() {\n      var scrollingResetTimeInterval = this.props.scrollingResetTimeInterval;\n\n      if (this._disablePointerEventsTimeoutId) {\n        cancelAnimationTimeout(this._disablePointerEventsTimeoutId);\n      }\n\n      this._disablePointerEventsTimeoutId = requestAnimationTimeout(this._debounceScrollEndedCallback, scrollingResetTimeInterval);\n    }\n  }, {\n    key: '_handleInvalidatedGridSize',\n\n    /**\n     * Check for batched CellMeasurer size invalidations.\n     * This will occur the first time one or more previously unmeasured cells are rendered.\n     */\n    value: function _handleInvalidatedGridSize() {\n      if (typeof this._deferredInvalidateColumnIndex === 'number' && typeof this._deferredInvalidateRowIndex === 'number') {\n        var columnIndex = this._deferredInvalidateColumnIndex;\n        var rowIndex = this._deferredInvalidateRowIndex;\n        this._deferredInvalidateColumnIndex = null;\n        this._deferredInvalidateRowIndex = null;\n        this.recomputeGridSize({\n          columnIndex: columnIndex,\n          rowIndex: rowIndex\n        });\n      }\n    }\n  }, {\n    key: '_invokeOnScrollMemoizer',\n    value: function _invokeOnScrollMemoizer(_ref6) {\n      var _this3 = this;\n\n      var scrollLeft = _ref6.scrollLeft,\n          scrollTop = _ref6.scrollTop,\n          totalColumnsWidth = _ref6.totalColumnsWidth,\n          totalRowsHeight = _ref6.totalRowsHeight;\n\n      this._onScrollMemoizer({\n        callback: function callback(_ref7) {\n          var scrollLeft = _ref7.scrollLeft,\n              scrollTop = _ref7.scrollTop;\n          var _props7 = _this3.props,\n              height = _props7.height,\n              onScroll = _props7.onScroll,\n              width = _props7.width;\n          onScroll({\n            clientHeight: height,\n            clientWidth: width,\n            scrollHeight: totalRowsHeight,\n            scrollLeft: scrollLeft,\n            scrollTop: scrollTop,\n            scrollWidth: totalColumnsWidth\n          });\n        },\n        indices: {\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop\n        }\n      });\n    }\n  }, {\n    key: '_isScrolling',\n    value: function _isScrolling() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var state = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.state; // If isScrolling is defined in props, use it to override the value in state\n      // This is a performance optimization for WindowScroller + Grid\n\n      return Object.hasOwnProperty.call(props, 'isScrolling') ? Boolean(props.isScrolling) : Boolean(state.isScrolling);\n    }\n  }, {\n    key: '_maybeCallOnScrollbarPresenceChange',\n    value: function _maybeCallOnScrollbarPresenceChange() {\n      if (this._scrollbarPresenceChanged) {\n        var _onScrollbarPresenceChange = this.props.onScrollbarPresenceChange;\n        this._scrollbarPresenceChanged = false;\n\n        _onScrollbarPresenceChange({\n          horizontal: this._horizontalScrollBarSize > 0,\n          size: this.state.instanceProps.scrollbarSize,\n          vertical: this._verticalScrollBarSize > 0\n        });\n      }\n    }\n  }, {\n    key: 'scrollToPosition',\n\n    /**\n     * Scroll to the specified offset(s).\n     * Useful for animating position changes.\n     */\n    value: function scrollToPosition(_ref8) {\n      var scrollLeft = _ref8.scrollLeft,\n          scrollTop = _ref8.scrollTop;\n\n      var stateUpdate = Grid._getScrollToPositionStateUpdate({\n        prevState: this.state,\n        scrollLeft: scrollLeft,\n        scrollTop: scrollTop\n      });\n\n      if (stateUpdate) {\n        stateUpdate.needToResetStyleCache = false;\n        this.setState(stateUpdate);\n      }\n    }\n  }, {\n    key: '_getCalculatedScrollLeft',\n    value: function _getCalculatedScrollLeft() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var state = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.state;\n      return Grid._getCalculatedScrollLeft(props, state);\n    }\n  }, {\n    key: '_updateScrollLeftForScrollToColumn',\n    value: function _updateScrollLeftForScrollToColumn() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var state = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.state;\n\n      var stateUpdate = Grid._getScrollLeftForScrollToColumnStateUpdate(props, state);\n\n      if (stateUpdate) {\n        stateUpdate.needToResetStyleCache = false;\n        this.setState(stateUpdate);\n      }\n    }\n  }, {\n    key: '_getCalculatedScrollTop',\n    value: function _getCalculatedScrollTop() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var state = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.state;\n      return Grid._getCalculatedScrollTop(props, state);\n    }\n  }, {\n    key: '_resetStyleCache',\n    value: function _resetStyleCache() {\n      var styleCache = this._styleCache;\n      var cellCache = this._cellCache;\n      var isScrollingOptOut = this.props.isScrollingOptOut; // Reset cell and style caches once scrolling stops.\n      // This makes Grid simpler to use (since cells commonly change).\n      // And it keeps the caches from growing too large.\n      // Performance is most sensitive when a user is scrolling.\n      // Don't clear visible cells from cellCache if isScrollingOptOut is specified.\n      // This keeps the cellCache to a resonable size.\n\n      this._cellCache = {};\n      this._styleCache = {}; // Copy over the visible cell styles so avoid unnecessary re-render.\n\n      for (var rowIndex = this._rowStartIndex; rowIndex <= this._rowStopIndex; rowIndex++) {\n        for (var columnIndex = this._columnStartIndex; columnIndex <= this._columnStopIndex; columnIndex++) {\n          var key = rowIndex + '-' + columnIndex;\n          this._styleCache[key] = styleCache[key];\n\n          if (isScrollingOptOut) {\n            this._cellCache[key] = cellCache[key];\n          }\n        }\n      }\n    }\n  }, {\n    key: '_updateScrollTopForScrollToRow',\n    value: function _updateScrollTopForScrollToRow() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var state = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.state;\n\n      var stateUpdate = Grid._getScrollTopForScrollToRowStateUpdate(props, state);\n\n      if (stateUpdate) {\n        stateUpdate.needToResetStyleCache = false;\n        this.setState(stateUpdate);\n      }\n    }\n  }], [{\n    key: 'getDerivedStateFromProps',\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      var newState = {};\n      var instanceProps = prevState.instanceProps;\n\n      if (nextProps.columnCount === 0 && prevState.scrollLeft !== 0 || nextProps.rowCount === 0 && prevState.scrollTop !== 0) {\n        newState.scrollLeft = 0;\n        newState.scrollTop = 0; // only use scroll{Left,Top} from props if scrollTo{Column,Row} isn't specified\n        // scrollTo{Column,Row} should override scroll{Left,Top}\n      } else if (nextProps.scrollLeft !== instanceProps.prevScrollLeft && nextProps.scrollToColumn < 0 || nextProps.scrollTop !== instanceProps.prevScrollTop && nextProps.scrollToRow < 0) {\n        _Object$assign(newState, Grid._getScrollToPositionStateUpdate({\n          prevState: prevState,\n          scrollLeft: nextProps.scrollLeft,\n          scrollTop: nextProps.scrollTop\n        }));\n      } // Initially we should not clearStyleCache\n\n\n      newState.needToResetStyleCache = false;\n\n      if (nextProps.columnWidth !== instanceProps.prevColumnWidth || nextProps.rowHeight !== instanceProps.prevRowHeight) {\n        // Reset cache. set it to {} in render\n        newState.needToResetStyleCache = true;\n      }\n\n      instanceProps.columnSizeAndPositionManager.configure({\n        cellCount: nextProps.columnCount,\n        estimatedCellSize: Grid._getEstimatedColumnSize(nextProps),\n        cellSizeGetter: Grid._wrapSizeGetter(nextProps.columnWidth)\n      });\n      instanceProps.rowSizeAndPositionManager.configure({\n        cellCount: nextProps.rowCount,\n        estimatedCellSize: Grid._getEstimatedRowSize(nextProps),\n        cellSizeGetter: Grid._wrapSizeGetter(nextProps.rowHeight)\n      });\n\n      if (instanceProps.prevColumnCount === 0 || instanceProps.prevRowCount === 0) {\n        instanceProps.prevColumnCount = 0;\n        instanceProps.prevRowCount = 0;\n      } // If scrolling is controlled outside this component, clear cache when scrolling stops\n\n\n      if (nextProps.autoHeight && nextProps.isScrolling === false && instanceProps.prevIsScrolling === true) {\n        _Object$assign(newState, {\n          isScrolling: false\n        });\n      }\n\n      var maybeStateA = void 0;\n      var maybeStateB = void 0;\n      calculateSizeAndPositionDataAndUpdateScrollOffset({\n        cellCount: instanceProps.prevColumnCount,\n        cellSize: typeof instanceProps.prevColumnWidth === 'number' ? instanceProps.prevColumnWidth : null,\n        computeMetadataCallback: function computeMetadataCallback() {\n          return instanceProps.columnSizeAndPositionManager.resetCell(0);\n        },\n        computeMetadataCallbackProps: nextProps,\n        nextCellsCount: nextProps.columnCount,\n        nextCellSize: typeof nextProps.columnWidth === 'number' ? nextProps.columnWidth : null,\n        nextScrollToIndex: nextProps.scrollToColumn,\n        scrollToIndex: instanceProps.prevScrollToColumn,\n        updateScrollOffsetForScrollToIndex: function updateScrollOffsetForScrollToIndex() {\n          maybeStateA = Grid._getScrollLeftForScrollToColumnStateUpdate(nextProps, prevState);\n        }\n      });\n      calculateSizeAndPositionDataAndUpdateScrollOffset({\n        cellCount: instanceProps.prevRowCount,\n        cellSize: typeof instanceProps.prevRowHeight === 'number' ? instanceProps.prevRowHeight : null,\n        computeMetadataCallback: function computeMetadataCallback() {\n          return instanceProps.rowSizeAndPositionManager.resetCell(0);\n        },\n        computeMetadataCallbackProps: nextProps,\n        nextCellsCount: nextProps.rowCount,\n        nextCellSize: typeof nextProps.rowHeight === 'number' ? nextProps.rowHeight : null,\n        nextScrollToIndex: nextProps.scrollToRow,\n        scrollToIndex: instanceProps.prevScrollToRow,\n        updateScrollOffsetForScrollToIndex: function updateScrollOffsetForScrollToIndex() {\n          maybeStateB = Grid._getScrollTopForScrollToRowStateUpdate(nextProps, prevState);\n        }\n      });\n      instanceProps.prevColumnCount = nextProps.columnCount;\n      instanceProps.prevColumnWidth = nextProps.columnWidth;\n      instanceProps.prevIsScrolling = nextProps.isScrolling === true;\n      instanceProps.prevRowCount = nextProps.rowCount;\n      instanceProps.prevRowHeight = nextProps.rowHeight;\n      instanceProps.prevScrollToColumn = nextProps.scrollToColumn;\n      instanceProps.prevScrollToRow = nextProps.scrollToRow;\n      instanceProps.prevScrollLeft = nextProps.scrollLeft;\n      instanceProps.prevScrollTop = nextProps.scrollTop; // getting scrollBarSize (moved from componentWillMount)\n\n      instanceProps.scrollbarSize = nextProps.getScrollbarSize();\n\n      if (instanceProps.scrollbarSize === undefined) {\n        instanceProps.scrollbarSizeMeasured = false;\n        instanceProps.scrollbarSize = 0;\n      } else {\n        instanceProps.scrollbarSizeMeasured = true;\n      }\n\n      newState.instanceProps = instanceProps;\n      return _extends$6({}, newState, maybeStateA, maybeStateB);\n    }\n  }, {\n    key: '_getEstimatedColumnSize',\n    value: function _getEstimatedColumnSize(props) {\n      return typeof props.columnWidth === 'number' ? props.columnWidth : props.estimatedColumnSize;\n    }\n  }, {\n    key: '_getEstimatedRowSize',\n    value: function _getEstimatedRowSize(props) {\n      return typeof props.rowHeight === 'number' ? props.rowHeight : props.estimatedRowSize;\n    }\n  }, {\n    key: '_getScrollToPositionStateUpdate',\n\n    /**\n     * Get the updated state after scrolling to\n     * scrollLeft and scrollTop\n     */\n    value: function _getScrollToPositionStateUpdate(_ref9) {\n      var prevState = _ref9.prevState,\n          scrollLeft = _ref9.scrollLeft,\n          scrollTop = _ref9.scrollTop;\n      var newState = {\n        scrollPositionChangeReason: SCROLL_POSITION_CHANGE_REASONS.REQUESTED\n      };\n\n      if (typeof scrollLeft === 'number' && scrollLeft >= 0) {\n        newState.scrollDirectionHorizontal = scrollLeft > prevState.scrollLeft ? SCROLL_DIRECTION_FORWARD : SCROLL_DIRECTION_BACKWARD;\n        newState.scrollLeft = scrollLeft;\n      }\n\n      if (typeof scrollTop === 'number' && scrollTop >= 0) {\n        newState.scrollDirectionVertical = scrollTop > prevState.scrollTop ? SCROLL_DIRECTION_FORWARD : SCROLL_DIRECTION_BACKWARD;\n        newState.scrollTop = scrollTop;\n      }\n\n      if (typeof scrollLeft === 'number' && scrollLeft >= 0 && scrollLeft !== prevState.scrollLeft || typeof scrollTop === 'number' && scrollTop >= 0 && scrollTop !== prevState.scrollTop) {\n        return newState;\n      }\n\n      return null;\n    }\n  }, {\n    key: '_wrapSizeGetter',\n    value: function _wrapSizeGetter(value) {\n      return typeof value === 'function' ? value : function () {\n        return value;\n      };\n    }\n  }, {\n    key: '_getCalculatedScrollLeft',\n    value: function _getCalculatedScrollLeft(nextProps, prevState) {\n      var columnCount = nextProps.columnCount,\n          height = nextProps.height,\n          scrollToAlignment = nextProps.scrollToAlignment,\n          scrollToColumn = nextProps.scrollToColumn,\n          width = nextProps.width;\n      var scrollLeft = prevState.scrollLeft,\n          instanceProps = prevState.instanceProps;\n\n      if (columnCount > 0) {\n        var finalColumn = columnCount - 1;\n        var targetIndex = scrollToColumn < 0 ? finalColumn : Math.min(finalColumn, scrollToColumn);\n        var totalRowsHeight = instanceProps.rowSizeAndPositionManager.getTotalSize();\n        var scrollBarSize = instanceProps.scrollbarSizeMeasured && totalRowsHeight > height ? instanceProps.scrollbarSize : 0;\n        return instanceProps.columnSizeAndPositionManager.getUpdatedOffsetForIndex({\n          align: scrollToAlignment,\n          containerSize: width - scrollBarSize,\n          currentOffset: scrollLeft,\n          targetIndex: targetIndex\n        });\n      }\n\n      return 0;\n    }\n  }, {\n    key: '_getScrollLeftForScrollToColumnStateUpdate',\n    value: function _getScrollLeftForScrollToColumnStateUpdate(nextProps, prevState) {\n      var scrollLeft = prevState.scrollLeft;\n\n      var calculatedScrollLeft = Grid._getCalculatedScrollLeft(nextProps, prevState);\n\n      if (typeof calculatedScrollLeft === 'number' && calculatedScrollLeft >= 0 && scrollLeft !== calculatedScrollLeft) {\n        return Grid._getScrollToPositionStateUpdate({\n          prevState: prevState,\n          scrollLeft: calculatedScrollLeft,\n          scrollTop: -1\n        });\n      }\n\n      return null;\n    }\n  }, {\n    key: '_getCalculatedScrollTop',\n    value: function _getCalculatedScrollTop(nextProps, prevState) {\n      var height = nextProps.height,\n          rowCount = nextProps.rowCount,\n          scrollToAlignment = nextProps.scrollToAlignment,\n          scrollToRow = nextProps.scrollToRow,\n          width = nextProps.width;\n      var scrollTop = prevState.scrollTop,\n          instanceProps = prevState.instanceProps;\n\n      if (rowCount > 0) {\n        var finalRow = rowCount - 1;\n        var targetIndex = scrollToRow < 0 ? finalRow : Math.min(finalRow, scrollToRow);\n        var totalColumnsWidth = instanceProps.columnSizeAndPositionManager.getTotalSize();\n        var scrollBarSize = instanceProps.scrollbarSizeMeasured && totalColumnsWidth > width ? instanceProps.scrollbarSize : 0;\n        return instanceProps.rowSizeAndPositionManager.getUpdatedOffsetForIndex({\n          align: scrollToAlignment,\n          containerSize: height - scrollBarSize,\n          currentOffset: scrollTop,\n          targetIndex: targetIndex\n        });\n      }\n\n      return 0;\n    }\n  }, {\n    key: '_getScrollTopForScrollToRowStateUpdate',\n    value: function _getScrollTopForScrollToRowStateUpdate(nextProps, prevState) {\n      var scrollTop = prevState.scrollTop;\n\n      var calculatedScrollTop = Grid._getCalculatedScrollTop(nextProps, prevState);\n\n      if (typeof calculatedScrollTop === 'number' && calculatedScrollTop >= 0 && scrollTop !== calculatedScrollTop) {\n        return Grid._getScrollToPositionStateUpdate({\n          prevState: prevState,\n          scrollLeft: -1,\n          scrollTop: calculatedScrollTop\n        });\n      }\n\n      return null;\n    }\n  }]);\n\n  return Grid;\n}(PureComponent);\n\nGrid.defaultProps = {\n  'aria-label': 'grid',\n  'aria-readonly': true,\n  autoContainerWidth: false,\n  autoHeight: false,\n  autoWidth: false,\n  cellRangeRenderer: defaultCellRangeRenderer,\n  containerRole: 'rowgroup',\n  containerStyle: {},\n  estimatedColumnSize: 100,\n  estimatedRowSize: 30,\n  getScrollbarSize: scrollbarSize,\n  noContentRenderer: renderNull,\n  onScroll: function onScroll() {},\n  onScrollbarPresenceChange: function onScrollbarPresenceChange() {},\n  onSectionRendered: function onSectionRendered() {},\n  overscanColumnCount: 0,\n  overscanIndicesGetter: defaultOverscanIndicesGetter,\n  overscanRowCount: 10,\n  role: 'grid',\n  scrollingResetTimeInterval: DEFAULT_SCROLLING_RESET_TIME_INTERVAL,\n  scrollToAlignment: 'auto',\n  scrollToColumn: -1,\n  scrollToRow: -1,\n  style: {},\n  tabIndex: 0,\n  isScrollingOptOut: false\n};\nGrid.propTypes = process.env.NODE_ENV === 'production' ? null : {\n  \"aria-label\": propTypes.string.isRequired,\n  \"aria-readonly\": propTypes.bool,\n\n  /**\n   * Set the width of the inner scrollable container to 'auto'.\n   * This is useful for single-column Grids to ensure that the column doesn't extend below a vertical scrollbar.\n   */\n  autoContainerWidth: propTypes.bool.isRequired,\n\n  /**\n   * Removes fixed height from the scrollingContainer so that the total height of rows can stretch the window.\n   * Intended for use with WindowScroller\n   */\n  autoHeight: propTypes.bool.isRequired,\n\n  /**\n   * Removes fixed width from the scrollingContainer so that the total width of rows can stretch the window.\n   * Intended for use with WindowScroller\n   */\n  autoWidth: propTypes.bool.isRequired,\n\n  /** Responsible for rendering a cell given an row and column index.  */\n  cellRenderer: function cellRenderer() {\n    return (typeof bpfrpt_proptype_CellRenderer === 'function' ? bpfrpt_proptype_CellRenderer.isRequired ? bpfrpt_proptype_CellRenderer.isRequired : bpfrpt_proptype_CellRenderer : propTypes.shape(bpfrpt_proptype_CellRenderer).isRequired).apply(this, arguments);\n  },\n\n  /** Responsible for rendering a group of cells given their index ranges.  */\n  cellRangeRenderer: function cellRangeRenderer() {\n    return (typeof bpfrpt_proptype_CellRangeRenderer === 'function' ? bpfrpt_proptype_CellRangeRenderer.isRequired ? bpfrpt_proptype_CellRangeRenderer.isRequired : bpfrpt_proptype_CellRangeRenderer : propTypes.shape(bpfrpt_proptype_CellRangeRenderer).isRequired).apply(this, arguments);\n  },\n\n  /** Optional custom CSS class name to attach to root Grid element.  */\n  className: propTypes.string,\n\n  /** Number of columns in grid.  */\n  columnCount: propTypes.number.isRequired,\n\n  /** Either a fixed column width (number) or a function that returns the width of a column given its index.  */\n  columnWidth: function columnWidth() {\n    return (typeof bpfrpt_proptype_CellSize === 'function' ? bpfrpt_proptype_CellSize.isRequired ? bpfrpt_proptype_CellSize.isRequired : bpfrpt_proptype_CellSize : propTypes.shape(bpfrpt_proptype_CellSize).isRequired).apply(this, arguments);\n  },\n\n  /** Unfiltered props for the Grid container. */\n  containerProps: propTypes.object,\n\n  /** ARIA role for the cell-container.  */\n  containerRole: propTypes.string.isRequired,\n\n  /** Optional inline style applied to inner cell-container */\n  containerStyle: propTypes.object.isRequired,\n\n  /**\n   * If CellMeasurer is used to measure this Grid's children, this should be a pointer to its CellMeasurerCache.\n   * A shared CellMeasurerCache reference enables Grid and CellMeasurer to share measurement data.\n   */\n  deferredMeasurementCache: propTypes.object,\n\n  /**\n   * Used to estimate the total width of a Grid before all of its columns have actually been measured.\n   * The estimated total width is adjusted as columns are rendered.\n   */\n  estimatedColumnSize: propTypes.number.isRequired,\n\n  /**\n   * Used to estimate the total height of a Grid before all of its rows have actually been measured.\n   * The estimated total height is adjusted as rows are rendered.\n   */\n  estimatedRowSize: propTypes.number.isRequired,\n\n  /** Exposed for testing purposes only.  */\n  getScrollbarSize: propTypes.func.isRequired,\n\n  /** Height of Grid; this property determines the number of visible (vs virtualized) rows.  */\n  height: propTypes.number.isRequired,\n\n  /** Optional custom id to attach to root Grid element.  */\n  id: propTypes.string,\n\n  /**\n   * Override internal is-scrolling state tracking.\n   * This property is primarily intended for use with the WindowScroller component.\n   */\n  isScrolling: propTypes.bool,\n\n  /**\n   * Opt-out of isScrolling param passed to cellRangeRenderer.\n   * To avoid the extra render when scroll stops.\n   */\n  isScrollingOptOut: propTypes.bool.isRequired,\n\n  /** Optional renderer to be used in place of rows when either :rowCount or :columnCount is 0.  */\n  noContentRenderer: function noContentRenderer() {\n    return (typeof bpfrpt_proptype_NoContentRenderer === 'function' ? bpfrpt_proptype_NoContentRenderer.isRequired ? bpfrpt_proptype_NoContentRenderer.isRequired : bpfrpt_proptype_NoContentRenderer : propTypes.shape(bpfrpt_proptype_NoContentRenderer).isRequired).apply(this, arguments);\n  },\n\n  /**\n   * Callback invoked whenever the scroll offset changes within the inner scrollable region.\n   * This callback can be used to sync scrolling between lists, tables, or grids.\n   */\n  onScroll: propTypes.func.isRequired,\n\n  /**\n   * Called whenever a horizontal or vertical scrollbar is added or removed.\n   * This prop is not intended for end-user use;\n   * It is used by MultiGrid to support fixed-row/fixed-column scroll syncing.\n   */\n  onScrollbarPresenceChange: propTypes.func.isRequired,\n\n  /** Callback invoked with information about the section of the Grid that was just rendered.  */\n  onSectionRendered: propTypes.func.isRequired,\n\n  /**\n   * Number of columns to render before/after the visible section of the grid.\n   * These columns can help for smoother scrolling on touch devices or browsers that send scroll events infrequently.\n   */\n  overscanColumnCount: propTypes.number.isRequired,\n\n  /**\n   * Calculates the number of cells to overscan before and after a specified range.\n   * This function ensures that overscanning doesn't exceed the available cells.\n   */\n  overscanIndicesGetter: function overscanIndicesGetter() {\n    return (typeof bpfrpt_proptype_OverscanIndicesGetter === 'function' ? bpfrpt_proptype_OverscanIndicesGetter.isRequired ? bpfrpt_proptype_OverscanIndicesGetter.isRequired : bpfrpt_proptype_OverscanIndicesGetter : propTypes.shape(bpfrpt_proptype_OverscanIndicesGetter).isRequired).apply(this, arguments);\n  },\n\n  /**\n   * Number of rows to render above/below the visible section of the grid.\n   * These rows can help for smoother scrolling on touch devices or browsers that send scroll events infrequently.\n   */\n  overscanRowCount: propTypes.number.isRequired,\n\n  /** ARIA role for the grid element.  */\n  role: propTypes.string.isRequired,\n\n  /**\n   * Either a fixed row height (number) or a function that returns the height of a row given its index.\n   * Should implement the following interface: ({ index: number }): number\n   */\n  rowHeight: function rowHeight() {\n    return (typeof bpfrpt_proptype_CellSize === 'function' ? bpfrpt_proptype_CellSize.isRequired ? bpfrpt_proptype_CellSize.isRequired : bpfrpt_proptype_CellSize : propTypes.shape(bpfrpt_proptype_CellSize).isRequired).apply(this, arguments);\n  },\n\n  /** Number of rows in grid.  */\n  rowCount: propTypes.number.isRequired,\n\n  /** Wait this amount of time after the last scroll event before resetting Grid `pointer-events`. */\n  scrollingResetTimeInterval: propTypes.number.isRequired,\n\n  /** Horizontal offset. */\n  scrollLeft: propTypes.number,\n\n  /**\n   * Controls scroll-to-cell behavior of the Grid.\n   * The default (\"auto\") scrolls the least amount possible to ensure that the specified cell is fully visible.\n   * Use \"start\" to align cells to the top/left of the Grid and \"end\" to align bottom/right.\n   */\n  scrollToAlignment: function scrollToAlignment() {\n    return (typeof bpfrpt_proptype_Alignment === 'function' ? bpfrpt_proptype_Alignment.isRequired ? bpfrpt_proptype_Alignment.isRequired : bpfrpt_proptype_Alignment : propTypes.shape(bpfrpt_proptype_Alignment).isRequired).apply(this, arguments);\n  },\n\n  /** Column index to ensure visible (by forcefully scrolling if necessary) */\n  scrollToColumn: propTypes.number.isRequired,\n\n  /** Vertical offset. */\n  scrollTop: propTypes.number,\n\n  /** Row index to ensure visible (by forcefully scrolling if necessary) */\n  scrollToRow: propTypes.number.isRequired,\n\n  /** Optional inline style */\n  style: propTypes.object.isRequired,\n\n  /** Tab index for focus */\n  tabIndex: propTypes.number,\n\n  /** Width of Grid; this property determines the number of visible (vs virtualized) columns.  */\n  width: propTypes.number.isRequired\n};\npolyfill(Grid);\nvar SCROLL_DIRECTION_FORWARD$1 = 1;\n/**\n * Calculates the number of cells to overscan before and after a specified range.\n * This function ensures that overscanning doesn't exceed the available cells.\n */\n\nfunction defaultOverscanIndicesGetter$1(_ref) {\n  var cellCount = _ref.cellCount,\n      overscanCellsCount = _ref.overscanCellsCount,\n      scrollDirection = _ref.scrollDirection,\n      startIndex = _ref.startIndex,\n      stopIndex = _ref.stopIndex; // Make sure we render at least 1 cell extra before and after (except near boundaries)\n  // This is necessary in order to support keyboard navigation (TAB/SHIFT+TAB) in some cases\n  // For more info see issues #625\n\n  overscanCellsCount = Math.max(1, overscanCellsCount);\n\n  if (scrollDirection === SCROLL_DIRECTION_FORWARD$1) {\n    return {\n      overscanStartIndex: Math.max(0, startIndex - 1),\n      overscanStopIndex: Math.min(cellCount - 1, stopIndex + overscanCellsCount)\n    };\n  } else {\n    return {\n      overscanStartIndex: Math.max(0, startIndex - overscanCellsCount),\n      overscanStopIndex: Math.min(cellCount - 1, stopIndex + 1)\n    };\n  }\n}\n\nvar bpfrpt_proptype_RowRendererParams = process.env.NODE_ENV === 'production' ? null : {\n  index: propTypes.number.isRequired,\n  isScrolling: propTypes.bool.isRequired,\n  isVisible: propTypes.bool.isRequired,\n  key: propTypes.string.isRequired,\n  parent: propTypes.object.isRequired,\n  style: propTypes.object.isRequired\n};\nvar bpfrpt_proptype_RowRenderer = process.env.NODE_ENV === 'production' ? null : propTypes.func;\nvar bpfrpt_proptype_RenderedRows = process.env.NODE_ENV === 'production' ? null : {\n  overscanStartIndex: propTypes.number.isRequired,\n  overscanStopIndex: propTypes.number.isRequired,\n  startIndex: propTypes.number.isRequired,\n  stopIndex: propTypes.number.isRequired\n};\nvar bpfrpt_proptype_Scroll$1 = process.env.NODE_ENV === 'production' ? null : {\n  clientHeight: propTypes.number.isRequired,\n  scrollHeight: propTypes.number.isRequired,\n  scrollTop: propTypes.number.isRequired\n};\n/**\n * It is inefficient to create and manage a large list of DOM elements within a scrolling container\n * if only a few of those elements are visible. The primary purpose of this component is to improve\n * performance by only rendering the DOM nodes that a user is able to see based on their current\n * scroll position.\n *\n * This component renders a virtualized list of elements with either fixed or dynamic heights.\n */\n\nvar List = function (_React$PureComponent) {\n  _inherits(List, _React$PureComponent);\n\n  function List() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, List);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = List.__proto__ || _Object$getPrototypeOf(List)).call.apply(_ref, [this].concat(args))), _this), _this._cellRenderer = function (_ref2) {\n      var parent = _ref2.parent,\n          rowIndex = _ref2.rowIndex,\n          style = _ref2.style,\n          isScrolling = _ref2.isScrolling,\n          isVisible = _ref2.isVisible,\n          key = _ref2.key;\n      var rowRenderer = _this.props.rowRenderer; // TRICKY The style object is sometimes cached by Grid.\n      // This prevents new style objects from bypassing shallowCompare().\n      // However as of React 16, style props are auto-frozen (at least in dev mode)\n      // Check to make sure we can still modify the style before proceeding.\n      // https://github.com/facebook/react/commit/977357765b44af8ff0cfea327866861073095c12#commitcomment-20648713\n\n      var _Object$getOwnPropert = _Object$getOwnPropertyDescriptor(style, 'width'),\n          writable = _Object$getOwnPropert.writable;\n\n      if (writable) {\n        // By default, List cells should be 100% width.\n        // This prevents them from flowing under a scrollbar (if present).\n        style.width = '100%';\n      }\n\n      return rowRenderer({\n        index: rowIndex,\n        style: style,\n        isScrolling: isScrolling,\n        isVisible: isVisible,\n        key: key,\n        parent: parent\n      });\n    }, _this._setRef = function (ref) {\n      _this.Grid = ref;\n    }, _this._onScroll = function (_ref3) {\n      var clientHeight = _ref3.clientHeight,\n          scrollHeight = _ref3.scrollHeight,\n          scrollTop = _ref3.scrollTop;\n      var onScroll = _this.props.onScroll;\n      onScroll({\n        clientHeight: clientHeight,\n        scrollHeight: scrollHeight,\n        scrollTop: scrollTop\n      });\n    }, _this._onSectionRendered = function (_ref4) {\n      var rowOverscanStartIndex = _ref4.rowOverscanStartIndex,\n          rowOverscanStopIndex = _ref4.rowOverscanStopIndex,\n          rowStartIndex = _ref4.rowStartIndex,\n          rowStopIndex = _ref4.rowStopIndex;\n      var onRowsRendered = _this.props.onRowsRendered;\n      onRowsRendered({\n        overscanStartIndex: rowOverscanStartIndex,\n        overscanStopIndex: rowOverscanStopIndex,\n        startIndex: rowStartIndex,\n        stopIndex: rowStopIndex\n      });\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(List, [{\n    key: 'forceUpdateGrid',\n    value: function forceUpdateGrid() {\n      if (this.Grid) {\n        this.Grid.forceUpdate();\n      }\n    }\n    /** See Grid#getOffsetForCell */\n\n  }, {\n    key: 'getOffsetForRow',\n    value: function getOffsetForRow(_ref5) {\n      var alignment = _ref5.alignment,\n          index = _ref5.index;\n\n      if (this.Grid) {\n        var _Grid$getOffsetForCel = this.Grid.getOffsetForCell({\n          alignment: alignment,\n          rowIndex: index,\n          columnIndex: 0\n        }),\n            _scrollTop = _Grid$getOffsetForCel.scrollTop;\n\n        return _scrollTop;\n      }\n\n      return 0;\n    }\n    /** CellMeasurer compatibility */\n\n  }, {\n    key: 'invalidateCellSizeAfterRender',\n    value: function invalidateCellSizeAfterRender(_ref6) {\n      var columnIndex = _ref6.columnIndex,\n          rowIndex = _ref6.rowIndex;\n\n      if (this.Grid) {\n        this.Grid.invalidateCellSizeAfterRender({\n          rowIndex: rowIndex,\n          columnIndex: columnIndex\n        });\n      }\n    }\n    /** See Grid#measureAllCells */\n\n  }, {\n    key: 'measureAllRows',\n    value: function measureAllRows() {\n      if (this.Grid) {\n        this.Grid.measureAllCells();\n      }\n    }\n    /** CellMeasurer compatibility */\n\n  }, {\n    key: 'recomputeGridSize',\n    value: function recomputeGridSize() {\n      var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref7$columnIndex = _ref7.columnIndex,\n          columnIndex = _ref7$columnIndex === undefined ? 0 : _ref7$columnIndex,\n          _ref7$rowIndex = _ref7.rowIndex,\n          rowIndex = _ref7$rowIndex === undefined ? 0 : _ref7$rowIndex;\n\n      if (this.Grid) {\n        this.Grid.recomputeGridSize({\n          rowIndex: rowIndex,\n          columnIndex: columnIndex\n        });\n      }\n    }\n    /** See Grid#recomputeGridSize */\n\n  }, {\n    key: 'recomputeRowHeights',\n    value: function recomputeRowHeights() {\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n      if (this.Grid) {\n        this.Grid.recomputeGridSize({\n          rowIndex: index,\n          columnIndex: 0\n        });\n      }\n    }\n    /** See Grid#scrollToPosition */\n\n  }, {\n    key: 'scrollToPosition',\n    value: function scrollToPosition() {\n      var scrollTop = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n      if (this.Grid) {\n        this.Grid.scrollToPosition({\n          scrollTop: scrollTop\n        });\n      }\n    }\n    /** See Grid#scrollToCell */\n\n  }, {\n    key: 'scrollToRow',\n    value: function scrollToRow() {\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n      if (this.Grid) {\n        this.Grid.scrollToCell({\n          columnIndex: 0,\n          rowIndex: index\n        });\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          className = _props.className,\n          noRowsRenderer = _props.noRowsRenderer,\n          scrollToIndex = _props.scrollToIndex,\n          width = _props.width;\n      var classNames = clsx('ReactVirtualized__List', className);\n      return createElement(Grid, _extends$6({}, this.props, {\n        autoContainerWidth: true,\n        cellRenderer: this._cellRenderer,\n        className: classNames,\n        columnWidth: width,\n        columnCount: 1,\n        noContentRenderer: noRowsRenderer,\n        onScroll: this._onScroll,\n        onSectionRendered: this._onSectionRendered,\n        ref: this._setRef,\n        scrollToRow: scrollToIndex\n      }));\n    }\n  }]);\n\n  return List;\n}(PureComponent);\n\nList.defaultProps = {\n  autoHeight: false,\n  estimatedRowSize: 30,\n  onScroll: function onScroll() {},\n  noRowsRenderer: function noRowsRenderer() {\n    return null;\n  },\n  onRowsRendered: function onRowsRendered() {},\n  overscanIndicesGetter: defaultOverscanIndicesGetter$1,\n  overscanRowCount: 10,\n  scrollToAlignment: 'auto',\n  scrollToIndex: -1,\n  style: {}\n};\nList.propTypes = process.env.NODE_ENV === 'production' ? null : {\n  \"aria-label\": propTypes.string,\n\n  /**\n   * Removes fixed height from the scrollingContainer so that the total height\n   * of rows can stretch the window. Intended for use with WindowScroller\n   */\n  autoHeight: propTypes.bool.isRequired,\n\n  /** Optional CSS class name */\n  className: propTypes.string,\n\n  /**\n   * Used to estimate the total height of a List before all of its rows have actually been measured.\n   * The estimated total height is adjusted as rows are rendered.\n   */\n  estimatedRowSize: propTypes.number.isRequired,\n\n  /** Height constraint for list (determines how many actual rows are rendered) */\n  height: propTypes.number.isRequired,\n\n  /** Optional renderer to be used in place of rows when rowCount is 0 */\n  noRowsRenderer: function noRowsRenderer() {\n    return (typeof bpfrpt_proptype_NoContentRenderer === 'function' ? bpfrpt_proptype_NoContentRenderer.isRequired ? bpfrpt_proptype_NoContentRenderer.isRequired : bpfrpt_proptype_NoContentRenderer : propTypes.shape(bpfrpt_proptype_NoContentRenderer).isRequired).apply(this, arguments);\n  },\n\n  /** Callback invoked with information about the slice of rows that were just rendered.  */\n  onRowsRendered: propTypes.func.isRequired,\n\n  /**\n   * Callback invoked whenever the scroll offset changes within the inner scrollable region.\n   * This callback can be used to sync scrolling between lists, tables, or grids.\n   */\n  onScroll: propTypes.func.isRequired,\n\n  /** See Grid#overscanIndicesGetter */\n  overscanIndicesGetter: function overscanIndicesGetter() {\n    return (typeof bpfrpt_proptype_OverscanIndicesGetter === 'function' ? bpfrpt_proptype_OverscanIndicesGetter.isRequired ? bpfrpt_proptype_OverscanIndicesGetter.isRequired : bpfrpt_proptype_OverscanIndicesGetter : propTypes.shape(bpfrpt_proptype_OverscanIndicesGetter).isRequired).apply(this, arguments);\n  },\n\n  /**\n   * Number of rows to render above/below the visible bounds of the list.\n   * These rows can help for smoother scrolling on touch devices.\n   */\n  overscanRowCount: propTypes.number.isRequired,\n\n  /** Either a fixed row height (number) or a function that returns the height of a row given its index.  */\n  rowHeight: function rowHeight() {\n    return (typeof bpfrpt_proptype_CellSize === 'function' ? bpfrpt_proptype_CellSize.isRequired ? bpfrpt_proptype_CellSize.isRequired : bpfrpt_proptype_CellSize : propTypes.shape(bpfrpt_proptype_CellSize).isRequired).apply(this, arguments);\n  },\n\n  /** Responsible for rendering a row given an index; ({ index: number }): node */\n  rowRenderer: function rowRenderer() {\n    return (typeof bpfrpt_proptype_RowRenderer === 'function' ? bpfrpt_proptype_RowRenderer.isRequired ? bpfrpt_proptype_RowRenderer.isRequired : bpfrpt_proptype_RowRenderer : propTypes.shape(bpfrpt_proptype_RowRenderer).isRequired).apply(this, arguments);\n  },\n\n  /** Number of rows in list. */\n  rowCount: propTypes.number.isRequired,\n\n  /** See Grid#scrollToAlignment */\n  scrollToAlignment: function scrollToAlignment() {\n    return (typeof bpfrpt_proptype_Alignment === 'function' ? bpfrpt_proptype_Alignment.isRequired ? bpfrpt_proptype_Alignment.isRequired : bpfrpt_proptype_Alignment : propTypes.shape(bpfrpt_proptype_Alignment).isRequired).apply(this, arguments);\n  },\n\n  /** Row index to ensure visible (by forcefully scrolling if necessary) */\n  scrollToIndex: propTypes.number.isRequired,\n\n  /** Vertical offset. */\n  scrollTop: propTypes.number,\n\n  /** Optional inline style */\n  style: propTypes.object.isRequired,\n\n  /** Tab index for focus */\n  tabIndex: propTypes.number,\n\n  /** Width of list */\n  width: propTypes.number.isRequired\n};\n/** Used to generate unique IDs. */\n\nvar idCounter = 0;\n/**\n * Generates a unique ID. If `prefix` is given, the ID is appended to it.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {string} [prefix=''] The value to prefix the ID with.\n * @returns {string} Returns the unique ID.\n * @example\n *\n * _.uniqueId('contact_');\n * // => 'contact_104'\n *\n * _.uniqueId();\n * // => '105'\n */\n\nfunction uniqueId(prefix) {\n  var id = ++idCounter;\n  return toString_1(prefix) + id;\n}\n\nvar uniqueId_1 = uniqueId;\nvar baseClassName$2 = settings.prefix + \"--ci-doc-virtual-scroll\";\n\nvar VirtualScroll = function VirtualScroll(_a, ref) {\n  var _rowRenderer = _a.children,\n      rowCount = _a.rowCount,\n      width = _a.width,\n      height = _a.height;\n  var listRef = useRef();\n  var instanceRef = useRef();\n  useState(initInstance.bind(null, listRef, instanceRef));\n  var _b = instanceRef.current,\n      cache = _b.cache,\n      onResize = _b.onResize,\n      getElementById = _b.getElementById,\n      getPrefixedId = _b.getPrefixedId,\n      scrollToRow = _b.scrollToRow,\n      scrollIntoView = _b.scrollIntoView,\n      scrollToRowCallback = _b.scrollToRowCallback;\n  useImperativeHandle(ref, function () {\n    return {\n      scrollIntoView: scrollIntoView,\n      scrollToRow: scrollToRow,\n      getElementById: getElementById,\n      listRef: listRef\n    };\n  });\n  var Sizer = AutoSizer;\n\n  if (width && height) {\n    Sizer = function Sizer(_a) {\n      var children = _a.children;\n      return children({\n        width: width,\n        height: height\n      });\n    };\n  }\n\n  return React$g__default.createElement(Sizer, {\n    className: baseClassName$2,\n    onResize: onResize\n  }, function (_a) {\n    var width = _a.width,\n        height = _a.height;\n    return React$g__default.createElement(List, {\n      ref: listRef,\n      width: width,\n      height: height,\n      overscan: 3,\n      rowCount: rowCount,\n      deferredMeasurementCache: cache,\n      rowHeight: cache.rowHeight,\n      onRowsRendered: scrollToRowCallback,\n      rowRenderer: function rowRenderer(_a) {\n        var index = _a.index,\n            key = _a.key,\n            parent = _a.parent,\n            style = _a.style;\n        return React$g__default.createElement(CellMeasurer, {\n          cache: cache,\n          columnIndex: 0,\n          key: key,\n          parent: parent,\n          rowIndex: index\n        }, React$g__default.createElement(\"div\", {\n          id: getPrefixedId(index),\n          style: style\n        }, _rowRenderer({\n          index: index\n        })));\n      }\n    });\n  });\n};\n\nfunction initInstance(listRef, instanceRef) {\n  var _this = this;\n\n  instanceRef.current = {\n    cache: new CellMeasurerCache({\n      defaultHeight: 10,\n      fixedWidth: true\n    }),\n    onResize: function onResize() {\n      instanceRef.current.cache.clearAll();\n      listRef.current && listRef.current.forceUpdateGrid();\n    },\n    getElementById: function getElementById(id) {\n      // eslint-disable-next-line react/no-find-dom-node\n      var listNode = findDOMNode(listRef.current);\n      return listNode ? listNode.querySelector(\"#\" + id) : null;\n    },\n    idPrefix: uniqueId_1('VirtualScroll-') + '-',\n    getPrefixedId: function getPrefixedId(id) {\n      return \"\" + instanceRef.current.idPrefix + id;\n    },\n    scrollToRow: function scrollToRow(index, ttl) {\n      if (ttl === void 0) {\n        ttl = 500;\n      }\n\n      return new Promise(function (resolve, reject) {\n        return __awaiter(_this, void 0, void 0, function () {\n          var _a, promisedRow, cache, getElementById, getPrefixedId;\n\n          return __generator(this, function (_b) {\n            _a = instanceRef.current, promisedRow = _a.promisedRow, cache = _a.cache, getElementById = _a.getElementById, getPrefixedId = _a.getPrefixedId;\n            if (getElementById(getPrefixedId(index))) resolve(); // If we've seen the row before, scroll once. If we haven't, scroll twice. See this issue for\n            // explanation: https://github.com/bvaughn/react-virtualized/issues/995\n\n            instanceRef.current.promisedRow = {\n              index: index,\n              resolve: resolve,\n              remainingTries: cache._rowHeightCache[index + \"-0\"] ? 0 : 1\n            };\n            listRef.current.scrollToRow(index);\n            setTimeout(function () {\n              return promisedRow && promisedRow.index === index && reject();\n            }, ttl);\n            return [2\n            /*return*/\n            ];\n          });\n        });\n      });\n    },\n    // This function is called in onRowsRendered as (sort of) a callback after the scroll event occurs\n    scrollToRowCallback: function scrollToRowCallback() {\n      var promisedRow = instanceRef.current.promisedRow;\n      if (!promisedRow) return;\n      var index = promisedRow.index,\n          resolve = promisedRow.resolve,\n          remainingTries = promisedRow.remainingTries;\n\n      if (remainingTries) {\n        promisedRow.remainingTries--;\n        listRef.current.scrollToRow(index);\n      } else {\n        instanceRef.current.promisedRow = null;\n        resolve();\n      }\n    },\n    scrollIntoView: function scrollIntoView(row, elemSelector) {\n      return __awaiter(_this, void 0, void 0, function () {\n        var listDom_1, elem, err_1;\n        return __generator(this, function (_a) {\n          switch (_a.label) {\n            case 0:\n              _a.trys.push([0, 4,, 5]);\n\n              listDom_1 = findDOMNode(listRef.current);\n              elem = listDom_1.querySelector(elemSelector);\n\n              if (isVisible(elem, listRef)) {\n                // If element is already visible, don't scroll at all\n                return [2\n                /*return*/\n                ];\n              }\n\n              if (!!elem) return [3\n              /*break*/\n              , 2]; // If element is not in DOM, scroll to its row\n\n              return [4\n              /*yield*/\n              , instanceRef.current.scrollToRow(row)];\n\n            case 1:\n              // If element is not in DOM, scroll to its row\n              _a.sent();\n\n              _a.label = 2;\n\n            case 2:\n              return [4\n              /*yield*/\n              , new Promise(function (resolve) {\n                var count = 0;\n                var retry = 50;\n                var timeout = 1000;\n\n                var checkForElement = function checkForElement() {\n                  var item = listDom_1.querySelector(elemSelector);\n\n                  if (!item && count * retry < timeout) {\n                    count++;\n                    setTimeout(function () {\n                      checkForElement();\n                    }, retry);\n                  } else {\n                    resolve(item);\n                  }\n                };\n\n                checkForElement();\n              })];\n\n            case 3:\n              // Check for the element until it exists using the given selector\n              // (Max of 1 second before giving up)\n              elem = _a.sent();\n\n              if (elem) {\n                elem.childNodes[0].scrollIntoView({\n                  block: 'center'\n                });\n              }\n\n              return [3\n              /*break*/\n              , 5];\n\n            case 4:\n              err_1 = _a.sent();\n              return [3\n              /*break*/\n              , 5];\n\n            case 5:\n              return [2\n              /*return*/\n              ];\n          }\n        });\n      });\n    }\n  };\n}\n\nfunction isVisible(item, listRef) {\n  if (!item || !listRef) {\n    return false;\n  } // eslint-disable-next-line react/no-find-dom-node\n\n\n  var listNode = findDOMNode(listRef.current);\n\n  if (!listNode) {\n    return false;\n  }\n\n  var _a = listNode.getBoundingClientRect(),\n      docTop = _a.top,\n      docBottom = _a.bottom;\n\n  var _b = itemBounds(item),\n      itemTop = _b.itemTop,\n      itemBottom = _b.itemBottom;\n\n  return itemTop >= docTop && itemBottom <= docBottom;\n}\n\nfunction itemBounds(item) {\n  var _a = item.getBoundingClientRect(),\n      itemTop = _a.top,\n      itemBottom = _a.bottom;\n\n  if (itemTop !== itemBottom) {\n    return {\n      itemTop: itemTop,\n      itemBottom: itemBottom\n    };\n  } else {\n    var childrenBounds = Array.from(item.children).map(function (child) {\n      // Is there a way to combine these two lines?\n      // Returning { top, bottom } = child.getBoundingClientRect() doesn't seem to work...\n      var _a = child.getBoundingClientRect(),\n          top = _a.top,\n          bottom = _a.bottom;\n\n      return {\n        top: top,\n        bottom: bottom\n      };\n    });\n    return {\n      itemTop: Math.min.apply(Math, childrenBounds.map(function (bound) {\n        return bound.top;\n      })),\n      itemBottom: Math.max.apply(Math, childrenBounds.map(function (bound) {\n        return bound.bottom;\n      }))\n    };\n  }\n}\n\nvar VirtualScroll$1 = forwardRef(VirtualScroll); // @see https://www.carbondesignsystem.com/guidelines/color/usage/\n// @see https://www.ibm.com/design/language/elements/color\n\nvar colors = {\n  blue20: '#c9deff',\n  blue30: '#97c1ff',\n  gray20: '#dcdcdc',\n  purple30: '#d0b0ff'\n};\nvar whiteTheme = {\n  highlight: colors.blue20,\n  hover_selected_ui: colors.gray20\n};\nvar defaultTheme = {\n  highlightBackground: whiteTheme.highlight,\n  activeHighlightBackground: colors.blue30,\n  highlightWithinActiveHighlightBackground: colors.purple30,\n  textHoverBackground: whiteTheme.hover_selected_ui\n};\n/**\r\n * Renders a \"CI\" (HTML) document using a virtual \"infinite\" list, for\r\n * performance reasons.\r\n */\n\nvar baseClassName$3 = settings.prefix + \"--ci-doc-content\";\n\nvar CIDocumentContent = function CIDocumentContent(_a) {\n  var className = _a.className,\n      _b = _a.sections,\n      sections = _b === void 0 ? [] : _b,\n      _c = _a.styles,\n      docStyles = _c === void 0 ? '' : _c,\n      _d = _a.highlightedIds,\n      highlightedIds = _d === void 0 ? [] : _d,\n      _e = _a.activeIds,\n      activeIds = _e === void 0 ? [] : _e,\n      _f = _a.activePartIds,\n      activePartIds = _f === void 0 ? [] : _f,\n      _g = _a.selectableIds,\n      selectableIds = _g === void 0 ? [] : _g,\n      _h = _a.activeMetadataIds,\n      activeMetadataIds = _h === void 0 ? [] : _h,\n      itemMap = _a.itemMap,\n      width = _a.width,\n      height = _a.height,\n      _j = _a.theme,\n      theme = _j === void 0 ? defaultTheme : _j,\n      _k = _a.onItemClick,\n      onItemClick = _k === void 0 ? function () {} : _k;\n  var virtualScrollRef = useRef();\n  useEffect(function () {\n    var ids = activePartIds.length > 0 && activePartIds || activeIds.length > 0 && activeIds || activeMetadataIds.length > 0 && activeMetadataIds;\n\n    if (ids && ids.length > 0 && virtualScrollRef.current) {\n      scrollToActiveItem(virtualScrollRef, itemMap, ids[0]);\n    }\n  }, [activeIds, activeMetadataIds, activePartIds, itemMap]);\n  var loading = !sections || sections.length === 0;\n  return React$g__default.createElement(\"div\", {\n    className: classnames(baseClassName$3, className, {\n      skeleton: loading\n    })\n  }, loading ? React$g__default.createElement(SkeletonText, {\n    paragraph: true,\n    lineCount: 80\n  }) : React$g__default.createElement(React$g__default.Fragment, null, React$g__default.createElement(\"style\", {\n    \"data-testid\": \"style\"\n  }, docStyles), highlightedIds.length > 0 && React$g__default.createElement(\"style\", null, createStyleRules(highlightedIds, [backgroundColorRule(theme.highlightBackground), // Set z-index to -1 in order to push non-active fields back\n  zIndexRule(-1)])), activeIds && activeIds.length > 0 && React$g__default.createElement(React$g__default.Fragment, null, React$g__default.createElement(\"style\", null, createStyleRules(activeIds, [backgroundColorRule(theme.activeHighlightBackground), zIndexRule(0)]))), activePartIds.length > 0 && React$g__default.createElement(\"style\", null, createStyleRules(activePartIds, [backgroundColorRule(theme.highlightWithinActiveHighlightBackground)])), selectableIds && selectableIds.length > 0 && React$g__default.createElement(\"style\", null, createStyleRules(selectableIds, [underlineRule(theme.textHoverBackground)])), activeMetadataIds.length > 0 && React$g__default.createElement(\"style\", null, createStyleRules(activeMetadataIds, [backgroundColorRule(theme.highlightWithinActiveHighlightBackground)])), sections.length > 0 && React$g__default.createElement(VirtualScroll$1, {\n    key: sections.length + \"-\" + sections[0].html.length,\n    rowCount: sections.length,\n    width: width,\n    height: height,\n    ref: virtualScrollRef\n  }, function (_a) {\n    var index = _a.index;\n    return React$g__default.createElement(Section, {\n      section: sections[index],\n      onFieldClick: onItemClick\n    });\n  })));\n};\n\nfunction createStyleRules(idList, rules) {\n  return idList.map(function (id) {\n    return \".\" + baseClassName$3 + \" .field[data-field-id=\\\"\" + id + \"\\\"] > *\";\n  }).join(',').concat(\"{\" + rules.join(';') + \"}\");\n}\n\nfunction backgroundColorRule(color) {\n  return \"background-color: \" + color;\n}\n\nfunction zIndexRule(value) {\n  return \"z-index: \" + value;\n}\n\nfunction underlineRule(color) {\n  return \"border-bottom: \" + color + \" dashed 1px\";\n}\n\nfunction scrollToActiveItem(virtualScrollRef, itemMap, activeId) {\n  virtualScrollRef.current.scrollIntoView(itemMap.byItem[activeId], \".field[data-field-id=\\\"\" + activeId + \"\\\"]\");\n}\n/** Used for built-in method references. */\n\n\nvar objectProto$f = Object.prototype;\n/** Used to check objects for own properties. */\n\nvar hasOwnProperty$e = objectProto$f.hasOwnProperty;\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The corresponding value of\n * each key is the number of times the key was returned by `iteratee`. The\n * iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.5.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * _.countBy([6.1, 4.2, 6.3], Math.floor);\n * // => { '4': 1, '6': 2 }\n *\n * // The `_.property` iteratee shorthand.\n * _.countBy(['one', 'two', 'three'], 'length');\n * // => { '3': 2, '5': 1 }\n */\n\nvar countBy = _createAggregator(function (result, value, key) {\n  if (hasOwnProperty$e.call(result, key)) {\n    ++result[key];\n  } else {\n    _baseAssignValue(result, key, 1);\n  }\n});\n\nvar countBy_1 = countBy;\n\nvar contractDetailsFromItem = function contractDetailsFromItem(item) {\n  return [{\n    heading: 'categories',\n    items: item.categories\n  }, {\n    heading: 'types',\n    items: getTypeDetails(item.types)\n  }, {\n    heading: 'attributes',\n    items: getContractAttributes(item.attributes)\n  }];\n};\n\nvar nonContractDetailsFromItem = function nonContractDetailsFromItem(item) {\n  var details = [{\n    heading: 'type',\n    items: [item.type]\n  }];\n\n  if (item.attributes) {\n    details.push({\n      heading: 'attributes',\n      items: getAttributesWithinRelation(item.attributes)\n    });\n  }\n\n  return details;\n};\n\nvar modelMapping$1 = {\n  contract: contractDetailsFromItem,\n  invoice: nonContractDetailsFromItem,\n  purchase_order: nonContractDetailsFromItem\n};\n/**\r\n *\r\n * @param enrichmentName\r\n * @return\r\n */\n\nfunction getDetailsFromItem(enrichmentName) {\n  return modelMapping$1[enrichmentName];\n}\n\nfunction getContractAttributes(attributes) {\n  var typesWithCounts = getTypesWithCounts(attributes);\n  return typesWithCounts.map(function (_a) {\n    var type = _a[0],\n        count = _a[1];\n    return {\n      type: type,\n      label: type + \" (\" + count + \")\",\n      link: true\n    };\n  });\n}\n\nfunction getAttributesWithinRelation(attributes) {\n  return attributes.map(function (_a) {\n    var type = _a.type,\n        text = _a.text;\n    return {\n      type: type,\n      value: {\n        label: text\n      },\n      link: true\n    };\n  });\n}\n\nfunction getTypesWithCounts(types) {\n  return Object.entries(countBy_1(types, function (_a) {\n    var type = _a.type;\n    return type;\n  }));\n}\n\nfunction getTypeDetails(types) {\n  return types.map(function (_a) {\n    var label = _a.label;\n    return Object.entries(label).map(function (_a) {\n      var key = _a[0],\n          value = _a[1];\n      return capitalize_1(key) + \": \" + value;\n    }).join(', ');\n  });\n}\n\nfunction getDetailsFromMetadata(data) {\n  if (data.metadataType) {\n    return [{\n      heading: 'type',\n      items: [data.metadataType]\n    }];\n  }\n\n  return [{\n    heading: 'party',\n    items: [data.text.toUpperCase()]\n  }];\n}\n/**\n * Creates a duplicate-free version of an array, using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons, in which only the first occurrence of each element\n * is kept. The order of result values is determined by the order they occur\n * in the array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * _.uniq([2, 1, 2]);\n * // => [2, 1]\n */\n\n\nfunction uniq(array) {\n  return array && array.length ? _baseUniq(array) : [];\n}\n\nvar uniq_1 = uniq;\nvar contractFilterGroups = [{\n  id: 'CATEGORY',\n  type: 'checkbox',\n  labelsFromItem: function labelsFromItem(item) {\n    return item.categories.map(function (category) {\n      return category.label;\n    });\n  },\n  applyFilter: function applyFilter(list, label) {\n    return list.filter(function (item) {\n      return item.categories.some(function (category) {\n        return category.label === label;\n      });\n    });\n  }\n}, {\n  id: 'NATURE',\n  type: 'radio',\n  labelsFromItem: function labelsFromItem(item) {\n    return item.types.map(function (type) {\n      return type.label.nature;\n    });\n  },\n  applyFilter: function applyFilter(list, label) {\n    return list.filter(function (item) {\n      return item.types.some(function (type) {\n        return type.label.nature === label;\n      });\n    });\n  }\n}, {\n  id: 'PARTY',\n  type: 'radio',\n  labelsFromItem: function labelsFromItem(item) {\n    return item.types.map(function (type) {\n      return type.label.party;\n    });\n  },\n  applyFilter: function applyFilter(list, label) {\n    return list.filter(function (item) {\n      return item.types.some(function (type) {\n        return type.label.party === label;\n      });\n    });\n  }\n}, {\n  id: 'ATTRIBUTES',\n  type: 'checkbox',\n  labelsFromItem: function labelsFromItem(item) {\n    return item.attributes.map(function (attribute) {\n      return attribute.type;\n    });\n  },\n  applyFilter: function applyFilter(list, label) {\n    return list.filter(function (item) {\n      return item.attributes.some(function (attribute) {\n        return attribute.type === label;\n      });\n    });\n  }\n}];\nvar nonContractFilterGroups = [{\n  id: 'attributes',\n  type: 'radio',\n  labelsFromItem: function labelsFromItem(item) {\n    return [item.type];\n  },\n  applyFilter: function applyFilter(list, label) {\n    return list.filter(function (item) {\n      return item.type === label;\n    });\n  }\n}, {\n  id: 'relations',\n  type: 'radio',\n  labelsFromItem: function labelsFromItem(item) {\n    return [item.type];\n  },\n  applyFilter: function applyFilter(list, label) {\n    return list.filter(function (item) {\n      return item.type === label;\n    });\n  }\n}];\nvar modelMapping$2 = {\n  contract: contractFilterGroups,\n  invoice: nonContractFilterGroups,\n  purchase_order: nonContractFilterGroups\n};\nvar messagesMap = {\n  CATEGORY: 'contractCategoryLabel',\n  NATURE: 'contractNatureLabel',\n  PARTY: 'contractPartyLabel',\n  ATTRIBUTES: 'contractAttributeLabel',\n  attributes: 'invoiceAttributeLabel',\n  relations: 'invoiceRelationsLabel'\n};\n/**\r\n * Get the filter groups for the given model type\r\n *\r\n * @param {string} enrichmentName id of current model\r\n * @param {function} formatMessage intl formatMessage function\r\n * @param {string} selectedType selected type. (used for sharedDomains)\r\n * @returns a list of filter groups\r\n */\n\nfunction getBaseFilterGroups(enrichmentName, messages) {\n  var groups = modelMapping$2[enrichmentName] || [];\n  return groups.map(function (group) {\n    return _assign(_assign({}, group), {\n      title: messages[messagesMap[group.id]]\n    });\n  });\n}\n\nfunction getFilterHelper(_a) {\n  var knownFilterGroups = _a.knownFilterGroups,\n      itemList = _a.itemList,\n      enrichmentName = _a.enrichmentName,\n      messages = _a.messages;\n  var filterGroups = knownFilterGroups ? _processFilter(itemList, knownFilterGroups)(itemList).filterGroups : _processFilter(itemList, getBaseFilterGroups(enrichmentName, messages))(itemList).filterGroups;\n  return {\n    processFilter: _processFilter(itemList, filterGroups)\n  };\n}\n\nfunction _processFilter(list, filterGroups) {\n  /**\r\n   * Fully applies a filter, generating a filtered list\r\n   * and a list of filter groups with up-to-date counts\r\n   *\r\n   * @param {Object} filter Filter to apply to list\r\n   * @returns a filtered item list and a list of filter groups\r\n   */\n  var filterFn = function filterFn(filter) {\n    // If the filter is empty, return the unfiltered item list and base filter groups list\n    // This isn't absolutely necessary in terms of logic, just a short-circuit for performance\n    if (isFilterEmpty(filter)) {\n      return {\n        filteredList: list,\n        filterGroups: filterGroups\n      };\n    }\n\n    var filteredList = list;\n    var updatedFilterGroups = []; // Split filters into radio and checkbox type filters\n\n    var radioFilters = {};\n    var checkboxFilters = {};\n    filterGroups.forEach(function (group) {\n      var filterPart = filter[group.id];\n\n      if (filterPart) {\n        if (group.type === 'radio') {\n          radioFilters[group.id] = filterPart;\n        } else if (group.type === 'checkbox') {\n          checkboxFilters[group.id] = filterPart;\n        }\n      }\n    }); // Filter items based on checkbox type filters\n\n    filteredList = _applyFilter(filteredList, checkboxFilters, filterGroups); // Generate counts for radio type filter groups\n\n    filterGroups.filter(function (group) {\n      return group.type === 'radio';\n    }).forEach(function (group) {\n      var _a;\n\n      updatedFilterGroups.push(_addOptionsToFilterGroup(group, _applyFilter(filteredList, _assign(_assign({}, radioFilters), (_a = {}, _a[group.id] = [], _a)), filterGroups)));\n    }); // Filter items based on radio type filters\n\n    filteredList = _applyFilter(filteredList, radioFilters, filterGroups); // Generate counts for checkbox type filter groups\n\n    updatedFilterGroups.push.apply(updatedFilterGroups, _addOptionsToFilterGroups(filterGroups.filter(function (group) {\n      return group.type === 'checkbox';\n    }), filteredList)); // Sort new filter groups to the same order as they were before\n\n    updatedFilterGroups.sort(function (a, b) {\n      return filterGroups.findIndex(function (group) {\n        return group.id === a.id;\n      }) - filterGroups.findIndex(function (group) {\n        return group.id === b.id;\n      });\n    });\n    return {\n      filteredList: filteredList,\n      filterGroups: updatedFilterGroups\n    };\n  };\n\n  return filterFn;\n}\n/**\r\n * Parses out filter group options from a document, including element counts per label\r\n *\r\n * @param {Array<Object>} filterGroups List of filter groups\r\n * @param {Object} itemList List of elements within a document\r\n * @returns a list of filter groups with their options\r\n */\n\n\nfunction _addOptionsToFilterGroups(filterGroups, itemList) {\n  return filterGroups.map(function (group) {\n    return _addOptionsToFilterGroup(group, itemList);\n  });\n}\n/**\r\n * Parses out filter group options from a document, including element counts per label\r\n *\r\n * @param {Object} group A filter group\r\n * @param {Object} itemList List of elements within a document\r\n * @returns a filter group with its options\r\n */\n\n\nfunction _addOptionsToFilterGroup(group, itemList) {\n  if (!itemList) {\n    return group;\n  }\n\n  var labels = [];\n\n  if (group.optionsList) {\n    group.optionsList.forEach(function (option) {\n      return labels.push(_assign(_assign({}, option), {\n        count: 0\n      }));\n    });\n  }\n\n  itemList.forEach(function (item) {\n    uniq_1(group.labelsFromItem(item)).forEach(function (label) {\n      var foundLabel = labels.find(function (labelObj) {\n        return labelObj.id === label;\n      });\n\n      if (foundLabel) {\n        foundLabel.count++;\n      } else {\n        labels.push({\n          id: label,\n          displayName: label,\n          count: 1\n        });\n      }\n    });\n  });\n  return _assign(_assign({}, group), {\n    optionsList: labels.sort(function (a, b) {\n      if (a.id > b.id) {\n        return 1;\n      } else {\n        return -1;\n      }\n    })\n  });\n}\n/**\r\n * Filters a list based on filter criteria\r\n *\r\n * @param {Object} list List of elements within a document\r\n * @param {Array<Object>} filterGroups List of filter groups\r\n * @param {Object} filter Filter to apply to list\r\n * @returns a filtered list\r\n */\n\n\nfunction _applyFilter(list, filter, filterGroups) {\n  var filteredList = list;\n  Object.entries(filter).forEach(function (_a) {\n    var groupId = _a[0],\n        activeLabels = _a[1];\n    var foundGroup = filterGroups.find(function (group) {\n      return group.id === groupId;\n    });\n\n    if (foundGroup) {\n      activeLabels.forEach(function (activeLabel) {\n        filteredList = foundGroup.applyFilter(filteredList, activeLabel);\n      });\n    }\n  });\n  return filteredList;\n}\n\nvar defaultMessages$9 = {\n  defaultDocumentName: 'Document',\n  attributesTabLabel: 'Attributes',\n  relationsTabLabel: 'Relations',\n  filtersTabLabel: 'Filters',\n  metadataTabLabel: 'Metadata',\n  parseErrorMessage: 'There was an error parsing the document',\n  contractCategoryLabel: 'Category',\n  contractNatureLabel: 'Nature',\n  contractPartyLabel: 'Party',\n  contractAttributeLabel: 'Attribute',\n  invoiceAttributeLabel: 'Attribute',\n  invoiceRelationsLabel: 'Relation',\n  navigationToolbarLabel: 'Navigation toolbar'\n};\n\nvar defaultMessages$a = _assign(_assign(_assign(_assign(_assign({}, defaultMessages$5), defaultMessages$6), defaultMessages$7), defaultMessages$8), defaultMessages$9);\n\nvar ActionType;\n\n(function (ActionType) {\n  ActionType[\"RESET\"] = \"RESET\";\n  ActionType[\"SET\"] = \"SET\";\n  ActionType[\"ERROR\"] = \"ERROR\";\n})(ActionType || (ActionType = {}));\n\nvar INITIAL_STATE = {\n  isError: false,\n  styles: [],\n  sections: [],\n  itemMap: {\n    byItem: {},\n    bySection: {}\n  },\n  metadata: [],\n  attributes: [],\n  relations: []\n};\nvar RELATIONS = 'relations';\nvar ATTRIBUTES = 'attributes';\nvar FILTERS = 'filters';\nvar METADATA = 'metadata';\nvar contractTabs = [FILTERS, METADATA];\nvar nonContractTabs = [ATTRIBUTES, RELATIONS];\n\nfunction canRenderCIDocument(document) {\n  return !!get_1(document, 'html') && (!!get_1(document, 'enriched_html[0].contract') || !!get_1(document, 'enriched_html[0].invoice') || !!get_1(document, 'enriched_html[0].purchase_order'));\n}\n\nvar base$3 = settings.prefix + \"--ci-doc\";\n\nvar CIDocument = function CIDocument(_a) {\n  var document = _a.document,\n      _b = _a.messages,\n      messages = _b === void 0 ? defaultMessages$a : _b,\n      _c = _a.theme,\n      theme = _c === void 0 ? defaultTheme : _c,\n      overrideDocWidth = _a.overrideDocWidth,\n      overrideDocHeight = _a.overrideDocHeight,\n      didCatch = _a.didCatch;\n\n  var _d = useReducer(docStateReducer, INITIAL_STATE),\n      state = _d[0],\n      dispatch = _d[1];\n\n  var filename = get_1(document, 'extracted_metadata.filename', messages.defaultDocumentName);\n  var enrichedHtml = get_1(document, ['enriched_html', '0'], {});\n  var enrichmentName = getEnrichmentName(enrichedHtml);\n\n  var _e = useState(ATTRIBUTES),\n      selectedType = _e[0],\n      setSelectedType = _e[1];\n\n  var _f = useState(FILTERS),\n      selectedContractFilter = _f[0],\n      setSelectedContractFilter = _f[1];\n\n  var enrichment = get_1(enrichedHtml, enrichmentName, {});\n  var _g = enrichment.elements,\n      elements = _g === void 0 ? [] : _g,\n      _h = enrichment.parties,\n      parties = _h === void 0 ? [] : _h;\n  var itemList = elements;\n\n  if (isInvoiceOrPurchaseOrder(enrichmentName)) {\n    itemList = state[selectedType] || [];\n  }\n\n  var resetTabs = function resetTabs() {\n    setSelectedType(nonContractTabs[0]);\n    setSelectedContractFilter(contractTabs[0]);\n  };\n\n  var resetStates = function resetStates() {\n    setActivePartIds([]);\n    setActiveIds([]);\n    setHighlightedList([]);\n    setCurrentFilter({});\n    setActiveMetadataIds([]);\n  };\n\n  useEffect(function () {\n    var didCancel = false;\n\n    function process() {\n      return __awaiter(this, void 0, void 0, function () {\n        var doc, err_1;\n        return __generator(this, function (_a) {\n          switch (_a.label) {\n            case 0:\n              if (!!didCancel) return [3\n              /*break*/\n              , 4];\n              _a.label = 1;\n\n            case 1:\n              _a.trys.push([1, 3,, 4]);\n\n              return [4\n              /*yield*/\n              , processDoc(document, {\n                sections: true,\n                itemMap: true\n              })];\n\n            case 2:\n              doc = _a.sent();\n              dispatch({\n                type: ActionType.SET,\n                data: {\n                  styles: doc.styles,\n                  sections: doc.sections,\n                  itemMap: doc.itemMap,\n                  metadata: doc.metadata,\n                  attributes: doc.attributes,\n                  relations: doc.relations\n                }\n              });\n              return [3\n              /*break*/\n              , 4];\n\n            case 3:\n              err_1 = _a.sent();\n              dispatch({\n                type: ActionType.ERROR,\n                data: err_1\n              });\n              return [3\n              /*break*/\n              , 4];\n\n            case 4:\n              return [2\n              /*return*/\n              ];\n          }\n        });\n      });\n    }\n\n    resetStates();\n    resetTabs();\n    process();\n    return function () {\n      didCancel = true;\n    };\n  }, [didCatch, document]);\n\n  var _j = useState(null),\n      filterHelper = _j[0],\n      setFilterHelper = _j[1];\n\n  var _k = useState({}),\n      currentFilter = _k[0],\n      setCurrentFilter = _k[1];\n\n  var _l = useState([]),\n      filterGroups = _l[0],\n      setFilterGroups = _l[1];\n\n  useEffect(function () {\n    if (canRenderCIDocument(document) && !didCatch) {\n      var helper = getFilterHelper({\n        enrichmentName: enrichmentName,\n        itemList: itemList,\n        messages: messages\n      });\n      setFilterHelper(helper);\n      setCurrentFilter({});\n      setFilterGroups(helper.processFilter({}).filterGroups);\n    }\n  }, [enrichmentName, document, itemList, messages, didCatch]);\n\n  var _m = useState([]),\n      highlightedList = _m[0],\n      setHighlightedList = _m[1];\n\n  useEffect(function () {\n    if (filterHelper && !didCatch) {\n      if (isFilterEmpty(currentFilter)) {\n        setHighlightedList([]);\n        setFilterGroups(filterHelper.processFilter(currentFilter).filterGroups);\n      } else {\n        var _a = filterHelper.processFilter(currentFilter),\n            filteredList = _a.filteredList,\n            groups = _a.filterGroups;\n\n        setHighlightedList(filteredList);\n        setFilterGroups(groups);\n      }\n    }\n  }, [filterHelper, currentFilter, itemList, didCatch]);\n\n  var _o = useState([]),\n      activeIds = _o[0],\n      setActiveIds = _o[1];\n\n  useEffect(function () {\n    if (highlightedList.length === 0) {\n      setActiveIds([]);\n      setActivePartIds([]);\n    } else if (!findElement(highlightedList, activeIds)) {\n      if (hasRelation(highlightedList)) {\n        setActiveIds(highlightedList[0].allAttributeIds);\n      } else {\n        setActiveIds([getId(highlightedList[0])]);\n      }\n    } // This should only run when the list updates,\n    // to set the active id to the first item in the list, as necessary\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [highlightedList]);\n\n  var _p = useState([]),\n      activePartIds = _p[0],\n      setActivePartIds = _p[1];\n\n  useEffect(function () {\n    setActivePartIds([]);\n  }, [activeIds]);\n\n  var _q = useState([]),\n      activeMetadataIds = _q[0],\n      setActiveMetadataIds = _q[1];\n\n  useEffect(function () {\n    setActiveIds([]);\n    setActivePartIds([]);\n  }, [activeMetadataIds]); // generate render variables from state\n\n  var activeElement = getActiveElement(activeIds, itemList);\n  var activeIndex = getActiveIndex(activeIds, highlightedList);\n  var activeDetails = getActiveDetails(activeElement, getDetailsFromItem(enrichmentName));\n\n  if (selectedContractFilter === METADATA) {\n    activeIndex = getActiveIndex(activeMetadataIds, highlightedList);\n\n    if (activeMetadataIds.length > 0 && !(activeIds && activeIds.length > 0)) {\n      activeDetails = getDetailsFromMetadata(highlightedList[activeIndex]);\n    }\n  }\n\n  var highlightedIds = [];\n\n  if (hasRelation(highlightedList)) {\n    highlightedIds = flattenDeep_1(highlightedList.map(function (item) {\n      return item.allAttributeIds;\n    }));\n  } else {\n    highlightedIds = highlightedList.map(getId) ? highlightedList.map(getId) : [];\n  }\n\n  var hasError = state.isError || didCatch;\n\n  var renderSidebar = function renderSidebar() {\n    var nonContractFilterGroups = filterGroups.filter(function (group) {\n      return group.id === selectedType;\n    });\n    var tabLabels = {\n      attributes: messages.attributesTabLabel,\n      relations: messages.relationsTabLabel,\n      filters: messages.filtersTabLabel,\n      metadata: messages.metadataTabLabel\n    };\n    return React$g__default.createElement(React$g__default.Fragment, null, isInvoiceOrPurchaseOrder(enrichmentName) ? React$g__default.createElement(Tabs, {\n      className: base$3 + \"__tabs\",\n      selected: nonContractTabs.indexOf(selectedType),\n      onSelectionChange: function onSelectionChange(index) {\n        return setSelectedType(nonContractTabs[index]);\n      },\n      \"aria-label\": messages.filtersTabLabel,\n      \"data-testid\": \"document-info-tabs\"\n    }, nonContractTabs.map(function (tab) {\n      return React$g__default.createElement(Tab, {\n        tabIndex: 0,\n        label: tabLabels[tab],\n        key: tab,\n        \"data-testid\": tab + '-tab'\n      }, !hasError && tab === selectedType && renderFilterPanel(currentFilter, nonContractFilterGroups, setCurrentFilter, resetStates, messages));\n    })) : React$g__default.createElement(Tabs, {\n      className: base$3 + \"__tabs\",\n      selected: contractTabs.indexOf(selectedContractFilter),\n      onSelectionChange: function onSelectionChange(index) {\n        return onSelectionChangeContractTabs(index, setSelectedContractFilter, resetStates);\n      },\n      \"aria-label\": messages.filtersTabLabel,\n      \"data-testid\": \"document-info-tabs\"\n    }, React$g__default.createElement(Tab, {\n      tabIndex: 0,\n      label: messages.filtersTabLabel,\n      \"data-testid\": \"filters-tab\"\n    }, !hasError && renderFilterPanel(currentFilter, filterGroups, setCurrentFilter, resetStates, messages)), React$g__default.createElement(Tab, {\n      tabIndex: 0,\n      label: messages.metadataTabLabel,\n      \"data-testid\": \"metadata-tab\"\n    }, !hasError && React$g__default.createElement(MetadataPane, {\n      metadata: state.metadata,\n      activeMetadataId: activeMetadataIds[0],\n      parties: parties,\n      messages: messages,\n      onActiveMetadataChange: function onActiveMetadataChange(_a) {\n        var metadataId = _a.metadataId,\n            data = _a.data;\n        return _onActiveMetadataChange({\n          metadataId: metadataId,\n          data: data,\n          setHighlightedList: setHighlightedList,\n          setActiveMetadataIds: setActiveMetadataIds\n        });\n      },\n      onActivePartyChange: function onActivePartyChange(party) {\n        return _onActivePartyChange({\n          party: party,\n          setHighlightedList: setHighlightedList,\n          setActiveMetadataIds: setActiveMetadataIds\n        });\n      }\n    }))));\n  };\n\n  var allClickableIds = getAllClickableIds(itemList);\n  var nonContractProps = {};\n\n  if (isInvoiceOrPurchaseOrder(enrichmentName)) {\n    nonContractProps = {\n      activeIds: difference_1(activeIds, allClickableIds).length === 0 ? activeIds : [],\n      selectableIds: allClickableIds\n    };\n  }\n\n  return React$g__default.createElement(\"div\", {\n    className: base$3\n  }, React$g__default.createElement(\"nav\", {\n    className: base$3 + \"__toolbar\",\n    \"aria-label\": messages.navigationToolbarLabel\n  }, React$g__default.createElement(\"div\", {\n    className: base$3 + \"__title\",\n    \"data-testid\": \"CIDocument_title\"\n  }, filename), highlightedList.length > 0 && React$g__default.createElement(React$g__default.Fragment, null, React$g__default.createElement(NavigationToolbar, {\n    className: base$3 + \"__nav\",\n    index: activeIndex + 1,\n    max: highlightedList.length,\n    messages: messages,\n    onChange: onNavigationChange({\n      setActiveIds: selectedContractFilter === METADATA ? setActiveMetadataIds : setActiveIds,\n      highlightedList: highlightedList\n    })\n  }), React$g__default.createElement(\"div\", {\n    className: base$3 + \"__rightGutter\"\n  }))), React$g__default.createElement(\"div\", {\n    className: base$3 + \"__main\"\n  }, React$g__default.createElement(\"aside\", {\n    className: base$3 + \"__sidebar\",\n    \"aria-label\": messages.filtersTabLabel\n  }, renderSidebar()), React$g__default.createElement(\"article\", {\n    className: base$3 + \"__doc\",\n    \"aria-label\": messages.defaultDocumentName\n  }, state.isError || didCatch ? React$g__default.createElement(\"p\", {\n    className: base$3 + \"__docError\"\n  }, messages.parseErrorMessage) : React$g__default.createElement(CIDocumentContent, _assign({\n    styles: state.styles,\n    sections: state.sections,\n    itemMap: state.itemMap,\n    highlightedIds: highlightedIds,\n    activeIds: activeIds,\n    activePartIds: activePartIds,\n    onItemClick: onItemClick({\n      setActiveIds: setActiveIds,\n      elementList: itemList\n    }),\n    activeMetadataIds: activeMetadataIds,\n    theme: theme,\n    width: overrideDocWidth,\n    height: overrideDocHeight\n  }, nonContractProps))), React$g__default.createElement(\"aside\", {\n    className: base$3 + \"__details\",\n    \"aria-labelledby\": \"documentDetailsId\"\n  }, React$g__default.createElement(DetailsPane, {\n    items: activeDetails,\n    selectedLink: getSelectedLink({\n      activeElement: activeElement,\n      activePartIds: activePartIds\n    }),\n    messages: messages,\n    onActiveLinkChange: onDetailsLink({\n      activeElement: activeElement,\n      setActivePartIds: setActivePartIds\n    })\n  }))));\n};\n\nfunction docStateReducer(state, action) {\n  switch (action.type) {\n    case ActionType.RESET:\n      {\n        return _assign(_assign({}, state), INITIAL_STATE);\n      }\n\n    case ActionType.SET:\n      {\n        return _assign(_assign(_assign({}, state), {\n          isError: false\n        }), action.data);\n      }\n\n    case ActionType.ERROR:\n      {\n        return _assign(_assign({}, state), {\n          isError: true\n        });\n      }\n\n    default:\n      {\n        throw new Error(\"Doc state reducer called with invalid action type: \" + action.type);\n      }\n  }\n}\n\nfunction renderFilterPanel(currentFilter, filterGroups, setCurrentFilter, resetStates, messages) {\n  return React$g__default.createElement(FilterPanel, {\n    filter: currentFilter,\n    filterGroups: filterGroups,\n    messages: messages,\n    onFilterChange: onFilterChange({\n      currentFilter: currentFilter,\n      setCurrentFilter: setCurrentFilter\n    }),\n    onFilterClear: resetStates\n  });\n}\n\nfunction onSelectionChangeContractTabs(index, setSelectedContractFilter, resetStates) {\n  setSelectedContractFilter(contractTabs[index]);\n  resetStates();\n}\n\nfunction _onActiveMetadataChange(_a) {\n  var metadataId = _a.metadataId,\n      data = _a.data,\n      setHighlightedList = _a.setHighlightedList,\n      setActiveMetadataIds = _a.setActiveMetadataIds;\n  setHighlightedList(data);\n  setActiveMetadataIds([metadataId]);\n}\n\nfunction _onActivePartyChange(_a) {\n  var party = _a.party,\n      setHighlightedList = _a.setHighlightedList,\n      setActiveMetadataIds = _a.setActiveMetadataIds;\n  setHighlightedList(party);\n  setActiveMetadataIds([getId(party[0])]);\n}\n\nfunction onFilterChange(_a) {\n  var currentFilter = _a.currentFilter,\n      setCurrentFilter = _a.setCurrentFilter;\n  return function (filterPart) {\n    setCurrentFilter(updateFilter(currentFilter, filterPart));\n  };\n}\n\nfunction onNavigationChange(_a) {\n  var setActiveIds = _a.setActiveIds,\n      highlightedList = _a.highlightedList;\n  return function (index) {\n    var activeItem = highlightedList[index - 1]; // turn 1-based index to 0-based index\n\n    if (isRelationObject(activeItem)) {\n      setActiveIds(activeItem.allAttributeIds);\n    } else {\n      setActiveIds([getId(activeItem)]);\n    }\n  };\n}\n\nfunction onItemClick(_a) {\n  var setActiveIds = _a.setActiveIds,\n      elementList = _a.elementList;\n  return function (clickedItem) {\n    if (clickedItem) {\n      if (hasRelation(elementList)) {\n        var relation = elementList.find(function (rel) {\n          return rel.allAttributeIds.includes(clickedItem.id);\n        });\n\n        if (relation) {\n          setActiveIds(relation.allAttributeIds);\n        }\n      } else if (clickedItem.id) {\n        setActiveIds([clickedItem.id]);\n      }\n    }\n  };\n}\n\nfunction onDetailsLink(_a) {\n  var activeElement = _a.activeElement,\n      setActivePartIds = _a.setActivePartIds;\n  return function (linkItem) {\n    var sectionTitle = linkItem.sectionTitle,\n        type = linkItem.type; // Set the active item sub-parts to the parts of the active element that match the clicked item\n    // e.g. attributes of the active element that are of type \"DateTime\"\n\n    setActivePartIds(activeElement[sectionTitle].filter(function (part) {\n      return part.type === type;\n    }).map(function (part) {\n      return getId(part);\n    }));\n  };\n}\n\nfunction getActiveIndex(activeIds, highlightedList) {\n  return activeIds ? findElementIndex(highlightedList, activeIds) : -1;\n}\n\nfunction getActiveElement(activeIds, itemList) {\n  return itemList.find(function (item) {\n    if (item.allAttributeIds) {\n      return isEqual_1(item.allAttributeIds.sort(), activeIds.sort());\n    }\n\n    return isEqual_1([getId(item)].sort(), activeIds.sort());\n  });\n}\n\nfunction getActiveDetails(activeElement, getDetailsFn) {\n  return activeElement ? getDetailsFn(activeElement) : [];\n}\n\nfunction getAllClickableIds(itemList) {\n  return flattenDeep_1(itemList.map(function (item) {\n    return item.allAttributeIds || getId(item);\n  }));\n}\n\nfunction getSelectedLink(_a) {\n  var activeElement = _a.activeElement,\n      activePartIds = _a.activePartIds;\n\n  if (activeElement && activeElement.attributes) {\n    var activeItem = activeElement.attributes.find(function (attribute) {\n      return activePartIds.includes(getId(attribute));\n    });\n\n    if (activeItem) {\n      return activeItem.type;\n    }\n  }\n\n  return undefined;\n}\n\nvar CIDocument$1 = withErrorBoundary(CIDocument); // export components\n\nvar CIDoc = CIDocument$1;\nCIDoc.CIDocumentContent = CIDocumentContent;\nCIDoc.CINavigationToolbar = NavigationToolbar;\nvar structuredQueryClass = settings.prefix + \"--structured-query\";\nvar structuredQueryRuleGroupClass = structuredQueryClass + \"__rule-group\";\nvar structuredQueryNestedRuleGroupClass = structuredQueryRuleGroupClass + \"--nested\";\nvar structuredQueryRuleGroupDropdownClass = structuredQueryRuleGroupClass + \"-dropdown\";\nvar structuredQueryRulesClass = structuredQueryClass + \"__rules\";\nvar structuredQueryRulesButtonsClass = structuredQueryRulesClass + \"__buttons\";\nvar structuredQueryCopyableQueryClass = structuredQueryClass + \"__copyable-query\";\n\nvar RuleGroupDropdown = function RuleGroupDropdown(_a) {\n  var messages = _a.messages,\n      structuredQuerySelection = _a.structuredQuerySelection,\n      setStructuredQuerySelection = _a.setStructuredQuerySelection,\n      groupId = _a.groupId;\n  var ruleGroupDropdownItems = [{\n    label: messages.ruleGroupDropdownAllOptionText,\n    value: ','\n  }, {\n    label: messages.ruleGroupDropdownAnyOptionText,\n    value: '|'\n  }];\n\n  var handleOnChangeRuleGroupDropdown = function handleOnChangeRuleGroupDropdown(ruleGroupDropdownSelection) {\n    var _a;\n\n    setStructuredQuerySelection(_assign(_assign({}, structuredQuerySelection), {\n      groups: _assign(_assign({}, structuredQuerySelection.groups), (_a = {}, _a[\"\" + groupId] = _assign(_assign({}, structuredQuerySelection.groups[groupId]), {\n        operator: ruleGroupDropdownSelection.selectedItem.value\n      }), _a))\n    }));\n  };\n\n  var ruleGroupDropdownElement = React$g__default.createElement(Dropdown, {\n    id: \"structured-query-dropdown\",\n    items: ruleGroupDropdownItems,\n    type: \"inline\",\n    initialSelectedItem: messages.ruleGroupDropdownAllOptionText,\n    label: messages.ruleGroupDropdownLabelText,\n    key: \"structured-query-dropdown\",\n    onChange: handleOnChangeRuleGroupDropdown\n  });\n  return React$g__default.createElement(\"div\", {\n    className: structuredQueryRuleGroupDropdownClass\n  }, formatMessage(messages.ruleGroupDropdownText, {\n    dropdown: ruleGroupDropdownElement\n  }));\n};\n/**\n * Gets the parent value at `path` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} path The path to get the parent value of.\n * @returns {*} Returns the parent value.\n */\n\n\nfunction parent(object, path) {\n  return path.length < 2 ? object : _baseGet(object, _baseSlice(path, 0, -1));\n}\n\nvar _parent = parent;\n/**\n * The base implementation of `_.unset`.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {Array|string} path The property path to unset.\n * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n */\n\nfunction baseUnset(object, path) {\n  path = _castPath(path, object);\n  object = _parent(object, path);\n  return object == null || delete object[_toKey(last_1(path))];\n}\n\nvar _baseUnset = baseUnset;\n/** `Object#toString` result references. */\n\nvar objectTag$4 = '[object Object]';\n/** Used for built-in method references. */\n\nvar funcProto$2 = Function.prototype,\n    objectProto$g = Object.prototype;\n/** Used to resolve the decompiled source of functions. */\n\nvar funcToString$2 = funcProto$2.toString;\n/** Used to check objects for own properties. */\n\nvar hasOwnProperty$f = objectProto$g.hasOwnProperty;\n/** Used to infer the `Object` constructor. */\n\nvar objectCtorString = funcToString$2.call(Object);\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\n\nfunction isPlainObject(value) {\n  if (!isObjectLike_1(value) || _baseGetTag(value) != objectTag$4) {\n    return false;\n  }\n\n  var proto = _getPrototype(value);\n\n  if (proto === null) {\n    return true;\n  }\n\n  var Ctor = hasOwnProperty$f.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor && funcToString$2.call(Ctor) == objectCtorString;\n}\n\nvar isPlainObject_1 = isPlainObject;\n/**\n * Used by `_.omit` to customize its `_.cloneDeep` use to only clone plain\n * objects.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {string} key The key of the property to inspect.\n * @returns {*} Returns the uncloned value or `undefined` to defer cloning to `_.cloneDeep`.\n */\n\nfunction customOmitClone(value) {\n  return isPlainObject_1(value) ? undefined : value;\n}\n\nvar _customOmitClone = customOmitClone;\n/**\n * Flattens `array` a single level deep.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flatten([1, [2, [3, [4]], 5]]);\n * // => [1, 2, [3, [4]], 5]\n */\n\nfunction flatten(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? _baseFlatten(array, 1) : [];\n}\n\nvar flatten_1 = flatten;\n/**\n * A specialized version of `baseRest` which flattens the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @returns {Function} Returns the new function.\n */\n\nfunction flatRest(func) {\n  return _setToString(_overRest(func, undefined, flatten_1), func + '');\n}\n\nvar _flatRest = flatRest;\n/** Used to compose bitmasks for cloning. */\n\nvar CLONE_DEEP_FLAG$2 = 1,\n    CLONE_FLAT_FLAG$1 = 2,\n    CLONE_SYMBOLS_FLAG$2 = 4;\n/**\n * The opposite of `_.pick`; this method creates an object composed of the\n * own and inherited enumerable property paths of `object` that are not omitted.\n *\n * **Note:** This method is considerably slower than `_.pick`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The source object.\n * @param {...(string|string[])} [paths] The property paths to omit.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.omit(object, ['a', 'c']);\n * // => { 'b': '2' }\n */\n\nvar omit = _flatRest(function (object, paths) {\n  var result = {};\n\n  if (object == null) {\n    return result;\n  }\n\n  var isDeep = false;\n  paths = _arrayMap(paths, function (path) {\n    path = _castPath(path, object);\n    isDeep || (isDeep = path.length > 1);\n    return path;\n  });\n\n  _copyObject(object, _getAllKeysIn(object), result);\n\n  if (isDeep) {\n    result = _baseClone(result, CLONE_DEEP_FLAG$2 | CLONE_FLAT_FLAG$1 | CLONE_SYMBOLS_FLAG$2, _customOmitClone);\n  }\n\n  var length = paths.length;\n\n  while (length--) {\n    _baseUnset(result, paths[length]);\n  }\n\n  return result;\n});\n\nvar omit_1 = omit;\n\nfunction _interopDefault$e(ex) {\n  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;\n}\n\nvar React$e = _interopDefault$e(React$g__default);\n\nvar _ref2$h =\n/*#__PURE__*/\n\n/*#__PURE__*/\nReact$e.createElement(\"path\", {\n  d: \"M16,4c6.6,0,12,5.4,12,12s-5.4,12-12,12S4,22.6,4,16S9.4,4,16,4 M16,2C8.3,2,2,8.3,2,16s6.3,14,14,14s14-6.3,14-14\\tS23.7,2,16,2z\"\n});\n\nvar _ref3$4 =\n/*#__PURE__*/\n\n/*#__PURE__*/\nReact$e.createElement(\"path\", {\n  d: \"M8 15H24V17H8z\"\n});\n\nvar SubtractAlt16 = /*#__PURE__*/React$e.forwardRef(function SubtractAlt16(_ref, ref) {\n  var children = _ref.children,\n      rest = IconE8f71a9c._objectWithoutProperties(_ref, [\"children\"]);\n\n  return /*#__PURE__*/React$e.createElement(IconE8f71a9c.Icon, IconE8f71a9c._extends({\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 32 32\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"currentColor\",\n    ref: ref\n  }, rest), _ref2$h, _ref3$4, children);\n});\nvar _16$8 = SubtractAlt16;\n\nvar RemoveRuleRowButton = function RemoveRuleRowButton(_a) {\n  var removeRuleRowButtonIconDescription = _a.removeRuleRowButtonIconDescription,\n      groupId = _a.groupId,\n      rowId = _a.rowId,\n      structuredQuerySelection = _a.structuredQuerySelection,\n      setStructuredQuerySelection = _a.setStructuredQuerySelection;\n\n  var handleOnClick = function handleOnClick() {\n    var _a;\n\n    var filteredGroupRows = structuredQuerySelection.groups[groupId].rows.filter(function (row) {\n      return row !== rowId;\n    });\n    var filteredRows = omit_1(structuredQuerySelection.rows, rowId);\n    var isLastRuleInRuleGroup = filteredGroupRows.length === 0;\n\n    if (isLastRuleInRuleGroup) {\n      setStructuredQuerySelection(_assign(_assign({}, structuredQuerySelection), {\n        groups: _assign({}, omit_1(structuredQuerySelection.groups, groupId)),\n        rows: _assign({}, filteredRows),\n        group_order: structuredQuerySelection.group_order.filter(function (id) {\n          return id !== groupId;\n        })\n      }));\n    } else {\n      setStructuredQuerySelection(_assign(_assign({}, structuredQuerySelection), {\n        groups: _assign(_assign({}, structuredQuerySelection.groups), (_a = {}, _a[\"\" + groupId] = _assign(_assign({}, structuredQuerySelection.groups[groupId]), {\n          rows: filteredGroupRows\n        }), _a)),\n        rows: _assign({}, filteredRows)\n      }));\n    }\n  };\n\n  return React$g__default.createElement(Button, {\n    hasIconOnly: true,\n    kind: \"ghost\",\n    renderIcon: _16$8,\n    iconDescription: removeRuleRowButtonIconDescription,\n    onClick: handleOnClick,\n    \"data-testid\": \"remove-rule-row-button-\" + groupId\n  });\n};\n\nvar getFieldNames = function getFieldNames(response) {\n  if (response && response.fields) {\n    var fieldObjects = response.fields;\n    var fieldNames = fieldObjects.reduce(function (namesArray, fieldObject) {\n      if (fieldObject.type === 'nested') {\n        return namesArray;\n      } else if (fieldObject.field && !namesArray.includes(fieldObject.field)) {\n        namesArray.push(fieldObject.field);\n      }\n\n      return namesArray;\n    }, []);\n    return fieldNames;\n  }\n\n  return [];\n};\n\nvar getNewId = function getNewId(currentGroupsOrRows) {\n  var maxId = Object.keys(currentGroupsOrRows).reduce(function (previousId, currentId) {\n    return Math.max(parseInt(previousId), parseInt(currentId)).toString();\n  });\n  return parseInt(maxId) + 1;\n};\n\nvar stringifyStructuredQuerySelection = function stringifyStructuredQuerySelection(structuredQuerySelection) {\n  var stringifiedStructuredQuerySelection = '';\n  stringifiedStructuredQuerySelection += structuredQuerySelection.group_order.map(function (groupId) {\n    return groupId === 0 ? stringifyRows(structuredQuerySelection, groupId) : '(' + stringifyRows(structuredQuerySelection, groupId) + ')';\n  }).join(structuredQuerySelection.groups[0].operator);\n  return stringifiedStructuredQuerySelection;\n};\n\nvar stringifyRows = function stringifyRows(structuredQuerySelection, groupId) {\n  return structuredQuerySelection.groups[groupId].rows.map(function (rowId) {\n    var row = structuredQuerySelection.rows[rowId];\n    var rowField = escapeReservedCharacters(row.field);\n    var rowValue = row.value === '' ? row.value : '\"' + escapeDoubleQuotes(row.value) + '\"';\n    return \"\" + rowField + row.operator + rowValue;\n  }).join(structuredQuerySelection.groups[groupId].operator);\n};\n\nvar escapeDoubleQuotes = function escapeDoubleQuotes(value) {\n  return value.replace(/([\"])/g, '\\\\\"');\n};\n\nvar escapeReservedCharacters = function escapeReservedCharacters(field) {\n  var escapeCharacters = function escapeCharacters(match) {\n    return match.replace(match, \"\\\\\" + match);\n  };\n\n  var regexForReservedCharacters = /([,|:!\"\\\\()\\[\\]^~<>*])/g;\n  return field.replace(regexForReservedCharacters, escapeCharacters);\n};\n\nvar RuleRow = function RuleRow(_a) {\n  var messages = _a.messages,\n      groupId = _a.groupId,\n      rowId = _a.rowId,\n      structuredQuerySelection = _a.structuredQuerySelection,\n      setStructuredQuerySelection = _a.setStructuredQuerySelection;\n  var _b = useContext(SearchContext).fieldsStore,\n      fieldsResponse = _b.data,\n      fieldStoreLoading = _b.isLoading,\n      fieldStoreError = _b.isError;\n  var projectFields = getFieldNames(fieldsResponse);\n  var operatorDropdownItems = [{\n    label: messages.operatorDropdownIsOptionText,\n    value: '::'\n  }, {\n    label: messages.operatorDropdownIsNotOptionText,\n    value: '::!'\n  }, {\n    label: messages.operatorDropdownContainsOptionText,\n    value: ':'\n  }, {\n    label: messages.operatorDropdownDoesNotContainOptionText,\n    value: ':!'\n  }];\n  var isTopLevelGroup = groupId === 0;\n  var showRemoveRuleRowButton = structuredQuerySelection.groups[groupId].rows.length > 1 || !isTopLevelGroup;\n\n  var handleFieldDropdownChange = function handleFieldDropdownChange(fieldSelection) {\n    var _a; // The value resets to null on deselection, but we don't want to show null in the copyable query\n    // so in this case we set the new field value to an empty string\n\n\n    var newFieldValue = fieldSelection.selectedItem === null ? '' : fieldSelection.selectedItem;\n    setStructuredQuerySelection(_assign(_assign({}, structuredQuerySelection), {\n      rows: _assign(_assign({}, structuredQuerySelection.rows), (_a = {}, _a[\"\" + rowId] = _assign(_assign({}, structuredQuerySelection.rows[rowId]), {\n        field: newFieldValue\n      }), _a))\n    }));\n  };\n\n  var handleOperatorDropdownChange = function handleOperatorDropdownChange(operatorSelection) {\n    var _a; // The value resets to null on deselection, but we don't want to show null in the copyable query\n    // so in this case we set the new operator value to an empty string\n\n\n    var newOperatorValue = operatorSelection.selectedItem === null ? '' : operatorSelection.selectedItem.value;\n    setStructuredQuerySelection(_assign(_assign({}, structuredQuerySelection), {\n      rows: _assign(_assign({}, structuredQuerySelection.rows), (_a = {}, _a[\"\" + rowId] = _assign(_assign({}, structuredQuerySelection.rows[rowId]), {\n        operator: newOperatorValue\n      }), _a))\n    }));\n  };\n\n  var handleValueInputChange = function handleValueInputChange(event) {\n    var _a;\n\n    var valueText = event.currentTarget.value;\n    setStructuredQuerySelection(_assign(_assign({}, structuredQuerySelection), {\n      rows: _assign(_assign({}, structuredQuerySelection.rows), (_a = {}, _a[\"\" + rowId] = _assign(_assign({}, structuredQuerySelection.rows[rowId]), {\n        value: valueText\n      }), _a))\n    }));\n  };\n\n  var placeholderText;\n\n  if (fieldStoreLoading) {\n    placeholderText = messages.fieldDropdownLoadingText;\n  } else if (fieldStoreError) {\n    placeholderText = messages.fieldDropdownErrorText;\n  } else {\n    placeholderText = messages.fieldDropdownPlaceholderText;\n  }\n\n  return React$g__default.createElement(\"div\", {\n    className: structuredQueryRulesClass,\n    \"data-testid\": \"rule-row-\" + groupId\n  }, React$g__default.createElement(ComboBox, {\n    id: \"structured-query-rules-field-\" + groupId,\n    items: projectFields,\n    placeholder: placeholderText,\n    titleText: messages.fieldDropdownTitleText,\n    disabled: fieldStoreLoading || fieldStoreError,\n    onChange: handleFieldDropdownChange\n  }), React$g__default.createElement(ComboBox, {\n    id: \"structured-query-rules-operator-\" + groupId,\n    items: operatorDropdownItems,\n    placeholder: messages.operatorDropdownPlaceholderText,\n    titleText: messages.operatorDropdownTitleText,\n    onChange: handleOperatorDropdownChange\n  }), React$g__default.createElement(TextInput, {\n    id: \"structured-query-rules-value-\" + groupId,\n    labelText: messages.valueInputLabelText,\n    placeholder: messages.valueInputPlaceholderText,\n    onChange: handleValueInputChange\n  }), showRemoveRuleRowButton && React$g__default.createElement(RemoveRuleRowButton, {\n    removeRuleRowButtonIconDescription: messages.removeRuleRowButtonIconDescription,\n    groupId: groupId,\n    rowId: rowId,\n    structuredQuerySelection: structuredQuerySelection,\n    setStructuredQuerySelection: setStructuredQuerySelection\n  }));\n};\n\nfunction _interopDefault$f(ex) {\n  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;\n}\n\nvar React$f = _interopDefault$f(React$g__default);\n\nvar _ref2$i =\n/*#__PURE__*/\n\n/*#__PURE__*/\nReact$f.createElement(\"path\", {\n  d: \"M17 15L17 8 15 8 15 15 8 15 8 17 15 17 15 24 17 24 17 17 24 17 24 15z\"\n});\n\nvar Add16 = /*#__PURE__*/React$f.forwardRef(function Add16(_ref, ref) {\n  var children = _ref.children,\n      rest = IconE8f71a9c._objectWithoutProperties(_ref, [\"children\"]);\n\n  return /*#__PURE__*/React$f.createElement(IconE8f71a9c.Icon, IconE8f71a9c._extends({\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 32 32\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"currentColor\",\n    ref: ref\n  }, rest), _ref2$i, children);\n});\nvar _16$9 = Add16;\n\nvar AddRuleRowButton = function AddRuleRowButton(_a) {\n  var addRuleRowText = _a.addRuleRowText,\n      groupId = _a.groupId,\n      structuredQuerySelection = _a.structuredQuerySelection,\n      setStructuredQuerySelection = _a.setStructuredQuerySelection;\n\n  var handleOnClick = function handleOnClick() {\n    var _a, _b;\n\n    var newRuleRowId = getNewId(structuredQuerySelection.rows);\n    setStructuredQuerySelection(_assign(_assign({}, structuredQuerySelection), {\n      groups: _assign(_assign({}, structuredQuerySelection.groups), (_a = {}, _a[\"\" + groupId] = _assign(_assign({}, structuredQuerySelection.groups[groupId]), {\n        rows: structuredQuerySelection.groups[groupId].rows.concat(newRuleRowId)\n      }), _a)),\n      rows: _assign(_assign({}, structuredQuerySelection.rows), (_b = {}, _b[\"\" + newRuleRowId] = {\n        field: '',\n        operator: '',\n        value: ''\n      }, _b))\n    }));\n  };\n\n  return React$g__default.createElement(Button, {\n    kind: \"ghost\",\n    renderIcon: _16$9,\n    onClick: handleOnClick\n  }, addRuleRowText);\n};\n\nvar MAX_NUM_SIBLING_RULE_ROWS = 3;\nvar MAX_NUM_NESTED_RULE_GROUPS = 5;\n\nvar RuleGroup = function RuleGroup(_a) {\n  var messages = _a.messages,\n      groupId = _a.groupId,\n      structuredQuerySelection = _a.structuredQuerySelection,\n      setStructuredQuerySelection = _a.setStructuredQuerySelection;\n  var rows = structuredQuerySelection.groups[groupId].rows;\n  var isTopLevelGroup = groupId === 0;\n  var showAddRuleRowButton = rows.length < MAX_NUM_SIBLING_RULE_ROWS && !isTopLevelGroup;\n  var ruleGroupClassNames = [structuredQueryRuleGroupClass];\n\n  if (!isTopLevelGroup) {\n    ruleGroupClassNames.push(structuredQueryNestedRuleGroupClass);\n  }\n\n  return React$g__default.createElement(\"div\", {\n    className: ruleGroupClassNames.join(' '),\n    \"data-testid\": \"rule-group\"\n  }, React$g__default.createElement(RuleGroupDropdown, {\n    messages: messages,\n    setStructuredQuerySelection: setStructuredQuerySelection,\n    structuredQuerySelection: structuredQuerySelection,\n    groupId: groupId\n  }), rows.map(function (row) {\n    var uniqueKey = groupId.toString() + row.toString();\n    return React$g__default.createElement(RuleRow, {\n      messages: messages,\n      groupId: groupId,\n      rowId: row,\n      key: uniqueKey,\n      setStructuredQuerySelection: setStructuredQuerySelection,\n      structuredQuerySelection: structuredQuerySelection\n    });\n  }), React$g__default.createElement(\"div\", {\n    className: structuredQueryRulesButtonsClass\n  }, showAddRuleRowButton && React$g__default.createElement(AddRuleRowButton, {\n    addRuleRowText: messages.addRuleRowText,\n    key: groupId,\n    groupId: groupId,\n    setStructuredQuerySelection: setStructuredQuerySelection,\n    structuredQuerySelection: structuredQuerySelection\n  })));\n};\n\nvar AddRuleGroupButton = function AddRuleGroupButton(_a) {\n  var addRuleGroupText = _a.addRuleGroupText,\n      structuredQuerySelection = _a.structuredQuerySelection,\n      setStructuredQuerySelection = _a.setStructuredQuerySelection;\n\n  var handleOnClick = function handleOnClick() {\n    var _a, _b;\n\n    var newRuleGroupId = getNewId(structuredQuerySelection.groups);\n    var newRuleRowId = getNewId(structuredQuerySelection.rows);\n    setStructuredQuerySelection(_assign(_assign({}, structuredQuerySelection), {\n      groups: _assign(_assign({}, structuredQuerySelection.groups), (_a = {}, _a[\"\" + newRuleGroupId] = {\n        rows: [newRuleRowId]\n      }, _a)),\n      rows: _assign(_assign({}, structuredQuerySelection.rows), (_b = {}, _b[\"\" + newRuleRowId] = {\n        field: '',\n        operator: '',\n        value: ''\n      }, _b)),\n      group_order: structuredQuerySelection.group_order.concat(newRuleGroupId)\n    }));\n  };\n\n  return React$g__default.createElement(Button, {\n    kind: \"ghost\",\n    renderIcon: _16$9,\n    onClick: handleOnClick\n  }, addRuleGroupText);\n};\n\nvar defaultMessages$b = {\n  ruleGroupDropdownText: 'Satisfy {dropdown} of the following rules',\n  ruleGroupDropdownAllOptionText: 'all',\n  ruleGroupDropdownAnyOptionText: 'any',\n  ruleGroupDropdownLabelText: 'Choose whether to satisfy all or any of the following rules',\n  fieldDropdownPlaceholderText: 'Select field',\n  fieldDropdownTitleText: 'Field',\n  fieldDropdownLoadingText: 'Loading project fields',\n  fieldDropdownErrorText: 'Error loading project fields',\n  operatorDropdownIsOptionText: 'is',\n  operatorDropdownIsNotOptionText: 'is not',\n  operatorDropdownContainsOptionText: 'contains',\n  operatorDropdownDoesNotContainOptionText: 'does not contain',\n  operatorDropdownPlaceholderText: 'Select operator',\n  operatorDropdownTitleText: 'Operator',\n  valueInputLabelText: 'Value',\n  valueInputPlaceholderText: 'Enter value',\n  addRuleRowText: 'Add rule',\n  removeRuleRowButtonIconDescription: 'Remove rule',\n  addRuleGroupText: 'Add group of rules'\n};\n\nvar StructuredQuery = function StructuredQuery(_a) {\n  var _b = _a.messages,\n      messages = _b === void 0 ? defaultMessages$b : _b;\n\n  var mergedMessages = _assign(_assign({}, defaultMessages$b), messages);\n\n  var _c = useState({\n    groups: {\n      0: {\n        rows: [0],\n        operator: ','\n      }\n    },\n    rows: {\n      0: {\n        field: '',\n        operator: '',\n        value: ''\n      }\n    },\n    group_order: [0]\n  }),\n      structuredQuerySelection = _c[0],\n      setStructuredQuerySelection = _c[1];\n\n  var stringifiedSelection = stringifyStructuredQuerySelection(structuredQuerySelection);\n  var showAddRuleRowButton = structuredQuerySelection.groups[0].rows.length < MAX_NUM_SIBLING_RULE_ROWS;\n  var showAddRuleGroupButton = Object.keys(structuredQuerySelection.groups).length - 1 < MAX_NUM_NESTED_RULE_GROUPS;\n  var fetchFields = useContext(SearchApi).fetchFields;\n  useEffect(function () {\n    fetchFields();\n  }, [fetchFields]);\n  return React$g__default.createElement(\"div\", {\n    className: structuredQueryClass\n  }, structuredQuerySelection.group_order.map(function (id) {\n    return React$g__default.createElement(RuleGroup, {\n      messages: mergedMessages,\n      groupId: id,\n      key: id,\n      structuredQuerySelection: structuredQuerySelection,\n      setStructuredQuerySelection: setStructuredQuerySelection\n    });\n  }), React$g__default.createElement(\"div\", {\n    className: structuredQueryRulesButtonsClass\n  }, showAddRuleRowButton && React$g__default.createElement(AddRuleRowButton, {\n    addRuleRowText: mergedMessages.addRuleRowText,\n    setStructuredQuerySelection: setStructuredQuerySelection,\n    structuredQuerySelection: structuredQuerySelection,\n    groupId: 0\n  }), showAddRuleGroupButton && React$g__default.createElement(AddRuleGroupButton, {\n    addRuleGroupText: mergedMessages.addRuleGroupText,\n    setStructuredQuerySelection: setStructuredQuerySelection,\n    structuredQuerySelection: structuredQuerySelection\n  })), stringifiedSelection && React$g__default.createElement(CodeSnippet, {\n    className: \"\" + structuredQueryCopyableQueryClass\n  }, stringifiedSelection));\n};\n\nvar StructuredQuery$1 = commonjs_2(StructuredQuery, FallbackComponent('StructuredQuery'), onErrorCallback);\nexport { CIDoc as CIDocument, DiscoverySearch$1 as DiscoverySearch, ErrorBoundDocumentPreview as DocumentPreview, HtmlView, ResultsPagination$1 as ResultsPagination, SearchApi, SearchContext, SearchFacets$1 as SearchFacets, SearchInput$1 as SearchInput, SearchResults$1 as SearchResults, StructuredQuery$1 as StructuredQuery, canRenderCIDocument, canRenderHtmlView, getDocumentTitle };","map":{"version":3,"sources":["/Users/sudesh/Documents/DEV2021/wacode/discovery-components-web/examples/discovery-search-app/node_modules/@ibm-watson/discovery-react-components/dist/index.es.js"],"names":["React$g__default","useCallback","useMemo","useRef","useEffect","useState","useReducer","createContext","useContext","createElement","PureComponent","useLayoutEffect","forwardRef","useImperativeHandle","settings","Search","MultiSelect","Checkbox","RadioButtonGroup","RadioButton","Modal","Button","Pagination","Form","TextInput","FormLabel","SkeletonText","ToggleSmall","Tile","Link","Tooltip","Tabs","Tab","Dropdown","ComboBox","CodeSnippet","ListBox","reactDom","findDOMNode","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__extends","__","constructor","create","__assign","assign","t","s","i","n","arguments","length","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","rejected","result","done","then","__generator","body","_","label","sent","trys","ops","f","y","g","verb","Symbol","iterator","v","op","TypeError","pop","push","__spreadArrays","il","r","k","a","j","jl","listCacheClear","__data__","size","_listCacheClear","eq","other","eq_1","assocIndexOf","array","key","_assocIndexOf","arrayProto","splice","listCacheDelete","data","index","lastIndex","_listCacheDelete","listCacheGet","undefined","_listCacheGet","listCacheHas","_listCacheHas","listCacheSet","_listCacheSet","ListCache","entries","clear","entry","set","get","has","_ListCache","stackClear","_stackClear","stackDelete","_stackDelete","stackGet","_stackGet","stackHas","_stackHas","commonjsGlobal","globalThis","window","global","self","unwrapExports","x","__esModule","createCommonjsModule","fn","module","exports","getCjsExportFromNamespace","freeGlobal","_freeGlobal","freeSelf","root","Function","_root","Symbol$1","_Symbol","objectProto","nativeObjectToString","toString","symToStringTag","toStringTag","getRawTag","isOwn","tag","unmasked","_getRawTag","objectProto$1","nativeObjectToString$1","objectToString","_objectToString","nullTag","undefinedTag","symToStringTag$1","baseGetTag","_baseGetTag","isObject","type","isObject_1","asyncTag","funcTag","genTag","proxyTag","isFunction","isFunction_1","coreJsData","_coreJsData","maskSrcKey","uid","exec","keys","IE_PROTO","isMasked","func","_isMasked","funcProto","funcToString","toSource","_toSource","reRegExpChar","reIsHostCtor","funcProto$1","objectProto$2","funcToString$1","hasOwnProperty$1","reIsNative","RegExp","replace","baseIsNative","pattern","test","_baseIsNative","getValue","object","_getValue","getNative","_getNative","Map$1","_Map","nativeCreate","_nativeCreate","hashClear","_hashClear","hashDelete","_hashDelete","HASH_UNDEFINED","objectProto$3","hasOwnProperty$2","hashGet","_hashGet","objectProto$4","hasOwnProperty$3","hashHas","_hashHas","HASH_UNDEFINED$1","hashSet","_hashSet","Hash","_Hash","mapCacheClear","_mapCacheClear","isKeyable","_isKeyable","getMapData","map","_getMapData","mapCacheDelete","_mapCacheDelete","mapCacheGet","_mapCacheGet","mapCacheHas","_mapCacheHas","mapCacheSet","_mapCacheSet","MapCache","_MapCache","LARGE_ARRAY_SIZE","stackSet","pairs","_stackSet","Stack","_Stack","HASH_UNDEFINED$2","setCacheAdd","_setCacheAdd","setCacheHas","_setCacheHas","SetCache","values","add","_SetCache","arraySome","predicate","_arraySome","cacheHas","cache","_cacheHas","COMPARE_PARTIAL_FLAG","COMPARE_UNORDERED_FLAG","equalArrays","bitmask","customizer","equalFunc","stack","isPartial","arrLength","othLength","arrStacked","othStacked","seen","arrValue","othValue","compared","othIndex","_equalArrays","Uint8Array$1","Uint8Array","_Uint8Array","mapToArray","forEach","_mapToArray","setToArray","_setToArray","COMPARE_PARTIAL_FLAG$1","COMPARE_UNORDERED_FLAG$1","boolTag","dateTag","errorTag","mapTag","numberTag","regexpTag","setTag","stringTag","symbolTag","arrayBufferTag","dataViewTag","symbolProto","symbolValueOf","valueOf","equalByTag","byteLength","byteOffset","buffer","name","message","convert","stacked","_equalByTag","arrayPush","offset","_arrayPush","isArray","isArray_1","baseGetAllKeys","keysFunc","symbolsFunc","_baseGetAllKeys","arrayFilter","resIndex","_arrayFilter","stubArray","stubArray_1","objectProto$5","nativeGetSymbols","getSymbols","symbol","_getSymbols","baseTimes","iteratee","_baseTimes","isObjectLike","isObjectLike_1","argsTag","baseIsArguments","_baseIsArguments","objectProto$6","hasOwnProperty$4","propertyIsEnumerable$1","isArguments","isArguments_1","stubFalse","stubFalse_1","isBuffer_1","freeExports","nodeType","freeModule","moduleExports","Buffer","nativeIsBuffer","isBuffer","MAX_SAFE_INTEGER","reIsUint","isIndex","_isIndex","MAX_SAFE_INTEGER$1","isLength","isLength_1","argsTag$1","arrayTag","boolTag$1","dateTag$1","errorTag$1","funcTag$1","mapTag$1","numberTag$1","objectTag","regexpTag$1","setTag$1","stringTag$1","weakMapTag","arrayBufferTag$1","dataViewTag$1","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","typedArrayTags","baseIsTypedArray","_baseIsTypedArray","baseUnary","_baseUnary","_nodeUtil","freeProcess","process","nodeUtil","types","require","binding","nodeIsTypedArray","isTypedArray","isTypedArray_1","objectProto$7","hasOwnProperty$5","arrayLikeKeys","inherited","isArr","isArg","isBuff","isType","skipIndexes","String","_arrayLikeKeys","objectProto$8","isPrototype","Ctor","proto","_isPrototype","overArg","transform","arg","_overArg","nativeKeys","_nativeKeys","objectProto$9","hasOwnProperty$6","baseKeys","_baseKeys","isArrayLike","isArrayLike_1","keys_1","getAllKeys","_getAllKeys","COMPARE_PARTIAL_FLAG$2","objectProto$a","hasOwnProperty$7","equalObjects","objProps","objLength","othProps","objStacked","skipCtor","objValue","objCtor","othCtor","_equalObjects","DataView","_DataView","Promise$1","_Promise","Set$1","_Set","WeakMap$1","_WeakMap","mapTag$2","objectTag$1","promiseTag","setTag$2","weakMapTag$1","dataViewTag$2","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","getTag","ArrayBuffer","ctorString","_getTag","COMPARE_PARTIAL_FLAG$3","argsTag$2","arrayTag$1","objectTag$2","objectProto$b","hasOwnProperty$8","baseIsEqualDeep","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","_baseIsEqualDeep","baseIsEqual","_baseIsEqual","isEqual","isEqual_1","useDeepCompareMemoize","ref","current","useDeepCompareMemo","factory","dependencies","useDeepCompareCallback","callback","useDeepCompareEffect","deprecateReturnFields","queryParams","returnFields","rest","console","warn","_return","dataFetchReducer","state","action","isLoading","isError","error","payload","Error","useDataApi","initialParameters","searchClientMethod","searchClient","initialData","transformResult","cancelToken","requestIdRef","_a","trigger","fetchToken","setFetchToken","_b","parameters","setParameters","_c","dispatch","setData","fetchData","requestId","storeResult","error_1","useFieldsApi","fetchFieldsParams","listFields","fieldsState","setFieldsResponse","fetchFields","useSearchResultsApi","searchParameters","overrideSearchResults","query","searchState","currentSearchParameters","setSearchParametersBackwardsCompatible","setSearchResponse","setSearchParameters","backwardsCompatibleSearchParameters","prevState","performSearch","useGlobalAggregationsApi","overrideAggregationResults","aggregations","aggregationState","currentGlobalAggregationParameters","setGlobalAggregationParameters","setGlobalAggregationsResponse","fetchGlobalAggregations","fetchGlobalAggregationsWithoutStoring","useFetchDocumentsApi","fetchDocuments","filter","useAutocompleteApi","autocompleteParmeters","overrideAutocompletions","getAutocompletion","autocompletionsState","currentAutocompleteParameters","setAutocompleteParameters","setAutocompletions","fetchAutocompletions","autocompleteParameters","for","c","h","l","m","q","w","z","u","$$typeof","A","AsyncMode","ConcurrentMode","ContextConsumer","ContextProvider","Element$1","ForwardRef","Fragment","Lazy","Memo","Portal","Profiler","StrictMode","Suspense","isAsyncMode","isConcurrentMode","isContextConsumer","isContextProvider","isElement","isForwardRef","isFragment","isLazy","isMemo","isPortal","isProfiler","isStrictMode","isSuspense","isValidElementType","typeOf","reactIs_production_min","Element","reactIs_development","env","NODE_ENV","hasSymbol","REACT_ELEMENT_TYPE","REACT_PORTAL_TYPE","REACT_FRAGMENT_TYPE","REACT_STRICT_MODE_TYPE","REACT_PROFILER_TYPE","REACT_PROVIDER_TYPE","REACT_CONTEXT_TYPE","REACT_ASYNC_MODE_TYPE","REACT_CONCURRENT_MODE_TYPE","REACT_FORWARD_REF_TYPE","REACT_SUSPENSE_TYPE","REACT_SUSPENSE_LIST_TYPE","REACT_MEMO_TYPE","REACT_LAZY_TYPE","REACT_BLOCK_TYPE","REACT_FUNDAMENTAL_TYPE","REACT_RESPONDER_TYPE","REACT_SCOPE_TYPE","$$typeofType","hasWarnedAboutDeprecatedIsAsyncMode","reactIs_development_1","reactIs_development_2","reactIs_development_3","reactIs_development_4","reactIs_development_5","reactIs_development_6","reactIs_development_7","reactIs_development_8","reactIs_development_9","reactIs_development_10","reactIs_development_11","reactIs_development_12","reactIs_development_13","reactIs_development_14","reactIs_development_15","reactIs_development_16","reactIs_development_17","reactIs_development_18","reactIs_development_19","reactIs_development_20","reactIs_development_21","reactIs_development_22","reactIs_development_23","reactIs_development_24","reactIs_development_25","reactIs_development_26","reactIs_development_27","reactIs_development_28","reactIs","hasOwnProperty$9","propIsEnumerable","toObject","val","shouldUseNative","test1","getOwnPropertyNames","test2","fromCharCode","order2","join","test3","split","letter","err","objectAssign","target","source","from","to","symbols","ReactPropTypesSecret","ReactPropTypesSecret_1","printWarning","ReactPropTypesSecret$1","loggedTypeFailures","bind","text","checkPropTypes","typeSpecs","location","componentName","getStack","typeSpecName","ex","resetWarningCache","checkPropTypes_1","has$1","printWarning$1","emptyFunctionThatReturnsNull","factoryWithTypeCheckers","isValidElement","throwOnDirectAccess","ITERATOR_SYMBOL","FAUX_ITERATOR_SYMBOL","getIteratorFn","maybeIterable","iteratorFn","ANONYMOUS","ReactPropTypes","createPrimitiveTypeChecker","bool","number","string","any","createAnyTypeChecker","arrayOf","createArrayOfTypeChecker","element","createElementTypeChecker","elementType","createElementTypeTypeChecker","instanceOf","createInstanceTypeChecker","node","createNodeChecker","objectOf","createObjectOfTypeChecker","oneOf","createEnumTypeChecker","oneOfType","createUnionTypeChecker","shape","createShapeTypeChecker","exact","createStrictShapeTypeChecker","is","PropTypeError","createChainableTypeChecker","validate","manualPropTypeCallCache","manualPropTypeWarningCount","checkType","isRequired","props","propName","propFullName","secret","cacheKey","chainedCheckType","expectedType","propValue","propType","getPropType","preciseType","getPreciseType","typeChecker","expectedClass","expectedClassName","actualClassName","getClassName","expectedValues","valuesString","JSON","stringify","replacer","arrayOfTypeCheckers","checker","getPostfixForTypeWarning","isNode","shapeTypes","allKeys","every","isSymbol","Date","PropTypes","emptyFunction","emptyFunctionWithReset","factoryWithThrowingShims","shim","getShim","propTypes","ReactIs","ErrorBoundaryFallbackComponent_1","defineProperty","_react2","_interopRequireDefault","obj","default","toTitle","componentStack","ErrorBoundaryFallbackComponent","_ref","style","title","svgStyle","viewBox","preserveAspectRatio","height","maxHeight","width","maxWidth","display","flexDirection","alignItems","textAlign","backgroundColor","color","boxSizing","cursor","fill","flex","ErrorBoundary_1","withErrorBoundary","_createClass","defineProperties","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_ErrorBoundaryFallbackComponent2","_classCallCheck","instance","_possibleConstructorReturn","ReferenceError","_inherits","subClass","superClass","babelPluginFlowReactPropTypes_proptype_ComponentType","ErrorBoundary","_Component","_temp","_this","_ret","_len","args","_key","getPrototypeOf","concat","info","componentDidCatch","onError","ignoredError","setState","render","_props","children","FallbackComponent","_state","Component","defaultProps","Wrapped","displayName","ErrorBoundary_2","commonjs","_ErrorBoundary2","commonjs_1","commonjs_2","commonjs_3","onErrorCallback","buildAggregationQuery","configuration","aggregation","count","field","match","path","termCount","termName","nestedTypeTermAgg","includes","topLevelTermEntityField","topLevelNestedField","slice","lastIndexOf","nestedOrFilterAgg","initialNested","matchAgg","termAggregation","isSelectableQueryTermAggregationResult","facets","isQueryAggregationWithName","emptySelectedResult","document","searchApiDefaults","fetchAggregations","fetchComponentSettings","setSelectedResult","setAutocompletionOptions","setIsResultsPaginationComponentHidden","searchResponseStoreDefaults","projectId","aggregationQueryDefaults","passages","enabled","tableResults","globalAggregationsResponseStoreDefaults","fetchDocumentsResponseStoreDefaults","autocompletionStoreDefaults","prefix","fieldsStoreDefaults","searchContextDefaults","searchResponseStore","globalAggregationsResponseStore","fetchDocumentsResponseStore","selectedResult","autocompletionStore","isResultsPaginationComponentHidden","fieldsStore","SearchApi","SearchContext","DiscoverySearch","overrideQueryParameters","overrideSelectedResult","overrideAutocompletionResults","overrideCollectionsResults","overrideComponentSettings","aggregationResults","setAggregationResults","_d","collectionsResults","setCollectionsResults","_e","autocompletionOptions","_f","_g","componentSettings","setComponentSettings","_h","_j","_k","_l","_m","fetchTypeForTopEntitiesAggregation","searchParams","updatedAggQuery","updatedSearchParameters","handleSearch","backwardsCompatibleQueryParams","resetAggregations","aggregationsFetched","_o","completionsCount","_p","fetchCollections","err_1","listCollections","getComponentSettings","err_2","handleFetchAutocompletions","searchQuery","splitSearchQuerySelector","updateAutocomplete","minCharsToAutocomplete","queryArray","completionParams","updateAutocompletions","handleFetchAggregations","aggregationsSearchParameters","prevSearchParams","handleSetSelectedResult","newSelectedResult","_q","handleFetchDocuments","filterString","searchResponse","filteredResponse","results","matching_results","_r","handleFetchFields","api","Provider","DiscoverySearch$1","symbolTag$1","isSymbol_1","reIsDeepProp","reIsPlainProp","isKey","_isKey","FUNC_ERROR_TEXT","memoize","resolver","memoized","Cache","memoize_1","MAX_MEMOIZE_SIZE","memoizeCapped","_memoizeCapped","rePropName","reEscapeChar","stringToPath","charCodeAt","quote","subString","_stringToPath","arrayMap","_arrayMap","INFINITY","symbolProto$1","symbolToString","baseToString","_baseToString","toString_1","castPath","_castPath","INFINITY$1","toKey","_toKey","baseGet","_baseGet","defaultValue","get_1","useDebounce","delay","debouncedValue","setDebouncedValue","handler","setTimeout","clearTimeout","rngBrowser","getRandomValues","crypto","msCrypto","rnds8","whatwgRNG","rnds","mathRNG","Math","random","byteToHex","substr","bytesToUuid","buf","bth","bytesToUuid_1","_nodeId","_clockseq","_lastMSecs","_lastNSecs","v1","options","clockseq","seedBytes","msecs","getTime","nsecs","dt","tl","tmh","v1_1","v4","rng","ii","v4_1","uuid","uuid_1","_defineProperty","ownKeys","enumerableOnly","sym","getOwnPropertyDescriptor","_objectSpread2","getOwnPropertyDescriptors","_objectWithoutPropertiesLoose","excluded","sourceKeys","_objectWithoutProperties","sourceSymbolKeys","defaultAttributes","focusable","getAttributes","_ref$viewBox","attributes","tabindex","iconAttributes","role","toString$1","_descriptor$elem","elem","_descriptor$attrs","attrs","_descriptor$content","content","formatAttributes","reduce","acc","attribute","toSVG","createElementNS","setAttribute","appendChild","es","freeze","_interopDefault","React","_defineProperty$1","_extends","ownKeys$1","_objectSpread2$1","_objectWithoutPropertiesLoose$1","_objectWithoutProperties$1","Icon","className","tabIndex","_getAttributes","xmlns","Icon_1","_extends_1","_objectWithoutProperties_1","IconE8f71a9c","_interopDefault$1","React$1","_ref2","Search16","_16","defaultMessages","placeholderText","closeButtonLabelText","SearchInput","id","showAutocomplete","spellingSuggestions","messages","autocompleteDelay","placeHolderText","labelText","onChange","inputProps","mergedMessages","inputId","autocompletionClassName","searchInputClassNames","autocompletionResults","displaySettings","naturalLanguageQuery","setValue","completions","lastWordOfValue","skipFetchAutoCompletions","setSkipFetchAutoCompletions","focused","setFocused","focusTimeout","handleOnChange","evt","currentTarget","selectAutocompletion","valueArray","completionValue","searchInput","getElementById","focus","prepareFreshSearchParameters","nlq","setupHandleAutocompletionKeyUp","setupHandleAutocompletionOnClick","searchAndBlur","blur","debouncedSearchTerm","handleOnKeyUp","handleOnFocus","handleOnBlur","shouldShowCompletions","autocompletionsList","completion","valueWithoutLastWord","startsWith","suffix","Field","onClick","onKeyUp","onBlur","onFocus","SearchInput$1","_interopDefault$2","React$2","_ref2$1","Close16","_16$1","isBucketAggregation","findTermAggregations","inputAggregations","outputAggregations","spreadableSymbol","isConcatSpreadable","isFlattenable","_isFlattenable","baseFlatten","depth","isStrict","_baseFlatten","COMPARE_PARTIAL_FLAG$4","COMPARE_UNORDERED_FLAG$2","baseIsMatch","matchData","noCustomizer","srcValue","_baseIsMatch","isStrictComparable","_isStrictComparable","getMatchData","_getMatchData","matchesStrictComparable","_matchesStrictComparable","baseMatches","_baseMatches","baseHasIn","_baseHasIn","hasPath","hasFunc","_hasPath","hasIn","hasIn_1","COMPARE_PARTIAL_FLAG$5","COMPARE_UNORDERED_FLAG$3","baseMatchesProperty","_baseMatchesProperty","identity","identity_1","baseProperty","_baseProperty","basePropertyDeep","_basePropertyDeep","property","property_1","baseIteratee","_baseIteratee","_apply","nativeMax","max","overRest","start","otherArgs","_overRest","constant","constant_1","_defineProperty$2","baseSetToString","_baseSetToString","HOT_COUNT","HOT_SPAN","nativeNow","now","shortOut","lastCalled","stamp","remaining","_shortOut","setToString","_setToString","baseRest","_baseRest","baseFindIndex","fromIndex","fromRight","_baseFindIndex","baseIsNaN","_baseIsNaN","strictIndexOf","_strictIndexOf","baseIndexOf","_baseIndexOf","arrayIncludes","_arrayIncludes","arrayIncludesWith","comparator","_arrayIncludesWith","noop","noop_1","INFINITY$2","createSet","_createSet","LARGE_ARRAY_SIZE$1","baseUniq","isCommon","outer","computed","seenIndex","_baseUniq","isArrayLikeObject","isArrayLikeObject_1","last","last_1","unionBy","arrays","unionBy_1","mergeFilterFacets","filterFields","componentSettingsAggregations","termAggregations","labeledTermAggregations","matchingComponentSettingAggregation","find","setting","multiple_selections_allowed","usedFields","filterFacetsForName","filterAggregation","filterFacetResults_1","newAggResults","matchingFilterFacetResult","filterFacet","selected","selectedNewAggAndFilterFacetResults","mergeDynamicFacets","dynamicFacets","filterDynamicFacets","selectedDynamicFacets","facet","filteredAndDynamicFacets","arrayAggregator","setter","accumulator","_arrayAggregator","createBaseFor","iterable","_createBaseFor","baseFor","_baseFor","baseForOwn","_baseForOwn","createBaseEach","eachFunc","collection","_createBaseEach","baseEach","_baseEach","baseAggregator","_baseAggregator","createAggregator","initializer","_createAggregator","partition","partition_1","SearchFilterTransform","fromString","filterDynamic","colonRegex","SPLIT_UNQUOTED_COLONS","filterFacets","SPLIT_UNQUOTED_COMMAS","fields","facetField","facetSplit","SPLIT_UNQUOTED_PIPES","sort","unquotedResult","unquoteString","suggestions","suggestion","unquotedSuggestion","fieldFilters","fieldsToString","dynamicFilters","quoteSelectedFacets","Boolean","quotedString","filterStrings","errorMessage","noAvailableFacetsMessage","displayMessage","baseClass","fieldsetClasses","labelClasses","optionClass","optionLabelClass","singleSelectGroupClass","labelAndSelectionContainerClass","showMoreModalClass","categoryClass","categoryExpandCollapseClass","categoryGroupNameClass","collectionFacetIdPrefix","CollectionFacets","initialSelectedCollections","collections","collectionItems","collection_id","handleCollectionToggle","toggledCollections","collectionSelectTitleText","items","initialSelectedItems","collectionSelectLabel","baseFilter","_baseFilter","filter_1","arrayEach","_arrayEach","baseAssignValue","_baseAssignValue","objectProto$c","hasOwnProperty$a","assignValue","_assignValue","copyObject","isNew","newValue","_copyObject","baseAssign","_baseAssign","nativeKeysIn","_nativeKeysIn","objectProto$d","hasOwnProperty$b","baseKeysIn","isProto","_baseKeysIn","keysIn","keysIn_1","baseAssignIn","_baseAssignIn","_cloneBuffer","allocUnsafe","cloneBuffer","isDeep","copy","copyArray","_copyArray","copySymbols","_copySymbols","getPrototype","_getPrototype","nativeGetSymbols$1","getSymbolsIn","_getSymbolsIn","copySymbolsIn","_copySymbolsIn","getAllKeysIn","_getAllKeysIn","objectProto$e","hasOwnProperty$c","initCloneArray","input","_initCloneArray","cloneArrayBuffer","arrayBuffer","_cloneArrayBuffer","cloneDataView","dataView","_cloneDataView","reFlags","cloneRegExp","regexp","_cloneRegExp","symbolProto$2","symbolValueOf$1","cloneSymbol","_cloneSymbol","cloneTypedArray","typedArray","_cloneTypedArray","boolTag$2","dateTag$2","mapTag$3","numberTag$2","regexpTag$2","setTag$3","stringTag$2","symbolTag$2","arrayBufferTag$2","dataViewTag$3","float32Tag$1","float64Tag$1","int8Tag$1","int16Tag$1","int32Tag$1","uint8Tag$1","uint8ClampedTag$1","uint16Tag$1","uint32Tag$1","initCloneByTag","_initCloneByTag","objectCreate","baseCreate","_baseCreate","initCloneObject","_initCloneObject","mapTag$4","baseIsMap","_baseIsMap","nodeIsMap","isMap","isMap_1","setTag$4","baseIsSet","_baseIsSet","nodeIsSet","isSet","isSet_1","CLONE_DEEP_FLAG","CLONE_FLAT_FLAG","CLONE_SYMBOLS_FLAG","argsTag$3","arrayTag$2","boolTag$3","dateTag$3","errorTag$2","funcTag$2","genTag$1","mapTag$5","numberTag$3","objectTag$3","regexpTag$3","setTag$5","stringTag$3","symbolTag$3","weakMapTag$2","arrayBufferTag$3","dataViewTag$4","float32Tag$2","float64Tag$2","int8Tag$2","int16Tag$2","int32Tag$2","uint8Tag$2","uint8ClampedTag$2","uint16Tag$2","uint32Tag$2","cloneableTags","baseClone","isFlat","isFull","isFunc","subValue","_baseClone","CLONE_DEEP_FLAG$1","CLONE_SYMBOLS_FLAG$1","cloneDeep","cloneDeep_1","_interopDefault$3","React$3","_ref2$2","ChevronDown16","_16$2","_interopDefault$4","React$4","_ref2$3","ChevronUp16","_16$3","SPLIT_VARIABLES_REGEX","formatMessage","outputJsx","part","variableWithoutBraces","getFacetLabel","facetText","showMatchingResults","labelTextWithCount","MultiSelectFacetsGroup","facetsTextField","aggregationSettings","onMultiSelectFacetsGroupChange","tempSelectedFacets","setTempSelectedFacets","escapedName","checked","_id","event","selectedFacetName","getAttribute","selectedFacetKey","selectedFacetIndex","findIndex","selectedFacet","tempSelectedFacetsCopy","buff","base64data","facetSelected","keyAndIdPrefix","wrapperClassName","SingleSelectFacetsGroup","onSingleSelectFacetsGroupChange","handleOnClick","radioGroupNamePrefix","facetValueSelected","radioGroupName","renderRadioButton","facetValue","valueSelected","orientation","ModalSearchInput","setFilteredFacets","isModalOpen","facetsLabel","tempValue","tempFacets","toLowerCase","modalSearchBarPrompt","ShowMoreModal","onShowMoreModalChange","isOpen","setIsModalOpen","shouldDisplayAsMultiSelect","hasSearchBar","categoryName","filteredFacets","handleOnRequestSubmit","handleOnRequestClose","modalHeading","onRequestSubmit","onRequestClose","modalAriaLabel","showMoreModalAriaLabel","open","primaryButtonText","showMoreModalPrimaryButtonText","secondaryButtonText","showMoreModalSecondaryButtonText","emptyModalSearch","ShowMoreButton","idSuffix","isCollapsed","isShowAllMessage","collapsedFacetShowLessText","collapsedFacetShowAllText","collapsedFacetShowMoreText","kind","MAX_FACETS_UNTIL_MODAL","MAX_FACETS_UNTIL_SEARCHBAR","CategoryFacets","onCategoryFacetsChange","categoryIsExpanded","collapsedFacetsCount","setIsCollapsed","isCollapsible","setIsCollapsible","toggleFacetsCollapse","setModalOpen","categoryFacetsToShow","iconToRender","totalNumberFacets","showMoreButtonOnClick","iconDescription","categoryExpandCollapseIconDescription","renderIcon","CategoryFacetsGroup","facetsByCategory","onCategoryFacetsGroupChange","expandedCategories","setExpandedCategories","handleExpandCollapseOnClick","category","indexOfCategory","expandedCategoriesCopy","categories","entity","CollapsibleFacetsGroup","onClear","onCollapsibleFacetsGroupChange","hasCategories","resultType","areMultiSelectionsAllowed","collapsedFacets","selectedFacets","selectedFacetText","shouldDisplayClearButton","handleClearFacets","translateWithId","mapping","clearFacetTitle","clearFacetSelectionTitle","Selection","clearSelection","selectionCount","FieldFacets","allFacets","onFieldFacetsChange","getFacetsForNameIndex","facetsForNameIndex","handleOnFieldFacetsChange","updatedFacets","facetsForName","multiselect","facetResults","selectedFacets_1","usingRadioButtons_1","selectedFacetResults","keySelected","isSelectedFacetKey","handleOnClear","deselectedResults","DynamicFacets","onDynamicFacetsChange","handleOnCollapsibleFacetsGroupChange","facetKeyIndex","dynamicFacetsLabel","defaultMessages$1","clearAllButtonText","SearchFacets","showCollections","showDynamicFacets","overrideComponentSettingsAggregations","serverErrorMessage","facetsId","collectionIds","globalAggregationsParameters","facetSelectionState","setFacetSelectionState","initialSelectedCollectionIds","collectionSelectionState","setCollectionSelectionState","allFieldFacets","allDynamicFacets","shouldShowCollections","shouldShowFields","shouldShowDynamic","originalFilters","hasFieldSelection","some","hasDynamicSelection","dynamicFacet","hasCollectionSelection","hasSelection","handleOnSearchFacetsChange","newFilters","selectedCollectionItems","selectedItems","querySelectorAll","click","errorNode","SearchFacets$1","defaultMessages$2","itemRangeText","itemsPerPageText","pageRangeText","ResultsPagination","page","pageSizes","pageSize","showPageSizeSelector","currentPage","setCurrentPage","resultsPerPage","actualPageSize","actualOffset","pageFromOffset","floor","matchingResults","classNames","handleItemRangeText","min","total","handlePageRangeText","_current","totalItems","ResultsPagination$1","_interopDefault$5","React$5","_ref2$4","_ref3","ZoomIn24","_24","_interopDefault$6","React$6","_ref2$5","_ref3$1","ZoomOut24","_24$1","_interopDefault$7","React$7","_ref2$6","CaretLeft24","_24$2","_interopDefault$8","React$8","_ref2$7","CaretRight24","_24$3","_interopDefault$9","React$9","_ref2$8","Reset24","_24$4","ZOOM_IN","ZOOM_OUT","ZOOM_RESET","base","PreviewToolbar","loading","hideControls","onZoom","inputRef","renderButton","icon","description","nextPrevButtonClicked","disabled","onSubmit","currentPageChanged","autoComplete","hideLabel","tooltipPosition","tooltipAlignment","hasIconOnly","change","newPage","preventDefault","pageInput","Number","PrevToolbar","entities","Aacute","aacute","Abreve","abreve","ac","acd","acE","Acirc","acirc","acute","Acy","acy","AElig","aelig","af","Afr","afr","Agrave","agrave","alefsym","aleph","Alpha","alpha","Amacr","amacr","amalg","amp","AMP","andand","And","and","andd","andslope","andv","ang","ange","angle","angmsdaa","angmsdab","angmsdac","angmsdad","angmsdae","angmsdaf","angmsdag","angmsdah","angmsd","angrt","angrtvb","angrtvbd","angsph","angst","angzarr","Aogon","aogon","Aopf","aopf","apacir","ap","apE","ape","apid","apos","ApplyFunction","approx","approxeq","Aring","aring","Ascr","ascr","Assign","ast","asymp","asympeq","Atilde","atilde","Auml","auml","awconint","awint","backcong","backepsilon","backprime","backsim","backsimeq","Backslash","Barv","barvee","barwed","Barwed","barwedge","bbrk","bbrktbrk","bcong","Bcy","bcy","bdquo","becaus","because","Because","bemptyv","bepsi","bernou","Bernoullis","Beta","beta","beth","between","Bfr","bfr","bigcap","bigcirc","bigcup","bigodot","bigoplus","bigotimes","bigsqcup","bigstar","bigtriangledown","bigtriangleup","biguplus","bigvee","bigwedge","bkarow","blacklozenge","blacksquare","blacktriangle","blacktriangledown","blacktriangleleft","blacktriangleright","blank","blk12","blk14","blk34","block","bne","bnequiv","bNot","bnot","Bopf","bopf","bot","bottom","bowtie","boxbox","boxdl","boxdL","boxDl","boxDL","boxdr","boxdR","boxDr","boxDR","boxh","boxH","boxhd","boxHd","boxhD","boxHD","boxhu","boxHu","boxhU","boxHU","boxminus","boxplus","boxtimes","boxul","boxuL","boxUl","boxUL","boxur","boxuR","boxUr","boxUR","boxv","boxV","boxvh","boxvH","boxVh","boxVH","boxvl","boxvL","boxVl","boxVL","boxvr","boxvR","boxVr","boxVR","bprime","breve","Breve","brvbar","bscr","Bscr","bsemi","bsim","bsime","bsolb","bsol","bsolhsub","bull","bullet","bump","bumpE","bumpe","Bumpeq","bumpeq","Cacute","cacute","capand","capbrcup","capcap","cap","Cap","capcup","capdot","CapitalDifferentialD","caps","caret","caron","Cayleys","ccaps","Ccaron","ccaron","Ccedil","ccedil","Ccirc","ccirc","Cconint","ccups","ccupssm","Cdot","cdot","cedil","Cedilla","cemptyv","cent","centerdot","CenterDot","cfr","Cfr","CHcy","chcy","check","checkmark","Chi","chi","circ","circeq","circlearrowleft","circlearrowright","circledast","circledcirc","circleddash","CircleDot","circledR","circledS","CircleMinus","CirclePlus","CircleTimes","cir","cirE","cire","cirfnint","cirmid","cirscir","ClockwiseContourIntegral","CloseCurlyDoubleQuote","CloseCurlyQuote","clubs","clubsuit","colon","Colon","Colone","colone","coloneq","comma","commat","comp","compfn","complement","complexes","cong","congdot","Congruent","conint","Conint","ContourIntegral","copf","Copf","coprod","Coproduct","COPY","copysr","CounterClockwiseContourIntegral","crarr","cross","Cross","Cscr","cscr","csub","csube","csup","csupe","ctdot","cudarrl","cudarrr","cuepr","cuesc","cularr","cularrp","cupbrcap","cupcap","CupCap","cup","Cup","cupcup","cupdot","cupor","cups","curarr","curarrm","curlyeqprec","curlyeqsucc","curlyvee","curlywedge","curren","curvearrowleft","curvearrowright","cuvee","cuwed","cwconint","cwint","cylcty","dagger","Dagger","daleth","darr","Darr","dArr","dash","Dashv","dashv","dbkarow","dblac","Dcaron","dcaron","Dcy","dcy","ddagger","ddarr","DD","dd","DDotrahd","ddotseq","deg","Del","Delta","delta","demptyv","dfisht","Dfr","dfr","dHar","dharl","dharr","DiacriticalAcute","DiacriticalDot","DiacriticalDoubleAcute","DiacriticalGrave","DiacriticalTilde","diam","diamond","Diamond","diamondsuit","diams","die","DifferentialD","digamma","disin","div","divide","divideontimes","divonx","DJcy","djcy","dlcorn","dlcrop","dollar","Dopf","dopf","Dot","dot","DotDot","doteq","doteqdot","DotEqual","dotminus","dotplus","dotsquare","doublebarwedge","DoubleContourIntegral","DoubleDot","DoubleDownArrow","DoubleLeftArrow","DoubleLeftRightArrow","DoubleLeftTee","DoubleLongLeftArrow","DoubleLongLeftRightArrow","DoubleLongRightArrow","DoubleRightArrow","DoubleRightTee","DoubleUpArrow","DoubleUpDownArrow","DoubleVerticalBar","DownArrowBar","downarrow","DownArrow","Downarrow","DownArrowUpArrow","DownBreve","downdownarrows","downharpoonleft","downharpoonright","DownLeftRightVector","DownLeftTeeVector","DownLeftVectorBar","DownLeftVector","DownRightTeeVector","DownRightVectorBar","DownRightVector","DownTeeArrow","DownTee","drbkarow","drcorn","drcrop","Dscr","dscr","DScy","dscy","dsol","Dstrok","dstrok","dtdot","dtri","dtrif","duarr","duhar","dwangle","DZcy","dzcy","dzigrarr","Eacute","eacute","easter","Ecaron","ecaron","Ecirc","ecirc","ecir","ecolon","Ecy","ecy","eDDot","Edot","edot","eDot","ee","efDot","Efr","efr","eg","Egrave","egrave","egs","egsdot","el","elinters","ell","els","elsdot","Emacr","emacr","empty","emptyset","EmptySmallSquare","emptyv","EmptyVerySmallSquare","emsp13","emsp14","emsp","ENG","eng","ensp","Eogon","eogon","Eopf","eopf","epar","eparsl","eplus","epsi","Epsilon","epsilon","epsiv","eqcirc","eqcolon","eqsim","eqslantgtr","eqslantless","Equal","equals","EqualTilde","equest","Equilibrium","equiv","equivDD","eqvparsl","erarr","erDot","escr","Escr","esdot","Esim","esim","Eta","eta","ETH","eth","Euml","euml","euro","excl","exist","Exists","expectation","exponentiale","ExponentialE","fallingdotseq","Fcy","fcy","female","ffilig","fflig","ffllig","Ffr","ffr","filig","FilledSmallSquare","FilledVerySmallSquare","fjlig","flat","fllig","fltns","fnof","Fopf","fopf","forall","ForAll","fork","forkv","Fouriertrf","fpartint","frac12","frac13","frac14","frac15","frac16","frac18","frac23","frac25","frac34","frac35","frac38","frac45","frac56","frac58","frac78","frasl","frown","fscr","Fscr","gacute","Gamma","gamma","Gammad","gammad","gap","Gbreve","gbreve","Gcedil","Gcirc","gcirc","Gcy","gcy","Gdot","gdot","ge","gE","gEl","gel","geq","geqq","geqslant","gescc","ges","gesdot","gesdoto","gesdotol","gesl","gesles","Gfr","gfr","gg","Gg","ggg","gimel","GJcy","gjcy","gla","gl","glE","glj","gnap","gnapprox","gne","gnE","gneq","gneqq","gnsim","Gopf","gopf","grave","GreaterEqual","GreaterEqualLess","GreaterFullEqual","GreaterGreater","GreaterLess","GreaterSlantEqual","GreaterTilde","Gscr","gscr","gsim","gsime","gsiml","gtcc","gtcir","gt","GT","Gt","gtdot","gtlPar","gtquest","gtrapprox","gtrarr","gtrdot","gtreqless","gtreqqless","gtrless","gtrsim","gvertneqq","gvnE","Hacek","hairsp","half","hamilt","HARDcy","hardcy","harrcir","harr","hArr","harrw","Hat","hbar","Hcirc","hcirc","hearts","heartsuit","hellip","hercon","hfr","Hfr","HilbertSpace","hksearow","hkswarow","hoarr","homtht","hookleftarrow","hookrightarrow","hopf","Hopf","horbar","HorizontalLine","hscr","Hscr","hslash","Hstrok","hstrok","HumpDownHump","HumpEqual","hybull","hyphen","Iacute","iacute","ic","Icirc","icirc","Icy","icy","Idot","IEcy","iecy","iexcl","iff","ifr","Ifr","Igrave","igrave","iiiint","iiint","iinfin","iiota","IJlig","ijlig","Imacr","imacr","image","ImaginaryI","imagline","imagpart","imath","Im","imof","imped","Implies","incare","infin","infintie","inodot","intcal","int","Int","integers","Integral","intercal","Intersection","intlarhk","intprod","InvisibleComma","InvisibleTimes","IOcy","iocy","Iogon","iogon","Iopf","iopf","Iota","iota","iprod","iquest","iscr","Iscr","isin","isindot","isinE","isins","isinsv","isinv","it","Itilde","itilde","Iukcy","iukcy","Iuml","iuml","Jcirc","jcirc","Jcy","jcy","Jfr","jfr","jmath","Jopf","jopf","Jscr","jscr","Jsercy","jsercy","Jukcy","jukcy","Kappa","kappa","kappav","Kcedil","kcedil","Kcy","kcy","Kfr","kfr","kgreen","KHcy","khcy","KJcy","kjcy","Kopf","kopf","Kscr","kscr","lAarr","Lacute","lacute","laemptyv","lagran","Lambda","lambda","lang","Lang","langd","langle","lap","Laplacetrf","laquo","larrb","larrbfs","larr","Larr","lArr","larrfs","larrhk","larrlp","larrpl","larrsim","larrtl","latail","lAtail","lat","late","lates","lbarr","lBarr","lbbrk","lbrace","lbrack","lbrke","lbrksld","lbrkslu","Lcaron","lcaron","Lcedil","lcedil","lceil","lcub","Lcy","lcy","ldca","ldquo","ldquor","ldrdhar","ldrushar","ldsh","le","lE","LeftAngleBracket","LeftArrowBar","leftarrow","LeftArrow","Leftarrow","LeftArrowRightArrow","leftarrowtail","LeftCeiling","LeftDoubleBracket","LeftDownTeeVector","LeftDownVectorBar","LeftDownVector","LeftFloor","leftharpoondown","leftharpoonup","leftleftarrows","leftrightarrow","LeftRightArrow","Leftrightarrow","leftrightarrows","leftrightharpoons","leftrightsquigarrow","LeftRightVector","LeftTeeArrow","LeftTee","LeftTeeVector","leftthreetimes","LeftTriangleBar","LeftTriangle","LeftTriangleEqual","LeftUpDownVector","LeftUpTeeVector","LeftUpVectorBar","LeftUpVector","LeftVectorBar","LeftVector","lEg","leg","leq","leqq","leqslant","lescc","les","lesdot","lesdoto","lesdotor","lesg","lesges","lessapprox","lessdot","lesseqgtr","lesseqqgtr","LessEqualGreater","LessFullEqual","LessGreater","lessgtr","LessLess","lesssim","LessSlantEqual","LessTilde","lfisht","lfloor","Lfr","lfr","lg","lgE","lHar","lhard","lharu","lharul","lhblk","LJcy","ljcy","llarr","ll","Ll","llcorner","Lleftarrow","llhard","lltri","Lmidot","lmidot","lmoustache","lmoust","lnap","lnapprox","lne","lnE","lneq","lneqq","lnsim","loang","loarr","lobrk","longleftarrow","LongLeftArrow","Longleftarrow","longleftrightarrow","LongLeftRightArrow","Longleftrightarrow","longmapsto","longrightarrow","LongRightArrow","Longrightarrow","looparrowleft","looparrowright","lopar","Lopf","lopf","loplus","lotimes","lowast","lowbar","LowerLeftArrow","LowerRightArrow","loz","lozenge","lozf","lpar","lparlt","lrarr","lrcorner","lrhar","lrhard","lrm","lrtri","lsaquo","lscr","Lscr","lsh","Lsh","lsim","lsime","lsimg","lsqb","lsquo","lsquor","Lstrok","lstrok","ltcc","ltcir","lt","LT","Lt","ltdot","lthree","ltimes","ltlarr","ltquest","ltri","ltrie","ltrif","ltrPar","lurdshar","luruhar","lvertneqq","lvnE","macr","male","malt","maltese","mapsto","mapstodown","mapstoleft","mapstoup","marker","mcomma","Mcy","mcy","mdash","mDDot","measuredangle","MediumSpace","Mellintrf","Mfr","mfr","mho","micro","midast","midcir","mid","middot","minusb","minus","minusd","minusdu","MinusPlus","mlcp","mldr","mnplus","models","Mopf","mopf","mp","mscr","Mscr","mstpos","Mu","mu","multimap","mumap","nabla","Nacute","nacute","nang","nap","napE","napid","napos","napprox","natural","naturals","natur","nbsp","nbump","nbumpe","ncap","Ncaron","ncaron","Ncedil","ncedil","ncong","ncongdot","ncup","Ncy","ncy","ndash","nearhk","nearr","neArr","nearrow","ne","nedot","NegativeMediumSpace","NegativeThickSpace","NegativeThinSpace","NegativeVeryThinSpace","nequiv","nesear","nesim","NestedGreaterGreater","NestedLessLess","NewLine","nexist","nexists","Nfr","nfr","ngE","nge","ngeq","ngeqq","ngeqslant","nges","nGg","ngsim","nGt","ngt","ngtr","nGtv","nharr","nhArr","nhpar","ni","nis","nisd","niv","NJcy","njcy","nlarr","nlArr","nldr","nlE","nle","nleftarrow","nLeftarrow","nleftrightarrow","nLeftrightarrow","nleq","nleqq","nleqslant","nles","nless","nLl","nlsim","nLt","nlt","nltri","nltrie","nLtv","nmid","NoBreak","NonBreakingSpace","nopf","Nopf","Not","not","NotCongruent","NotCupCap","NotDoubleVerticalBar","NotElement","NotEqual","NotEqualTilde","NotExists","NotGreater","NotGreaterEqual","NotGreaterFullEqual","NotGreaterGreater","NotGreaterLess","NotGreaterSlantEqual","NotGreaterTilde","NotHumpDownHump","NotHumpEqual","notin","notindot","notinE","notinva","notinvb","notinvc","NotLeftTriangleBar","NotLeftTriangle","NotLeftTriangleEqual","NotLess","NotLessEqual","NotLessGreater","NotLessLess","NotLessSlantEqual","NotLessTilde","NotNestedGreaterGreater","NotNestedLessLess","notni","notniva","notnivb","notnivc","NotPrecedes","NotPrecedesEqual","NotPrecedesSlantEqual","NotReverseElement","NotRightTriangleBar","NotRightTriangle","NotRightTriangleEqual","NotSquareSubset","NotSquareSubsetEqual","NotSquareSuperset","NotSquareSupersetEqual","NotSubset","NotSubsetEqual","NotSucceeds","NotSucceedsEqual","NotSucceedsSlantEqual","NotSucceedsTilde","NotSuperset","NotSupersetEqual","NotTilde","NotTildeEqual","NotTildeFullEqual","NotTildeTilde","NotVerticalBar","nparallel","npar","nparsl","npart","npolint","npr","nprcue","nprec","npreceq","npre","nrarrc","nrarr","nrArr","nrarrw","nrightarrow","nRightarrow","nrtri","nrtrie","nsc","nsccue","nsce","Nscr","nscr","nshortmid","nshortparallel","nsim","nsime","nsimeq","nsmid","nspar","nsqsube","nsqsupe","nsub","nsubE","nsube","nsubset","nsubseteq","nsubseteqq","nsucc","nsucceq","nsup","nsupE","nsupe","nsupset","nsupseteq","nsupseteqq","ntgl","Ntilde","ntilde","ntlg","ntriangleleft","ntrianglelefteq","ntriangleright","ntrianglerighteq","Nu","nu","num","numero","numsp","nvap","nvdash","nvDash","nVdash","nVDash","nvge","nvgt","nvHarr","nvinfin","nvlArr","nvle","nvlt","nvltrie","nvrArr","nvrtrie","nvsim","nwarhk","nwarr","nwArr","nwarrow","nwnear","Oacute","oacute","oast","Ocirc","ocirc","ocir","Ocy","ocy","odash","Odblac","odblac","odiv","odot","odsold","OElig","oelig","ofcir","Ofr","ofr","ogon","Ograve","ograve","ogt","ohbar","ohm","oint","olarr","olcir","olcross","oline","olt","Omacr","omacr","Omega","omega","Omicron","omicron","omid","ominus","Oopf","oopf","opar","OpenCurlyDoubleQuote","OpenCurlyQuote","operp","oplus","orarr","Or","or","ord","order","orderof","ordf","ordm","origof","oror","orslope","orv","oS","Oscr","oscr","Oslash","oslash","osol","Otilde","otilde","otimesas","Otimes","otimes","Ouml","ouml","ovbar","OverBar","OverBrace","OverBracket","OverParenthesis","para","parallel","par","parsim","parsl","PartialD","Pcy","pcy","percnt","period","permil","perp","pertenk","Pfr","pfr","Phi","phi","phiv","phmmat","phone","Pi","pi","pitchfork","piv","planck","planckh","plankv","plusacir","plusb","pluscir","plus","plusdo","plusdu","pluse","PlusMinus","plusmn","plussim","plustwo","pm","Poincareplane","pointint","popf","Popf","pound","prap","Pr","pr","prcue","precapprox","prec","preccurlyeq","Precedes","PrecedesEqual","PrecedesSlantEqual","PrecedesTilde","preceq","precnapprox","precneqq","precnsim","pre","prE","precsim","prime","Prime","primes","prnap","prnE","prnsim","prod","Product","profalar","profline","profsurf","prop","Proportional","Proportion","propto","prsim","prurel","Pscr","pscr","Psi","psi","puncsp","Qfr","qfr","qint","qopf","Qopf","qprime","Qscr","qscr","quaternions","quatint","quest","questeq","quot","QUOT","rAarr","race","Racute","racute","radic","raemptyv","rang","Rang","rangd","range","rangle","raquo","rarrap","rarrb","rarrbfs","rarrc","rarr","Rarr","rArr","rarrfs","rarrhk","rarrlp","rarrpl","rarrsim","Rarrtl","rarrtl","rarrw","ratail","rAtail","ratio","rationals","rbarr","rBarr","RBarr","rbbrk","rbrace","rbrack","rbrke","rbrksld","rbrkslu","Rcaron","rcaron","Rcedil","rcedil","rceil","rcub","Rcy","rcy","rdca","rdldhar","rdquo","rdquor","rdsh","real","realine","realpart","reals","Re","rect","reg","REG","ReverseElement","ReverseEquilibrium","ReverseUpEquilibrium","rfisht","rfloor","rfr","Rfr","rHar","rhard","rharu","rharul","Rho","rho","rhov","RightAngleBracket","RightArrowBar","rightarrow","RightArrow","Rightarrow","RightArrowLeftArrow","rightarrowtail","RightCeiling","RightDoubleBracket","RightDownTeeVector","RightDownVectorBar","RightDownVector","RightFloor","rightharpoondown","rightharpoonup","rightleftarrows","rightleftharpoons","rightrightarrows","rightsquigarrow","RightTeeArrow","RightTee","RightTeeVector","rightthreetimes","RightTriangleBar","RightTriangle","RightTriangleEqual","RightUpDownVector","RightUpTeeVector","RightUpVectorBar","RightUpVector","RightVectorBar","RightVector","ring","risingdotseq","rlarr","rlhar","rlm","rmoustache","rmoust","rnmid","roang","roarr","robrk","ropar","ropf","Ropf","roplus","rotimes","RoundImplies","rpar","rpargt","rppolint","rrarr","Rrightarrow","rsaquo","rscr","Rscr","rsh","Rsh","rsqb","rsquo","rsquor","rthree","rtimes","rtri","rtrie","rtrif","rtriltri","RuleDelayed","ruluhar","rx","Sacute","sacute","sbquo","scap","Scaron","scaron","Sc","sc","sccue","sce","scE","Scedil","scedil","Scirc","scirc","scnap","scnE","scnsim","scpolint","scsim","Scy","scy","sdotb","sdot","sdote","searhk","searr","seArr","searrow","sect","semi","seswar","setminus","setmn","sext","Sfr","sfr","sfrown","sharp","SHCHcy","shchcy","SHcy","shcy","ShortDownArrow","ShortLeftArrow","shortmid","shortparallel","ShortRightArrow","ShortUpArrow","shy","Sigma","sigma","sigmaf","sigmav","sim","simdot","sime","simeq","simg","simgE","siml","simlE","simne","simplus","simrarr","slarr","SmallCircle","smallsetminus","smashp","smeparsl","smid","smile","smt","smte","smtes","SOFTcy","softcy","solbar","solb","sol","Sopf","sopf","spades","spadesuit","spar","sqcap","sqcaps","sqcup","sqcups","Sqrt","sqsub","sqsube","sqsubset","sqsubseteq","sqsup","sqsupe","sqsupset","sqsupseteq","square","Square","SquareIntersection","SquareSubset","SquareSubsetEqual","SquareSuperset","SquareSupersetEqual","SquareUnion","squarf","squ","squf","srarr","Sscr","sscr","ssetmn","ssmile","sstarf","Star","star","starf","straightepsilon","straightphi","strns","sub","Sub","subdot","subE","sube","subedot","submult","subnE","subne","subplus","subrarr","subset","Subset","subseteq","subseteqq","SubsetEqual","subsetneq","subsetneqq","subsim","subsub","subsup","succapprox","succ","succcurlyeq","Succeeds","SucceedsEqual","SucceedsSlantEqual","SucceedsTilde","succeq","succnapprox","succneqq","succnsim","succsim","SuchThat","sum","Sum","sung","sup1","sup2","sup3","sup","Sup","supdot","supdsub","supE","supe","supedot","Superset","SupersetEqual","suphsol","suphsub","suplarr","supmult","supnE","supne","supplus","supset","Supset","supseteq","supseteqq","supsetneq","supsetneqq","supsim","supsub","supsup","swarhk","swarr","swArr","swarrow","swnwar","szlig","Tau","tau","tbrk","Tcaron","tcaron","Tcedil","tcedil","Tcy","tcy","tdot","telrec","Tfr","tfr","there4","therefore","Therefore","Theta","theta","thetasym","thetav","thickapprox","thicksim","ThickSpace","ThinSpace","thinsp","thkap","thksim","THORN","thorn","tilde","Tilde","TildeEqual","TildeFullEqual","TildeTilde","timesbar","timesb","times","timesd","tint","toea","topbot","topcir","top","Topf","topf","topfork","tosa","tprime","trade","TRADE","triangle","triangledown","triangleleft","trianglelefteq","triangleq","triangleright","trianglerighteq","tridot","trie","triminus","TripleDot","triplus","trisb","tritime","trpezium","Tscr","tscr","TScy","tscy","TSHcy","tshcy","Tstrok","tstrok","twixt","twoheadleftarrow","twoheadrightarrow","Uacute","uacute","uarr","Uarr","uArr","Uarrocir","Ubrcy","ubrcy","Ubreve","ubreve","Ucirc","ucirc","Ucy","ucy","udarr","Udblac","udblac","udhar","ufisht","Ufr","ufr","Ugrave","ugrave","uHar","uharl","uharr","uhblk","ulcorn","ulcorner","ulcrop","ultri","Umacr","umacr","uml","UnderBar","UnderBrace","UnderBracket","UnderParenthesis","Union","UnionPlus","Uogon","uogon","Uopf","uopf","UpArrowBar","uparrow","UpArrow","Uparrow","UpArrowDownArrow","updownarrow","UpDownArrow","Updownarrow","UpEquilibrium","upharpoonleft","upharpoonright","uplus","UpperLeftArrow","UpperRightArrow","upsi","Upsi","upsih","Upsilon","upsilon","UpTeeArrow","UpTee","upuparrows","urcorn","urcorner","urcrop","Uring","uring","urtri","Uscr","uscr","utdot","Utilde","utilde","utri","utrif","uuarr","Uuml","uuml","uwangle","vangrt","varepsilon","varkappa","varnothing","varphi","varpi","varpropto","varr","vArr","varrho","varsigma","varsubsetneq","varsubsetneqq","varsupsetneq","varsupsetneqq","vartheta","vartriangleleft","vartriangleright","vBar","Vbar","vBarv","Vcy","vcy","vdash","vDash","Vdash","VDash","Vdashl","veebar","vee","Vee","veeeq","vellip","verbar","Verbar","vert","Vert","VerticalBar","VerticalLine","VerticalSeparator","VerticalTilde","VeryThinSpace","Vfr","vfr","vltri","vnsub","vnsup","Vopf","vopf","vprop","vrtri","Vscr","vscr","vsubnE","vsubne","vsupnE","vsupne","Vvdash","vzigzag","Wcirc","wcirc","wedbar","wedge","Wedge","wedgeq","weierp","Wfr","wfr","Wopf","wopf","wp","wr","wreath","Wscr","wscr","xcap","xcirc","xcup","xdtri","Xfr","xfr","xharr","xhArr","Xi","xi","xlarr","xlArr","xmap","xnis","xodot","Xopf","xopf","xoplus","xotime","xrarr","xrArr","Xscr","xscr","xsqcup","xuplus","xutri","xvee","xwedge","Yacute","yacute","YAcy","yacy","Ycirc","ycirc","Ycy","ycy","yen","Yfr","yfr","YIcy","yicy","Yopf","yopf","Yscr","yscr","YUcy","yucy","yuml","Yuml","Zacute","zacute","Zcaron","zcaron","Zcy","zcy","Zdot","zdot","zeetrf","ZeroWidthSpace","Zeta","zeta","zfr","Zfr","ZHcy","zhcy","zigrarr","zopf","Zopf","Zscr","zscr","zwj","zwnj","entities$1","legacy","legacy$1","xml","xml$1","decode","decode$1","require$$0","decode_codepoint","__importDefault","mod","decode_json_1","decodeCodePoint","codePoint","output","require$$1","require$$2","require$$3","decode$2","decodeHTML","decodeHTMLStrict","decodeXML","entities_json_1","legacy_json_1","xml_json_1","decode_codepoint_1","getStrictDecoder","getReplacer","re","str","sorter","charAt","secondChar","parseInt","decode_1","decode_2","decode_3","encode","escape","encodeHTML","encodeXML","inverseXML","getInverseObj","xmlReplacer","getInverseReplacer","getInverse","inverseHTML","htmlReplacer","inverse","single","multiple","_i","end","unshift","reNonASCII","singleCharReplacer","codePointAt","toUpperCase","reXmlChars","encode_1","encode_2","encode_3","lib","decodeXMLStrict","decodeHTML5Strict","decodeHTML4Strict","decodeHTML5","decodeHTML4","encodeHTML5","encodeHTML4","decodeStrict","level","encode$1","lib_1","lib_2","lib_3","lib_4","lib_5","lib_6","lib_7","lib_8","lib_9","lib_10","lib_11","lib_12","lib_13","lib_14","lib_15","lib_16","clearNodeChildren","firstChild","removeChild","uniqWith","uniqWith_1","findOffsetInDOM","parentNode","begin","allNodes","beginNode","endNode","idx","dataset","childBegin","getTextNodeAndOffset","beginTextNode","textNode","beginOffset","textOffset","endTextNode","endOffset","strOffset","nodeElement","beginStrOffset","domOffset","originalText","origText","encodedTextSubstring","substring","decodedText","adjustment","createNodeIterator","NodeFilter","SHOW_TEXT","len","nextNode","textContent","createFieldRects","fragment","parentRect","fieldType","fieldId","createRange","setStart","setEnd","fieldNode","uniqRects","getClientRects","left","rects","rectA","rectB","right","spansIntersect","beginA","endA","beginB","endB","getTextMappings","doc","mappings","parse","isCsvFile","isJsonFile","START","END","getPassagePageInfo","textMappings","passage","start_offset","end_offset","cell","span","isPassage","_extends$1","_objectWithoutProperties$2","_objectWithoutPropertiesLoose$2","_ref2$9","_ref3$2","SvgDocumentPreview","svgRef","ForwardRef$1","ErrorState","header","SimpleDocument","highlight","setLoading","hideToolbarControls","setHideToolbarControls","cannotPreviewMessage","cannotPreviewMessage2","contentRef","highlightRef","html","isJsonOrCsvType","fields_shown","rollingStart_1","res","contentNode","highlightNode","offsets","createDocumentFragment","getBoundingClientRect","firstFieldRect","querySelector","scrollIntoView","dangerouslySetInnerHTML","__html","WrappedComponent","_super","WithErrorBoundary","didCatch","getDerivedStateFromError","componentDidUpdate","defaultMessages$3","noDataMessage","purify","_toConsumableArray","arr","arr2","isFrozen","objectKeys","seal","Reflect","construct","fun","thisValue","Func","arrayForEach","unapply","arrayIndexOf","arrayJoin","arrayPop","arraySlice","stringToLowerCase","stringMatch","stringReplace","stringIndexOf","stringTrim","trim","regExpTest","regExpCreate","unconstruct","typeErrorCreate","_len2","_key2","addToSet","lcElement","clone","newObject","svg","svgFilters","mathMl","html$1","svg$1","mathMl$1","MUSTACHE_EXPR","ERB_EXPR","DATA_ATTR","ARIA_ATTR","IS_ALLOWED_URI","IS_SCRIPT_OR_DATA","ATTR_WHITESPACE","_typeof","_toConsumableArray$1","getGlobal","_createTrustedTypesPolicy","trustedTypes","createPolicy","ATTR_NAME","currentScript","hasAttribute","policyName","createHTML","html$$1","createDOMPurify","DOMPurify","version","removed","isSupported","originalDocument","removeTitle","DocumentFragment","HTMLTemplateElement","Node","_window$NamedNodeMap","NamedNodeMap","MozNamedAttrMap","Text","Comment","DOMParser","template","ownerDocument","trustedTypesPolicy","emptyHTML","RETURN_TRUSTED_TYPE","_document","implementation","getElementsByTagName","importNode","documentMode","hooks","createHTMLDocument","MUSTACHE_EXPR$$1","ERB_EXPR$$1","DATA_ATTR$$1","ARIA_ATTR$$1","IS_SCRIPT_OR_DATA$$1","ATTR_WHITESPACE$$1","IS_ALLOWED_URI$$1","ALLOWED_TAGS","DEFAULT_ALLOWED_TAGS","ALLOWED_ATTR","DEFAULT_ALLOWED_ATTR","FORBID_TAGS","FORBID_ATTR","ALLOW_ARIA_ATTR","ALLOW_DATA_ATTR","ALLOW_UNKNOWN_PROTOCOLS","SAFE_FOR_JQUERY","SAFE_FOR_TEMPLATES","WHOLE_DOCUMENT","SET_CONFIG","FORCE_BODY","RETURN_DOM","RETURN_DOM_FRAGMENT","RETURN_DOM_IMPORT","SANITIZE_DOM","KEEP_CONTENT","IN_PLACE","USE_PROFILES","FORBID_CONTENTS","DATA_URI_TAGS","DEFAULT_DATA_URI_TAGS","URI_SAFE_ATTRIBUTES","DEFAULT_URI_SAFE_ATTRIBUTES","CONFIG","formElement","_parseConfig","cfg","ADD_URI_SAFE_ATTR","ADD_DATA_URI_TAGS","ALLOWED_URI_REGEXP","ADD_TAGS","ADD_ATTR","table","tbody","_forceRemove","outerHTML","_removeAttribute","getAttributeNode","removeAttribute","_initDocument","dirty","leadingWhitespace","matches","dirtyPayload","parseFromString","documentElement","_doc","firstElementChild","insertBefore","createTextNode","childNodes","innerHTML","_createIterator","SHOW_ELEMENT","SHOW_COMMENT","FILTER_ACCEPT","_isClobbered","elm","nodeName","namespaceURI","_isNode","_executeHook","entryPoint","currentNode","hook","_sanitizeElements","tagName","allowedTags","insertAdjacentHTML","htmlToInsert","cloneNode","_isValidAttribute","lcTag","lcName","_sanitizeAttributes","attr","idAttr","hookEvent","attrName","attrValue","keepAttr","allowedAttributes","_attr","forceKeepAttr","setAttributeNS","_sanitizeShadowDOM","shadowNode","shadowIterator","sanitize","importedNode","oldNode","returnNode","toStaticHTML","nodeIterator","serializedHTML","setConfig","clearConfig","isValidAttribute","addHook","hookFunction","removeHook","removeHooks","removeAllHooks","baseMap","_baseMap","map_1","flatMap","flatMap_1","reWhitespace","trimmedEndIndex","_trimmedEndIndex","reTrimStart","baseTrim","_baseTrim","NAN","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","toNumber","isBinary","toNumber_1","INFINITY$3","MAX_INTEGER","toFinite","sign","toFinite_1","toInteger","remainder","toInteger_1","nativeMax$1","findIndex_1","Tokenizer_1","whitespace","ifElseState","upper","SUCCESS","FAILURE","lower","_index","consumeSpecialNameChar","NEXT_STATE","stateBeforeCdata1","stateBeforeCdata2","stateBeforeCdata3","stateBeforeCdata4","stateBeforeCdata5","stateBeforeScript1","stateBeforeScript2","stateBeforeScript3","stateBeforeScript4","stateAfterScript1","stateAfterScript2","stateAfterScript3","stateAfterScript4","stateBeforeStyle1","stateBeforeStyle2","stateBeforeStyle3","stateAfterStyle1","stateAfterStyle2","stateAfterStyle3","stateBeforeEntity","stateBeforeNumericEntity","Tokenizer","cbs","_buffer","_sectionStart","_bufferOffset","_baseState","_special","_running","_ended","_cbs","_xmlMode","xmlMode","_decodeEntities","decodeEntities","reset","_stateText","ontext","_getSection","_stateBeforeTagName","_stateInTagName","_emitToken","_stateBeforeClosingTagName","_stateInClosingTagName","_stateAfterClosingTagName","_stateBeforeAttributeName","onopentagend","_stateInSelfClosingTag","onselfclosingtag","_stateInAttributeName","onattribname","_stateAfterAttributeName","onattribend","_stateBeforeAttributeValue","_stateInAttributeValueDoubleQuotes","_stateInAttributeValueSingleQuotes","_stateInAttributeValueNoQuotes","_stateBeforeDeclaration","_stateInDeclaration","ondeclaration","_stateInProcessingInstruction","onprocessinginstruction","_stateBeforeComment","_stateInComment","_stateAfterComment1","_stateAfterComment2","oncomment","_stateBeforeCdata6","_stateInCdata","_stateAfterCdata1","_stateAfterCdata2","oncdata","_stateBeforeSpecial","_stateBeforeSpecialEnd","_stateBeforeScript5","_stateAfterScript5","_stateBeforeStyle4","_stateAfterStyle4","_parseNamedEntityStrict","_emitPartial","_parseLegacyEntity","limit","_stateInNamedEntity","_decodeNumericEntity","sectionStart","parsed","_stateInNumericEntity","_stateInHexEntity","_cleanup","write","chunk","onerror","_parse","pause","resume","_finish","_handleTrailingData","onend","getAbsoluteIndex","onattribdata","R","ReflectApply","receiver","ReflectOwnKeys","ProcessEmitWarning","warning","NumberIsNaN","isNaN","EventEmitter","init","events","once_1","once","_events","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","RangeError","setMaxListeners","_getMaxListeners","that","getMaxListeners","emit","doError","er","context","listeners","arrayClone","_addListener","prepend","existing","newListener","warned","emitter","addListener","on","prependListener","onceWrapper","fired","removeListener","wrapFn","_onceWrap","wrapped","prependOnceListener","list","position","originalListener","shift","spliceOne","off","removeAllListeners","_listeners","unwrap","evlistener","unwrapListeners","rawListeners","listenerCount","eventNames","ret","eventListener","errorListener","Parser_1","Tokenizer_1$1","formTags","Set","pTag","openImpliesClose","tr","th","td","li","h1","h2","h3","h4","h5","h6","select","button","datalist","textarea","option","optgroup","address","article","aside","blockquote","details","dl","fieldset","figcaption","figure","footer","form","hr","main","nav","ol","section","ul","rt","rp","tfoot","voidElements","foreignContextElements","htmlIntegrationElements","reNameEnd","Parser","_tagname","_attribname","_attribvalue","_attribs","_stack","_foreignContext","startIndex","endIndex","parseChunk","_options","_lowerCaseTagNames","lowerCaseTags","_lowerCaseAttributeNames","lowerCaseAttributeNames","_tokenizer","onparserinit","_updatePosition","initialOffset","onopentagname","onclosetag","onopentag","pos","_closeCurrentTag","recognizeSelfClosing","onattribute","_getInstructionName","search","name_1","name_2","oncommentend","recognizeCDATA","oncdatastart","oncdataend","onreset","parseComplete","Parser_2","NodeWithChildren","ProcessingInstruction","DataNode","nodeTypes","Map","parent","prev","recursive","attribs","instr","cloneChildren","clone_1","child","cdata","clone_2","childs","node_1","node_2","node_3","node_4","node_5","node_6","node_7","node_8","lib$1","__createBinding","o","k2","__exportStar","DomHandler","defaultOpts","normalizeWhitespace","withStartIndices","withEndIndices","elementCB","dom","_done","_tagStack","_lastNode","_parser","_callback","_elementCB","parser","handleCallback","addNode","normalize","node$1","siblings","previousSibling","addDataNode","lib_1$1","lib$2","Doctype","CDATA","Tag","Style","Script","Directive","Root","isTag","lib_1$2","lib_2$1","lib_3$1","lib_4$1","lib_5$1","lib_6$1","lib_7$1","lib_8$1","lib_9$1","lib_10$1","tagtypes","hasChildren","isComment","isText","isCDATA","tagtypes_1","tagtypes_2","tagtypes_3","tagtypes_4","tagtypes_5","foreignNames","attributeNames","elementNames","foreignNames_1","foreignNames_2","lib$3","__setModuleDefault","__importStar","ElementType","unencodedElements","opts","emptyAttrs","singleTag","nodes","cheerio","renderNode","renderDirective","renderComment","renderCdata","renderTag","renderText","foreignModeIntegrationPoints","foreignElements","selfClosingTags","getText","getInnerHTML","getOuterHTML","dom_serializer_1","stringify_1","stringify_2","stringify_3","traversal","nextElementSibling","getName","hasAttrib","getAttributeValue","getSiblings","getParent","getChildren","emptyArray","traversal_1","traversal_2","traversal_3","traversal_4","traversal_5","traversal_6","traversal_7","manipulation","prependChild","append","replaceElement","removeElement","replacement","sibling","currNext","manipulation_1","manipulation_2","manipulation_3","manipulation_4","manipulation_5","manipulation_6","querying","findAll","existsOne","findOne","findOneChild","recurse","Infinity","nodes_1","querying_1","querying_2","querying_3","querying_4","querying_5","querying_6","legacy$2","getElementsByTagType","getElements","testElement","Checks","tag_name","tag_type","tag_contains","getAttribCheck","attrib","combineFuncs","compileTest","funcs","legacy_1","legacy_2","legacy_3","legacy_4","legacy_5","helpers","uniqueSort","compareDocumentPosition","removeSubsets","ancestor","nodeA","nodeB","aParents","bParents","maxIdx","sharedParent","aSibling","bSibling","relative","helpers_1","helpers_2","helpers_3","lib$4","FeedHandler_1","domhandler_1","DomUtils","FeedHandler","feed","feedRoot","getOneElement","isValidFeed","addConditionally","href","link","updated","fetch","item","pubDate","what","where","tmp","defaultOptions","parseFeed","FeedHandler_2","FeedHandler_3","_nodeResolve_empty","_nodeResolve_empty$1","MultiplexHandler_1","MultiplexHandler","_func","comment","CollectingHandler_1","MultiplexHandler_1$1","CollectingHandler","restart","CollectingHandler_2","require$$2$1","lib$5","__export","DefaultHandler","parseDOM","createDomStream","cb","elementCb","EVENTS","cdatastart","cdataend","processinginstruction","commentend","closetag","opentag","opentagname","FeedHandler_1$1","RssHandler","lib_1$3","lib_2$2","lib_3$2","lib_4$2","lib_5$2","lib_6$2","lib_7$2","lib_8$2","lib_9$2","lib_10$2","SaxParser","baseHandlers","fnName","onEvent","promise","ParsingError","pushState","newState","popState","params","ENRICHMENTS","CONTRACT","INVOICE","PURCHASE_ORDER","getEnrichmentName","enrichedHtml","isInvoiceOrPurchaseOrder","enrichmentName","isRelationObject","allAttributeIds","hasRelation","getId","findElement","ids","findElementIndex","invoiceOntology","enrichment","relations","purchaseOrderOntology","INFINITY$4","flattenDeep","flattenDeep_1","ontologyMapping","invoice","purchase_order","modelMapping","contract","setMetadata","setAttributesAndRelations","getUpdatedEnrichment","meta","contract_amounts","effective_dates","termination_dates","contract_types","contract_terms","payment_terms","updatedMetadata","metadataObj","metadataType","metadata","ontology","setAttributes","setRelations","parsedObject","filteredAttributes","attributeDef","parsedAttributes","att","createAttributeObject","hasLocationData","filteredRelations","relation","createRelationObject","relationArray","rel","getAllAttributesInRelation","allAttributes","transformEnrichment","updatedEnrichment","getDocumentTitle","titleField","document_id","SECTION_NAMES","DOC_ENRICHMENTS","TABLE_TAG","BBOX_TAG","SKIP_BBOX","DEFAULT_OPTIONS","sections","tables","bbox","itemMap","processDoc","queryData","documentTitle","transformedEnrichmentArray","transformedEnrichment","htmlContent","enriched_html","styles","bboxes","setupDocParser","sortFields","addItemMap","setupStyleParser","setupBodyParser","styleText","setupSectionParser","sectionTagName","sectionTagAttrs","sectionStartIndex","sectionParser","lastClassName","currentTable","currentBbox","stackCount","openTagIndices","sectionHtml","actionState","getActionState","class","descriptionId","tableDescription","ariaLabel","openTagToString","getChildBeginFromOpenTag","top_1","lastElemIndex","closeTagToString","openTagIdx","getChildEndFromCloseTag","enrichments","_enrichments","DOC_ENRICHMENTS_1","fields_1","sortFieldsBySection","sectionIdx","__type","itemNames","byItem","bySection","sectionNum","itemsInSection","itemsInSection_1","itemId","intersects","boxA","boxB","leftA","topA","rightA","bottomA","pageA","leftB","topB","rightB","bottomB","pageB","findMatchingBbox","docBox","htmlBox","pBbox","left2","top2","right2","bottom2","page_number","canRenderHtmlView","SANITIZE_CONFIG","baseClassName","HtmlView","setHtml","processedDoc","setProcessedDoc","highlightLocations","setHighlightLocations","docHtml_1","process_1","fullHtml","docHtml","textMappingBbox","passageLocs","tableLoc","ZOOM_IN$1","ZOOM_OUT$1","SCALE_FACTOR","DocumentPreview","file","scale","setScale","zoom","PreviewDocument","paragraph","lineCount","isJsonType","isCsvType","ErrorBoundDocumentPreview","TablesOnlyToggle","setShowTablesOnlyResults","showTablesOnlyResults","showTablesOnlyToggle","handleToggle","toggleClassName","tablesOnlyToggleLabelText","onToggle","toggled","mustache","isArrayPolyfill","typeStr","escapeRegExp","hasProperty","primitiveHasOwnProperty","primitive","testRegExp","nonSpaceRe","isWhitespace","entityMap","escapeHtml","fromEntityMap","whiteRe","spaceRe","equalsRe","curlyRe","tagRe","parseTemplate","tags","lineHasNonSpace","tokens","spaces","hasTag","nonSpace","indentation","tagIndex","stripSpace","openingTagRe","closingTagRe","closingCurlyRe","compileTags","tagsToCompile","scanner","Scanner","chr","token","openSection","eos","scanUntil","valueLength","scan","nestTokens","squashTokens","squashedTokens","lastToken","numTokens","nestedTokens","collector","tail","Context","view","parentContext","lookup","intermediateValue","names","lookupHit","Writer","clearCache","partials","renderTokens","originalTemplate","renderSection","renderInverted","renderPartial","unescapedValue","escapedValue","rawValue","subRender","indentPartial","partial","filteredIndentation","partialByNl","indentedValue","to_html","defaultWriter","send","_interopDefault$a","React$a","_ref2$a","_ref3$3","Launch16","_16$4","_interopDefault$b","React$b","_ref2$b","TableSplit16","_16$5","baseClass$1","searchResultsListClass","searchResultsHeaderClass","searchResultClass","searchResultSelectedClass","searchResultLoadingClass","searchResultCurationClass","searchResultContentWrapperClass","searchResultContentWrapperBodyClass","searchResultContentWrapperBodyButtonClass","searchResultContentWrapperBodyPassageHighlightsClass","searchResultContentWrapperHalfClass","searchResultFooterClass","searchResultFooterTitleClass","searchResultFooterCollectionNameClass","ResultElement","buttonText","elementLabel","handleSelectResult","passageTextClassName","hasResult","dangerouslyRenderHtml","elementBodyClassNames","elementBodyProps","Result","bodyField","collectionName","resultLinkField","resultLinkTemplate","resultTitleField","usePassages","onSelectResult","firstPassage","firstPassageText","hasPassage","displayedText","shouldDangerouslyRenderHtml","displayedTextElement","displayedTextElementType","tableHtml","hasText","emptyResultContent","searchResultClasses","documentRetrievalSource","searchResultContentWrapperClasses","url","emptyResultContentBodyText","viewExcerptInDocumentButtonText","viewTableInDocumentButtonText","elementTableLabel","documentName","collectionLabel","SpellingSuggestion","spellingSuggestionPrefix","spellingSuggestionClassName","spellingSuggestionWrapperClassName","suggestedQuery","suggested_query","selectSuggestion","findCollectionName","collectionResponse","queryResult","collectionId","matchingCollection","getDisplaySettings","findTablesWithoutResults","tablesWithoutResults","matchingResult","source_document_id","defaultMessages$4","spellingSuggestionsPrefix","noResultsFoundText","DEFAULT_LOADING_COUNT","SearchResults","passageLength","showTablesOnly","hasFetchedDocuments","setHasFetchedDocuments","table_results","emptySearch","hasTables","hasMatchingResults","resultsFound","showTablesOnlyToggleState","setShowTablesOnlyToggleState","characters","skeletons","searchResultLoadingClasses","numberOfSkeletons","table_id","documentTableResult","tableResult","SearchResults$1","LARGE_ARRAY_SIZE$2","baseDifference","valuesLength","valuesIndex","_baseDifference","difference","difference_1","baseSlice","_baseSlice","castSlice","_castSlice","rsAstralRange","rsComboMarksRange","reComboHalfMarksRange","rsComboSymbolsRange","rsComboRange","rsVarRange","rsZWJ","reHasUnicode","hasUnicode","_hasUnicode","asciiToArray","_asciiToArray","rsAstralRange$1","rsComboMarksRange$1","reComboHalfMarksRange$1","rsComboSymbolsRange$1","rsComboRange$1","rsVarRange$1","rsAstral","rsCombo","rsFitz","rsModifier","rsNonAstral","rsRegional","rsSurrPair","rsZWJ$1","reOptMod","rsOptVar","rsOptJoin","rsSeq","rsSymbol","reUnicode","unicodeToArray","_unicodeToArray","stringToArray","_stringToArray","createCaseFirst","methodName","strSymbols","trailing","_createCaseFirst","upperFirst","upperFirst_1","capitalize","capitalize_1","classnames","hasOwn","classes","argType","inner","documentDisplayNames","amount","bill_to","buyers","currencies","currency","due_dates","invoice_dates","invoice_numbers","invoice_parts","invoice_to","item_description","line_items","part_description","purchase_order_dates","purchase_order_numbers","quantity_ordered","ship_to","supplier_ids","suppliers","total_amounts","totals_due","unit_price","defaultMessages$5","noneLabel","detailsTitle","noneSelectedMessage","Details","selectedLink","renderItems","renderLinks","renderContent","sectionTitle","base$1","DetailsPane","onActiveLinkChange","heading","isFilterEmpty","labelList","filterContains","groupId","optionId","updateFilter","updatedList","displayNames","defaultMessages$6","filterTitle","resetFilterLabel","base$2","inputTagTypes","checkbox","radio","FilterPanel","filterGroups","onFilterChange","onFilterClear","group","optionsList","InputTag","handleChange","_extends$2","_objectWithoutProperties$3","_objectWithoutPropertiesLoose$3","_ref2$c","fillRule","cx","cy","SvgConfidenceHigh","ForwardRef$2","_extends$3","_objectWithoutProperties$4","_objectWithoutPropertiesLoose$4","_ref2$d","SvgConfidenceMedium","ForwardRef$3","_extends$4","_objectWithoutProperties$5","_objectWithoutPropertiesLoose$5","_ref2$e","SvgConfidenceLow","ForwardRef$4","MetadataRow","activeMetadataId","contactsLabel","partiesLabel","confidenceLabel","highConfidenceTooltipText","mediumConfidenceTooltipText","lowConfidenceTooltipText","onActiveMetadataChange","headings","contacts","parties","confidenceLevel","High","Medium","Low","metadataId","metadataTypeId","getMetadataTypeId","direction","confidence_level","onLinkClick","text_normalized","HIDDEN_ROLES","PartyRow","party","addressesHeading","contactsHeading","onActivePartyChange","mentions","mention","onLinkClick$1","getNameRoleDisplayString","addresses","adrs","contact","defaultMessages$7","partiesHeading","MetadataPane","filteredParties","filterParties","showParty","originalParty","importance","_interopDefault$c","React$c","_ref2$f","ChevronLeft16","_16$6","_interopDefault$d","React$d","_ref2$g","ChevronRight16","_16$7","defaultMessages$8","previousLabel","nextLabel","navigation","counterPattern","NavigationToolbar","handleChange$1","isBelowMin","newIndex","debounce","wait","immediate","timeout","timestamp","later","debounced","callNow","flush","debounce_1","MapShim","getIndex","class_1","__entries__","delete","ctx","isBrowser","global$1","requestAnimationFrame$1","requestAnimationFrame","trailingTimeout","throttle","leadingCall","trailingCall","lastCallTime","resolvePending","proxy","timeoutCallback","timeStamp","REFRESH_DELAY","transitionKeys","mutationObserverSupported","MutationObserver","ResizeObserverController","connected_","mutationEventsAdded_","mutationsObserver_","observers_","onTransitionEnd_","refresh","addObserver","observer","connect_","removeObserver","observers","disconnect_","changesDetected","updateObservers_","activeObservers","gatherActive","hasActive","broadcastActive","addEventListener","observe","childList","characterData","subtree","removeEventListener","disconnect","propertyName","isReflowProperty","getInstance","instance_","defineConfigurable","getWindowOf","ownerGlobal","defaultView","emptyRect","createRectInit","toFloat","parseFloat","getBordersSize","positions","getPaddings","paddings","positions_1","getSVGContentRect","getBBox","getHTMLElementContentRect","clientWidth","clientHeight","getComputedStyle","horizPad","vertPad","round","isDocumentElement","vertScrollbar","horizScrollbar","abs","isSVGGraphicsElement","SVGGraphicsElement","SVGElement","getContentRect","createReadOnlyRect","Constr","DOMRectReadOnly","ResizeObservation","broadcastWidth","broadcastHeight","contentRect_","isActive","broadcastRect","ResizeObserverEntry","rectInit","contentRect","ResizeObserverSPI","controller","callbackCtx","activeObservations_","observations_","callback_","controller_","callbackCtx_","observations","unobserve","clearActive","observation","WeakMap","ResizeObserver","method","rafSchd","lastArgs","frameId","wrapperFn","cancel","cancelAnimationFrame","now_1","FUNC_ERROR_TEXT$1","nativeMax$2","nativeMin","debounce$1","lastThis","maxWait","timerId","lastInvokeTime","leading","maxing","invokeFunc","time","leadingEdge","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","timeWaiting","shouldInvoke","trailingEdge","isInvoking","debounce_1$1","FUNC_ERROR_TEXT$2","throttle$1","throttle_1","utils","isDOMElement","isSSR","getHandle","listHandle","_debounce","_throttle","HTMLDocument","utils_1","utils_2","utils_3","utils_4","utils_5","ChildWrapper_1","_defineProperties","_setPrototypeOf","_createSuper","Derived","Super","_getPrototypeOf","_isNativeReflectConstruct","NewTarget","_assertThisInitialized","sham","Proxy","ChildWrapper","_PureComponent","_default","ResizeDetector_1","_react","_interopRequireWildcard","_resizeObserverPolyfill","_rafSchd","_ChildWrapper","_getRequireWildcardCache","newObj","hasPropertyDescriptor","desc","ResizeDetector","resizeHandler","raf","getElement","resizeObserver","_this$props","targetDomEl","currentElement","parentElement","rafClean","onResize","_this$state","widthCurrent","heightCurrent","_this$props2","handleWidth","handleHeight","updater","createUpdater","isWidthChanged","isHeightChanged","isSizeChanged","shouldSetSize","skipOnMount","_this$props3","_this$props4","_this$state2","childProps","renderType","getRenderType","cloneElement","refreshMode","refreshRate","refreshOptions","unmounted","handle","createResizeHandler","componentDidMount","toggleObserver","componentWillUnmount","cancelHandler","onRef","getTargetComponent","withResizeDetector_1","_ResizeDetector","withResizeDetector","ResizeDetectorHOC","lib$6","_withResizeDetector","ReactResizeDetector","lib_1$4","elementFromPoint","elementsFromPoint","classList","contains","elementFromPointMs","msElementsFromPoint","elementFromPointFallback","stopElem","pointerEvents","exportFn","baseClassName$1","Section","onFieldClick","hoveredField","setHoveredField","sectionNode","fieldsNode","createSectionFields","renderSectionFields","resizeFn","hasTable","onMouseMove","mouseMoveListener","onMouseLeave","mouseLeaveListener","mouseClickListener","_mouseMoveListener","fieldRect","clientX","clientY","remove","closest","_mouseLeaveListener","_mouseClickListener","sectionRect","_global","__g","_core","core","__e","_core_1","_aFunction","_ctx","_isObject","_anObject","_fails","_descriptors","document$1","_domCreate","_ie8DomDefine","_toPrimitive","S","dP","f$1","O","Attributes","_objectDp","_propertyDesc","bitmap","_hide","hasOwnProperty$d","_has","PROTOTYPE","$export","IS_FORCED","F","IS_GLOBAL","G","IS_STATIC","IS_PROTO","IS_BIND","B","IS_WRAP","W","expProto","own","out","C","virtual","U","_export","toString$2","_cof","_iobject","_defined","_toIobject","ceil","_toInteger","_toLength","min$1","_toAbsoluteIndex","_arrayIncludes$1","IS_INCLUDES","$this","_library","_shared","SHARED","store","mode","copyright","px","_uid","shared","_sharedKey","_objectKeysInternal","_enumBugKeys","_objectKeys","f$2","_objectGops","f$3","_objectPie","_toObject","$assign","_objectAssign","K","T","aLen","isEnum","assign$1","_Object$assign","_extends$5","_assign2","_extends$6","IE_PROTO$1","ObjectProto","_objectGpo","_objectSap","KEY","exp","getPrototypeOf$1","_Object$getPrototypeOf","classCallCheck","$Object","defineProperty$1","defineProperty$2","createClass","_defineProperty2","_stringAt","TO_STRING","_redefine","_iterators","_objectDps","Properties","document$2","_html","IE_PROTO$2","Empty","PROTOTYPE$1","createDict","iframe","iframeDocument","src","contentWindow","close","_objectCreate","_wks","USE_SYMBOL","$exports","def","TAG","_setToStringTag","stat","IteratorPrototype","_iterCreate","NAME","ITERATOR","BUGGY","FF_ITERATOR","KEYS","VALUES","returnThis","_iterDefine","Base","DEFAULT","IS_SET","FORCED","getMethod","DEF_VALUES","VALUES_BUG","$native","$default","$entries","$anyNative","methods","$at","iterated","_t","point","_iterStep","es6_array_iterator","Arguments","TO_STRING_TAG","DOMIterables","i$1","Collection","f$4","_wksExt","iterator$1","_meta","META","setDesc","isExtensible","FREEZE","preventExtensions","setMeta","fastKey","getWeak","onFreeze","NEED","_meta_1","_meta_2","_meta_3","_meta_4","_meta_5","defineProperty$3","_wksDefine","$Symbol","_enumKeys","_isArray","hiddenKeys","f$5","_objectGopn","gOPN","toString$3","windowNames","getWindowNames","f$6","_objectGopnExt","gOPD","f$7","_objectGopd","gOPD$1","dP$1","gOPN$1","$JSON","_stringify","PROTOTYPE$2","HIDDEN","TO_PRIMITIVE","SymbolRegistry","AllSymbols","OPSymbols","ObjectProto$1","USE_NATIVE","QObject","findChild","setSymbolDesc","D","protoDesc","wrap","isSymbol$1","$defineProperty","$defineProperties","$create","$propertyIsEnumerable","E","$getOwnPropertyDescriptor","$getOwnPropertyNames","$getOwnPropertySymbols","IS_OP","$set","es6Symbols","wellKnownSymbols","k$1","keyFor","useSetter","useSimple","FAILS_ON_PRIMITIVES","$replacer","symbol$1","_typeof_1","_iterator2","_symbol2","possibleConstructorReturn","_typeof3","_setProto","buggy","setPrototypeOf$1","$Object$1","create$1","inherits","_setPrototypeOf2","_create2","createDetectElementResize","nonce","_window","attachEvent","requestFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","cancelFrame","mozCancelAnimationFrame","webkitCancelAnimationFrame","resetTriggers","triggers","__resizeTriggers__","expand","lastElementChild","expandChild","scrollLeft","scrollWidth","scrollTop","scrollHeight","offsetWidth","offsetHeight","checkTriggers","__resizeLast__","scrollListener","__resizeRAF__","__resizeListeners__","animation","keyframeprefix","animationstartevent","domPrefixes","startEvents","pfx","animationName","animationKeyframes","animationStyle","createStyles","css","head","styleSheet","cssText","addResizeListener","elementStyle","__animationListener__","animationListener","removeResizeListener","detachEvent","AutoSizer","_React$PureComponent","defaultHeight","defaultWidth","_onResize","disableHeight","disableWidth","_parentNode","_height","_width","_style","paddingLeft","paddingRight","paddingTop","paddingBottom","newHeight","newWidth","_setRef","autoSizer","_autoSizer","HTMLElement","_detectElementResize","outerStyle","overflow","childParams","bpfrpt_proptype_CellMeasureCache","hasFixedWidth","hasFixedHeight","getHeight","getWidth","CellMeasurer","_measure","_this$props$columnInd","columnIndex","_this$props$rowIndex","rowIndex","_this$_getCellMeasure","_getCellMeasurements","recomputeGridSize","_maybeMeasureCell","measure","styleWidth","styleHeight","_props$columnIndex","_props$rowIndex","_getCellMeasurements2","invalidateCellSizeAfterRender","__internalCellMeasurerFlag","DEFAULT_HEIGHT","DEFAULT_WIDTH","CellMeasurerCache","_cellHeightCache","_cellWidthCache","_columnWidthCache","_rowHeightCache","_columnCount","_rowCount","columnWidth","_keyMapper","_defaultWidth","rowHeight","_defaultHeight","fixedHeight","fixedWidth","keyMapper","minHeight","minWidth","_hasFixedHeight","_hasFixedWidth","_minHeight","_minWidth","defaultKeyMapper","_updateCachedColumnAndRowSizes","clearAll","columnKey","rowKey","$getOwnPropertyDescriptor$1","$Object$2","getOwnPropertyDescriptor$1","_Object$getOwnPropertyDescriptor","toVal","mix","clsx","calculateSizeAndPositionDataAndUpdateScrollOffset","cellCount","cellSize","computeMetadataCallback","computeMetadataCallbackProps","nextCellsCount","nextCellSize","nextScrollToIndex","scrollToIndex","updateScrollOffsetForScrollToIndex","objectWithoutProperties","_objectWithoutProperties$6","linearLayoutVector","LinearLayoutVector","getLength","setLength","getDefaultSize","setDefaultSize","getAxisOffset","setAxisOffset","getGap","setGap","getItemSize","setItemSize","insert","toString$4","block_size","pow","log","mask","block_shift","block_mask","block_table","_defaultSize","_axisOffset","_gap","removes","inserts","_length","_pendingLength","newLength","flushPendingChanges","blockIndex","clearInterval","partialBlock","sizes","Block","sizesIndex","oldValue","defaultCount","sizesSum","intervalEnd","intervalStart","isIntervalClear","inBlockCopy","dstBlock","dstIndexStart","srcBlock","srcIndexStart","ascending","srcIndex","dstIndex","increment","dstSizes","srcSizes","dstValue","NaN","sizesSumDelta","defaultCountDelta","copyInterval","dstBlockIndex","dstSizesIndex","srcBlockIndex","srcSizesIndex","copyCount","dstStartIndex","srcStartIndex","blockEndReached","clearCount","removeIntervals","intervals","intervalsCount","reverse","dstStart","srcStart","nextIntervalStart","insertIntervals","oldLength","srcEnd","dstEnd","distance","lastBlock","lastBlockOffset","lastBlockLength","indexOfInternal","curDistance","blockSize","defaultSize","blockGap","blockTable","blockTableLength","blockDistance","bpfrpt_proptype_CellPosition","bpfrpt_proptype_CellRendererParams","isScrolling","isVisible","bpfrpt_proptype_CellRenderer","bpfrpt_proptype_CellCache","bpfrpt_proptype_StyleCache","bpfrpt_proptype_CellRangeRendererParams","cellCache","cellRenderer","columnSizeAndPositionManager","ScalingCellSizeAndPositionManager","columnStartIndex","columnStopIndex","deferredMeasurementCache","horizontalOffsetAdjustment","isScrollingOptOut","rowSizeAndPositionManager","rowStartIndex","rowStopIndex","styleCache","verticalOffsetAdjustment","visibleColumnIndices","visibleRowIndices","bpfrpt_proptype_CellRangeRenderer","bpfrpt_proptype_CellSizeGetter","bpfrpt_proptype_CellSize","bpfrpt_proptype_NoContentRenderer","bpfrpt_proptype_Scroll","bpfrpt_proptype_ScrollbarPresenceChange","horizontal","vertical","bpfrpt_proptype_RenderedSection","columnOverscanStartIndex","columnOverscanStopIndex","rowOverscanStartIndex","rowOverscanStopIndex","bpfrpt_proptype_OverscanIndicesGetterParams","scrollDirection","overscanCellsCount","stopIndex","bpfrpt_proptype_OverscanIndices","overscanStartIndex","overscanStopIndex","bpfrpt_proptype_OverscanIndicesGetter","bpfrpt_proptype_Alignment","bpfrpt_proptype_VisibleCellRange","stop","CellSizeAndPositionManager","cellSizeGetter","estimatedCellSize","_lastMeasuredIndex","_cellSizeGetter","_cellCount","_estimatedCellSize","_layoutVector","areOffsetsAdjusted","configure","getCellCount","getEstimatedCellSize","getLastMeasuredIndex","getOffsetAdjustment","getSizeAndPositionOfCell","vector","_size","getSizeAndPositionOfLastMeasuredCell","getTotalSize","getUpdatedOffsetForIndex","_ref3$align","align","containerSize","currentOffset","targetIndex","datum","maxOffset","minOffset","idealOffset","totalSize","getVisibleCellRange","_findNearestCell","resetCell","targetOffset","nearestCellIndex","DEFAULT_MAX_ELEMENT_SIZE","CHROME_MAX_ELEMENT_SIZE","isBrowser$1","isChrome","chrome","webstore","getMaxElementSize","_ref$maxScrollSize","maxScrollSize","_cellSizeAndPositionManager","_maxScrollSize","safeTotalSize","offsetPercentage","_getOffsetPercentage","_safeOffsetToOffset","_offsetToSafeOffset","_ref4","_ref5","_ref6","_ref7","keys$1","keys$2","_Object$keys","createCallbackMemoizer","requireAllKeys","cachedIndices","indices","allInitialized","indexChanged","cachedValue","SCROLL_DIRECTION_BACKWARD","SCROLL_DIRECTION_FORWARD","defaultOverscanIndicesGetter","updateScrollIndexHelper","cellSizeAndPositionManager","previousCellsCount","previousCellSize","previousScrollToAlignment","previousScrollToIndex","previousSize","scrollOffset","scrollToAlignment","sizeJustIncreasedFromZero","updateScrollIndexCallback","hasScrollToIndex","sizeHasChanged","defaultCellRangeRenderer","renderedCells","canCacheStyle","rowDatum","columnDatum","cellRendererParams","renderedCell","warnAboutMissingStyle","__warnedAboutMissingStyle","interopRequireDefault","inDOM","scrollbarSize_1","scrollbarSize","_inDOM","recalc","scrollDiv","componentWillMount","getDerivedStateFromProps","componentWillReceiveProps","nextProps","componentWillUpdate","nextState","prevProps","__reactInternalSnapshotFlag","__reactInternalSnapshot","getSnapshotBeforeUpdate","__suppressDeprecationWarning","polyfill","isReactComponent","foundWillMountName","foundWillReceivePropsName","foundWillUpdateName","UNSAFE_componentWillMount","UNSAFE_componentWillReceiveProps","UNSAFE_componentWillUpdate","newApiName","componentDidUpdatePolyfill","maybeSnapshot","snapshot","TAG$1","ARG","tryGet","_classof","callee","_anInstance","forbiddenField","_iterCall","ITERATOR$1","ArrayProto","_isArrayIter","ITERATOR$2","core_getIteratorMethod","getIteratorMethod","_forOf","BREAK","RETURN","iterFn","SPECIES","_speciesConstructor","_invoke","un","process$1","setTask","setImmediate","clearTask","clearImmediate","MessageChannel","Dispatch","counter","queue","ONREADYSTATECHANGE","defer","channel","port","run","nextTick","port2","port1","onmessage","postMessage","importScripts","_task","macrotask","Observer","WebKitMutationObserver","process$2","Promise$2","_microtask","notify","domain","exit","enter","navigator","standalone","toggle","task","PromiseCapability","$$resolve","$$reject","f$8","_newPromiseCapability","_perform","_userAgent","userAgent","_promiseResolve","promiseCapability","_redefineAll","safe","SPECIES$1","_setSpecies","ITERATOR$3","SAFE_CLOSING","riter","_iterDetect","skipClosing","iter","microtask","PROMISE","TypeError$1","process$3","versions","v8","$Promise","isNode$1","Internal","newGenericPromiseCapability","OwnPromiseCapability","Wrapper","newPromiseCapability","USE_NATIVE$1","FakePromise","PromiseRejectionEvent","isThenable","isReject","_n","chain","_v","ok","_s","reaction","fail","exited","onHandleUnhandled","onUnhandled","unhandled","isUnhandled","onunhandledrejection","reason","onrejectionhandled","$reject","_w","$resolve","wrapper","executor","onFulfilled","onRejected","capability","all","$index","alreadyCalled","onFinally","callbackfn","promise$1","_Promise$1","win","request","oRequestAnimationFrame","msRequestAnimationFrame","oCancelAnimationFrame","msCancelAnimationFrame","caf","bpfrpt_proptype_AnimationTimeoutId","cancelAnimationTimeout","frame","requestAnimationTimeout","DEFAULT_SCROLLING_RESET_TIME_INTERVAL","SCROLL_POSITION_CHANGE_REASONS","OBSERVED","REQUESTED","renderNull","Grid","_onGridRenderedMemoizer","_onScrollMemoizer","_deferredInvalidateColumnIndex","_deferredInvalidateRowIndex","_recomputeScrollLeftFlag","_recomputeScrollTopFlag","_horizontalScrollBarSize","_verticalScrollBarSize","_scrollbarPresenceChanged","_renderedColumnStartIndex","_renderedColumnStopIndex","_renderedRowStartIndex","_renderedRowStopIndex","_styleCache","_cellCache","_debounceScrollEndedCallback","_disablePointerEventsTimeoutId","needToResetStyleCache","_invokeOnGridRenderedHelper","onSectionRendered","_columnStartIndex","_columnStopIndex","_rowStartIndex","_rowStopIndex","_setScrollingContainerRef","_scrollingContainer","_onScroll","handleScrollEvent","columnCount","_wrapSizeGetter","_getEstimatedColumnSize","rowCount","_getEstimatedRowSize","instanceProps","prevColumnWidth","prevRowHeight","prevColumnCount","prevRowCount","prevIsScrolling","prevScrollToColumn","scrollToColumn","prevScrollToRow","scrollToRow","prevScrollLeft","prevScrollTop","scrollbarSizeMeasured","scrollDirectionHorizontal","scrollDirectionVertical","scrollPositionChangeReason","_initialScrollTop","_getCalculatedScrollTop","_initialScrollLeft","_getCalculatedScrollLeft","getOffsetForCell","_ref$alignment","alignment","_ref$columnIndex","_ref$rowIndex","offsetProps","getTotalRowsHeight","getTotalColumnsWidth","_ref2$scrollLeft","scrollLeftParam","_ref2$scrollTop","scrollTopParam","_debounceScrollEnded","autoHeight","autoWidth","totalRowsHeight","totalColumnsWidth","_scrollDirectionHorizontal","_scrollDirectionVertical","_invokeOnScrollMemoizer","measureAllCells","_props2","_ref4$columnIndex","_ref4$rowIndex","_props3","forceUpdate","scrollToCell","_updateScrollLeftForScrollToColumn","_updateScrollTopForScrollToRow","_props4","getScrollbarSize","_handleInvalidatedGridSize","stateUpdate","_getScrollToPositionStateUpdate","sizeIsBiggerThanZero","_maybeCallOnScrollbarPresenceChange","_this2","_props5","columnOrRowCountJustIncreasedFromZero","_props6","autoContainerWidth","containerProps","containerRole","containerStyle","noContentRenderer","_state2","_isScrolling","gridStyle","WebkitOverflowScrolling","willChange","_resetStyleCache","_calculateChildrenToRender","verticalScrollBarSize","horizontalScrollBarSize","overflowX","overflowY","childrenToDisplay","_childrenToDisplay","showNoContentRenderer","onScroll","cellRangeRenderer","overscanColumnCount","overscanIndicesGetter","overscanRowCount","overscanColumnIndices","overscanRowIndices","scrollingResetTimeInterval","_this3","_props7","_onScrollbarPresenceChange","onScrollbarPresenceChange","scrollToPosition","_ref8","_getScrollLeftForScrollToColumnStateUpdate","_getScrollTopForScrollToRowStateUpdate","maybeStateA","maybeStateB","estimatedColumnSize","estimatedRowSize","_ref9","finalColumn","scrollBarSize","calculatedScrollLeft","finalRow","calculatedScrollTop","SCROLL_DIRECTION_FORWARD$1","defaultOverscanIndicesGetter$1","bpfrpt_proptype_RowRendererParams","bpfrpt_proptype_RowRenderer","bpfrpt_proptype_RenderedRows","bpfrpt_proptype_Scroll$1","List","_cellRenderer","rowRenderer","_Object$getOwnPropert","_onSectionRendered","onRowsRendered","forceUpdateGrid","getOffsetForRow","_Grid$getOffsetForCel","_scrollTop","measureAllRows","_ref7$columnIndex","_ref7$rowIndex","recomputeRowHeights","noRowsRenderer","idCounter","uniqueId","uniqueId_1","baseClassName$2","VirtualScroll","listRef","instanceRef","initInstance","getPrefixedId","scrollToRowCallback","Sizer","overscan","listNode","idPrefix","ttl","promisedRow","remainingTries","row","elemSelector","listDom_1","retry","checkForElement","docTop","docBottom","itemBounds","itemTop","itemBottom","childrenBounds","bound","VirtualScroll$1","colors","blue20","blue30","gray20","purple30","whiteTheme","hover_selected_ui","defaultTheme","highlightBackground","activeHighlightBackground","highlightWithinActiveHighlightBackground","textHoverBackground","baseClassName$3","CIDocumentContent","docStyles","highlightedIds","activeIds","activePartIds","selectableIds","activeMetadataIds","theme","onItemClick","virtualScrollRef","scrollToActiveItem","skeleton","createStyleRules","backgroundColorRule","zIndexRule","underlineRule","idList","rules","activeId","objectProto$f","hasOwnProperty$e","countBy","countBy_1","contractDetailsFromItem","getTypeDetails","getContractAttributes","nonContractDetailsFromItem","getAttributesWithinRelation","modelMapping$1","getDetailsFromItem","typesWithCounts","getTypesWithCounts","getDetailsFromMetadata","uniq","uniq_1","contractFilterGroups","labelsFromItem","applyFilter","nature","nonContractFilterGroups","modelMapping$2","messagesMap","CATEGORY","NATURE","PARTY","ATTRIBUTES","getBaseFilterGroups","groups","getFilterHelper","knownFilterGroups","itemList","_processFilter","processFilter","filterFn","filteredList","updatedFilterGroups","radioFilters","checkboxFilters","filterPart","_applyFilter","_addOptionsToFilterGroup","_addOptionsToFilterGroups","labels","foundLabel","labelObj","activeLabels","foundGroup","activeLabel","defaultMessages$9","defaultDocumentName","attributesTabLabel","relationsTabLabel","filtersTabLabel","metadataTabLabel","parseErrorMessage","contractCategoryLabel","contractNatureLabel","contractPartyLabel","contractAttributeLabel","invoiceAttributeLabel","invoiceRelationsLabel","navigationToolbarLabel","defaultMessages$a","ActionType","INITIAL_STATE","RELATIONS","FILTERS","METADATA","contractTabs","nonContractTabs","canRenderCIDocument","base$3","CIDocument","overrideDocWidth","overrideDocHeight","docStateReducer","filename","selectedType","setSelectedType","selectedContractFilter","setSelectedContractFilter","elements","resetTabs","resetStates","setActivePartIds","setActiveIds","setHighlightedList","setCurrentFilter","setActiveMetadataIds","didCancel","SET","ERROR","filterHelper","setFilterHelper","currentFilter","setFilterGroups","helper","highlightedList","activeElement","getActiveElement","activeIndex","getActiveIndex","activeDetails","getActiveDetails","hasError","renderSidebar","tabLabels","filters","onSelectionChange","tab","renderFilterPanel","onSelectionChangeContractTabs","allClickableIds","getAllClickableIds","nonContractProps","onNavigationChange","elementList","getSelectedLink","onDetailsLink","RESET","activeItem","clickedItem","linkItem","getDetailsFn","CIDocument$1","CIDoc","CINavigationToolbar","structuredQueryClass","structuredQueryRuleGroupClass","structuredQueryNestedRuleGroupClass","structuredQueryRuleGroupDropdownClass","structuredQueryRulesClass","structuredQueryRulesButtonsClass","structuredQueryCopyableQueryClass","RuleGroupDropdown","structuredQuerySelection","setStructuredQuerySelection","ruleGroupDropdownItems","ruleGroupDropdownAllOptionText","ruleGroupDropdownAnyOptionText","handleOnChangeRuleGroupDropdown","ruleGroupDropdownSelection","operator","selectedItem","ruleGroupDropdownElement","initialSelectedItem","ruleGroupDropdownLabelText","ruleGroupDropdownText","dropdown","_parent","baseUnset","_baseUnset","objectTag$4","funcProto$2","objectProto$g","funcToString$2","hasOwnProperty$f","objectCtorString","isPlainObject","isPlainObject_1","customOmitClone","_customOmitClone","flatten","flatten_1","flatRest","_flatRest","CLONE_DEEP_FLAG$2","CLONE_FLAT_FLAG$1","CLONE_SYMBOLS_FLAG$2","omit","paths","omit_1","_interopDefault$e","React$e","_ref2$h","_ref3$4","SubtractAlt16","_16$8","RemoveRuleRowButton","removeRuleRowButtonIconDescription","rowId","filteredGroupRows","rows","filteredRows","isLastRuleInRuleGroup","group_order","getFieldNames","response","fieldObjects","fieldNames","namesArray","fieldObject","getNewId","currentGroupsOrRows","maxId","previousId","currentId","stringifyStructuredQuerySelection","stringifiedStructuredQuerySelection","stringifyRows","rowField","escapeReservedCharacters","rowValue","escapeDoubleQuotes","escapeCharacters","regexForReservedCharacters","RuleRow","fieldsResponse","fieldStoreLoading","fieldStoreError","projectFields","operatorDropdownItems","operatorDropdownIsOptionText","operatorDropdownIsNotOptionText","operatorDropdownContainsOptionText","operatorDropdownDoesNotContainOptionText","isTopLevelGroup","showRemoveRuleRowButton","handleFieldDropdownChange","fieldSelection","newFieldValue","handleOperatorDropdownChange","operatorSelection","newOperatorValue","handleValueInputChange","valueText","fieldDropdownLoadingText","fieldDropdownErrorText","fieldDropdownPlaceholderText","placeholder","titleText","fieldDropdownTitleText","operatorDropdownPlaceholderText","operatorDropdownTitleText","valueInputLabelText","valueInputPlaceholderText","_interopDefault$f","React$f","_ref2$i","Add16","_16$9","AddRuleRowButton","addRuleRowText","newRuleRowId","MAX_NUM_SIBLING_RULE_ROWS","MAX_NUM_NESTED_RULE_GROUPS","RuleGroup","showAddRuleRowButton","ruleGroupClassNames","uniqueKey","AddRuleGroupButton","addRuleGroupText","newRuleGroupId","defaultMessages$b","StructuredQuery","stringifiedSelection","showAddRuleGroupButton","StructuredQuery$1"],"mappings":"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","sourcesContent":["import React$g__default, { useCallback, useMemo, useRef, useEffect, useState, useReducer, createContext, useContext, createElement, PureComponent, useLayoutEffect, forwardRef, useImperativeHandle } from 'react';\nimport { settings } from 'carbon-components';\nimport { Search, MultiSelect, Checkbox, RadioButtonGroup, RadioButton, Modal, Button, Pagination, Form, TextInput, FormLabel, SkeletonText, ToggleSmall, Tile, Link, Tooltip, Tabs, Tab, Dropdown, ComboBox, CodeSnippet } from 'carbon-components-react';\nimport ListBox from 'carbon-components-react/lib/components/ListBox';\nimport reactDom, { findDOMNode } from 'react-dom';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nfunction __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nvar _listCacheClear = listCacheClear;\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nvar eq_1 = eq;\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq_1(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nvar _assocIndexOf = assocIndexOf;\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = _assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nvar _listCacheDelete = listCacheDelete;\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = _assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nvar _listCacheGet = listCacheGet;\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return _assocIndexOf(this.__data__, key) > -1;\n}\n\nvar _listCacheHas = listCacheHas;\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = _assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nvar _listCacheSet = listCacheSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = _listCacheClear;\nListCache.prototype['delete'] = _listCacheDelete;\nListCache.prototype.get = _listCacheGet;\nListCache.prototype.has = _listCacheHas;\nListCache.prototype.set = _listCacheSet;\n\nvar _ListCache = ListCache;\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new _ListCache;\n  this.size = 0;\n}\n\nvar _stackClear = stackClear;\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nvar _stackDelete = stackDelete;\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nvar _stackGet = stackGet;\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nvar _stackHas = stackHas;\n\nvar commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nfunction unwrapExports (x) {\n\treturn x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\n}\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nfunction getCjsExportFromNamespace (n) {\n\treturn n && n['default'] || n;\n}\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof commonjsGlobal == 'object' && commonjsGlobal && commonjsGlobal.Object === Object && commonjsGlobal;\n\nvar _freeGlobal = freeGlobal;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = _freeGlobal || freeSelf || Function('return this')();\n\nvar _root = root;\n\n/** Built-in value references. */\nvar Symbol$1 = _root.Symbol;\n\nvar _Symbol = Symbol$1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = _Symbol ? _Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nvar _getRawTag = getRawTag;\n\n/** Used for built-in method references. */\nvar objectProto$1 = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString$1 = objectProto$1.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString$1.call(value);\n}\n\nvar _objectToString = objectToString;\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag$1 = _Symbol ? _Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag$1 && symToStringTag$1 in Object(value))\n    ? _getRawTag(value)\n    : _objectToString(value);\n}\n\nvar _baseGetTag = baseGetTag;\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nvar isObject_1 = isObject;\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject_1(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = _baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nvar isFunction_1 = isFunction;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = _root['__core-js_shared__'];\n\nvar _coreJsData = coreJsData;\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(_coreJsData && _coreJsData.keys && _coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nvar _isMasked = isMasked;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nvar _toSource = toSource;\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto$1 = Function.prototype,\n    objectProto$2 = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString$1 = funcProto$1.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$1 = objectProto$2.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString$1.call(hasOwnProperty$1).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject_1(value) || _isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction_1(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(_toSource(value));\n}\n\nvar _baseIsNative = baseIsNative;\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nvar _getValue = getValue;\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = _getValue(object, key);\n  return _baseIsNative(value) ? value : undefined;\n}\n\nvar _getNative = getNative;\n\n/* Built-in method references that are verified to be native. */\nvar Map$1 = _getNative(_root, 'Map');\n\nvar _Map = Map$1;\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = _getNative(Object, 'create');\n\nvar _nativeCreate = nativeCreate;\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = _nativeCreate ? _nativeCreate(null) : {};\n  this.size = 0;\n}\n\nvar _hashClear = hashClear;\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nvar _hashDelete = hashDelete;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto$3 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$2 = objectProto$3.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (_nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty$2.call(data, key) ? data[key] : undefined;\n}\n\nvar _hashGet = hashGet;\n\n/** Used for built-in method references. */\nvar objectProto$4 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$3 = objectProto$4.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return _nativeCreate ? (data[key] !== undefined) : hasOwnProperty$3.call(data, key);\n}\n\nvar _hashHas = hashHas;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED$1 = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (_nativeCreate && value === undefined) ? HASH_UNDEFINED$1 : value;\n  return this;\n}\n\nvar _hashSet = hashSet;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = _hashClear;\nHash.prototype['delete'] = _hashDelete;\nHash.prototype.get = _hashGet;\nHash.prototype.has = _hashHas;\nHash.prototype.set = _hashSet;\n\nvar _Hash = Hash;\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new _Hash,\n    'map': new (_Map || _ListCache),\n    'string': new _Hash\n  };\n}\n\nvar _mapCacheClear = mapCacheClear;\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nvar _isKeyable = isKeyable;\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return _isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nvar _getMapData = getMapData;\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = _getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nvar _mapCacheDelete = mapCacheDelete;\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return _getMapData(this, key).get(key);\n}\n\nvar _mapCacheGet = mapCacheGet;\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return _getMapData(this, key).has(key);\n}\n\nvar _mapCacheHas = mapCacheHas;\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = _getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nvar _mapCacheSet = mapCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = _mapCacheClear;\nMapCache.prototype['delete'] = _mapCacheDelete;\nMapCache.prototype.get = _mapCacheGet;\nMapCache.prototype.has = _mapCacheHas;\nMapCache.prototype.set = _mapCacheSet;\n\nvar _MapCache = MapCache;\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof _ListCache) {\n    var pairs = data.__data__;\n    if (!_Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new _MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nvar _stackSet = stackSet;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new _ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = _stackClear;\nStack.prototype['delete'] = _stackDelete;\nStack.prototype.get = _stackGet;\nStack.prototype.has = _stackHas;\nStack.prototype.set = _stackSet;\n\nvar _Stack = Stack;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED$2 = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED$2);\n  return this;\n}\n\nvar _setCacheAdd = setCacheAdd;\n\n/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nvar _setCacheHas = setCacheHas;\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new _MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = _setCacheAdd;\nSetCache.prototype.has = _setCacheHas;\n\nvar _SetCache = SetCache;\n\n/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nvar _arraySome = arraySome;\n\n/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nvar _cacheHas = cacheHas;\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Check that cyclic values are equal.\n  var arrStacked = stack.get(array);\n  var othStacked = stack.get(other);\n  if (arrStacked && othStacked) {\n    return arrStacked == other && othStacked == array;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new _SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!_arraySome(other, function(othValue, othIndex) {\n            if (!_cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nvar _equalArrays = equalArrays;\n\n/** Built-in value references. */\nvar Uint8Array$1 = _root.Uint8Array;\n\nvar _Uint8Array = Uint8Array$1;\n\n/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nvar _mapToArray = mapToArray;\n\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nvar _setToArray = setToArray;\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG$1 = 1,\n    COMPARE_UNORDERED_FLAG$1 = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = _Symbol ? _Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new _Uint8Array(object), new _Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq_1(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = _mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG$1;\n      convert || (convert = _setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG$1;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = _equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nvar _equalByTag = equalByTag;\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nvar _arrayPush = arrayPush;\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nvar isArray_1 = isArray;\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray_1(object) ? result : _arrayPush(result, symbolsFunc(object));\n}\n\nvar _baseGetAllKeys = baseGetAllKeys;\n\n/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nvar _arrayFilter = arrayFilter;\n\n/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nvar stubArray_1 = stubArray;\n\n/** Used for built-in method references. */\nvar objectProto$5 = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto$5.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray_1 : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return _arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nvar _getSymbols = getSymbols;\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nvar _baseTimes = baseTimes;\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nvar isObjectLike_1 = isObjectLike;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike_1(value) && _baseGetTag(value) == argsTag;\n}\n\nvar _baseIsArguments = baseIsArguments;\n\n/** Used for built-in method references. */\nvar objectProto$6 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$4 = objectProto$6.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable$1 = objectProto$6.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = _baseIsArguments(function() { return arguments; }()) ? _baseIsArguments : function(value) {\n  return isObjectLike_1(value) && hasOwnProperty$4.call(value, 'callee') &&\n    !propertyIsEnumerable$1.call(value, 'callee');\n};\n\nvar isArguments_1 = isArguments;\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nvar stubFalse_1 = stubFalse;\n\nvar isBuffer_1 = createCommonjsModule(function (module, exports) {\n/** Detect free variable `exports`. */\nvar freeExports =  exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && 'object' == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? _root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse_1;\n\nmodule.exports = isBuffer;\n});\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nvar _isIndex = isIndex;\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER$1 = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER$1;\n}\n\nvar isLength_1 = isLength;\n\n/** `Object#toString` result references. */\nvar argsTag$1 = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag$1 = '[object Boolean]',\n    dateTag$1 = '[object Date]',\n    errorTag$1 = '[object Error]',\n    funcTag$1 = '[object Function]',\n    mapTag$1 = '[object Map]',\n    numberTag$1 = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag$1 = '[object RegExp]',\n    setTag$1 = '[object Set]',\n    stringTag$1 = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag$1 = '[object ArrayBuffer]',\n    dataViewTag$1 = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag$1] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag$1] = typedArrayTags[boolTag$1] =\ntypedArrayTags[dataViewTag$1] = typedArrayTags[dateTag$1] =\ntypedArrayTags[errorTag$1] = typedArrayTags[funcTag$1] =\ntypedArrayTags[mapTag$1] = typedArrayTags[numberTag$1] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag$1] =\ntypedArrayTags[setTag$1] = typedArrayTags[stringTag$1] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike_1(value) &&\n    isLength_1(value.length) && !!typedArrayTags[_baseGetTag(value)];\n}\n\nvar _baseIsTypedArray = baseIsTypedArray;\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nvar _baseUnary = baseUnary;\n\nvar _nodeUtil = createCommonjsModule(function (module, exports) {\n/** Detect free variable `exports`. */\nvar freeExports =  exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && 'object' == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && _freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n});\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = _nodeUtil && _nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? _baseUnary(nodeIsTypedArray) : _baseIsTypedArray;\n\nvar isTypedArray_1 = isTypedArray;\n\n/** Used for built-in method references. */\nvar objectProto$7 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$5 = objectProto$7.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray_1(value),\n      isArg = !isArr && isArguments_1(value),\n      isBuff = !isArr && !isArg && isBuffer_1(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray_1(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? _baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty$5.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           _isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nvar _arrayLikeKeys = arrayLikeKeys;\n\n/** Used for built-in method references. */\nvar objectProto$8 = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto$8;\n\n  return value === proto;\n}\n\nvar _isPrototype = isPrototype;\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nvar _overArg = overArg;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = _overArg(Object.keys, Object);\n\nvar _nativeKeys = nativeKeys;\n\n/** Used for built-in method references. */\nvar objectProto$9 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$6 = objectProto$9.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!_isPrototype(object)) {\n    return _nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty$6.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nvar _baseKeys = baseKeys;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength_1(value.length) && !isFunction_1(value);\n}\n\nvar isArrayLike_1 = isArrayLike;\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike_1(object) ? _arrayLikeKeys(object) : _baseKeys(object);\n}\n\nvar keys_1 = keys;\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return _baseGetAllKeys(object, keys_1, _getSymbols);\n}\n\nvar _getAllKeys = getAllKeys;\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG$2 = 1;\n\n/** Used for built-in method references. */\nvar objectProto$a = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$7 = objectProto$a.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG$2,\n      objProps = _getAllKeys(object),\n      objLength = objProps.length,\n      othProps = _getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty$7.call(other, key))) {\n      return false;\n    }\n  }\n  // Check that cyclic values are equal.\n  var objStacked = stack.get(object);\n  var othStacked = stack.get(other);\n  if (objStacked && othStacked) {\n    return objStacked == other && othStacked == object;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nvar _equalObjects = equalObjects;\n\n/* Built-in method references that are verified to be native. */\nvar DataView = _getNative(_root, 'DataView');\n\nvar _DataView = DataView;\n\n/* Built-in method references that are verified to be native. */\nvar Promise$1 = _getNative(_root, 'Promise');\n\nvar _Promise = Promise$1;\n\n/* Built-in method references that are verified to be native. */\nvar Set$1 = _getNative(_root, 'Set');\n\nvar _Set = Set$1;\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap$1 = _getNative(_root, 'WeakMap');\n\nvar _WeakMap = WeakMap$1;\n\n/** `Object#toString` result references. */\nvar mapTag$2 = '[object Map]',\n    objectTag$1 = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag$2 = '[object Set]',\n    weakMapTag$1 = '[object WeakMap]';\n\nvar dataViewTag$2 = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = _toSource(_DataView),\n    mapCtorString = _toSource(_Map),\n    promiseCtorString = _toSource(_Promise),\n    setCtorString = _toSource(_Set),\n    weakMapCtorString = _toSource(_WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = _baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((_DataView && getTag(new _DataView(new ArrayBuffer(1))) != dataViewTag$2) ||\n    (_Map && getTag(new _Map) != mapTag$2) ||\n    (_Promise && getTag(_Promise.resolve()) != promiseTag) ||\n    (_Set && getTag(new _Set) != setTag$2) ||\n    (_WeakMap && getTag(new _WeakMap) != weakMapTag$1)) {\n  getTag = function(value) {\n    var result = _baseGetTag(value),\n        Ctor = result == objectTag$1 ? value.constructor : undefined,\n        ctorString = Ctor ? _toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag$2;\n        case mapCtorString: return mapTag$2;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag$2;\n        case weakMapCtorString: return weakMapTag$1;\n      }\n    }\n    return result;\n  };\n}\n\nvar _getTag = getTag;\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG$3 = 1;\n\n/** `Object#toString` result references. */\nvar argsTag$2 = '[object Arguments]',\n    arrayTag$1 = '[object Array]',\n    objectTag$2 = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto$b = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$8 = objectProto$b.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray_1(object),\n      othIsArr = isArray_1(other),\n      objTag = objIsArr ? arrayTag$1 : _getTag(object),\n      othTag = othIsArr ? arrayTag$1 : _getTag(other);\n\n  objTag = objTag == argsTag$2 ? objectTag$2 : objTag;\n  othTag = othTag == argsTag$2 ? objectTag$2 : othTag;\n\n  var objIsObj = objTag == objectTag$2,\n      othIsObj = othTag == objectTag$2,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer_1(object)) {\n    if (!isBuffer_1(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new _Stack);\n    return (objIsArr || isTypedArray_1(object))\n      ? _equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : _equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG$3)) {\n    var objIsWrapped = objIsObj && hasOwnProperty$8.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty$8.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new _Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new _Stack);\n  return _equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nvar _baseIsEqualDeep = baseIsEqualDeep;\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike_1(value) && !isObjectLike_1(other))) {\n    return value !== value && other !== other;\n  }\n  return _baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nvar _baseIsEqual = baseIsEqual;\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return _baseIsEqual(value, other);\n}\n\nvar isEqual_1 = isEqual;\n\n// Pulled from https://github.com/kentcdodds/use-deep-compare-effect\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction useDeepCompareMemoize(value) {\r\n    var ref = useRef();\r\n    if (!isEqual_1(value, ref.current)) {\r\n        ref.current = value;\r\n    }\r\n    return ref.current;\r\n}\r\nfunction useDeepCompareMemo(factory, \r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\ndependencies) {\r\n    return useMemo(factory, useDeepCompareMemoize(dependencies));\r\n}\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction useDeepCompareCallback(callback, \r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\ndependencies) {\r\n    return useCallback(callback, useDeepCompareMemoize(dependencies));\r\n}\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction useDeepCompareEffect(callback, dependencies) {\r\n    useEffect(callback, useDeepCompareMemoize(dependencies));\r\n}\n\nfunction deprecateReturnFields(queryParams) {\r\n    if (queryParams && queryParams.returnFields) {\r\n        var returnFields = queryParams.returnFields, rest = __rest(queryParams, [\"returnFields\"]);\r\n        console.warn('\"returnFields\" has been renamed to \"_return\". Support for \"returnFields\" will be removed in the next major release');\r\n        return __assign(__assign({}, rest), { _return: returnFields });\r\n    }\r\n    return queryParams;\r\n}\n\n/**\r\n * generic reducer to handle updating loading, error, and data\r\n * @param state - incoming state to modify\r\n * @param action - contains type of action as well as payload to store in the reducer (if any)\r\n */\r\nvar dataFetchReducer = function (state, action) {\r\n    switch (action.type) {\r\n        case 'FETCH_REQUEST':\r\n            return __assign(__assign({}, state), { isLoading: true, isError: false, error: null });\r\n        case 'FETCH_SUCCESS':\r\n            return __assign(__assign({}, state), { isLoading: false, isError: false, error: null, data: action.payload });\r\n        case 'FETCH_FAILURE':\r\n            return __assign(__assign({}, state), { isLoading: false, isError: true, error: action.error || null });\r\n        default:\r\n            throw new Error();\r\n    }\r\n};\r\n/**\r\n * Custom hook that fetches and stores data while handling complex condidions such as:\r\n * - request cancellation\r\n * - latest data fetching\r\n * - error handling\r\n * @param initialParameters - initial parameters used with this API\r\n * @param initialData - initial response data for this API\r\n * @param searchClientMethod - api method reference on the searchClient\r\n * @param searchClient - the client used to do data fetching\r\n */\r\nvar useDataApi = function (initialParameters, searchClientMethod, searchClient, initialData, transformResult) {\r\n    // useRef stores state without rerenders\r\n    // token to pass by reference instead of by value to keep track of cancellation state on unmount\r\n    var cancelToken = useRef(false);\r\n    // counter to keep track of the most recent API request\r\n    var requestIdRef = useRef(0);\r\n    // token used to invoke the API call and optionally return the response data to the callback\r\n    var _a = useState({ trigger: false, callback: undefined }), fetchToken = _a[0], setFetchToken = _a[1];\r\n    var _b = useState(initialParameters), parameters = _b[0], setParameters = _b[1];\r\n    var _c = useReducer(dataFetchReducer, {\r\n        isLoading: false,\r\n        isError: false,\r\n        data: initialData,\r\n        error: null\r\n    }), state = _c[0], dispatch = _c[1];\r\n    var setData = function (data) {\r\n        dispatch({ type: 'FETCH_SUCCESS', payload: data });\r\n    };\r\n    var fetchData = useCallback(function (parameters, requestId, callback, storeResult) {\r\n        if (storeResult === void 0) { storeResult = true; }\r\n        return __awaiter(void 0, void 0, void 0, function () {\r\n            var result, payload, error_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        dispatch({ type: 'FETCH_REQUEST' });\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        _a.trys.push([1, 3, , 4]);\r\n                        return [4 /*yield*/, searchClientMethod.call(searchClient, parameters)];\r\n                    case 2:\r\n                        result = (_a.sent()).result;\r\n                        // before storing the data, make sure the component hasn't been unmounted\r\n                        // and make sure this request is the most recent one (discard old requests)\r\n                        if (!cancelToken.current && requestId === requestIdRef.current) {\r\n                            payload = result;\r\n                            if (transformResult) {\r\n                                payload = transformResult(result);\r\n                            }\r\n                            if (storeResult) {\r\n                                dispatch({ type: 'FETCH_SUCCESS', payload: payload });\r\n                            }\r\n                            if (callback) {\r\n                                callback(payload);\r\n                            }\r\n                        }\r\n                        return [3 /*break*/, 4];\r\n                    case 3:\r\n                        error_1 = _a.sent();\r\n                        if (!cancelToken.current) {\r\n                            dispatch({ type: 'FETCH_FAILURE', error: error_1 });\r\n                        }\r\n                        return [3 /*break*/, 4];\r\n                    case 4: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    }, [searchClient, searchClientMethod, transformResult]);\r\n    // in order to prevent state updates after component unmount, set the cancel token\r\n    // need pass by reference to allow us to change it before unmount\r\n    useEffect(function () {\r\n        return function () {\r\n            cancelToken.current = true;\r\n        };\r\n    }, []);\r\n    // this effect invokes the API by changing whenever fetchToken is updated\r\n    useEffect(function () {\r\n        if (fetchToken.trigger) {\r\n            requestIdRef.current++;\r\n            // pass the request id by value\r\n            fetchData(parameters, requestIdRef.current, fetchToken.callback, fetchToken.storeResult);\r\n            setFetchToken({ trigger: false, callback: undefined });\r\n        }\r\n    }, [fetchToken, fetchData, parameters]);\r\n    return { state: state, parameters: parameters, setParameters: setParameters, setData: setData, setFetchToken: setFetchToken };\r\n};\r\n/**\r\n * Concrete usage of the useDataApi helper method for fetching project fields\r\n * @param searchParameters - initial search parameters to set\r\n * @param searchClient - search client used to perform requests\r\n * @return a 2-element array containing the fields store data and fields-specific store actions\r\n */\r\nvar useFieldsApi = function (fetchFieldsParams, searchClient) {\r\n    var _a = useDataApi(fetchFieldsParams, searchClient.listFields, searchClient), fieldsState = _a.state, setFieldsResponse = _a.setData, setFetchToken = _a.setFetchToken;\r\n    var fetchFields = useCallback(function () { return setFetchToken({ trigger: true }); }, [setFetchToken]);\r\n    return [\r\n        fieldsState,\r\n        {\r\n            fetchFields: fetchFields,\r\n            setFieldsResponse: setFieldsResponse\r\n        }\r\n    ];\r\n};\r\n/**\r\n * concrete usage of the useDataApi helper method for search\r\n * @param searchParameters - initial search parameters to set\r\n * @param overrideSearchResults - initial search results to set\r\n * @param searchClient - search client used to perform requests\r\n * @return a 2-element array containing the search store data and search-specific store actions\r\n */\r\nvar useSearchResultsApi = function (searchParameters, searchClient, overrideSearchResults) {\r\n    var _a = useDataApi(deprecateReturnFields(searchParameters), searchClient.query, searchClient, overrideSearchResults), searchState = _a.state, currentSearchParameters = _a.parameters, setSearchParametersBackwardsCompatible = _a.setParameters, setSearchResponse = _a.setData, setFetchToken = _a.setFetchToken;\r\n    var setSearchParameters = useCallback(function (backwardsCompatibleSearchParameters) {\r\n        // if backwardsCompatibleSearchParameters is a function, we cannot modify the parameters, call it with previous state\r\n        if (typeof backwardsCompatibleSearchParameters === 'function') {\r\n            setSearchParametersBackwardsCompatible(function (prevState) {\r\n                return deprecateReturnFields(backwardsCompatibleSearchParameters(prevState));\r\n            });\r\n        }\r\n        else {\r\n            // otherwise just modify the object\r\n            setSearchParametersBackwardsCompatible(deprecateReturnFields(backwardsCompatibleSearchParameters));\r\n        }\r\n    }, [setSearchParametersBackwardsCompatible]);\r\n    // callback can be passed in here to return back data to the invoker of the search\r\n    // in the specific case here, we need to set our aggregation store after performing a search\r\n    var performSearch = useCallback(function (callback) { return setFetchToken({ trigger: true, callback: callback }); }, [setFetchToken]);\r\n    return [\r\n        __assign(__assign({}, searchState), { parameters: currentSearchParameters }),\r\n        {\r\n            setSearchParameters: setSearchParameters,\r\n            setSearchResponse: setSearchResponse,\r\n            performSearch: performSearch\r\n        }\r\n    ];\r\n};\r\nvar useGlobalAggregationsApi = function (searchParameters, searchClient, overrideAggregationResults) {\r\n    var _a = useDataApi(searchParameters, searchClient.query, searchClient, overrideAggregationResults, function (result) { return result.aggregations || []; }), aggregationState = _a.state, currentGlobalAggregationParameters = _a.parameters, setGlobalAggregationParameters = _a.setParameters, setGlobalAggregationsResponse = _a.setData, setFetchToken = _a.setFetchToken;\r\n    var fetchGlobalAggregations = useCallback(function (searchParameters, callback) {\r\n        setGlobalAggregationParameters(searchParameters);\r\n        setFetchToken({ trigger: true, callback: callback });\r\n    }, [setFetchToken, setGlobalAggregationParameters]);\r\n    // allow us to chain the result without storing in our reducer state\r\n    // used alongside the fetchTypeForTopEntitiesAggregation\r\n    var fetchGlobalAggregationsWithoutStoring = useCallback(function (searchParameters, callback) {\r\n        setGlobalAggregationParameters(searchParameters);\r\n        setFetchToken({ trigger: true, callback: callback, storeResult: false });\r\n    }, [setFetchToken, setGlobalAggregationParameters]);\r\n    return [\r\n        __assign(__assign({}, aggregationState), { parameters: currentGlobalAggregationParameters }),\r\n        {\r\n            setGlobalAggregationParameters: setGlobalAggregationParameters,\r\n            setGlobalAggregationsResponse: setGlobalAggregationsResponse,\r\n            fetchGlobalAggregations: fetchGlobalAggregations,\r\n            fetchGlobalAggregationsWithoutStoring: fetchGlobalAggregationsWithoutStoring\r\n        }\r\n    ];\r\n};\r\n/**\r\n * concrete usage of the useDataApi helper method for fetching individual documents\r\n * @param searchParameters - initial search parameters to set\r\n * @param searchClient - search client used to perform requests\r\n * @return a 2-element array containing the fetch documents store data and fetchDocuments-specific store actions\r\n */\r\nvar useFetchDocumentsApi = function (searchParameters, searchClient) {\r\n    var _a = useDataApi(searchParameters, searchClient.query, searchClient), searchState = _a.state, setSearchParameters = _a.setParameters, setFetchToken = _a.setFetchToken;\r\n    var fetchDocuments = useCallback(function (filter, callback) {\r\n        setSearchParameters(function (currentSearchParameters) {\r\n            return __assign(__assign({}, currentSearchParameters), { filter: filter });\r\n        });\r\n        setFetchToken({ trigger: true, callback: callback });\r\n    }, [setSearchParameters, setFetchToken]);\r\n    return [\r\n        searchState,\r\n        {\r\n            fetchDocuments: fetchDocuments\r\n        }\r\n    ];\r\n};\r\n/**\r\n * concrete usage of the useDataApi helper method for fetching autocompletions\r\n * @param autocompleteParmeters - initial autocomplete parameters to set\r\n * @param searchClient - search client used to perform requests\r\n * @param overrideAutocompletions - initial autocomplete results to set\r\n * @return a 2-element array containing the autocomplete store data and autocomplete-specific store actions\r\n */\r\nvar useAutocompleteApi = function (autocompleteParmeters, searchClient, overrideAutocompletions) {\r\n    var _a = useDataApi(autocompleteParmeters, searchClient.getAutocompletion, searchClient, overrideAutocompletions), autocompletionsState = _a.state, currentAutocompleteParameters = _a.parameters, setAutocompleteParameters = _a.setParameters, setAutocompletions = _a.setData, setFetchToken = _a.setFetchToken;\r\n    var fetchAutocompletions = useCallback(function (autocompleteParameters) {\r\n        setAutocompleteParameters(autocompleteParameters);\r\n        setFetchToken({ trigger: true });\r\n    }, [setAutocompleteParameters, setFetchToken]);\r\n    return [\r\n        __assign(__assign({}, autocompletionsState), { parameters: currentAutocompleteParameters }),\r\n        {\r\n            setAutocompletions: setAutocompletions,\r\n            fetchAutocompletions: fetchAutocompletions\r\n        }\r\n    ];\r\n};\n\n/** @license React v16.13.1\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nvar b=\"function\"===typeof Symbol&&Symbol.for,c=b?Symbol.for(\"react.element\"):60103,d=b?Symbol.for(\"react.portal\"):60106,e=b?Symbol.for(\"react.fragment\"):60107,f=b?Symbol.for(\"react.strict_mode\"):60108,g=b?Symbol.for(\"react.profiler\"):60114,h=b?Symbol.for(\"react.provider\"):60109,k=b?Symbol.for(\"react.context\"):60110,l=b?Symbol.for(\"react.async_mode\"):60111,m=b?Symbol.for(\"react.concurrent_mode\"):60111,n=b?Symbol.for(\"react.forward_ref\"):60112,p=b?Symbol.for(\"react.suspense\"):60113,q=b?\nSymbol.for(\"react.suspense_list\"):60120,r=b?Symbol.for(\"react.memo\"):60115,t=b?Symbol.for(\"react.lazy\"):60116,v=b?Symbol.for(\"react.block\"):60121,w=b?Symbol.for(\"react.fundamental\"):60117,x=b?Symbol.for(\"react.responder\"):60118,y=b?Symbol.for(\"react.scope\"):60119;\nfunction z(a){if(\"object\"===typeof a&&null!==a){var u=a.$$typeof;switch(u){case c:switch(a=a.type,a){case l:case m:case e:case g:case f:case p:return a;default:switch(a=a&&a.$$typeof,a){case k:case n:case t:case r:case h:return a;default:return u}}case d:return u}}}function A(a){return z(a)===m}var AsyncMode=l;var ConcurrentMode=m;var ContextConsumer=k;var ContextProvider=h;var Element$1=c;var ForwardRef=n;var Fragment=e;var Lazy=t;var Memo=r;var Portal=d;\nvar Profiler=g;var StrictMode=f;var Suspense=p;var isAsyncMode=function(a){return A(a)||z(a)===l};var isConcurrentMode=A;var isContextConsumer=function(a){return z(a)===k};var isContextProvider=function(a){return z(a)===h};var isElement=function(a){return \"object\"===typeof a&&null!==a&&a.$$typeof===c};var isForwardRef=function(a){return z(a)===n};var isFragment=function(a){return z(a)===e};var isLazy=function(a){return z(a)===t};\nvar isMemo=function(a){return z(a)===r};var isPortal=function(a){return z(a)===d};var isProfiler=function(a){return z(a)===g};var isStrictMode=function(a){return z(a)===f};var isSuspense=function(a){return z(a)===p};\nvar isValidElementType=function(a){return \"string\"===typeof a||\"function\"===typeof a||a===e||a===m||a===g||a===f||a===p||a===q||\"object\"===typeof a&&null!==a&&(a.$$typeof===t||a.$$typeof===r||a.$$typeof===h||a.$$typeof===k||a.$$typeof===n||a.$$typeof===w||a.$$typeof===x||a.$$typeof===y||a.$$typeof===v)};var typeOf=z;\n\nvar reactIs_production_min = {\n\tAsyncMode: AsyncMode,\n\tConcurrentMode: ConcurrentMode,\n\tContextConsumer: ContextConsumer,\n\tContextProvider: ContextProvider,\n\tElement: Element$1,\n\tForwardRef: ForwardRef,\n\tFragment: Fragment,\n\tLazy: Lazy,\n\tMemo: Memo,\n\tPortal: Portal,\n\tProfiler: Profiler,\n\tStrictMode: StrictMode,\n\tSuspense: Suspense,\n\tisAsyncMode: isAsyncMode,\n\tisConcurrentMode: isConcurrentMode,\n\tisContextConsumer: isContextConsumer,\n\tisContextProvider: isContextProvider,\n\tisElement: isElement,\n\tisForwardRef: isForwardRef,\n\tisFragment: isFragment,\n\tisLazy: isLazy,\n\tisMemo: isMemo,\n\tisPortal: isPortal,\n\tisProfiler: isProfiler,\n\tisStrictMode: isStrictMode,\n\tisSuspense: isSuspense,\n\tisValidElementType: isValidElementType,\n\ttypeOf: typeOf\n};\n\nvar reactIs_development = createCommonjsModule(function (module, exports) {\n\n\n\nif (process.env.NODE_ENV !== \"production\") {\n  (function() {\n\n// The Symbol used to tag the ReactElement-like types. If there is no native Symbol\n// nor polyfill, then a plain number is used for performance.\nvar hasSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = hasSymbol ? Symbol.for('react.element') : 0xeac7;\nvar REACT_PORTAL_TYPE = hasSymbol ? Symbol.for('react.portal') : 0xeaca;\nvar REACT_FRAGMENT_TYPE = hasSymbol ? Symbol.for('react.fragment') : 0xeacb;\nvar REACT_STRICT_MODE_TYPE = hasSymbol ? Symbol.for('react.strict_mode') : 0xeacc;\nvar REACT_PROFILER_TYPE = hasSymbol ? Symbol.for('react.profiler') : 0xead2;\nvar REACT_PROVIDER_TYPE = hasSymbol ? Symbol.for('react.provider') : 0xeacd;\nvar REACT_CONTEXT_TYPE = hasSymbol ? Symbol.for('react.context') : 0xeace; // TODO: We don't use AsyncMode or ConcurrentMode anymore. They were temporary\n// (unstable) APIs that have been removed. Can we remove the symbols?\n\nvar REACT_ASYNC_MODE_TYPE = hasSymbol ? Symbol.for('react.async_mode') : 0xeacf;\nvar REACT_CONCURRENT_MODE_TYPE = hasSymbol ? Symbol.for('react.concurrent_mode') : 0xeacf;\nvar REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol.for('react.forward_ref') : 0xead0;\nvar REACT_SUSPENSE_TYPE = hasSymbol ? Symbol.for('react.suspense') : 0xead1;\nvar REACT_SUSPENSE_LIST_TYPE = hasSymbol ? Symbol.for('react.suspense_list') : 0xead8;\nvar REACT_MEMO_TYPE = hasSymbol ? Symbol.for('react.memo') : 0xead3;\nvar REACT_LAZY_TYPE = hasSymbol ? Symbol.for('react.lazy') : 0xead4;\nvar REACT_BLOCK_TYPE = hasSymbol ? Symbol.for('react.block') : 0xead9;\nvar REACT_FUNDAMENTAL_TYPE = hasSymbol ? Symbol.for('react.fundamental') : 0xead5;\nvar REACT_RESPONDER_TYPE = hasSymbol ? Symbol.for('react.responder') : 0xead6;\nvar REACT_SCOPE_TYPE = hasSymbol ? Symbol.for('react.scope') : 0xead7;\n\nfunction isValidElementType(type) {\n  return typeof type === 'string' || typeof type === 'function' || // Note: its typeof might be other than 'symbol' or 'number' if it's a polyfill.\n  type === REACT_FRAGMENT_TYPE || type === REACT_CONCURRENT_MODE_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || typeof type === 'object' && type !== null && (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || type.$$typeof === REACT_FUNDAMENTAL_TYPE || type.$$typeof === REACT_RESPONDER_TYPE || type.$$typeof === REACT_SCOPE_TYPE || type.$$typeof === REACT_BLOCK_TYPE);\n}\n\nfunction typeOf(object) {\n  if (typeof object === 'object' && object !== null) {\n    var $$typeof = object.$$typeof;\n\n    switch ($$typeof) {\n      case REACT_ELEMENT_TYPE:\n        var type = object.type;\n\n        switch (type) {\n          case REACT_ASYNC_MODE_TYPE:\n          case REACT_CONCURRENT_MODE_TYPE:\n          case REACT_FRAGMENT_TYPE:\n          case REACT_PROFILER_TYPE:\n          case REACT_STRICT_MODE_TYPE:\n          case REACT_SUSPENSE_TYPE:\n            return type;\n\n          default:\n            var $$typeofType = type && type.$$typeof;\n\n            switch ($$typeofType) {\n              case REACT_CONTEXT_TYPE:\n              case REACT_FORWARD_REF_TYPE:\n              case REACT_LAZY_TYPE:\n              case REACT_MEMO_TYPE:\n              case REACT_PROVIDER_TYPE:\n                return $$typeofType;\n\n              default:\n                return $$typeof;\n            }\n\n        }\n\n      case REACT_PORTAL_TYPE:\n        return $$typeof;\n    }\n  }\n\n  return undefined;\n} // AsyncMode is deprecated along with isAsyncMode\n\nvar AsyncMode = REACT_ASYNC_MODE_TYPE;\nvar ConcurrentMode = REACT_CONCURRENT_MODE_TYPE;\nvar ContextConsumer = REACT_CONTEXT_TYPE;\nvar ContextProvider = REACT_PROVIDER_TYPE;\nvar Element = REACT_ELEMENT_TYPE;\nvar ForwardRef = REACT_FORWARD_REF_TYPE;\nvar Fragment = REACT_FRAGMENT_TYPE;\nvar Lazy = REACT_LAZY_TYPE;\nvar Memo = REACT_MEMO_TYPE;\nvar Portal = REACT_PORTAL_TYPE;\nvar Profiler = REACT_PROFILER_TYPE;\nvar StrictMode = REACT_STRICT_MODE_TYPE;\nvar Suspense = REACT_SUSPENSE_TYPE;\nvar hasWarnedAboutDeprecatedIsAsyncMode = false; // AsyncMode should be deprecated\n\nfunction isAsyncMode(object) {\n  {\n    if (!hasWarnedAboutDeprecatedIsAsyncMode) {\n      hasWarnedAboutDeprecatedIsAsyncMode = true; // Using console['warn'] to evade Babel and ESLint\n\n      console['warn']('The ReactIs.isAsyncMode() alias has been deprecated, ' + 'and will be removed in React 17+. Update your code to use ' + 'ReactIs.isConcurrentMode() instead. It has the exact same API.');\n    }\n  }\n\n  return isConcurrentMode(object) || typeOf(object) === REACT_ASYNC_MODE_TYPE;\n}\nfunction isConcurrentMode(object) {\n  return typeOf(object) === REACT_CONCURRENT_MODE_TYPE;\n}\nfunction isContextConsumer(object) {\n  return typeOf(object) === REACT_CONTEXT_TYPE;\n}\nfunction isContextProvider(object) {\n  return typeOf(object) === REACT_PROVIDER_TYPE;\n}\nfunction isElement(object) {\n  return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n}\nfunction isForwardRef(object) {\n  return typeOf(object) === REACT_FORWARD_REF_TYPE;\n}\nfunction isFragment(object) {\n  return typeOf(object) === REACT_FRAGMENT_TYPE;\n}\nfunction isLazy(object) {\n  return typeOf(object) === REACT_LAZY_TYPE;\n}\nfunction isMemo(object) {\n  return typeOf(object) === REACT_MEMO_TYPE;\n}\nfunction isPortal(object) {\n  return typeOf(object) === REACT_PORTAL_TYPE;\n}\nfunction isProfiler(object) {\n  return typeOf(object) === REACT_PROFILER_TYPE;\n}\nfunction isStrictMode(object) {\n  return typeOf(object) === REACT_STRICT_MODE_TYPE;\n}\nfunction isSuspense(object) {\n  return typeOf(object) === REACT_SUSPENSE_TYPE;\n}\n\nexports.AsyncMode = AsyncMode;\nexports.ConcurrentMode = ConcurrentMode;\nexports.ContextConsumer = ContextConsumer;\nexports.ContextProvider = ContextProvider;\nexports.Element = Element;\nexports.ForwardRef = ForwardRef;\nexports.Fragment = Fragment;\nexports.Lazy = Lazy;\nexports.Memo = Memo;\nexports.Portal = Portal;\nexports.Profiler = Profiler;\nexports.StrictMode = StrictMode;\nexports.Suspense = Suspense;\nexports.isAsyncMode = isAsyncMode;\nexports.isConcurrentMode = isConcurrentMode;\nexports.isContextConsumer = isContextConsumer;\nexports.isContextProvider = isContextProvider;\nexports.isElement = isElement;\nexports.isForwardRef = isForwardRef;\nexports.isFragment = isFragment;\nexports.isLazy = isLazy;\nexports.isMemo = isMemo;\nexports.isPortal = isPortal;\nexports.isProfiler = isProfiler;\nexports.isStrictMode = isStrictMode;\nexports.isSuspense = isSuspense;\nexports.isValidElementType = isValidElementType;\nexports.typeOf = typeOf;\n  })();\n}\n});\nvar reactIs_development_1 = reactIs_development.AsyncMode;\nvar reactIs_development_2 = reactIs_development.ConcurrentMode;\nvar reactIs_development_3 = reactIs_development.ContextConsumer;\nvar reactIs_development_4 = reactIs_development.ContextProvider;\nvar reactIs_development_5 = reactIs_development.Element;\nvar reactIs_development_6 = reactIs_development.ForwardRef;\nvar reactIs_development_7 = reactIs_development.Fragment;\nvar reactIs_development_8 = reactIs_development.Lazy;\nvar reactIs_development_9 = reactIs_development.Memo;\nvar reactIs_development_10 = reactIs_development.Portal;\nvar reactIs_development_11 = reactIs_development.Profiler;\nvar reactIs_development_12 = reactIs_development.StrictMode;\nvar reactIs_development_13 = reactIs_development.Suspense;\nvar reactIs_development_14 = reactIs_development.isAsyncMode;\nvar reactIs_development_15 = reactIs_development.isConcurrentMode;\nvar reactIs_development_16 = reactIs_development.isContextConsumer;\nvar reactIs_development_17 = reactIs_development.isContextProvider;\nvar reactIs_development_18 = reactIs_development.isElement;\nvar reactIs_development_19 = reactIs_development.isForwardRef;\nvar reactIs_development_20 = reactIs_development.isFragment;\nvar reactIs_development_21 = reactIs_development.isLazy;\nvar reactIs_development_22 = reactIs_development.isMemo;\nvar reactIs_development_23 = reactIs_development.isPortal;\nvar reactIs_development_24 = reactIs_development.isProfiler;\nvar reactIs_development_25 = reactIs_development.isStrictMode;\nvar reactIs_development_26 = reactIs_development.isSuspense;\nvar reactIs_development_27 = reactIs_development.isValidElementType;\nvar reactIs_development_28 = reactIs_development.typeOf;\n\nvar reactIs = createCommonjsModule(function (module) {\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = reactIs_production_min;\n} else {\n  module.exports = reactIs_development;\n}\n});\n\n/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty$9 = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nvar objectAssign = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty$9.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nvar ReactPropTypesSecret_1 = ReactPropTypesSecret;\n\nvar printWarning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactPropTypesSecret$1 = ReactPropTypesSecret_1;\n  var loggedTypeFailures = {};\n  var has = Function.call.bind(Object.prototype.hasOwnProperty);\n\n  printWarning = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\n/**\n * Assert that the values match with the type specs.\n * Error messages are memorized and will only be shown once.\n *\n * @param {object} typeSpecs Map of name to a ReactPropType\n * @param {object} values Runtime values that need to be type-checked\n * @param {string} location e.g. \"prop\", \"context\", \"child context\"\n * @param {string} componentName Name of the component for error messages.\n * @param {?Function} getStack Returns the component stack.\n * @private\n */\nfunction checkPropTypes(typeSpecs, values, location, componentName, getStack) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var typeSpecName in typeSpecs) {\n      if (has(typeSpecs, typeSpecName)) {\n        var error;\n        // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          if (typeof typeSpecs[typeSpecName] !== 'function') {\n            var err = Error(\n              (componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' +\n              'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.'\n            );\n            err.name = 'Invariant Violation';\n            throw err;\n          }\n          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret$1);\n        } catch (ex) {\n          error = ex;\n        }\n        if (error && !(error instanceof Error)) {\n          printWarning(\n            (componentName || 'React class') + ': type specification of ' +\n            location + ' `' + typeSpecName + '` is invalid; the type checker ' +\n            'function must return `null` or an `Error` but returned a ' + typeof error + '. ' +\n            'You may have forgotten to pass an argument to the type checker ' +\n            'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' +\n            'shape all require an argument).'\n          );\n        }\n        if (error instanceof Error && !(error.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error.message] = true;\n\n          var stack = getStack ? getStack() : '';\n\n          printWarning(\n            'Failed ' + location + ' type: ' + error.message + (stack != null ? stack : '')\n          );\n        }\n      }\n    }\n  }\n}\n\n/**\n * Resets warning cache when testing.\n *\n * @private\n */\ncheckPropTypes.resetWarningCache = function() {\n  if (process.env.NODE_ENV !== 'production') {\n    loggedTypeFailures = {};\n  }\n};\n\nvar checkPropTypes_1 = checkPropTypes;\n\nvar has$1 = Function.call.bind(Object.prototype.hasOwnProperty);\nvar printWarning$1 = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  printWarning$1 = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\nfunction emptyFunctionThatReturnsNull() {\n  return null;\n}\n\nvar factoryWithTypeCheckers = function(isValidElement, throwOnDirectAccess) {\n  /* global Symbol */\n  var ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.\n\n  /**\n   * Returns the iterator method function contained on the iterable object.\n   *\n   * Be sure to invoke the function with the iterable as context:\n   *\n   *     var iteratorFn = getIteratorFn(myIterable);\n   *     if (iteratorFn) {\n   *       var iterator = iteratorFn.call(myIterable);\n   *       ...\n   *     }\n   *\n   * @param {?object} maybeIterable\n   * @return {?function}\n   */\n  function getIteratorFn(maybeIterable) {\n    var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n\n  /**\n   * Collection of methods that allow declaration and validation of props that are\n   * supplied to React components. Example usage:\n   *\n   *   var Props = require('ReactPropTypes');\n   *   var MyArticle = React.createClass({\n   *     propTypes: {\n   *       // An optional string prop named \"description\".\n   *       description: Props.string,\n   *\n   *       // A required enum prop named \"category\".\n   *       category: Props.oneOf(['News','Photos']).isRequired,\n   *\n   *       // A prop named \"dialog\" that requires an instance of Dialog.\n   *       dialog: Props.instanceOf(Dialog).isRequired\n   *     },\n   *     render: function() { ... }\n   *   });\n   *\n   * A more formal specification of how these methods are used:\n   *\n   *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)\n   *   decl := ReactPropTypes.{type}(.isRequired)?\n   *\n   * Each and every declaration produces a function with the same signature. This\n   * allows the creation of custom validation functions. For example:\n   *\n   *  var MyLink = React.createClass({\n   *    propTypes: {\n   *      // An optional string or URI prop named \"href\".\n   *      href: function(props, propName, componentName) {\n   *        var propValue = props[propName];\n   *        if (propValue != null && typeof propValue !== 'string' &&\n   *            !(propValue instanceof URI)) {\n   *          return new Error(\n   *            'Expected a string or an URI for ' + propName + ' in ' +\n   *            componentName\n   *          );\n   *        }\n   *      }\n   *    },\n   *    render: function() {...}\n   *  });\n   *\n   * @internal\n   */\n\n  var ANONYMOUS = '<<anonymous>>';\n\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithThrowingShims.js`.\n  var ReactPropTypes = {\n    array: createPrimitiveTypeChecker('array'),\n    bool: createPrimitiveTypeChecker('boolean'),\n    func: createPrimitiveTypeChecker('function'),\n    number: createPrimitiveTypeChecker('number'),\n    object: createPrimitiveTypeChecker('object'),\n    string: createPrimitiveTypeChecker('string'),\n    symbol: createPrimitiveTypeChecker('symbol'),\n\n    any: createAnyTypeChecker(),\n    arrayOf: createArrayOfTypeChecker,\n    element: createElementTypeChecker(),\n    elementType: createElementTypeTypeChecker(),\n    instanceOf: createInstanceTypeChecker,\n    node: createNodeChecker(),\n    objectOf: createObjectOfTypeChecker,\n    oneOf: createEnumTypeChecker,\n    oneOfType: createUnionTypeChecker,\n    shape: createShapeTypeChecker,\n    exact: createStrictShapeTypeChecker,\n  };\n\n  /**\n   * inlined Object.is polyfill to avoid requiring consumers ship their own\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n   */\n  /*eslint-disable no-self-compare*/\n  function is(x, y) {\n    // SameValue algorithm\n    if (x === y) {\n      // Steps 1-5, 7-10\n      // Steps 6.b-6.e: +0 != -0\n      return x !== 0 || 1 / x === 1 / y;\n    } else {\n      // Step 6.a: NaN == NaN\n      return x !== x && y !== y;\n    }\n  }\n  /*eslint-enable no-self-compare*/\n\n  /**\n   * We use an Error-like object for backward compatibility as people may call\n   * PropTypes directly and inspect their output. However, we don't use real\n   * Errors anymore. We don't inspect their stack anyway, and creating them\n   * is prohibitively expensive if they are created too often, such as what\n   * happens in oneOfType() for any type before the one that matched.\n   */\n  function PropTypeError(message) {\n    this.message = message;\n    this.stack = '';\n  }\n  // Make `instanceof Error` still work for returned errors.\n  PropTypeError.prototype = Error.prototype;\n\n  function createChainableTypeChecker(validate) {\n    if (process.env.NODE_ENV !== 'production') {\n      var manualPropTypeCallCache = {};\n      var manualPropTypeWarningCount = 0;\n    }\n    function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {\n      componentName = componentName || ANONYMOUS;\n      propFullName = propFullName || propName;\n\n      if (secret !== ReactPropTypesSecret_1) {\n        if (throwOnDirectAccess) {\n          // New behavior only for users of `prop-types` package\n          var err = new Error(\n            'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n            'Use `PropTypes.checkPropTypes()` to call them. ' +\n            'Read more at http://fb.me/use-check-prop-types'\n          );\n          err.name = 'Invariant Violation';\n          throw err;\n        } else if (process.env.NODE_ENV !== 'production' && typeof console !== 'undefined') {\n          // Old behavior for people using React.PropTypes\n          var cacheKey = componentName + ':' + propName;\n          if (\n            !manualPropTypeCallCache[cacheKey] &&\n            // Avoid spamming the console because they are often not actionable except for lib authors\n            manualPropTypeWarningCount < 3\n          ) {\n            printWarning$1(\n              'You are manually calling a React.PropTypes validation ' +\n              'function for the `' + propFullName + '` prop on `' + componentName  + '`. This is deprecated ' +\n              'and will throw in the standalone `prop-types` package. ' +\n              'You may be seeing this warning due to a third-party PropTypes ' +\n              'library. See https://fb.me/react-warning-dont-call-proptypes ' + 'for details.'\n            );\n            manualPropTypeCallCache[cacheKey] = true;\n            manualPropTypeWarningCount++;\n          }\n        }\n      }\n      if (props[propName] == null) {\n        if (isRequired) {\n          if (props[propName] === null) {\n            return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required ' + ('in `' + componentName + '`, but its value is `null`.'));\n          }\n          return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required in ' + ('`' + componentName + '`, but its value is `undefined`.'));\n        }\n        return null;\n      } else {\n        return validate(props, propName, componentName, location, propFullName);\n      }\n    }\n\n    var chainedCheckType = checkType.bind(null, false);\n    chainedCheckType.isRequired = checkType.bind(null, true);\n\n    return chainedCheckType;\n  }\n\n  function createPrimitiveTypeChecker(expectedType) {\n    function validate(props, propName, componentName, location, propFullName, secret) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== expectedType) {\n        // `propValue` being instance of, say, date/regexp, pass the 'object'\n        // check, but we can offer a more precise error message here rather than\n        // 'of type `object`'.\n        var preciseType = getPreciseType(propValue);\n\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createAnyTypeChecker() {\n    return createChainableTypeChecker(emptyFunctionThatReturnsNull);\n  }\n\n  function createArrayOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside arrayOf.');\n      }\n      var propValue = props[propName];\n      if (!Array.isArray(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));\n      }\n      for (var i = 0; i < propValue.length; i++) {\n        var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']', ReactPropTypesSecret_1);\n        if (error instanceof Error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!isValidElement(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!reactIs.isValidElementType(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement type.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createInstanceTypeChecker(expectedClass) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!(props[propName] instanceof expectedClass)) {\n        var expectedClassName = expectedClass.name || ANONYMOUS;\n        var actualClassName = getClassName(props[propName]);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createEnumTypeChecker(expectedValues) {\n    if (!Array.isArray(expectedValues)) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (arguments.length > 1) {\n          printWarning$1(\n            'Invalid arguments supplied to oneOf, expected an array, got ' + arguments.length + ' arguments. ' +\n            'A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).'\n          );\n        } else {\n          printWarning$1('Invalid argument supplied to oneOf, expected an array.');\n        }\n      }\n      return emptyFunctionThatReturnsNull;\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      for (var i = 0; i < expectedValues.length; i++) {\n        if (is(propValue, expectedValues[i])) {\n          return null;\n        }\n      }\n\n      var valuesString = JSON.stringify(expectedValues, function replacer(key, value) {\n        var type = getPreciseType(value);\n        if (type === 'symbol') {\n          return String(value);\n        }\n        return value;\n      });\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of value `' + String(propValue) + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createObjectOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside objectOf.');\n      }\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));\n      }\n      for (var key in propValue) {\n        if (has$1(propValue, key)) {\n          var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret_1);\n          if (error instanceof Error) {\n            return error;\n          }\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createUnionTypeChecker(arrayOfTypeCheckers) {\n    if (!Array.isArray(arrayOfTypeCheckers)) {\n      process.env.NODE_ENV !== 'production' ? printWarning$1('Invalid argument supplied to oneOfType, expected an instance of array.') : void 0;\n      return emptyFunctionThatReturnsNull;\n    }\n\n    for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n      var checker = arrayOfTypeCheckers[i];\n      if (typeof checker !== 'function') {\n        printWarning$1(\n          'Invalid argument supplied to oneOfType. Expected an array of check functions, but ' +\n          'received ' + getPostfixForTypeWarning(checker) + ' at index ' + i + '.'\n        );\n        return emptyFunctionThatReturnsNull;\n      }\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n        var checker = arrayOfTypeCheckers[i];\n        if (checker(props, propName, componentName, location, propFullName, ReactPropTypesSecret_1) == null) {\n          return null;\n        }\n      }\n\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createNodeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!isNode(props[propName])) {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      for (var key in shapeTypes) {\n        var checker = shapeTypes[key];\n        if (!checker) {\n          continue;\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret_1);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createStrictShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      // We need to check all keys in case some are required but missing from\n      // props.\n      var allKeys = objectAssign({}, props[propName], shapeTypes);\n      for (var key in allKeys) {\n        var checker = shapeTypes[key];\n        if (!checker) {\n          return new PropTypeError(\n            'Invalid ' + location + ' `' + propFullName + '` key `' + key + '` supplied to `' + componentName + '`.' +\n            '\\nBad object: ' + JSON.stringify(props[propName], null, '  ') +\n            '\\nValid keys: ' +  JSON.stringify(Object.keys(shapeTypes), null, '  ')\n          );\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret_1);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function isNode(propValue) {\n    switch (typeof propValue) {\n      case 'number':\n      case 'string':\n      case 'undefined':\n        return true;\n      case 'boolean':\n        return !propValue;\n      case 'object':\n        if (Array.isArray(propValue)) {\n          return propValue.every(isNode);\n        }\n        if (propValue === null || isValidElement(propValue)) {\n          return true;\n        }\n\n        var iteratorFn = getIteratorFn(propValue);\n        if (iteratorFn) {\n          var iterator = iteratorFn.call(propValue);\n          var step;\n          if (iteratorFn !== propValue.entries) {\n            while (!(step = iterator.next()).done) {\n              if (!isNode(step.value)) {\n                return false;\n              }\n            }\n          } else {\n            // Iterator will provide entry [k,v] tuples rather than values.\n            while (!(step = iterator.next()).done) {\n              var entry = step.value;\n              if (entry) {\n                if (!isNode(entry[1])) {\n                  return false;\n                }\n              }\n            }\n          }\n        } else {\n          return false;\n        }\n\n        return true;\n      default:\n        return false;\n    }\n  }\n\n  function isSymbol(propType, propValue) {\n    // Native Symbol.\n    if (propType === 'symbol') {\n      return true;\n    }\n\n    // falsy value can't be a Symbol\n    if (!propValue) {\n      return false;\n    }\n\n    // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'\n    if (propValue['@@toStringTag'] === 'Symbol') {\n      return true;\n    }\n\n    // Fallback for non-spec compliant Symbols which are polyfilled.\n    if (typeof Symbol === 'function' && propValue instanceof Symbol) {\n      return true;\n    }\n\n    return false;\n  }\n\n  // Equivalent of `typeof` but with special handling for array and regexp.\n  function getPropType(propValue) {\n    var propType = typeof propValue;\n    if (Array.isArray(propValue)) {\n      return 'array';\n    }\n    if (propValue instanceof RegExp) {\n      // Old webkits (at least until Android 4.0) return 'function' rather than\n      // 'object' for typeof a RegExp. We'll normalize this here so that /bla/\n      // passes PropTypes.object.\n      return 'object';\n    }\n    if (isSymbol(propType, propValue)) {\n      return 'symbol';\n    }\n    return propType;\n  }\n\n  // This handles more types than `getPropType`. Only used for error messages.\n  // See `createPrimitiveTypeChecker`.\n  function getPreciseType(propValue) {\n    if (typeof propValue === 'undefined' || propValue === null) {\n      return '' + propValue;\n    }\n    var propType = getPropType(propValue);\n    if (propType === 'object') {\n      if (propValue instanceof Date) {\n        return 'date';\n      } else if (propValue instanceof RegExp) {\n        return 'regexp';\n      }\n    }\n    return propType;\n  }\n\n  // Returns a string that is postfixed to a warning about an invalid type.\n  // For example, \"undefined\" or \"of type array\"\n  function getPostfixForTypeWarning(value) {\n    var type = getPreciseType(value);\n    switch (type) {\n      case 'array':\n      case 'object':\n        return 'an ' + type;\n      case 'boolean':\n      case 'date':\n      case 'regexp':\n        return 'a ' + type;\n      default:\n        return type;\n    }\n  }\n\n  // Returns class name of the object, if any.\n  function getClassName(propValue) {\n    if (!propValue.constructor || !propValue.constructor.name) {\n      return ANONYMOUS;\n    }\n    return propValue.constructor.name;\n  }\n\n  ReactPropTypes.checkPropTypes = checkPropTypes_1;\n  ReactPropTypes.resetWarningCache = checkPropTypes_1.resetWarningCache;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nvar factoryWithThrowingShims = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret_1) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  }  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  }  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n\nvar propTypes = createCommonjsModule(function (module) {\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = reactIs;\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = factoryWithTypeCheckers(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = factoryWithThrowingShims();\n}\n});\n\nvar ErrorBoundaryFallbackComponent_1 = createCommonjsModule(function (module, exports) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\n\nvar _react2 = _interopRequireDefault(React$g__default);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar toTitle = function toTitle(error, componentStack) {\n  return error.toString() + \"\\n\\nThis is located at:\" + componentStack;\n};\n\nvar ErrorBoundaryFallbackComponent = function ErrorBoundaryFallbackComponent(_ref) {\n  var componentStack = _ref.componentStack,\n      error = _ref.error;\n  return _react2.default.createElement(\n    \"div\",\n    { style: style, title: toTitle(error, componentStack) },\n    _react2.default.createElement(\n      \"svg\",\n      { style: svgStyle, viewBox: \"0 0 24 24\", preserveAspectRatio: \"xMidYMid\" },\n      _react2.default.createElement(\"path\", {\n        d: \"M20,12A8,8 0 0,0 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20A8,8 0 0,0 20,\\n        12M22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2A10,10 0 0,1 22,\\n        12M15.5,8C16.3,8 17,8.7 17,9.5C17,10.3 16.3,11 15.5,11C14.7,11 14,10.3 14,\\n        9.5C14,8.7 14.7,8 15.5,8M10,9.5C10,10.3 9.3,11 8.5,11C7.7,11 7,10.3 7,9.5C7,\\n        8.7 7.7,8 8.5,8C9.3,8 10,8.7 10,9.5M12,14C13.75,14 15.29,14.72 16.19,\\n        15.81L14.77,17.23C14.32,16.5 13.25,16 12,16C10.75,16 9.68,16.5 9.23,\\n        17.23L7.81,15.81C8.71,14.72 10.25,14 12,14Z\"\n      })\n    )\n  );\n};\n\nErrorBoundaryFallbackComponent.propTypes = {\n  componentStack: propTypes.string.isRequired,\n  error: typeof Error === \"function\" ? propTypes.instanceOf(Error).isRequired : propTypes.any.isRequired\n};\nvar style = {\n  height: '100%',\n  maxHeight: '100vh',\n  width: '100%',\n  maxWidth: '100vw',\n  display: 'flex',\n  flexDirection: 'column',\n  alignItems: 'center',\n  textAlign: 'center',\n  backgroundColor: '#C00',\n  color: '#FFF',\n  boxSizing: 'border-box',\n  cursor: 'help'\n};\n\nvar svgStyle = {\n  fill: 'currentColor',\n  flex: '1 1 auto'\n};\n\nexports.default = ErrorBoundaryFallbackComponent;\n});\n\nunwrapExports(ErrorBoundaryFallbackComponent_1);\n\nvar ErrorBoundary_1 = createCommonjsModule(function (module, exports) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.withErrorBoundary = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\n\n\nvar _react2 = _interopRequireDefault(React$g__default);\n\n\n\nvar _ErrorBoundaryFallbackComponent2 = _interopRequireDefault(ErrorBoundaryFallbackComponent_1);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar babelPluginFlowReactPropTypes_proptype_ComponentType = React$g__default.babelPluginFlowReactPropTypes_proptype_ComponentType || propTypes.any;\n\nvar ErrorBoundary = function (_Component) {\n  _inherits(ErrorBoundary, _Component);\n\n  function ErrorBoundary() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, ErrorBoundary);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = ErrorBoundary.__proto__ || Object.getPrototypeOf(ErrorBoundary)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      error: null,\n      info: null\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(ErrorBoundary, [{\n    key: 'componentDidCatch',\n    value: function componentDidCatch(error, info) {\n      var onError = this.props.onError;\n\n\n      if (typeof onError === 'function') {\n        try {\n          /* istanbul ignore next: Ignoring ternary; can’t reproduce missing info in test environment. */\n          onError.call(this, error, info ? info.componentStack : '');\n        } catch (ignoredError) {}\n      }\n\n      this.setState({ error: error, info: info });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          children = _props.children,\n          FallbackComponent = _props.FallbackComponent;\n      var _state = this.state,\n          error = _state.error,\n          info = _state.info;\n\n\n      if (error !== null) {\n        return _react2.default.createElement(FallbackComponent, {\n          componentStack:\n          // istanbul ignore next: Ignoring ternary; can’t reproduce missing info in test environment.\n          info ? info.componentStack : '',\n          error: error\n        });\n      }\n\n      return children || null;\n    }\n  }]);\n\n  return ErrorBoundary;\n}(React$g__default.Component);\n\nErrorBoundary.defaultProps = {\n  FallbackComponent: _ErrorBoundaryFallbackComponent2.default\n};\nErrorBoundary.propTypes = {\n  error: typeof Error === 'function' ? propTypes.instanceOf(Error) : propTypes.any,\n  info: propTypes.shape({\n    componentStack: propTypes.string.isRequired\n  })\n};\nvar withErrorBoundary = exports.withErrorBoundary = function withErrorBoundary(Component, FallbackComponent, onError) {\n  var Wrapped = function Wrapped(props) {\n    return _react2.default.createElement(\n      ErrorBoundary,\n      { FallbackComponent: FallbackComponent, onError: onError },\n      _react2.default.createElement(Component, props)\n    );\n  };\n\n  // Format for display in DevTools\n  var name = Component.displayName || Component.name;\n  Wrapped.displayName = name ? 'WithErrorBoundary(' + name + ')' : 'WithErrorBoundary';\n\n  return Wrapped;\n};\n\nwithErrorBoundary.propTypes = babelPluginFlowReactPropTypes_proptype_ComponentType === propTypes.any ? {} : babelPluginFlowReactPropTypes_proptype_ComponentType;\nexports.default = ErrorBoundary;\n});\n\nunwrapExports(ErrorBoundary_1);\nvar ErrorBoundary_2 = ErrorBoundary_1.withErrorBoundary;\n\nvar commonjs = createCommonjsModule(function (module, exports) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ErrorBoundaryFallbackComponent = exports.withErrorBoundary = exports.ErrorBoundary = undefined;\n\n\n\nvar _ErrorBoundaryFallbackComponent2 = _interopRequireDefault(ErrorBoundaryFallbackComponent_1);\n\n\n\nvar _ErrorBoundary2 = _interopRequireDefault(ErrorBoundary_1);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _ErrorBoundary2.default;\nexports.ErrorBoundary = _ErrorBoundary2.default;\nexports.withErrorBoundary = ErrorBoundary_1.withErrorBoundary;\nexports.ErrorBoundaryFallbackComponent = _ErrorBoundaryFallbackComponent2.default;\n});\n\nunwrapExports(commonjs);\nvar commonjs_1 = commonjs.ErrorBoundaryFallbackComponent;\nvar commonjs_2 = commonjs.withErrorBoundary;\nvar commonjs_3 = commonjs.ErrorBoundary;\n\nvar FallbackComponent = function (componentName) {\r\n    return function () { return React$g__default.createElement(\"div\", null,\r\n        \" There was an error rendering \",\r\n        componentName); };\r\n};\n\nvar onErrorCallback = function (error, componentStack) {\r\n    console.error(error, componentStack);\r\n};\n\nvar buildAggregationQuery = function (configuration) {\r\n    var aggregation = configuration.map(function (_a) {\r\n        var type = _a.type, count = _a.count, name = _a.name, field = _a.field, aggregations = _a.aggregations, match = _a.match, path = _a.path;\r\n        if (type === 'term' && field) {\r\n            var termCount = count ? ',count:' + count : '';\r\n            var termName = name ? ',name:' + name : '';\r\n            var nestedTypeTermAgg = '';\r\n            if (field.includes('enriched_') && field.includes('entities.text')) {\r\n                var topLevelTermEntityField = field.split('.')[0];\r\n                var topLevelNestedField = field.slice(0, field.lastIndexOf('.'));\r\n                nestedTypeTermAgg = \".term(\" + topLevelTermEntityField + \".entities.type,count:1)\";\r\n                return \"nested(\" + topLevelNestedField + \").term(\" + field + termCount + termName + \")\" + nestedTypeTermAgg;\r\n            }\r\n            return 'term(' + field + termCount + termName + ')' + nestedTypeTermAgg;\r\n            // This supports nested and filter aggregations, including dictionary aggregations\r\n        }\r\n        else {\r\n            var nestedOrFilterAgg = '';\r\n            if (aggregations && aggregations[0]) {\r\n                nestedOrFilterAgg += 'nested(';\r\n                var initialNested = path ? path : aggregations[0].field;\r\n                var matchAgg = match ? match : aggregations[0].match;\r\n                nestedOrFilterAgg = nestedOrFilterAgg + initialNested + ').filter(' + matchAgg + ')';\r\n                var termAggregation = void 0;\r\n                if (aggregations[0].aggregations) {\r\n                    termAggregation = aggregations[0].aggregations[0];\r\n                }\r\n                else {\r\n                    termAggregation = aggregations[0];\r\n                }\r\n                var termCount = termAggregation.count ? ',count:' + termAggregation.count : '';\r\n                var termName = termAggregation.name ? ',name:' + termAggregation.name : '';\r\n                nestedOrFilterAgg =\r\n                    nestedOrFilterAgg + '.term(' + termAggregation.field + termCount + termName + ')';\r\n            }\r\n            return nestedOrFilterAgg;\r\n        }\r\n    });\r\n    return '[' + aggregation.toString() + ']';\r\n};\n\nvar isSelectableQueryTermAggregationResult = function (facets) {\r\n    return facets[0].key !== undefined;\r\n};\r\nvar isQueryAggregationWithName = function (aggregations) {\r\n    var _a = aggregations[0] || {}, field = _a.field, path = _a.path, match = _a.match;\r\n    return field !== undefined || path !== undefined || match !== undefined;\r\n};\n\nvar emptySelectedResult = {\r\n    document: null,\r\n    element: null,\r\n    elementType: null\r\n};\r\nvar searchApiDefaults = {\r\n    performSearch: function () { return Promise.resolve(); },\r\n    fetchAutocompletions: function () { return Promise.resolve(); },\r\n    fetchAggregations: function () { return Promise.resolve(); },\r\n    fetchComponentSettings: function () { return Promise.resolve(); },\r\n    fetchDocuments: function () { },\r\n    setSelectedResult: function () { },\r\n    setAutocompletionOptions: function () { },\r\n    setSearchParameters: function () { },\r\n    setIsResultsPaginationComponentHidden: function () { },\r\n    fetchFields: function () { return Promise.resolve(); }\r\n};\r\nvar searchResponseStoreDefaults = {\r\n    parameters: {\r\n        projectId: ''\r\n    },\r\n    data: null,\r\n    isLoading: false,\r\n    isError: false,\r\n    error: null\r\n};\r\nvar aggregationQueryDefaults = {\r\n    count: 0,\r\n    filter: '',\r\n    passages: {\r\n        enabled: false\r\n    },\r\n    tableResults: {\r\n        enabled: false\r\n    }\r\n};\r\nvar globalAggregationsResponseStoreDefaults = {\r\n    parameters: __assign({ projectId: '' }, aggregationQueryDefaults),\r\n    data: null,\r\n    isLoading: false,\r\n    isError: false,\r\n    error: null\r\n};\r\nvar fetchDocumentsResponseStoreDefaults = {\r\n    parameters: {\r\n        projectId: '',\r\n        _return: [],\r\n        aggregation: '',\r\n        passages: {\r\n            enabled: false\r\n        },\r\n        tableResults: {\r\n            enabled: false\r\n        }\r\n    },\r\n    data: null,\r\n    isLoading: false,\r\n    isError: false,\r\n    error: null\r\n};\r\nvar autocompletionStoreDefaults = {\r\n    parameters: {\r\n        projectId: '',\r\n        prefix: ''\r\n    },\r\n    data: null,\r\n    isLoading: false,\r\n    isError: false,\r\n    error: null\r\n};\r\nvar fieldsStoreDefaults = {\r\n    parameters: {\r\n        projectId: ''\r\n    },\r\n    data: null,\r\n    isLoading: false,\r\n    isError: false,\r\n    error: null\r\n};\r\nvar searchContextDefaults = {\r\n    searchResponseStore: searchResponseStoreDefaults,\r\n    globalAggregationsResponseStore: globalAggregationsResponseStoreDefaults,\r\n    fetchDocumentsResponseStore: fetchDocumentsResponseStoreDefaults,\r\n    selectedResult: emptySelectedResult,\r\n    autocompletionStore: autocompletionStoreDefaults,\r\n    isResultsPaginationComponentHidden: false,\r\n    fieldsStore: fieldsStoreDefaults\r\n};\r\nvar SearchApi = createContext(searchApiDefaults);\r\nvar SearchContext = createContext(searchContextDefaults);\r\nvar DiscoverySearch = function (_a) {\r\n    var searchClient = _a.searchClient, projectId = _a.projectId, overrideAggregationResults = _a.overrideAggregationResults, overrideSearchResults = _a.overrideSearchResults, overrideQueryParameters = _a.overrideQueryParameters, _b = _a.overrideSelectedResult, overrideSelectedResult = _b === void 0 ? emptySelectedResult : _b, overrideAutocompletionResults = _a.overrideAutocompletionResults, overrideCollectionsResults = _a.overrideCollectionsResults, overrideComponentSettings = _a.overrideComponentSettings, children = _a.children;\r\n    var _c = useState(null), aggregationResults = _c[0], setAggregationResults = _c[1];\r\n    var _d = useState(overrideCollectionsResults), collectionsResults = _d[0], setCollectionsResults = _d[1];\r\n    var _e = useState({}), autocompletionOptions = _e[0], setAutocompletionOptions = _e[1];\r\n    var _f = useState(overrideSelectedResult), selectedResult = _f[0], setSelectedResult = _f[1];\r\n    var _g = useState(overrideComponentSettings), componentSettings = _g[0], setComponentSettings = _g[1];\r\n    var _h = useState(), isResultsPaginationComponentHidden = _h[0], setIsResultsPaginationComponentHidden = _h[1];\r\n    var _j = useSearchResultsApi(__assign({ projectId: projectId }, deprecateReturnFields(overrideQueryParameters)), searchClient, overrideSearchResults), searchResponseStore = _j[0], _k = _j[1], setSearchResponse = _k.setSearchResponse, setSearchParameters = _k.setSearchParameters, performSearch = _k.performSearch;\r\n    var _l = useGlobalAggregationsApi(__assign(__assign({}, globalAggregationsResponseStoreDefaults.parameters), { projectId: projectId }), searchClient, overrideAggregationResults), globalAggregationsResponseStore = _l[0], _m = _l[1], setGlobalAggregationsResponse = _m.setGlobalAggregationsResponse, fetchGlobalAggregations = _m.fetchGlobalAggregations, fetchGlobalAggregationsWithoutStoring = _m.fetchGlobalAggregationsWithoutStoring;\r\n    var fetchTypeForTopEntitiesAggregation = useCallback(function (aggregationResults, searchParams) { return __awaiter(void 0, void 0, void 0, function () {\r\n        var updatedAggQuery, updatedSearchParameters;\r\n        return __generator(this, function (_a) {\r\n            // TODO make this only run if aggregationResults doesn't already have type for top entities aggregation in the results\r\n            if (isQueryAggregationWithName(aggregationResults)) {\r\n                updatedAggQuery = buildAggregationQuery(aggregationResults);\r\n                updatedSearchParameters = __assign(__assign({}, searchParams), { aggregation: updatedAggQuery });\r\n                fetchGlobalAggregations(updatedSearchParameters);\r\n            }\r\n            return [2 /*return*/];\r\n        });\r\n    }); }, [fetchGlobalAggregations]);\r\n    var handleSearch = useCallback(function (backwardsCompatibleQueryParams, resetAggregations) {\r\n        if (resetAggregations === void 0) { resetAggregations = true; }\r\n        return __awaiter(void 0, void 0, void 0, function () {\r\n            var aggregationsFetched, searchParameters;\r\n            return __generator(this, function (_a) {\r\n                aggregationsFetched = false;\r\n                searchParameters = deprecateReturnFields(backwardsCompatibleQueryParams);\r\n                setSearchParameters(searchParameters);\r\n                // TODO proper fix is to have any caller of handleSearch that needs aggregations\r\n                // to call handleFetchAggregations instead\r\n                if (resetAggregations && searchParameters.filter !== '') {\r\n                    aggregationsFetched = true;\r\n                    fetchGlobalAggregationsWithoutStoring(__assign(__assign(__assign({}, searchParameters), aggregationQueryDefaults), { filter: '' }), function (aggregations) { return __awaiter(void 0, void 0, void 0, function () {\r\n                        return __generator(this, function (_a) {\r\n                            fetchTypeForTopEntitiesAggregation(aggregations, searchParameters);\r\n                            return [2 /*return*/];\r\n                        });\r\n                    }); });\r\n                }\r\n                performSearch(function (result) { return __awaiter(void 0, void 0, void 0, function () {\r\n                    return __generator(this, function (_a) {\r\n                        if (!aggregationsFetched && resetAggregations && result && result.aggregations) {\r\n                            fetchTypeForTopEntitiesAggregation(result.aggregations, searchParameters);\r\n                        }\r\n                        return [2 /*return*/];\r\n                    });\r\n                }); });\r\n                return [2 /*return*/];\r\n            });\r\n        });\r\n    }, [\r\n        fetchGlobalAggregationsWithoutStoring,\r\n        fetchTypeForTopEntitiesAggregation,\r\n        performSearch,\r\n        setSearchParameters\r\n    ]);\r\n    var _o = useAutocompleteApi({ projectId: projectId, count: autocompletionOptions.completionsCount, prefix: '' }, searchClient, overrideAutocompletionResults), autocompletionStore = _o[0], _p = _o[1], fetchAutocompletions = _p.fetchAutocompletions, setAutocompletions = _p.setAutocompletions;\r\n    // Keep aggregationResults in sync with globalAggregationsResponseStore data\r\n    // to support it until deprecated in next major release\r\n    useDeepCompareEffect(function () {\r\n        setAggregationResults(globalAggregationsResponseStore.data);\r\n    }, [globalAggregationsResponseStore.data]);\r\n    useDeepCompareEffect(function () {\r\n        setSearchResponse(overrideSearchResults);\r\n    }, [overrideSearchResults]);\r\n    useDeepCompareEffect(function () {\r\n        setSearchParameters(function (currentSearchParameters) {\r\n            return __assign(__assign(__assign({}, currentSearchParameters), { projectId: projectId }), deprecateReturnFields(overrideQueryParameters));\r\n        });\r\n    }, [projectId, overrideQueryParameters]);\r\n    useDeepCompareEffect(function () {\r\n        setGlobalAggregationsResponse(overrideAggregationResults);\r\n    }, [overrideAggregationResults]);\r\n    useDeepCompareEffect(function () {\r\n        setCollectionsResults(overrideCollectionsResults);\r\n    }, [overrideCollectionsResults]);\r\n    useDeepCompareEffect(function () {\r\n        setSelectedResult(overrideSelectedResult);\r\n    }, [overrideSelectedResult]);\r\n    useDeepCompareEffect(function () {\r\n        setAutocompletions(overrideAutocompletionResults);\r\n    }, [overrideAutocompletionResults]);\r\n    useDeepCompareEffect(function () {\r\n        setComponentSettings(overrideComponentSettings);\r\n    }, [overrideComponentSettings]);\r\n    useEffect(function () {\r\n        function fetchCollections() {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var result, err_1;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            _a.trys.push([0, 2, , 3]);\r\n                            return [4 /*yield*/, searchClient.listCollections({ projectId: projectId })];\r\n                        case 1:\r\n                            result = (_a.sent()).result;\r\n                            setCollectionsResults(result);\r\n                            return [3 /*break*/, 3];\r\n                        case 2:\r\n                            err_1 = _a.sent();\r\n                            console.error('Error fetching collections', err_1);\r\n                            return [3 /*break*/, 3];\r\n                        case 3: return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        }\r\n        function getComponentSettings() {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var result, err_2;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            _a.trys.push([0, 2, , 3]);\r\n                            return [4 /*yield*/, searchClient.getComponentSettings({ projectId: projectId })];\r\n                        case 1:\r\n                            result = (_a.sent()).result;\r\n                            setComponentSettings(result);\r\n                            return [3 /*break*/, 3];\r\n                        case 2:\r\n                            err_2 = _a.sent();\r\n                            console.error('Error fetching component settings', err_2);\r\n                            return [3 /*break*/, 3];\r\n                        case 3: return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        }\r\n        fetchCollections();\r\n        getComponentSettings();\r\n    }, [searchClient, projectId]);\r\n    // helper method that handles the logic to fetch completions whenever the search query is updated\r\n    var handleFetchAutocompletions = useDeepCompareCallback(function (searchQuery) { return __awaiter(void 0, void 0, void 0, function () {\r\n        var splitSearchQuerySelector, updateAutocomplete, completionsCount, minCharsToAutocomplete, queryArray, prefix, completionParams;\r\n        return __generator(this, function (_a) {\r\n            splitSearchQuerySelector = autocompletionOptions.splitSearchQuerySelector, updateAutocomplete = autocompletionOptions.updateAutocompletions, completionsCount = autocompletionOptions.completionsCount, minCharsToAutocomplete = autocompletionOptions.minCharsToAutocomplete;\r\n            if (updateAutocomplete &&\r\n                !!completionsCount &&\r\n                !!splitSearchQuerySelector &&\r\n                minCharsToAutocomplete !== undefined) {\r\n                queryArray = searchQuery.split(splitSearchQuerySelector);\r\n                prefix = queryArray[queryArray.length - 1];\r\n                completionParams = {\r\n                    projectId: projectId,\r\n                    prefix: prefix,\r\n                    count: completionsCount\r\n                };\r\n                if (!!prefix) {\r\n                    fetchAutocompletions(completionParams);\r\n                    return [2 /*return*/];\r\n                }\r\n                setAutocompletions(undefined);\r\n            }\r\n            return [2 /*return*/];\r\n        });\r\n    }); }, [autocompletionOptions, projectId]);\r\n    var handleFetchAggregations = useCallback(function (backwardsCompatibleQueryParams) { return __awaiter(void 0, void 0, void 0, function () {\r\n        var aggregationsSearchParameters;\r\n        return __generator(this, function (_a) {\r\n            aggregationsSearchParameters = deprecateReturnFields(backwardsCompatibleQueryParams);\r\n            // since we only call this when the aggregation changes, we can safely reset the filter\r\n            setSearchParameters(function (prevSearchParams) {\r\n                return __assign(__assign({}, prevSearchParams), { filter: '' });\r\n            });\r\n            fetchGlobalAggregationsWithoutStoring(aggregationsSearchParameters, function (aggregations) { return __awaiter(void 0, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    fetchTypeForTopEntitiesAggregation(aggregations, aggregationsSearchParameters);\r\n                    return [2 /*return*/];\r\n                });\r\n            }); });\r\n            return [2 /*return*/];\r\n        });\r\n    }); }, [fetchGlobalAggregationsWithoutStoring, fetchTypeForTopEntitiesAggregation, setSearchParameters]);\r\n    var handleSetSelectedResult = function (overrideSelectedResult) {\r\n        var newSelectedResult = !overrideSelectedResult.document\r\n            ? emptySelectedResult\r\n            : overrideSelectedResult;\r\n        if (!newSelectedResult.element && newSelectedResult.elementType) {\r\n            newSelectedResult.elementType = null;\r\n        }\r\n        if (!newSelectedResult.elementType && newSelectedResult.element) {\r\n            newSelectedResult.element = null;\r\n        }\r\n        setSelectedResult(newSelectedResult);\r\n    };\r\n    var _q = useFetchDocumentsApi(__assign(__assign({}, fetchDocumentsResponseStoreDefaults.parameters), { projectId: projectId }), searchClient), fetchDocumentsResponseStore = _q[0], fetchDocuments = _q[1].fetchDocuments;\r\n    var handleFetchDocuments = useCallback(function (filterString, searchResponse) {\r\n        fetchDocuments(filterString, function (filteredResponse) {\r\n            if (searchResponse && searchResponse.results && filteredResponse.results) {\r\n                setSearchResponse(__assign(__assign({}, searchResponse), { matching_results: searchResponse.matching_results + filteredResponse.results.length, results: __spreadArrays(searchResponse.results, filteredResponse.results) }));\r\n            }\r\n            else if (!searchResponse) {\r\n                setSearchResponse(filteredResponse);\r\n            }\r\n        });\r\n    }, [fetchDocuments, setSearchResponse]);\r\n    var _r = useFieldsApi({ projectId: projectId }, searchClient), fieldsStore = _r[0], fetchFields = _r[1].fetchFields;\r\n    var handleFetchFields = useCallback(function () {\r\n        fetchFields();\r\n    }, [fetchFields]);\r\n    var api = {\r\n        performSearch: handleSearch,\r\n        fetchAggregations: handleFetchAggregations,\r\n        fetchAutocompletions: handleFetchAutocompletions,\r\n        fetchDocuments: handleFetchDocuments,\r\n        setSelectedResult: handleSetSelectedResult,\r\n        setAutocompletionOptions: setAutocompletionOptions,\r\n        setSearchParameters: setSearchParameters,\r\n        setIsResultsPaginationComponentHidden: setIsResultsPaginationComponentHidden,\r\n        fetchFields: handleFetchFields\r\n    };\r\n    var state = useDeepCompareMemo(function () {\r\n        return {\r\n            aggregationResults: aggregationResults,\r\n            autocompletionStore: autocompletionStore,\r\n            fetchDocumentsResponseStore: fetchDocumentsResponseStore,\r\n            searchResponseStore: searchResponseStore,\r\n            globalAggregationsResponseStore: globalAggregationsResponseStore,\r\n            selectedResult: selectedResult,\r\n            collectionsResults: collectionsResults,\r\n            componentSettings: componentSettings,\r\n            isResultsPaginationComponentHidden: isResultsPaginationComponentHidden,\r\n            fieldsStore: fieldsStore\r\n        };\r\n    }, [\r\n        aggregationResults,\r\n        autocompletionStore,\r\n        fetchDocumentsResponseStore,\r\n        searchResponseStore,\r\n        globalAggregationsResponseStore,\r\n        selectedResult,\r\n        collectionsResults,\r\n        componentSettings,\r\n        isResultsPaginationComponentHidden,\r\n        fieldsStore\r\n    ]);\r\n    return (React$g__default.createElement(SearchApi.Provider, { value: api },\r\n        React$g__default.createElement(SearchContext.Provider, { value: state }, children)));\r\n};\r\nvar DiscoverySearch$1 = commonjs_2(DiscoverySearch, FallbackComponent('DiscoverySearch'), onErrorCallback);\n\n/** `Object#toString` result references. */\nvar symbolTag$1 = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike_1(value) && _baseGetTag(value) == symbolTag$1);\n}\n\nvar isSymbol_1 = isSymbol;\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray_1(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol_1(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nvar _isKey = isKey;\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || _MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = _MapCache;\n\nvar memoize_1 = memoize;\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize_1(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nvar _memoizeCapped = memoizeCapped;\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = _memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nvar _stringToPath = stringToPath;\n\n/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nvar _arrayMap = arrayMap;\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto$1 = _Symbol ? _Symbol.prototype : undefined,\n    symbolToString = symbolProto$1 ? symbolProto$1.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray_1(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return _arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol_1(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nvar _baseToString = baseToString;\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : _baseToString(value);\n}\n\nvar toString_1 = toString;\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray_1(value)) {\n    return value;\n  }\n  return _isKey(value, object) ? [value] : _stringToPath(toString_1(value));\n}\n\nvar _castPath = castPath;\n\n/** Used as references for various `Number` constants. */\nvar INFINITY$1 = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol_1(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY$1) ? '-0' : result;\n}\n\nvar _toKey = toKey;\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = _castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[_toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nvar _baseGet = baseGet;\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : _baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nvar get_1 = get;\n\nvar useDebounce = function (value, delay) {\r\n    var _a = useState(value), debouncedValue = _a[0], setDebouncedValue = _a[1];\r\n    useEffect(function () {\r\n        var handler = window.setTimeout(function () {\r\n            setDebouncedValue(value);\r\n        }, delay);\r\n        return function () {\r\n            window.clearTimeout(handler);\r\n        };\r\n    }, [delay, value]);\r\n    return debouncedValue;\r\n};\n\nvar rngBrowser = createCommonjsModule(function (module) {\n// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n});\n\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]]\n  ]).join('');\n}\n\nvar bytesToUuid_1 = bytesToUuid;\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\nvar _clockseq;\n\n// Previous uuid creation time\nvar _lastMSecs = 0;\nvar _lastNSecs = 0;\n\n// See https://github.com/uuidjs/uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n  if (node == null || clockseq == null) {\n    var seedBytes = rngBrowser();\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [\n        seedBytes[0] | 0x01,\n        seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]\n      ];\n    }\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  }\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid_1(b);\n}\n\nvar v1_1 = v1;\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rngBrowser)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid_1(rnds);\n}\n\nvar v4_1 = v4;\n\nvar uuid = v4_1;\nuuid.v1 = v1_1;\nuuid.v4 = v4_1;\n\nvar uuid_1 = uuid;\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\n/**\n * Copyright IBM Corp. 2018, 2018\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\nvar defaultAttributes = {\n  // Reference:\n  // https://github.com/IBM/carbon-components-react/issues/1392\n  // https://github.com/PolymerElements/iron-iconset-svg/pull/47\n  // `focusable` is a string attribute which is why we do not use a boolean here\n  focusable: 'false',\n  preserveAspectRatio: 'xMidYMid meet'\n};\n/**\n * Get supplementary HTML attributes for a given <svg> element based on existing\n * attributes.\n */\n\nfunction getAttributes() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      width = _ref.width,\n      height = _ref.height,\n      _ref$viewBox = _ref.viewBox,\n      viewBox = _ref$viewBox === void 0 ? \"0 0 \".concat(width, \" \").concat(height) : _ref$viewBox,\n      attributes = _objectWithoutProperties(_ref, [\"width\", \"height\", \"viewBox\"]);\n\n  var tabindex = attributes.tabindex,\n      rest = _objectWithoutProperties(attributes, [\"tabindex\"]);\n\n  var iconAttributes = _objectSpread2(_objectSpread2(_objectSpread2({}, defaultAttributes), rest), {}, {\n    width: width,\n    height: height,\n    viewBox: viewBox\n  }); // TODO: attributes.title assumes that the consumer will implement <title> and\n  // correctly set `aria-labelledby`.\n\n\n  if (iconAttributes['aria-label'] || iconAttributes['aria-labelledby'] || iconAttributes.title) {\n    iconAttributes.role = 'img'; // Reference:\n    // https://allyjs.io/tutorials/focusing-in-svg.html\n\n    if (tabindex !== undefined && tabindex !== null) {\n      iconAttributes.focusable = 'true';\n      iconAttributes.tabindex = tabindex;\n    }\n  } else {\n    iconAttributes['aria-hidden'] = true;\n  }\n\n  return iconAttributes;\n}\n\n/**\n * Copyright IBM Corp. 2018, 2018\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n/**\n * Convert an icon descriptor to a String\n */\n\nfunction toString$1(descriptor) {\n  var _descriptor$elem = descriptor.elem,\n      elem = _descriptor$elem === void 0 ? 'svg' : _descriptor$elem,\n      _descriptor$attrs = descriptor.attrs,\n      attrs = _descriptor$attrs === void 0 ? {} : _descriptor$attrs,\n      _descriptor$content = descriptor.content,\n      content = _descriptor$content === void 0 ? [] : _descriptor$content;\n  var children = content.map(toString$1).join('');\n\n  if (elem !== 'svg') {\n    return \"<\".concat(elem, \" \").concat(formatAttributes(attrs), \">\").concat(children, \"</\").concat(elem, \">\");\n  }\n\n  return \"<\".concat(elem, \" \").concat(formatAttributes(getAttributes(attrs)), \">\").concat(children, \"</\").concat(elem, \">\");\n}\nfunction formatAttributes(attrs) {\n  return Object.keys(attrs).reduce(function (acc, key, index) {\n    var attribute = \"\".concat(key, \"=\\\"\").concat(attrs[key], \"\\\"\");\n\n    if (index === 0) {\n      return attribute;\n    }\n\n    return acc + ' ' + attribute;\n  }, '');\n}\n\n/**\n * Copyright IBM Corp. 2018, 2018\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n/**\n * Convert an icon descriptor to a DOM node.\n */\n\nfunction toSVG(descriptor) {\n  var _descriptor$elem = descriptor.elem,\n      elem = _descriptor$elem === void 0 ? 'svg' : _descriptor$elem,\n      _descriptor$attrs = descriptor.attrs,\n      attrs = _descriptor$attrs === void 0 ? {} : _descriptor$attrs,\n      _descriptor$content = descriptor.content,\n      content = _descriptor$content === void 0 ? [] : _descriptor$content;\n  var node = document.createElementNS('http://www.w3.org/2000/svg', elem);\n  var attributes = elem !== 'svg' ? attrs : getAttributes(attrs);\n  Object.keys(attributes).forEach(function (key) {\n    node.setAttribute(key, attrs[key]);\n  });\n\n  for (var i = 0; i < content.length; i++) {\n    node.appendChild(toSVG(content[i]));\n  }\n\n  return node;\n}\n\nvar es = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    defaultAttributes: defaultAttributes,\n    getAttributes: getAttributes,\n    formatAttributes: formatAttributes,\n    toString: toString$1,\n    toSVG: toSVG\n});\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\n\nvar PropTypes = _interopDefault(propTypes);\nvar React = _interopDefault(React$g__default);\n\nfunction _defineProperty$1(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction ownKeys$1(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2$1(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys$1(Object(source), true).forEach(function (key) {\n        _defineProperty$1(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys$1(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose$1(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties$1(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose$1(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nvar Icon = /*#__PURE__*/React.forwardRef(function Icon(_ref, ref) {\n  var className = _ref.className,\n      children = _ref.children,\n      tabIndex = _ref.tabIndex,\n      rest = _objectWithoutProperties$1(_ref, [\"className\", \"children\", \"tabIndex\"]);\n\n  var _getAttributes = es.getAttributes(_objectSpread2$1(_objectSpread2$1({}, rest), {}, {\n    tabindex: tabIndex\n  })),\n      tabindex = _getAttributes.tabindex,\n      props = _objectWithoutProperties$1(_getAttributes, [\"tabindex\"]);\n\n  if (className) {\n    props.className = className;\n  }\n\n  if (tabindex !== undefined && tabindex !== null) {\n    props.tabIndex = tabindex;\n  }\n\n  if (ref) {\n    props.ref = ref;\n  }\n\n  return /*#__PURE__*/React.createElement('svg', props, children);\n});\nIcon.displayName = 'Icon';\nIcon.propTypes = {\n  'aria-hidden': PropTypes.string,\n  'aria-label': PropTypes.string,\n  'aria-labelledby': PropTypes.string,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  height: PropTypes.number,\n  preserveAspectRatio: PropTypes.string,\n  tabIndex: PropTypes.string,\n  viewBox: PropTypes.string,\n  width: PropTypes.number,\n  xmlns: PropTypes.string\n};\nIcon.defaultProps = {\n  xmlns: 'http://www.w3.org/2000/svg',\n  preserveAspectRatio: 'xMidYMid meet'\n};\n\nvar Icon_1 = Icon;\nvar _extends_1 = _extends;\nvar _objectWithoutProperties_1 = _objectWithoutProperties$1;\n\nvar IconE8f71a9c = {\n\tIcon: Icon_1,\n\t_extends: _extends_1,\n\t_objectWithoutProperties: _objectWithoutProperties_1\n};\n\nfunction _interopDefault$1 (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\n\n\n\nvar React$1 = _interopDefault$1(React$g__default);\n\nvar _ref2 =\n/*#__PURE__*/\n\n/*#__PURE__*/\nReact$1.createElement(\"path\", {\n  d: \"M15,14.3L10.7,10c1.9-2.3,1.6-5.8-0.7-7.7S4.2,0.7,2.3,3S0.7,8.8,3,10.7c2,1.7,5,1.7,7,0l4.3,4.3L15,14.3z M2,6.5\\tC2,4,4,2,6.5,2S11,4,11,6.5S9,11,6.5,11S2,9,2,6.5z\"\n});\n\nvar Search16 = /*#__PURE__*/React$1.forwardRef(function Search16(_ref, ref) {\n  var children = _ref.children,\n      rest = IconE8f71a9c._objectWithoutProperties(_ref, [\"children\"]);\n\n  return /*#__PURE__*/React$1.createElement(IconE8f71a9c.Icon, IconE8f71a9c._extends({\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"currentColor\",\n    ref: ref\n  }, rest), _ref2, children);\n});\n\nvar _16 = Search16;\n\nvar defaultMessages = {\r\n    placeholderText: 'Search',\r\n    closeButtonLabelText: 'Clear search input'\r\n};\n\nvar SearchInput = function (_a) {\r\n    var className = _a.className, id = _a.id, _b = _a.splitSearchQuerySelector, splitSearchQuerySelector = _b === void 0 ? ' ' : _b, _c = _a.completionsCount, completionsCount = _c === void 0 ? 5 : _c, _d = _a.showAutocomplete, showAutocomplete = _d === void 0 ? true : _d, _e = _a.minCharsToAutocomplete, minCharsToAutocomplete = _e === void 0 ? 0 : _e, spellingSuggestions = _a.spellingSuggestions, _f = _a.messages, messages = _f === void 0 ? defaultMessages : _f, _g = _a.autocompleteDelay, autocompleteDelay = _g === void 0 ? 200 : _g, placeHolderText = _a.placeHolderText, labelText = _a.labelText, closeButtonLabelText = _a.closeButtonLabelText, onChange = _a.onChange, inputProps = __rest(_a, [\"className\", \"id\", \"splitSearchQuerySelector\", \"completionsCount\", \"showAutocomplete\", \"minCharsToAutocomplete\", \"spellingSuggestions\", \"messages\", \"autocompleteDelay\", \"placeHolderText\", \"labelText\", \"closeButtonLabelText\", \"onChange\"]);\r\n    var mergedMessages = __assign(__assign({}, defaultMessages), messages);\r\n    var inputId = id || \"search-input__\" + uuid_1.v4();\r\n    var autocompletionClassName = settings.prefix + \"--search-autocompletion\";\r\n    var searchInputClassNames = [className, settings.prefix + \"--search-input--discovery\"];\r\n    var _h = useContext(SearchContext), searchParameters = _h.searchResponseStore.parameters, autocompletionResults = _h.autocompletionStore.data, componentSettings = _h.componentSettings;\r\n    var displaySettings = {\r\n        showAutocomplete: showAutocomplete === undefined\r\n            ? get_1(componentSettings, 'autocomplete', true)\r\n            : showAutocomplete\r\n    };\r\n    var _j = useContext(SearchApi), performSearch = _j.performSearch, fetchAutocompletions = _j.fetchAutocompletions, setAutocompletionOptions = _j.setAutocompletionOptions, setSearchParameters = _j.setSearchParameters;\r\n    var _k = useState(searchParameters.naturalLanguageQuery || ''), value = _k[0], setValue = _k[1];\r\n    var completions = (autocompletionResults && autocompletionResults.completions) || [];\r\n    var lastWordOfValue = value.split(splitSearchQuerySelector).pop();\r\n    var _l = useState(false), skipFetchAutoCompletions = _l[0], setSkipFetchAutoCompletions = _l[1];\r\n    var _m = useState(false), focused = _m[0], setFocused = _m[1];\r\n    var focusTimeout;\r\n    useEffect(function () {\r\n        setValue(searchParameters.naturalLanguageQuery || '');\r\n    }, [searchParameters.naturalLanguageQuery]);\r\n    var handleOnChange = function (evt) {\r\n        var target = evt.currentTarget;\r\n        setValue(!!target ? target.value : '');\r\n    };\r\n    var selectAutocompletion = function (i) {\r\n        var valueArray = value.split(splitSearchQuerySelector);\r\n        var prefix = valueArray.pop();\r\n        var completionValue = !!completions ? completions[i] : prefix;\r\n        valueArray.push(completionValue || '');\r\n        setValue(\"\" + valueArray.join(splitSearchQuerySelector) + splitSearchQuerySelector);\r\n        // The carbon Search component doesn't seem to use ForwardRef\r\n        // so looking up by ID for now.\r\n        var searchInput = document.getElementById(inputId + \"_input_field\");\r\n        if (searchInput !== null) {\r\n            searchInput.focus();\r\n        }\r\n    };\r\n    var prepareFreshSearchParameters = useDeepCompareCallback(function (nlq) {\r\n        return __assign(__assign({}, searchParameters), { naturalLanguageQuery: nlq, offset: 0, filter: '' });\r\n    }, [searchParameters]);\r\n    var setupHandleAutocompletionKeyUp = function (i) {\r\n        return function (evt) {\r\n            if (evt.key === 'Enter') {\r\n                selectAutocompletion(i);\r\n            }\r\n        };\r\n    };\r\n    var setupHandleAutocompletionOnClick = function (i) {\r\n        return function () {\r\n            selectAutocompletion(i);\r\n        };\r\n    };\r\n    var searchAndBlur = function (value) {\r\n        performSearch(prepareFreshSearchParameters(value));\r\n        if (onChange) {\r\n            onChange(value);\r\n        }\r\n        // The carbon Search component doesn't seem to use ForwardRef\r\n        // so looking up by ID for now.\r\n        var searchInput = document.getElementById(inputId + \"_input_field\");\r\n        if (searchInput !== null) {\r\n            searchInput.blur();\r\n        }\r\n    };\r\n    var debouncedSearchTerm = useDebounce(value, autocompleteDelay);\r\n    useEffect(function () {\r\n        setSearchParameters(function (currentSearchParameters) {\r\n            return __assign(__assign({}, currentSearchParameters), { naturalLanguageQuery: debouncedSearchTerm });\r\n        });\r\n        if (!skipFetchAutoCompletions) {\r\n            fetchAutocompletions(debouncedSearchTerm);\r\n        }\r\n        else {\r\n            setSkipFetchAutoCompletions(false);\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [debouncedSearchTerm, fetchAutocompletions, setSearchParameters]);\r\n    useEffect(function () {\r\n        setAutocompletionOptions({\r\n            updateAutocompletions: displaySettings.showAutocomplete,\r\n            completionsCount: completionsCount,\r\n            minCharsToAutocomplete: minCharsToAutocomplete,\r\n            splitSearchQuerySelector: splitSearchQuerySelector\r\n        });\r\n    }, [\r\n        displaySettings.showAutocomplete,\r\n        completionsCount,\r\n        minCharsToAutocomplete,\r\n        splitSearchQuerySelector,\r\n        setAutocompletionOptions\r\n    ]);\r\n    useEffect(function () {\r\n        setSearchParameters(function (currentSearchParameters) {\r\n            return __assign(__assign({}, currentSearchParameters), { spellingSuggestions: !!spellingSuggestions });\r\n        });\r\n    }, [setSearchParameters, spellingSuggestions]);\r\n    var handleOnKeyUp = function (evt) {\r\n        if (evt.key === 'Enter') {\r\n            searchAndBlur(value);\r\n        }\r\n    };\r\n    // onFocus for the carbon search component and the autocomplete dropdown\r\n    var handleOnFocus = function () {\r\n        // cancel the timeout set in handleOnBlur\r\n        clearTimeout(focusTimeout);\r\n        setFocused(true);\r\n    };\r\n    // onBlur for the entire SearchInput\r\n    var handleOnBlur = function () {\r\n        focusTimeout = setTimeout(function () {\r\n            setFocused(false);\r\n        }, 0);\r\n    };\r\n    var shouldShowCompletions = lastWordOfValue !== '' && displaySettings.showAutocomplete && focused;\r\n    var autocompletionsList = completions.map(function (completion, i) {\r\n        var valueWithoutLastWord = value.slice(0, value.length - lastWordOfValue.length);\r\n        if (completion.startsWith(lastWordOfValue)) {\r\n            var suffix = completion.slice(lastWordOfValue.length);\r\n            return (React$g__default.createElement(ListBox, { key: \"autocompletion_\" + i, className: autocompletionClassName + \"__wrapper\" },\r\n                React$g__default.createElement(ListBox.Field, { role: \"listitem\", id: \"autocompletion_\" + i + \"_field\", tabIndex: \"0\", className: autocompletionClassName + \"__item\", onClick: setupHandleAutocompletionOnClick(i), onKeyUp: setupHandleAutocompletionKeyUp(i) },\r\n                    React$g__default.createElement(\"div\", { className: autocompletionClassName + \"__icon\" },\r\n                        React$g__default.createElement(_16, null)),\r\n                    React$g__default.createElement(\"div\", { className: autocompletionClassName + \"__term\" },\r\n                        valueWithoutLastWord,\r\n                        React$g__default.createElement(\"strong\", null, lastWordOfValue),\r\n                        suffix))));\r\n        }\r\n        return null;\r\n    });\r\n    return (React$g__default.createElement(\"div\", { className: searchInputClassNames.join(' '), id: inputId, \"data-testid\": \"search-input-test-id\", onBlur: handleOnBlur },\r\n        React$g__default.createElement(\"div\", { onFocus: handleOnFocus },\r\n            React$g__default.createElement(Search, __assign({ onKeyUp: handleOnKeyUp, onChange: handleOnChange, value: value, id: inputId + \"_input_field\", labelText: inputProps.labelText || mergedMessages.placeholderText, placeHolderText: mergedMessages.placeholderText, closeButtonLabelText: mergedMessages.closeButtonLabelText }, inputProps)),\r\n            shouldShowCompletions && (React$g__default.createElement(\"div\", { className: autocompletionClassName, \"data-testid\": \"completions-dropdown-test-id\" }, autocompletionsList)))));\r\n};\r\nvar SearchInput$1 = commonjs_2(SearchInput, FallbackComponent('SearchInput'), onErrorCallback);\n\nfunction _interopDefault$2 (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\n\n\n\nvar React$2 = _interopDefault$2(React$g__default);\n\nvar _ref2$1 =\n/*#__PURE__*/\n\n/*#__PURE__*/\nReact$2.createElement(\"path\", {\n  d: \"M24 9.4L22.6 8 16 14.6 9.4 8 8 9.4 14.6 16 8 22.6 9.4 24 16 17.4 22.6 24 24 22.6 17.4 16 24 9.4z\"\n});\n\nvar Close16 = /*#__PURE__*/React$2.forwardRef(function Close16(_ref, ref) {\n  var children = _ref.children,\n      rest = IconE8f71a9c._objectWithoutProperties(_ref, [\"children\"]);\n\n  return /*#__PURE__*/React$2.createElement(IconE8f71a9c.Icon, IconE8f71a9c._extends({\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 32 32\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"currentColor\",\n    ref: ref\n  }, rest), _ref2$1, children);\n});\n\nvar _16$1 = Close16;\n\nfunction isBucketAggregation(aggregation) {\r\n    var type = aggregation.type;\r\n    return type === 'filter' || type === 'nested';\r\n}\r\nfunction findTermAggregations(inputAggregations, outputAggregations) {\r\n    if (inputAggregations === void 0) { inputAggregations = []; }\r\n    if (outputAggregations === void 0) { outputAggregations = []; }\r\n    inputAggregations.forEach(function (aggregation) {\r\n        if (aggregation.type === 'term') {\r\n            outputAggregations.push(aggregation);\r\n        }\r\n        else if (isBucketAggregation(aggregation)) {\r\n            outputAggregations.push.apply(outputAggregations, findTermAggregations(aggregation.aggregations || []));\r\n        }\r\n    });\r\n    return outputAggregations;\r\n}\n\n/** Built-in value references. */\nvar spreadableSymbol = _Symbol ? _Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray_1(value) || isArguments_1(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nvar _isFlattenable = isFlattenable;\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = _isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        _arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nvar _baseFlatten = baseFlatten;\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG$4 = 1,\n    COMPARE_UNORDERED_FLAG$2 = 2;\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new _Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? _baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG$4 | COMPARE_UNORDERED_FLAG$2, customizer, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nvar _baseIsMatch = baseIsMatch;\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject_1(value);\n}\n\nvar _isStrictComparable = isStrictComparable;\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys_1(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, _isStrictComparable(value)];\n  }\n  return result;\n}\n\nvar _getMatchData = getMatchData;\n\n/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\nvar _matchesStrictComparable = matchesStrictComparable;\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = _getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return _matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || _baseIsMatch(object, source, matchData);\n  };\n}\n\nvar _baseMatches = baseMatches;\n\n/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nvar _baseHasIn = baseHasIn;\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = _castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = _toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength_1(length) && _isIndex(key, length) &&\n    (isArray_1(object) || isArguments_1(object));\n}\n\nvar _hasPath = hasPath;\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && _hasPath(object, path, _baseHasIn);\n}\n\nvar hasIn_1 = hasIn;\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG$5 = 1,\n    COMPARE_UNORDERED_FLAG$3 = 2;\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (_isKey(path) && _isStrictComparable(srcValue)) {\n    return _matchesStrictComparable(_toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get_1(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn_1(object, path)\n      : _baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG$5 | COMPARE_UNORDERED_FLAG$3);\n  };\n}\n\nvar _baseMatchesProperty = baseMatchesProperty;\n\n/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nvar identity_1 = identity;\n\n/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nvar _baseProperty = baseProperty;\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return _baseGet(object, path);\n  };\n}\n\nvar _basePropertyDeep = basePropertyDeep;\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return _isKey(path) ? _baseProperty(_toKey(path)) : _basePropertyDeep(path);\n}\n\nvar property_1 = property;\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity_1;\n  }\n  if (typeof value == 'object') {\n    return isArray_1(value)\n      ? _baseMatchesProperty(value[0], value[1])\n      : _baseMatches(value);\n  }\n  return property_1(value);\n}\n\nvar _baseIteratee = baseIteratee;\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nvar _apply = apply;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return _apply(func, this, otherArgs);\n  };\n}\n\nvar _overRest = overRest;\n\n/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nvar constant_1 = constant;\n\nvar defineProperty = (function() {\n  try {\n    var func = _getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nvar _defineProperty$2 = defineProperty;\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !_defineProperty$2 ? identity_1 : function(func, string) {\n  return _defineProperty$2(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant_1(string),\n    'writable': true\n  });\n};\n\nvar _baseSetToString = baseSetToString;\n\n/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nvar _shortOut = shortOut;\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = _shortOut(_baseSetToString);\n\nvar _setToString = setToString;\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return _setToString(_overRest(func, start, identity_1), func + '');\n}\n\nvar _baseRest = baseRest;\n\n/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nvar _baseFindIndex = baseFindIndex;\n\n/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\nvar _baseIsNaN = baseIsNaN;\n\n/**\n * A specialized version of `_.indexOf` which performs strict equality\n * comparisons of values, i.e. `===`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction strictIndexOf(array, value, fromIndex) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nvar _strictIndexOf = strictIndexOf;\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  return value === value\n    ? _strictIndexOf(array, value, fromIndex)\n    : _baseFindIndex(array, _baseIsNaN, fromIndex);\n}\n\nvar _baseIndexOf = baseIndexOf;\n\n/**\n * A specialized version of `_.includes` for arrays without support for\n * specifying an index to search from.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludes(array, value) {\n  var length = array == null ? 0 : array.length;\n  return !!length && _baseIndexOf(array, value, 0) > -1;\n}\n\nvar _arrayIncludes = arrayIncludes;\n\n/**\n * This function is like `arrayIncludes` except that it accepts a comparator.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludesWith(array, value, comparator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (comparator(value, array[index])) {\n      return true;\n    }\n  }\n  return false;\n}\n\nvar _arrayIncludesWith = arrayIncludesWith;\n\n/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {\n  // No operation performed.\n}\n\nvar noop_1 = noop;\n\n/** Used as references for various `Number` constants. */\nvar INFINITY$2 = 1 / 0;\n\n/**\n * Creates a set object of `values`.\n *\n * @private\n * @param {Array} values The values to add to the set.\n * @returns {Object} Returns the new set.\n */\nvar createSet = !(_Set && (1 / _setToArray(new _Set([,-0]))[1]) == INFINITY$2) ? noop_1 : function(values) {\n  return new _Set(values);\n};\n\nvar _createSet = createSet;\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE$1 = 200;\n\n/**\n * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n */\nfunction baseUniq(array, iteratee, comparator) {\n  var index = -1,\n      includes = _arrayIncludes,\n      length = array.length,\n      isCommon = true,\n      result = [],\n      seen = result;\n\n  if (comparator) {\n    isCommon = false;\n    includes = _arrayIncludesWith;\n  }\n  else if (length >= LARGE_ARRAY_SIZE$1) {\n    var set = iteratee ? null : _createSet(array);\n    if (set) {\n      return _setToArray(set);\n    }\n    isCommon = false;\n    includes = _cacheHas;\n    seen = new _SetCache;\n  }\n  else {\n    seen = iteratee ? [] : result;\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var seenIndex = seen.length;\n      while (seenIndex--) {\n        if (seen[seenIndex] === computed) {\n          continue outer;\n        }\n      }\n      if (iteratee) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n    else if (!includes(seen, computed, comparator)) {\n      if (seen !== result) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nvar _baseUniq = baseUniq;\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike_1(value) && isArrayLike_1(value);\n}\n\nvar isArrayLikeObject_1 = isArrayLikeObject;\n\n/**\n * Gets the last element of `array`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to query.\n * @returns {*} Returns the last element of `array`.\n * @example\n *\n * _.last([1, 2, 3]);\n * // => 3\n */\nfunction last(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? array[length - 1] : undefined;\n}\n\nvar last_1 = last;\n\n/**\n * This method is like `_.union` except that it accepts `iteratee` which is\n * invoked for each element of each `arrays` to generate the criterion by\n * which uniqueness is computed. Result values are chosen from the first\n * array in which the value occurs. The iteratee is invoked with one argument:\n * (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {...Array} [arrays] The arrays to inspect.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {Array} Returns the new array of combined values.\n * @example\n *\n * _.unionBy([2.1], [1.2, 2.3], Math.floor);\n * // => [2.1, 1.2]\n *\n * // The `_.property` iteratee shorthand.\n * _.unionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n * // => [{ 'x': 1 }, { 'x': 2 }]\n */\nvar unionBy = _baseRest(function(arrays) {\n  var iteratee = last_1(arrays);\n  if (isArrayLikeObject_1(iteratee)) {\n    iteratee = undefined;\n  }\n  return _baseUniq(_baseFlatten(arrays, 1, isArrayLikeObject_1, true), _baseIteratee(iteratee));\n});\n\nvar unionBy_1 = unionBy;\n\nvar mergeFilterFacets = function (aggregations, filterFields, componentSettingsAggregations) {\r\n    if (!aggregations) {\r\n        return [];\r\n    }\r\n    var termAggregations = findTermAggregations(aggregations);\r\n    // add component settings label if it exists\r\n    var labeledTermAggregations = termAggregations.map(function (termAggregation) {\r\n        var matchingComponentSettingAggregation = componentSettingsAggregations.find(function (setting) { return setting.name === get_1(termAggregation, 'name', ''); });\r\n        if (matchingComponentSettingAggregation) {\r\n            return __assign(__assign({}, termAggregation), matchingComponentSettingAggregation);\r\n        }\r\n        else {\r\n            return __assign(__assign({}, termAggregation), { multiple_selections_allowed: true });\r\n        }\r\n    });\r\n    var usedFields = [];\r\n    return labeledTermAggregations\r\n        .filter(function (aggregation) {\r\n        return aggregation.results;\r\n    })\r\n        .map(function (aggregation) {\r\n        var aggregationResults = get_1(aggregation, 'results', []);\r\n        var filterFacetsForName = filterFields.find(function (filterAggregation) {\r\n            if (!filterAggregation.name || !aggregation.name) {\r\n                // aggregation is from initial filter string, we can only match on field\r\n                if (filterAggregation.field === aggregation.field &&\r\n                    !usedFields.includes(filterAggregation.field)) {\r\n                    usedFields.push(filterAggregation.field);\r\n                    return true;\r\n                }\r\n                return false;\r\n            }\r\n            return filterAggregation.name === aggregation.name;\r\n        });\r\n        if (!!filterFacetsForName) {\r\n            var filterFacetResults_1 = get_1(filterFacetsForName, 'results', []);\r\n            var newAggResults = aggregationResults.map(function (result) {\r\n                var key = get_1(result, 'key', '');\r\n                var matchingFilterFacetResult = filterFacetResults_1.find(function (filterFacet) {\r\n                    return filterFacet.key === key;\r\n                });\r\n                if (matchingFilterFacetResult && matchingFilterFacetResult.selected) {\r\n                    return __assign(__assign({}, result), { selected: true });\r\n                }\r\n                return result;\r\n            });\r\n            var selectedNewAggAndFilterFacetResults = unionBy_1(newAggResults, filterFacetResults_1, 'key');\r\n            return __assign(__assign({}, aggregation), { results: selectedNewAggAndFilterFacetResults });\r\n        }\r\n        else {\r\n            return aggregation;\r\n        }\r\n    });\r\n};\n\nvar mergeDynamicFacets = function (dynamicFacets, filterDynamicFacets) {\r\n    if (!dynamicFacets) {\r\n        return [];\r\n    }\r\n    var selectedDynamicFacets = filterDynamicFacets.filter(function (facet) { return facet.selected; });\r\n    var filteredAndDynamicFacets = unionBy_1(selectedDynamicFacets, dynamicFacets, 'text');\r\n    return filteredAndDynamicFacets;\r\n};\n\n/**\n * A specialized version of `baseAggregator` for arrays.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction arrayAggregator(array, setter, iteratee, accumulator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    var value = array[index];\n    setter(accumulator, value, iteratee(value), array);\n  }\n  return accumulator;\n}\n\nvar _arrayAggregator = arrayAggregator;\n\n/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nvar _createBaseFor = createBaseFor;\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = _createBaseFor();\n\nvar _baseFor = baseFor;\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && _baseFor(object, iteratee, keys_1);\n}\n\nvar _baseForOwn = baseForOwn;\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike_1(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\nvar _createBaseEach = createBaseEach;\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = _createBaseEach(_baseForOwn);\n\nvar _baseEach = baseEach;\n\n/**\n * Aggregates elements of `collection` on `accumulator` with keys transformed\n * by `iteratee` and values set by `setter`.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction baseAggregator(collection, setter, iteratee, accumulator) {\n  _baseEach(collection, function(value, key, collection) {\n    setter(accumulator, value, iteratee(value), collection);\n  });\n  return accumulator;\n}\n\nvar _baseAggregator = baseAggregator;\n\n/**\n * Creates a function like `_.groupBy`.\n *\n * @private\n * @param {Function} setter The function to set accumulator values.\n * @param {Function} [initializer] The accumulator object initializer.\n * @returns {Function} Returns the new aggregator function.\n */\nfunction createAggregator(setter, initializer) {\n  return function(collection, iteratee) {\n    var func = isArray_1(collection) ? _arrayAggregator : _baseAggregator,\n        accumulator = initializer ? initializer() : {};\n\n    return func(collection, setter, _baseIteratee(iteratee), accumulator);\n  };\n}\n\nvar _createAggregator = createAggregator;\n\n/**\n * Creates an array of elements split into two groups, the first of which\n * contains elements `predicate` returns truthy for, the second of which\n * contains elements `predicate` returns falsey for. The predicate is\n * invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the array of grouped elements.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'age': 36, 'active': false },\n *   { 'user': 'fred',    'age': 40, 'active': true },\n *   { 'user': 'pebbles', 'age': 1,  'active': false }\n * ];\n *\n * _.partition(users, function(o) { return o.active; });\n * // => objects for [['fred'], ['barney', 'pebbles']]\n *\n * // The `_.matches` iteratee shorthand.\n * _.partition(users, { 'age': 1, 'active': false });\n * // => objects for [['pebbles'], ['barney', 'fred']]\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.partition(users, ['active', false]);\n * // => objects for [['barney', 'pebbles'], ['fred']]\n *\n * // The `_.property` iteratee shorthand.\n * _.partition(users, 'active');\n * // => objects for [['fred'], ['barney', 'pebbles']]\n */\nvar partition = _createAggregator(function(result, value, key) {\n  result[key ? 0 : 1].push(value);\n}, function() { return [[], []]; });\n\nvar partition_1 = partition;\n\nvar SearchFilterTransform = /** @class */ (function () {\r\n    function SearchFilterTransform() {\r\n    }\r\n    SearchFilterTransform.fromString = function (filterString) {\r\n        var _this = this;\r\n        if (filterString === '') {\r\n            return {\r\n                filterFields: [],\r\n                filterDynamic: []\r\n            };\r\n        }\r\n        var colonRegex = RegExp(SearchFilterTransform.SPLIT_UNQUOTED_COLONS);\r\n        var filterFacets = partition_1(filterString.split(SearchFilterTransform.SPLIT_UNQUOTED_COMMAS), function (filter) { return colonRegex.test(filter); });\r\n        var fields = filterFacets[0].map(function (facetField) {\r\n            var facetSplit = facetField.split(SearchFilterTransform.SPLIT_UNQUOTED_COLONS);\r\n            var field = facetSplit[0];\r\n            var results = facetSplit[1]\r\n                .split(SearchFilterTransform.SPLIT_UNQUOTED_PIPES)\r\n                .sort()\r\n                .map(function (result) {\r\n                var unquotedResult = _this.unquoteString(result);\r\n                return {\r\n                    key: unquotedResult,\r\n                    matching_results: 1,\r\n                    selected: true\r\n                };\r\n            });\r\n            return {\r\n                type: 'term',\r\n                field: field,\r\n                results: results\r\n            };\r\n        });\r\n        var suggestions = filterFacets[1].map(function (suggestion) {\r\n            var unquotedSuggestion = _this.unquoteString(suggestion);\r\n            return {\r\n                text: unquotedSuggestion,\r\n                selected: true\r\n            };\r\n        });\r\n        return {\r\n            filterFields: fields,\r\n            filterDynamic: suggestions\r\n        };\r\n    };\r\n    SearchFilterTransform.toString = function (facets) {\r\n        var fieldFilters = this.fieldsToString(facets.filterFields);\r\n        var dynamicFilters = this.quoteSelectedFacets(facets.filterDynamic, 'text').join(',');\r\n        return [fieldFilters, dynamicFilters].filter(Boolean).join(',');\r\n    };\r\n    SearchFilterTransform.unquoteString = function (quotedString) {\r\n        return quotedString.replace(/^\"(.+)\"$/, '$1').replace(/\\\\\"/, '\"');\r\n    };\r\n    SearchFilterTransform.fieldsToString = function (facets) {\r\n        var _this = this;\r\n        var filterStrings = [];\r\n        facets.forEach(function (facet) {\r\n            var field = get_1(facet, 'field', '');\r\n            var results = get_1(facet, 'results', []);\r\n            var keys = _this.quoteSelectedFacets(results, 'key');\r\n            if (keys.length) {\r\n                filterStrings.push(field + \":\" + keys.join('|'));\r\n            }\r\n        });\r\n        return filterStrings.join(',');\r\n    };\r\n    SearchFilterTransform.quoteSelectedFacets = function (facets, key) {\r\n        return facets\r\n            .filter(function (result) { return result.selected; })\r\n            .map(function (result) {\r\n            var text = get_1(result, key, '');\r\n            return \"\\\"\" + text.replace(/\"/, '\\\\\"') + \"\\\"\";\r\n        });\r\n    };\r\n    SearchFilterTransform.SPLIT_UNQUOTED_COMMAS = /,(?=(?:(?:[^\"\\\\\"]*[\"\\\\\"]){2})*[^\"\\\\\"]*$)/;\r\n    SearchFilterTransform.SPLIT_UNQUOTED_COLONS = /:(?=(?:(?:[^\"\\\\\"]*[\"\\\\\"]){2})*[^\"\\\\\"]*$)/;\r\n    SearchFilterTransform.SPLIT_UNQUOTED_PIPES = /\\|(?=(?:(?:[^\"\\\\\"]*[\"\\\\\"]){2})*[^\"\\\\\"]*$)/;\r\n    return SearchFilterTransform;\r\n}());\n\nvar errorMessage = 'Error fetching facets.';\r\nvar noAvailableFacetsMessage = 'There are no available facets.';\r\nvar displayMessage = function (message) {\r\n    return (createElement(\"div\", null,\r\n        createElement(\"p\", null, message)));\r\n};\n\nvar baseClass = settings.prefix + \"--search-facet\";\r\nvar fieldsetClasses = [settings.prefix + \"--fieldset\", baseClass];\r\nvar labelClasses = [settings.prefix + \"--label\", baseClass + \"__facet__label\"];\r\nvar optionClass = baseClass + \"__facet__option\";\r\nvar optionLabelClass = baseClass + \"__facet__option-label\";\r\nvar singleSelectGroupClass = baseClass + \"__facet__single__select__group\";\r\nvar labelAndSelectionContainerClass = baseClass + \"__facet__label-and-selection-container\";\r\nvar showMoreModalClass = baseClass + \"__facet__show-more-modal\";\r\nvar categoryClass = baseClass + \"__category\";\r\nvar categoryExpandCollapseClass = categoryClass + \"--expand-collapse\";\r\nvar categoryGroupNameClass = categoryClass + \"--category-name\";\r\nvar collectionFacetIdPrefix = 'collection-facet-';\n\nvar CollectionFacets = function (_a) {\r\n    var initialSelectedCollections = _a.initialSelectedCollections, messages = _a.messages, onChange = _a.onChange;\r\n    var collectionsResults = useContext(SearchContext).collectionsResults;\r\n    var collections = get_1(collectionsResults, 'collections', []);\r\n    var collectionItems = collections.map(function (collection) {\r\n        return {\r\n            id: \"\" + collectionFacetIdPrefix + collection.collection_id,\r\n            label: collection.name || ''\r\n        };\r\n    });\r\n    var handleCollectionToggle = function (toggledCollections) {\r\n        onChange(toggledCollections);\r\n    };\r\n    // TODO: figure out why MultiSelect doesn't set initialSelectedItems on subsequent renders\r\n    if (collectionItems.length > 0) {\r\n        return (React$g__default.createElement(\"fieldset\", { className: settings.prefix + \"--fieldset\" },\r\n            React$g__default.createElement(\"legend\", { className: labelClasses.join(' ') },\r\n                React$g__default.createElement(\"div\", { className: labelAndSelectionContainerClass }, messages.collectionSelectTitleText)),\r\n            React$g__default.createElement(MultiSelect, { id: collectionFacetIdPrefix + \"select\", items: collectionItems, initialSelectedItems: initialSelectedCollections, label: messages.collectionSelectLabel, onChange: handleCollectionToggle })));\r\n    }\r\n    return null;\r\n};\n\n/**\n * The base implementation of `_.filter` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction baseFilter(collection, predicate) {\n  var result = [];\n  _baseEach(collection, function(value, index, collection) {\n    if (predicate(value, index, collection)) {\n      result.push(value);\n    }\n  });\n  return result;\n}\n\nvar _baseFilter = baseFilter;\n\n/**\n * Iterates over elements of `collection`, returning an array of all elements\n * `predicate` returns truthy for. The predicate is invoked with three\n * arguments: (value, index|key, collection).\n *\n * **Note:** Unlike `_.remove`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n * @see _.reject\n * @example\n *\n * var users = [\n *   { 'user': 'barney', 'age': 36, 'active': true },\n *   { 'user': 'fred',   'age': 40, 'active': false }\n * ];\n *\n * _.filter(users, function(o) { return !o.active; });\n * // => objects for ['fred']\n *\n * // The `_.matches` iteratee shorthand.\n * _.filter(users, { 'age': 36, 'active': true });\n * // => objects for ['barney']\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.filter(users, ['active', false]);\n * // => objects for ['fred']\n *\n * // The `_.property` iteratee shorthand.\n * _.filter(users, 'active');\n * // => objects for ['barney']\n *\n * // Combining several predicates using `_.overEvery` or `_.overSome`.\n * _.filter(users, _.overSome([{ 'age': 36 }, ['age', 40]]));\n * // => objects for ['fred', 'barney']\n */\nfunction filter(collection, predicate) {\n  var func = isArray_1(collection) ? _arrayFilter : _baseFilter;\n  return func(collection, _baseIteratee(predicate));\n}\n\nvar filter_1 = filter;\n\n/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\nvar _arrayEach = arrayEach;\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && _defineProperty$2) {\n    _defineProperty$2(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nvar _baseAssignValue = baseAssignValue;\n\n/** Used for built-in method references. */\nvar objectProto$c = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$a = objectProto$c.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty$a.call(object, key) && eq_1(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    _baseAssignValue(object, key, value);\n  }\n}\n\nvar _assignValue = assignValue;\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      _baseAssignValue(object, key, newValue);\n    } else {\n      _assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\nvar _copyObject = copyObject;\n\n/**\n * The base implementation of `_.assign` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssign(object, source) {\n  return object && _copyObject(source, keys_1(source), object);\n}\n\nvar _baseAssign = baseAssign;\n\n/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nvar _nativeKeysIn = nativeKeysIn;\n\n/** Used for built-in method references. */\nvar objectProto$d = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$b = objectProto$d.hasOwnProperty;\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject_1(object)) {\n    return _nativeKeysIn(object);\n  }\n  var isProto = _isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty$b.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nvar _baseKeysIn = baseKeysIn;\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike_1(object) ? _arrayLikeKeys(object, true) : _baseKeysIn(object);\n}\n\nvar keysIn_1 = keysIn;\n\n/**\n * The base implementation of `_.assignIn` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssignIn(object, source) {\n  return object && _copyObject(source, keysIn_1(source), object);\n}\n\nvar _baseAssignIn = baseAssignIn;\n\nvar _cloneBuffer = createCommonjsModule(function (module, exports) {\n/** Detect free variable `exports`. */\nvar freeExports =  exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && 'object' == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? _root.Buffer : undefined,\n    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined;\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var length = buffer.length,\n      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n  buffer.copy(result);\n  return result;\n}\n\nmodule.exports = cloneBuffer;\n});\n\n/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nvar _copyArray = copyArray;\n\n/**\n * Copies own symbols of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbols(source, object) {\n  return _copyObject(source, _getSymbols(source), object);\n}\n\nvar _copySymbols = copySymbols;\n\n/** Built-in value references. */\nvar getPrototype = _overArg(Object.getPrototypeOf, Object);\n\nvar _getPrototype = getPrototype;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols$1 = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own and inherited enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbolsIn = !nativeGetSymbols$1 ? stubArray_1 : function(object) {\n  var result = [];\n  while (object) {\n    _arrayPush(result, _getSymbols(object));\n    object = _getPrototype(object);\n  }\n  return result;\n};\n\nvar _getSymbolsIn = getSymbolsIn;\n\n/**\n * Copies own and inherited symbols of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbolsIn(source, object) {\n  return _copyObject(source, _getSymbolsIn(source), object);\n}\n\nvar _copySymbolsIn = copySymbolsIn;\n\n/**\n * Creates an array of own and inherited enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeysIn(object) {\n  return _baseGetAllKeys(object, keysIn_1, _getSymbolsIn);\n}\n\nvar _getAllKeysIn = getAllKeysIn;\n\n/** Used for built-in method references. */\nvar objectProto$e = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$c = objectProto$e.hasOwnProperty;\n\n/**\n * Initializes an array clone.\n *\n * @private\n * @param {Array} array The array to clone.\n * @returns {Array} Returns the initialized clone.\n */\nfunction initCloneArray(array) {\n  var length = array.length,\n      result = new array.constructor(length);\n\n  // Add properties assigned by `RegExp#exec`.\n  if (length && typeof array[0] == 'string' && hasOwnProperty$c.call(array, 'index')) {\n    result.index = array.index;\n    result.input = array.input;\n  }\n  return result;\n}\n\nvar _initCloneArray = initCloneArray;\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new _Uint8Array(result).set(new _Uint8Array(arrayBuffer));\n  return result;\n}\n\nvar _cloneArrayBuffer = cloneArrayBuffer;\n\n/**\n * Creates a clone of `dataView`.\n *\n * @private\n * @param {Object} dataView The data view to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned data view.\n */\nfunction cloneDataView(dataView, isDeep) {\n  var buffer = isDeep ? _cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n  return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n}\n\nvar _cloneDataView = cloneDataView;\n\n/** Used to match `RegExp` flags from their coerced string values. */\nvar reFlags = /\\w*$/;\n\n/**\n * Creates a clone of `regexp`.\n *\n * @private\n * @param {Object} regexp The regexp to clone.\n * @returns {Object} Returns the cloned regexp.\n */\nfunction cloneRegExp(regexp) {\n  var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n  result.lastIndex = regexp.lastIndex;\n  return result;\n}\n\nvar _cloneRegExp = cloneRegExp;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto$2 = _Symbol ? _Symbol.prototype : undefined,\n    symbolValueOf$1 = symbolProto$2 ? symbolProto$2.valueOf : undefined;\n\n/**\n * Creates a clone of the `symbol` object.\n *\n * @private\n * @param {Object} symbol The symbol object to clone.\n * @returns {Object} Returns the cloned symbol object.\n */\nfunction cloneSymbol(symbol) {\n  return symbolValueOf$1 ? Object(symbolValueOf$1.call(symbol)) : {};\n}\n\nvar _cloneSymbol = cloneSymbol;\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? _cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\nvar _cloneTypedArray = cloneTypedArray;\n\n/** `Object#toString` result references. */\nvar boolTag$2 = '[object Boolean]',\n    dateTag$2 = '[object Date]',\n    mapTag$3 = '[object Map]',\n    numberTag$2 = '[object Number]',\n    regexpTag$2 = '[object RegExp]',\n    setTag$3 = '[object Set]',\n    stringTag$2 = '[object String]',\n    symbolTag$2 = '[object Symbol]';\n\nvar arrayBufferTag$2 = '[object ArrayBuffer]',\n    dataViewTag$3 = '[object DataView]',\n    float32Tag$1 = '[object Float32Array]',\n    float64Tag$1 = '[object Float64Array]',\n    int8Tag$1 = '[object Int8Array]',\n    int16Tag$1 = '[object Int16Array]',\n    int32Tag$1 = '[object Int32Array]',\n    uint8Tag$1 = '[object Uint8Array]',\n    uint8ClampedTag$1 = '[object Uint8ClampedArray]',\n    uint16Tag$1 = '[object Uint16Array]',\n    uint32Tag$1 = '[object Uint32Array]';\n\n/**\n * Initializes an object clone based on its `toStringTag`.\n *\n * **Note:** This function only supports cloning values with tags of\n * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.\n *\n * @private\n * @param {Object} object The object to clone.\n * @param {string} tag The `toStringTag` of the object to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneByTag(object, tag, isDeep) {\n  var Ctor = object.constructor;\n  switch (tag) {\n    case arrayBufferTag$2:\n      return _cloneArrayBuffer(object);\n\n    case boolTag$2:\n    case dateTag$2:\n      return new Ctor(+object);\n\n    case dataViewTag$3:\n      return _cloneDataView(object, isDeep);\n\n    case float32Tag$1: case float64Tag$1:\n    case int8Tag$1: case int16Tag$1: case int32Tag$1:\n    case uint8Tag$1: case uint8ClampedTag$1: case uint16Tag$1: case uint32Tag$1:\n      return _cloneTypedArray(object, isDeep);\n\n    case mapTag$3:\n      return new Ctor;\n\n    case numberTag$2:\n    case stringTag$2:\n      return new Ctor(object);\n\n    case regexpTag$2:\n      return _cloneRegExp(object);\n\n    case setTag$3:\n      return new Ctor;\n\n    case symbolTag$2:\n      return _cloneSymbol(object);\n  }\n}\n\nvar _initCloneByTag = initCloneByTag;\n\n/** Built-in value references. */\nvar objectCreate = Object.create;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject_1(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\nvar _baseCreate = baseCreate;\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !_isPrototype(object))\n    ? _baseCreate(_getPrototype(object))\n    : {};\n}\n\nvar _initCloneObject = initCloneObject;\n\n/** `Object#toString` result references. */\nvar mapTag$4 = '[object Map]';\n\n/**\n * The base implementation of `_.isMap` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n */\nfunction baseIsMap(value) {\n  return isObjectLike_1(value) && _getTag(value) == mapTag$4;\n}\n\nvar _baseIsMap = baseIsMap;\n\n/* Node.js helper references. */\nvar nodeIsMap = _nodeUtil && _nodeUtil.isMap;\n\n/**\n * Checks if `value` is classified as a `Map` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n * @example\n *\n * _.isMap(new Map);\n * // => true\n *\n * _.isMap(new WeakMap);\n * // => false\n */\nvar isMap = nodeIsMap ? _baseUnary(nodeIsMap) : _baseIsMap;\n\nvar isMap_1 = isMap;\n\n/** `Object#toString` result references. */\nvar setTag$4 = '[object Set]';\n\n/**\n * The base implementation of `_.isSet` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n */\nfunction baseIsSet(value) {\n  return isObjectLike_1(value) && _getTag(value) == setTag$4;\n}\n\nvar _baseIsSet = baseIsSet;\n\n/* Node.js helper references. */\nvar nodeIsSet = _nodeUtil && _nodeUtil.isSet;\n\n/**\n * Checks if `value` is classified as a `Set` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n * @example\n *\n * _.isSet(new Set);\n * // => true\n *\n * _.isSet(new WeakSet);\n * // => false\n */\nvar isSet = nodeIsSet ? _baseUnary(nodeIsSet) : _baseIsSet;\n\nvar isSet_1 = isSet;\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_FLAT_FLAG = 2,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/** `Object#toString` result references. */\nvar argsTag$3 = '[object Arguments]',\n    arrayTag$2 = '[object Array]',\n    boolTag$3 = '[object Boolean]',\n    dateTag$3 = '[object Date]',\n    errorTag$2 = '[object Error]',\n    funcTag$2 = '[object Function]',\n    genTag$1 = '[object GeneratorFunction]',\n    mapTag$5 = '[object Map]',\n    numberTag$3 = '[object Number]',\n    objectTag$3 = '[object Object]',\n    regexpTag$3 = '[object RegExp]',\n    setTag$5 = '[object Set]',\n    stringTag$3 = '[object String]',\n    symbolTag$3 = '[object Symbol]',\n    weakMapTag$2 = '[object WeakMap]';\n\nvar arrayBufferTag$3 = '[object ArrayBuffer]',\n    dataViewTag$4 = '[object DataView]',\n    float32Tag$2 = '[object Float32Array]',\n    float64Tag$2 = '[object Float64Array]',\n    int8Tag$2 = '[object Int8Array]',\n    int16Tag$2 = '[object Int16Array]',\n    int32Tag$2 = '[object Int32Array]',\n    uint8Tag$2 = '[object Uint8Array]',\n    uint8ClampedTag$2 = '[object Uint8ClampedArray]',\n    uint16Tag$2 = '[object Uint16Array]',\n    uint32Tag$2 = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values supported by `_.clone`. */\nvar cloneableTags = {};\ncloneableTags[argsTag$3] = cloneableTags[arrayTag$2] =\ncloneableTags[arrayBufferTag$3] = cloneableTags[dataViewTag$4] =\ncloneableTags[boolTag$3] = cloneableTags[dateTag$3] =\ncloneableTags[float32Tag$2] = cloneableTags[float64Tag$2] =\ncloneableTags[int8Tag$2] = cloneableTags[int16Tag$2] =\ncloneableTags[int32Tag$2] = cloneableTags[mapTag$5] =\ncloneableTags[numberTag$3] = cloneableTags[objectTag$3] =\ncloneableTags[regexpTag$3] = cloneableTags[setTag$5] =\ncloneableTags[stringTag$3] = cloneableTags[symbolTag$3] =\ncloneableTags[uint8Tag$2] = cloneableTags[uint8ClampedTag$2] =\ncloneableTags[uint16Tag$2] = cloneableTags[uint32Tag$2] = true;\ncloneableTags[errorTag$2] = cloneableTags[funcTag$2] =\ncloneableTags[weakMapTag$2] = false;\n\n/**\n * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n * traversed objects.\n *\n * @private\n * @param {*} value The value to clone.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Deep clone\n *  2 - Flatten inherited properties\n *  4 - Clone symbols\n * @param {Function} [customizer] The function to customize cloning.\n * @param {string} [key] The key of `value`.\n * @param {Object} [object] The parent object of `value`.\n * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n * @returns {*} Returns the cloned value.\n */\nfunction baseClone(value, bitmask, customizer, key, object, stack) {\n  var result,\n      isDeep = bitmask & CLONE_DEEP_FLAG,\n      isFlat = bitmask & CLONE_FLAT_FLAG,\n      isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n  if (customizer) {\n    result = object ? customizer(value, key, object, stack) : customizer(value);\n  }\n  if (result !== undefined) {\n    return result;\n  }\n  if (!isObject_1(value)) {\n    return value;\n  }\n  var isArr = isArray_1(value);\n  if (isArr) {\n    result = _initCloneArray(value);\n    if (!isDeep) {\n      return _copyArray(value, result);\n    }\n  } else {\n    var tag = _getTag(value),\n        isFunc = tag == funcTag$2 || tag == genTag$1;\n\n    if (isBuffer_1(value)) {\n      return _cloneBuffer(value, isDeep);\n    }\n    if (tag == objectTag$3 || tag == argsTag$3 || (isFunc && !object)) {\n      result = (isFlat || isFunc) ? {} : _initCloneObject(value);\n      if (!isDeep) {\n        return isFlat\n          ? _copySymbolsIn(value, _baseAssignIn(result, value))\n          : _copySymbols(value, _baseAssign(result, value));\n      }\n    } else {\n      if (!cloneableTags[tag]) {\n        return object ? value : {};\n      }\n      result = _initCloneByTag(value, tag, isDeep);\n    }\n  }\n  // Check for circular references and return its corresponding clone.\n  stack || (stack = new _Stack);\n  var stacked = stack.get(value);\n  if (stacked) {\n    return stacked;\n  }\n  stack.set(value, result);\n\n  if (isSet_1(value)) {\n    value.forEach(function(subValue) {\n      result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n    });\n  } else if (isMap_1(value)) {\n    value.forEach(function(subValue, key) {\n      result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\n    });\n  }\n\n  var keysFunc = isFull\n    ? (isFlat ? _getAllKeysIn : _getAllKeys)\n    : (isFlat ? keysIn_1 : keys_1);\n\n  var props = isArr ? undefined : keysFunc(value);\n  _arrayEach(props || value, function(subValue, key) {\n    if (props) {\n      key = subValue;\n      subValue = value[key];\n    }\n    // Recursively populate clone (susceptible to call stack limits).\n    _assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n  });\n  return result;\n}\n\nvar _baseClone = baseClone;\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG$1 = 1,\n    CLONE_SYMBOLS_FLAG$1 = 4;\n\n/**\n * This method is like `_.clone` except that it recursively clones `value`.\n *\n * @static\n * @memberOf _\n * @since 1.0.0\n * @category Lang\n * @param {*} value The value to recursively clone.\n * @returns {*} Returns the deep cloned value.\n * @see _.clone\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var deep = _.cloneDeep(objects);\n * console.log(deep[0] === objects[0]);\n * // => false\n */\nfunction cloneDeep(value) {\n  return _baseClone(value, CLONE_DEEP_FLAG$1 | CLONE_SYMBOLS_FLAG$1);\n}\n\nvar cloneDeep_1 = cloneDeep;\n\nfunction _interopDefault$3 (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\n\n\n\nvar React$3 = _interopDefault$3(React$g__default);\n\nvar _ref2$2 =\n/*#__PURE__*/\n\n/*#__PURE__*/\nReact$3.createElement(\"path\", {\n  d: \"M8 11L3 6 3.7 5.3 8 9.6 12.3 5.3 13 6z\"\n});\n\nvar ChevronDown16 = /*#__PURE__*/React$3.forwardRef(function ChevronDown16(_ref, ref) {\n  var children = _ref.children,\n      rest = IconE8f71a9c._objectWithoutProperties(_ref, [\"children\"]);\n\n  return /*#__PURE__*/React$3.createElement(IconE8f71a9c.Icon, IconE8f71a9c._extends({\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"currentColor\",\n    ref: ref\n  }, rest), _ref2$2, children);\n});\n\nvar _16$2 = ChevronDown16;\n\nfunction _interopDefault$4 (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\n\n\n\nvar React$4 = _interopDefault$4(React$g__default);\n\nvar _ref2$3 =\n/*#__PURE__*/\n\n/*#__PURE__*/\nReact$4.createElement(\"path\", {\n  d: \"M8 5L13 10 12.3 10.7 8 6.4 3.7 10.7 3 10z\"\n});\n\nvar ChevronUp16 = /*#__PURE__*/React$4.forwardRef(function ChevronUp16(_ref, ref) {\n  var children = _ref.children,\n      rest = IconE8f71a9c._objectWithoutProperties(_ref, [\"children\"]);\n\n  return /*#__PURE__*/React$4.createElement(IconE8f71a9c.Icon, IconE8f71a9c._extends({\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"currentColor\",\n    ref: ref\n  }, rest), _ref2$3, children);\n});\n\nvar _16$3 = ChevronUp16;\n\nvar SPLIT_VARIABLES_REGEX = /({[^}]+})/;\r\nvar formatMessage = function (message, values, outputJsx) {\r\n    if (outputJsx === void 0) { outputJsx = true; }\r\n    return message.split(SPLIT_VARIABLES_REGEX).map(function (part, i) {\r\n        var variableWithoutBraces = part.replace(/{/g, '').replace(/}/g, '');\r\n        if (part === '') {\r\n            return part;\r\n        }\r\n        return part.includes('{') ? (outputJsx ? (React$g__default.createElement(\"div\", { key: i }, values[variableWithoutBraces])) : (values[variableWithoutBraces])) : outputJsx ? (React$g__default.createElement(\"span\", { key: i }, part)) : (part);\r\n    });\r\n};\n\nvar getFacetLabel = function (facetText, count, messages, showMatchingResults) {\r\n    return count !== undefined && showMatchingResults\r\n        ? formatMessage(messages.labelTextWithCount, { facetText: facetText, count: count }, false)\r\n        : formatMessage(messages.labelText, { facetText: facetText }, false);\r\n};\n\nvar MultiSelectFacetsGroup = function (_a) {\r\n    var messages = _a.messages, facets = _a.facets, facetsTextField = _a.facetsTextField, aggregationSettings = _a.aggregationSettings, onMultiSelectFacetsGroupChange = _a.onMultiSelectFacetsGroupChange, onChange = _a.onChange, tempSelectedFacets = _a.tempSelectedFacets, setTempSelectedFacets = _a.setTempSelectedFacets, showMatchingResults = _a.showMatchingResults;\r\n    var naturalLanguageQuery = useContext(SearchContext).searchResponseStore.parameters.naturalLanguageQuery;\r\n    var escapedName = (aggregationSettings.name || aggregationSettings.field).replace(/\\s+/g, '_');\r\n    var handleOnChange = function (checked, _id, event) {\r\n        // Check if exposed onChange function is called\r\n        if (onChange) {\r\n            onChange(event);\r\n        }\r\n        var target = event.currentTarget;\r\n        var selectedFacetName = target.getAttribute('data-name') || '';\r\n        var selectedFacetKey = target.getAttribute('data-key') || '';\r\n        // If this is in the Show more modal, we want to update tempSelectedFacets only\r\n        if (tempSelectedFacets && setTempSelectedFacets) {\r\n            var selectedFacetIndex = tempSelectedFacets.findIndex(function (selectedFacet) { return selectedFacetKey === selectedFacet.selectedFacetKey; });\r\n            if (selectedFacetIndex > -1) {\r\n                var tempSelectedFacetsCopy = __spreadArrays(tempSelectedFacets);\r\n                tempSelectedFacetsCopy[selectedFacetIndex].checked = checked;\r\n                setTempSelectedFacets(tempSelectedFacetsCopy);\r\n            }\r\n            else {\r\n                setTempSelectedFacets(tempSelectedFacets.concat({ selectedFacetName: selectedFacetName, selectedFacetKey: selectedFacetKey, checked: checked }));\r\n            }\r\n        }\r\n        else {\r\n            // If this isn't in the Show more modal, we want to save the selection\r\n            onMultiSelectFacetsGroupChange([{ selectedFacetName: selectedFacetName, selectedFacetKey: selectedFacetKey, checked: checked }]);\r\n        }\r\n    };\r\n    return (React$g__default.createElement(React$g__default.Fragment, null, facets.map(function (facet) {\r\n        var facetText = get_1(facet, facetsTextField, '');\r\n        var count = facet.matching_results;\r\n        var labelText = getFacetLabel(facetText, count, messages, showMatchingResults);\r\n        var query = naturalLanguageQuery || '';\r\n        var buff = new Buffer(query + facetText);\r\n        var base64data = buff.toString('base64');\r\n        // If this is in the Show more modal, we need to check the facet value's temporary selection value\r\n        var facetSelected = !!facet.selected;\r\n        if (tempSelectedFacets) {\r\n            tempSelectedFacets.find(function (_a) {\r\n                var selectedFacetKey = _a.selectedFacetKey, checked = _a.checked;\r\n                if (selectedFacetKey === facetText) {\r\n                    facetSelected = !!checked;\r\n                }\r\n            });\r\n        }\r\n        var keyAndIdPrefix = tempSelectedFacets ? 'modal-checkbox' : 'checkbox';\r\n        return (React$g__default.createElement(Checkbox, { className: optionLabelClass, wrapperClassName: optionClass, onChange: handleOnChange, labelText: labelText, key: keyAndIdPrefix + \"-\" + escapedName + \"-\" + base64data, id: keyAndIdPrefix + \"-\" + escapedName + \"-\" + facetText.replace(/\\s+/g, '_'), \"data-name\": aggregationSettings.name || aggregationSettings.field, \"data-key\": facetText, checked: facetSelected }));\r\n    })));\r\n};\n\nvar SingleSelectFacetsGroup = function (_a) {\r\n    var messages = _a.messages, facets = _a.facets, facetsTextField = _a.facetsTextField, selectedFacet = _a.selectedFacet, aggregationSettings = _a.aggregationSettings, onSingleSelectFacetsGroupChange = _a.onSingleSelectFacetsGroupChange, onChange = _a.onChange, tempSelectedFacets = _a.tempSelectedFacets, setTempSelectedFacets = _a.setTempSelectedFacets, showMatchingResults = _a.showMatchingResults;\r\n    var naturalLanguageQuery = useContext(SearchContext).searchResponseStore.parameters.naturalLanguageQuery;\r\n    var escapedName = (aggregationSettings.name || aggregationSettings.field).replace(/\\s+/g, '_');\r\n    var handleOnClick = function (event) {\r\n        // Check if exposed onChange function is called\r\n        if (onChange) {\r\n            onChange(event);\r\n        }\r\n        var target = event.currentTarget;\r\n        var selectedFacetName = target.getAttribute('data-name') || '';\r\n        var selectedFacetKey = target.getAttribute('data-key') || '';\r\n        var checked = true;\r\n        // If this is in the Show more modal, we want to update tempSelectedFacets only\r\n        if (tempSelectedFacets && setTempSelectedFacets) {\r\n            setTempSelectedFacets([{ selectedFacetName: selectedFacetName, selectedFacetKey: selectedFacetKey, checked: checked }]);\r\n        }\r\n        else {\r\n            // If this isn't in the Show more modal, we want to save the selection\r\n            onSingleSelectFacetsGroupChange([{ selectedFacetName: selectedFacetName, selectedFacetKey: selectedFacetKey, checked: checked }]);\r\n        }\r\n    };\r\n    // If this is in the Show more modal, we need to check for a temporary selection\r\n    // and add a suffix to the selected facet value to make it unique\r\n    var radioGroupNamePrefix = 'checkbox';\r\n    var facetValueSelected = selectedFacet;\r\n    if (tempSelectedFacets) {\r\n        if (tempSelectedFacets.length > 0) {\r\n            facetValueSelected = tempSelectedFacets[0].selectedFacetKey + '-modal';\r\n        }\r\n        else if (selectedFacet) {\r\n            facetValueSelected = selectedFacet + '-modal';\r\n        }\r\n        // If this is in the Show more modal, the radio button group name needs to be unique\r\n        radioGroupNamePrefix = 'modal-checkbox';\r\n    }\r\n    var radioGroupName = aggregationSettings.name || aggregationSettings.field;\r\n    var renderRadioButton = function (facet) {\r\n        var facetText = get_1(facet, facetsTextField, '');\r\n        var count = facet.matching_results;\r\n        var labelText = getFacetLabel(facetText, count, messages, showMatchingResults);\r\n        var query = naturalLanguageQuery || '';\r\n        var buff = new Buffer(query + facetText);\r\n        var base64data = buff.toString('base64');\r\n        var facetValue = facetText;\r\n        var keyAndIdPrefix = 'checkbox';\r\n        if (tempSelectedFacets) {\r\n            keyAndIdPrefix = 'modal-checkbox';\r\n            facetValue = get_1(facet, facetsTextField, '') + '-modal';\r\n        }\r\n        return (React$g__default.createElement(RadioButton, { className: optionLabelClass, labelText: labelText, key: keyAndIdPrefix + \"-\" + escapedName + \"-\" + base64data, id: keyAndIdPrefix + \"-\" + escapedName + \"-\" + facetText.replace(/\\s+/g, '_'), value: facetValue, \"data-key\": facetText, \"data-name\": radioGroupName, onClick: handleOnClick }));\r\n    };\r\n    return (React$g__default.createElement(RadioButtonGroup, { name: radioGroupNamePrefix + radioGroupName, valueSelected: facetValueSelected, orientation: 'vertical', className: singleSelectGroupClass }, facets.map(renderRadioButton)));\r\n};\n\nvar ModalSearchInput = function (_a) {\r\n    var facets = _a.facets, setFilteredFacets = _a.setFilteredFacets, isModalOpen = _a.isModalOpen, facetsLabel = _a.facetsLabel, facetsTextField = _a.facetsTextField, messages = _a.messages;\r\n    var _b = useState(''), value = _b[0], setValue = _b[1];\r\n    useEffect(function () {\r\n        if (!isModalOpen) {\r\n            setValue('');\r\n            setFilteredFacets(__spreadArrays(facets));\r\n        }\r\n    }, [facets, isModalOpen, setFilteredFacets]);\r\n    var handleOnChange = function (event) {\r\n        var target = event.currentTarget;\r\n        setValue(!!target ? target.value : '');\r\n        var tempValue = !!target ? target.value : '';\r\n        var tempFacets = __spreadArrays(facets);\r\n        setFilteredFacets(tempFacets.filter(function (facet) {\r\n            if (facet[facetsTextField]) {\r\n                return facet[facetsTextField].toLowerCase().includes(tempValue.toLowerCase());\r\n            }\r\n            return null;\r\n        }));\r\n    };\r\n    return (React$g__default.createElement(Search, { value: value, labelText: messages.modalSearchBarPrompt, placeHolderText: messages.modalSearchBarPrompt, onChange: handleOnChange, \"data-testid\": \"search-facet-modal-search-bar-\" + facetsLabel }));\r\n};\n\nvar ShowMoreModal = function (_a) {\r\n    var messages = _a.messages, aggregationSettings = _a.aggregationSettings, facets = _a.facets, facetsLabel = _a.facetsLabel, facetsTextField = _a.facetsTextField, onChange = _a.onChange, onShowMoreModalChange = _a.onShowMoreModalChange, isOpen = _a.isOpen, setIsModalOpen = _a.setIsModalOpen, shouldDisplayAsMultiSelect = _a.shouldDisplayAsMultiSelect, selectedFacet = _a.selectedFacet, showMatchingResults = _a.showMatchingResults, hasSearchBar = _a.hasSearchBar, categoryName = _a.categoryName;\r\n    var _b = useState([]), tempSelectedFacets = _b[0], setTempSelectedFacets = _b[1];\r\n    var _c = useState(), filteredFacets = _c[0], setFilteredFacets = _c[1];\r\n    var handleOnRequestSubmit = function () {\r\n        onShowMoreModalChange(tempSelectedFacets);\r\n        setTempSelectedFacets([]);\r\n        setIsModalOpen(false);\r\n    };\r\n    var handleOnRequestClose = function () {\r\n        setTempSelectedFacets([]);\r\n        setIsModalOpen(false);\r\n    };\r\n    var modalHeading = (React$g__default.createElement(React$g__default.Fragment, null,\r\n        categoryName ? facetsLabel + \": \" + categoryName : facetsLabel,\r\n        hasSearchBar ? (React$g__default.createElement(ModalSearchInput, { facets: facets, messages: messages, setFilteredFacets: setFilteredFacets, isModalOpen: isOpen, facetsLabel: facetsLabel, facetsTextField: facetsTextField })) : (React$g__default.createElement(React$g__default.Fragment, null))));\r\n    return (React$g__default.createElement(Modal, { className: showMoreModalClass, modalHeading: modalHeading, onRequestSubmit: handleOnRequestSubmit, onRequestClose: handleOnRequestClose, modalAriaLabel: messages.showMoreModalAriaLabel, \"aria-label\": messages.showMoreModalAriaLabel, open: isOpen, primaryButtonText: messages.showMoreModalPrimaryButtonText, secondaryButtonText: messages.showMoreModalSecondaryButtonText, \"data-testid\": \"search-facet-show-more-modal-\" + facetsLabel },\r\n        filteredFacets && filteredFacets.length === 0 && React$g__default.createElement(\"p\", null, messages.emptyModalSearch),\r\n        shouldDisplayAsMultiSelect ? (React$g__default.createElement(MultiSelectFacetsGroup, { messages: messages, facets: filteredFacets || facets, aggregationSettings: aggregationSettings, onMultiSelectFacetsGroupChange: onShowMoreModalChange, onChange: onChange, facetsTextField: facetsTextField, tempSelectedFacets: tempSelectedFacets, setTempSelectedFacets: setTempSelectedFacets, showMatchingResults: showMatchingResults })) : (React$g__default.createElement(SingleSelectFacetsGroup, { messages: messages, facets: filteredFacets || facets, aggregationSettings: aggregationSettings, onSingleSelectFacetsGroupChange: onShowMoreModalChange, onChange: onChange, selectedFacet: selectedFacet, facetsTextField: facetsTextField, tempSelectedFacets: tempSelectedFacets, setTempSelectedFacets: setTempSelectedFacets, showMatchingResults: showMatchingResults }))));\r\n};\n\nvar ShowMoreButton = function (_a) {\r\n    var onClick = _a.onClick, idSuffix = _a.idSuffix, isCollapsed = _a.isCollapsed, isShowAllMessage = _a.isShowAllMessage, messages = _a.messages;\r\n    var message = messages.collapsedFacetShowLessText;\r\n    if (isShowAllMessage) {\r\n        message = messages.collapsedFacetShowAllText;\r\n    }\r\n    else if (isCollapsed) {\r\n        message = messages.collapsedFacetShowMoreText;\r\n    }\r\n    return (React$g__default.createElement(Button, { kind: \"ghost\", size: \"small\", onClick: onClick, \"data-testid\": \"show-more-less-\" + idSuffix }, message));\r\n};\n\nvar MAX_FACETS_UNTIL_MODAL = 10;\r\nvar MAX_FACETS_UNTIL_SEARCHBAR = 15;\n\nvar CategoryFacets = function (_a) {\r\n    var categoryName = _a.categoryName, facetsLabel = _a.facetsLabel, facets = _a.facets, facetsTextField = _a.facetsTextField, onChange = _a.onChange, onCategoryFacetsChange = _a.onCategoryFacetsChange, messages = _a.messages, categoryIsExpanded = _a.categoryIsExpanded, collapsedFacetsCount = _a.collapsedFacetsCount, onClick = _a.onClick, aggregationSettings = _a.aggregationSettings, shouldDisplayAsMultiSelect = _a.shouldDisplayAsMultiSelect, selectedFacet = _a.selectedFacet, showMatchingResults = _a.showMatchingResults;\r\n    var _b = useState(true), isCollapsed = _b[0], setIsCollapsed = _b[1];\r\n    var _c = useState(collapsedFacetsCount < facets.length), isCollapsible = _c[0], setIsCollapsible = _c[1];\r\n    var _d = useState(false), isModalOpen = _d[0], setIsModalOpen = _d[1];\r\n    useEffect(function () {\r\n        setIsCollapsed(collapsedFacetsCount < facets.length);\r\n        setIsCollapsible(collapsedFacetsCount < facets.length);\r\n    }, [collapsedFacetsCount, facets.length]);\r\n    var toggleFacetsCollapse = function () {\r\n        setIsCollapsed(!isCollapsed);\r\n    };\r\n    var setModalOpen = function () {\r\n        setIsModalOpen(true);\r\n    };\r\n    var categoryFacetsToShow = isCollapsed ? facets.slice(0, collapsedFacetsCount) : facets;\r\n    var iconToRender = categoryIsExpanded ? _16$3 : _16$2;\r\n    var totalNumberFacets = facets.length;\r\n    var showMoreButtonOnClick = totalNumberFacets <= MAX_FACETS_UNTIL_MODAL ? toggleFacetsCollapse : setModalOpen;\r\n    return (React$g__default.createElement(\"div\", { className: categoryClass, \"data-testid\": 'search-facet-category' },\r\n        React$g__default.createElement(Button, { className: categoryExpandCollapseClass, onClick: function () { return onClick(categoryName, facetsLabel); }, iconDescription: messages.categoryExpandCollapseIconDescription, renderIcon: iconToRender },\r\n            React$g__default.createElement(\"div\", { className: categoryGroupNameClass }, categoryName)),\r\n        categoryIsExpanded && (React$g__default.createElement(React$g__default.Fragment, null,\r\n            shouldDisplayAsMultiSelect ? (React$g__default.createElement(MultiSelectFacetsGroup, { messages: messages, facets: categoryFacetsToShow, aggregationSettings: aggregationSettings, onMultiSelectFacetsGroupChange: onCategoryFacetsChange, onChange: onChange, facetsTextField: facetsTextField, showMatchingResults: showMatchingResults })) : (React$g__default.createElement(SingleSelectFacetsGroup, { messages: messages, facets: categoryFacetsToShow, aggregationSettings: aggregationSettings, onSingleSelectFacetsGroupChange: onCategoryFacetsChange, onChange: onChange, selectedFacet: selectedFacet, facetsTextField: facetsTextField, showMatchingResults: showMatchingResults })),\r\n            isCollapsible && (React$g__default.createElement(React$g__default.Fragment, null,\r\n                React$g__default.createElement(ShowMoreButton, { onClick: showMoreButtonOnClick, idSuffix: categoryName, isCollapsed: isCollapsed, isShowAllMessage: totalNumberFacets > MAX_FACETS_UNTIL_MODAL, messages: messages }),\r\n                totalNumberFacets > MAX_FACETS_UNTIL_MODAL && (React$g__default.createElement(ShowMoreModal, { messages: messages, aggregationSettings: aggregationSettings, facets: facets, facetsLabel: facetsLabel, facetsTextField: facetsTextField, onShowMoreModalChange: onCategoryFacetsChange, onChange: onChange, isOpen: isModalOpen, setIsModalOpen: setIsModalOpen, shouldDisplayAsMultiSelect: shouldDisplayAsMultiSelect, selectedFacet: selectedFacet, showMatchingResults: showMatchingResults, hasSearchBar: totalNumberFacets > MAX_FACETS_UNTIL_SEARCHBAR, categoryName: categoryName }))))))));\r\n};\n\nvar CategoryFacetsGroup = function (_a) {\r\n    var facetsByCategory = _a.facetsByCategory, facetsLabel = _a.facetsLabel, aggregationSettings = _a.aggregationSettings, onCategoryFacetsGroupChange = _a.onCategoryFacetsGroupChange, messages = _a.messages, collapsedFacetsCount = _a.collapsedFacetsCount, facetsTextField = _a.facetsTextField, shouldDisplayAsMultiSelect = _a.shouldDisplayAsMultiSelect, selectedFacet = _a.selectedFacet, showMatchingResults = _a.showMatchingResults, onChange = _a.onChange;\r\n    var _b = useState([]), expandedCategories = _b[0], setExpandedCategories = _b[1];\r\n    var naturalLanguageQuery = useContext(SearchContext).searchResponseStore.parameters.naturalLanguageQuery;\r\n    useEffect(function () {\r\n        setExpandedCategories([]);\r\n    }, [naturalLanguageQuery]);\r\n    var handleExpandCollapseOnClick = function (category, facetsLabel) {\r\n        var indexOfCategory = expandedCategories.indexOf(facetsLabel + \"-\" + category);\r\n        if (indexOfCategory > -1) {\r\n            var expandedCategoriesCopy = __spreadArrays(expandedCategories);\r\n            expandedCategoriesCopy.splice(indexOfCategory, 1);\r\n            setExpandedCategories(expandedCategoriesCopy);\r\n        }\r\n        else {\r\n            setExpandedCategories(expandedCategories.concat(facetsLabel + \"-\" + category));\r\n        }\r\n    };\r\n    return (React$g__default.createElement(React$g__default.Fragment, null, Object.entries(facetsByCategory[\"\" + facetsLabel].categories).map(function (entity) {\r\n        var categoryName = entity[0];\r\n        var categoryIsExpanded = expandedCategories.includes(facetsLabel + \"-\" + categoryName);\r\n        return (React$g__default.createElement(CategoryFacets, { categoryName: categoryName, facetsLabel: facetsLabel, facets: entity[1].facets, onCategoryFacetsChange: onCategoryFacetsGroupChange, onChange: onChange, messages: messages, aggregationSettings: aggregationSettings, categoryIsExpanded: categoryIsExpanded, collapsedFacetsCount: collapsedFacetsCount, onClick: handleExpandCollapseOnClick, facetsTextField: facetsTextField, shouldDisplayAsMultiSelect: shouldDisplayAsMultiSelect, selectedFacet: selectedFacet, showMatchingResults: showMatchingResults, key: facetsLabel + categoryName }));\r\n    })));\r\n};\n\nvar CollapsibleFacetsGroup = function (_a) {\r\n    var facets = _a.facets, showMatchingResults = _a.showMatchingResults, aggregationSettings = _a.aggregationSettings, collapsedFacetsCount = _a.collapsedFacetsCount, facetsTextField = _a.facetsTextField, messages = _a.messages, onClear = _a.onClear, onCollapsibleFacetsGroupChange = _a.onCollapsibleFacetsGroupChange, onChange = _a.onChange, hasCategories = _a.hasCategories;\r\n    var _b = useState(collapsedFacetsCount < facets.length), isCollapsed = _b[0], setIsCollapsed = _b[1];\r\n    var _c = useState(collapsedFacetsCount < facets.length), isCollapsible = _c[0], setIsCollapsible = _c[1];\r\n    var _d = useState(false), isModalOpen = _d[0], setIsModalOpen = _d[1];\r\n    var facetsLabel = aggregationSettings.label || aggregationSettings.field;\r\n    useEffect(function () {\r\n        setIsCollapsed(collapsedFacetsCount < facets.length);\r\n        setIsCollapsible(collapsedFacetsCount < facets.length);\r\n    }, [collapsedFacetsCount, facets.length]);\r\n    var toggleFacetsCollapse = function () {\r\n        setIsCollapsed(!isCollapsed);\r\n    };\r\n    var setModalOpen = function () {\r\n        setIsModalOpen(true);\r\n    };\r\n    var facetsByCategory = {};\r\n    if (hasCategories) {\r\n        facetsByCategory[\"\" + facetsLabel] = { categories: {} };\r\n        if (isSelectableQueryTermAggregationResult(facets)) {\r\n            facets.map(function (result) {\r\n                var resultType = result.aggregations[0].results[0].key;\r\n                if (resultType in facetsByCategory[\"\" + facetsLabel].categories) {\r\n                    facetsByCategory[\"\" + facetsLabel].categories[\"\" + resultType].facets.push({\r\n                        key: result.key,\r\n                        matching_results: result.matching_results,\r\n                        selected: result.selected ? result.selected : false\r\n                    });\r\n                }\r\n                else {\r\n                    facetsByCategory[\"\" + facetsLabel].categories[\"\" + resultType] = {\r\n                        facets: [\r\n                            {\r\n                                key: result.key,\r\n                                matching_results: result.matching_results,\r\n                                selected: result.selected ? result.selected : false\r\n                            }\r\n                        ]\r\n                    };\r\n                }\r\n            });\r\n        }\r\n    }\r\n    var areMultiSelectionsAllowed = aggregationSettings.multiple_selections_allowed;\r\n    var collapsedFacets = isCollapsed ? facets.slice(0, collapsedFacetsCount) : facets;\r\n    var totalNumberFacets = facets.length;\r\n    var selectedFacets = filter_1(facets, ['selected', true]);\r\n    var selectedFacetText = get_1(selectedFacets[0], facetsTextField, '');\r\n    var shouldDisplayAsMultiSelect = areMultiSelectionsAllowed || selectedFacets.length > 1;\r\n    var shouldDisplayClearButton = selectedFacets.length > 0;\r\n    var showMoreButtonOnClick = totalNumberFacets <= MAX_FACETS_UNTIL_MODAL ? toggleFacetsCollapse : setModalOpen;\r\n    var handleClearFacets = function (event) {\r\n        if (onChange) {\r\n            onChange(event);\r\n        }\r\n        onClear(aggregationSettings.name || aggregationSettings.field);\r\n    };\r\n    var translateWithId = function (id) {\r\n        var mapping = {\r\n            'clear.all': messages.clearFacetTitle,\r\n            'clear.selection': messages.clearFacetSelectionTitle\r\n        };\r\n        return mapping[id];\r\n    };\r\n    return (React$g__default.createElement(\"fieldset\", { className: fieldsetClasses.join(' ') },\r\n        React$g__default.createElement(\"legend\", { className: labelClasses.join(' ') },\r\n            React$g__default.createElement(\"div\", { className: labelAndSelectionContainerClass },\r\n                facetsLabel,\r\n                shouldDisplayClearButton && (React$g__default.createElement(ListBox.Selection, { clearSelection: handleClearFacets, selectionCount: selectedFacets.length, translateWithId: translateWithId })))),\r\n        hasCategories ? (React$g__default.createElement(CategoryFacetsGroup, { facetsByCategory: facetsByCategory, facetsLabel: facetsLabel, onCategoryFacetsGroupChange: onCollapsibleFacetsGroupChange, onChange: onChange, aggregationSettings: aggregationSettings, messages: messages, collapsedFacetsCount: collapsedFacetsCount, facetsTextField: facetsTextField, shouldDisplayAsMultiSelect: shouldDisplayAsMultiSelect, selectedFacet: selectedFacetText, showMatchingResults: showMatchingResults })) : (React$g__default.createElement(React$g__default.Fragment, null,\r\n            shouldDisplayAsMultiSelect ? (React$g__default.createElement(MultiSelectFacetsGroup, { messages: messages, facets: collapsedFacets, aggregationSettings: aggregationSettings, onChange: onChange, onMultiSelectFacetsGroupChange: onCollapsibleFacetsGroupChange, showMatchingResults: showMatchingResults, facetsTextField: facetsTextField })) : (React$g__default.createElement(SingleSelectFacetsGroup, { messages: messages, facets: collapsedFacets, aggregationSettings: aggregationSettings, onChange: onChange, onSingleSelectFacetsGroupChange: onCollapsibleFacetsGroupChange, selectedFacet: selectedFacetText, showMatchingResults: showMatchingResults, facetsTextField: facetsTextField })),\r\n            isCollapsible && (React$g__default.createElement(React$g__default.Fragment, null,\r\n                React$g__default.createElement(ShowMoreButton, { onClick: showMoreButtonOnClick, idSuffix: facetsLabel, isCollapsed: isCollapsed, isShowAllMessage: totalNumberFacets > MAX_FACETS_UNTIL_MODAL, messages: messages }),\r\n                totalNumberFacets > MAX_FACETS_UNTIL_MODAL && (React$g__default.createElement(ShowMoreModal, { messages: messages, aggregationSettings: aggregationSettings, facets: facets, facetsLabel: facetsLabel, facetsTextField: facetsTextField, onShowMoreModalChange: onCollapsibleFacetsGroupChange, onChange: onChange, isOpen: isModalOpen, setIsModalOpen: setIsModalOpen, shouldDisplayAsMultiSelect: shouldDisplayAsMultiSelect, selectedFacet: selectedFacetText, hasSearchBar: totalNumberFacets > MAX_FACETS_UNTIL_SEARCHBAR, showMatchingResults: showMatchingResults }))))))));\r\n};\n\nvar FieldFacets = function (_a) {\r\n    var allFacets = _a.allFacets, showMatchingResults = _a.showMatchingResults, messages = _a.messages, collapsedFacetsCount = _a.collapsedFacetsCount, onFieldFacetsChange = _a.onFieldFacetsChange, onChange = _a.onChange;\r\n    var getFacetsForNameIndex = function (selectedFacetName) {\r\n        var facetsForNameIndex = allFacets.findIndex(function (facet) {\r\n            if (!facet.name) {\r\n                return facet.field === selectedFacetName;\r\n            }\r\n            return facet.name === selectedFacetName;\r\n        });\r\n        return facetsForNameIndex;\r\n    };\r\n    var handleOnFieldFacetsChange = function (selectedFacets) {\r\n        var updatedFacets = cloneDeep_1(allFacets);\r\n        selectedFacets.map(function (_a) {\r\n            var selectedFacetName = _a.selectedFacetName, selectedFacetKey = _a.selectedFacetKey, checked = _a.checked;\r\n            var facetsForNameIndex = getFacetsForNameIndex(selectedFacetName);\r\n            if (facetsForNameIndex > -1) {\r\n                var facetsForName = updatedFacets[facetsForNameIndex];\r\n                var multiselect = get_1(facetsForName, 'multiple_selections_allowed', true);\r\n                var facetResults = get_1(facetsForName, 'results', []);\r\n                // Handle quirky case where toggling between checkboxes and radio buttons when\r\n                //   1. multiselect === false\r\n                //   2. going from 2 facets down to 1\r\n                var selectedFacets_1 = filter_1(facetResults, ['selected', true]);\r\n                var usingRadioButtons_1 = selectedFacets_1.length < 2 && !multiselect;\r\n                var selectedFacetResults = facetResults.map(function (result) {\r\n                    var key = get_1(result, 'key', '');\r\n                    if (usingRadioButtons_1) {\r\n                        var keySelected = get_1(result, 'selected', false);\r\n                        var isSelectedFacetKey = key === selectedFacetKey;\r\n                        return Object.assign({}, result, { selected: isSelectedFacetKey && !keySelected });\r\n                    }\r\n                    else {\r\n                        return key === selectedFacetKey\r\n                            ? Object.assign({}, result, { selected: checked })\r\n                            : result;\r\n                    }\r\n                });\r\n                updatedFacets[facetsForNameIndex].results = selectedFacetResults;\r\n            }\r\n        });\r\n        onFieldFacetsChange({ filterFields: updatedFacets });\r\n    };\r\n    var handleOnClear = function (selectedFacetName) {\r\n        var updatedFacets = cloneDeep_1(allFacets);\r\n        var facetsForNameIndex = getFacetsForNameIndex(selectedFacetName);\r\n        if (facetsForNameIndex > -1) {\r\n            var results = updatedFacets[facetsForNameIndex].results || [];\r\n            var deselectedResults = results.map(function (result) {\r\n                return __assign(__assign({}, result), { selected: false });\r\n            });\r\n            updatedFacets[facetsForNameIndex].results = deselectedResults;\r\n            onFieldFacetsChange({ filterFields: updatedFacets });\r\n        }\r\n    };\r\n    return (React$g__default.createElement(\"div\", null, allFacets.map(function (aggregation, i) {\r\n        var _a, _b;\r\n        var aggregationResults = get_1(aggregation, 'results', []);\r\n        if (aggregationResults.length === 0) {\r\n            return null;\r\n        }\r\n        var hasCategories = aggregation.field.includes('enriched_') &&\r\n            aggregation.field.includes('entities.text') &&\r\n            ((_b = (_a = aggregation.results) === null || _a === void 0 ? void 0 : _a[0]) === null || _b === void 0 ? void 0 : _b.aggregations) !== undefined;\r\n        return (React$g__default.createElement(CollapsibleFacetsGroup, { key: \"collapsible-facet-group-\" + i, collapsedFacetsCount: collapsedFacetsCount, messages: messages, aggregationSettings: aggregation, facets: aggregationResults, showMatchingResults: showMatchingResults, facetsTextField: \"key\", hasCategories: hasCategories, onClear: handleOnClear, onChange: onChange, onCollapsibleFacetsGroupChange: handleOnFieldFacetsChange }));\r\n    })));\r\n};\n\nvar DynamicFacets = function (_a) {\r\n    var dynamicFacets = _a.dynamicFacets, showMatchingResults = _a.showMatchingResults, messages = _a.messages, collapsedFacetsCount = _a.collapsedFacetsCount, onDynamicFacetsChange = _a.onDynamicFacetsChange, onChange = _a.onChange;\r\n    var handleOnCollapsibleFacetsGroupChange = function (selectedFacets) {\r\n        var updatedFacets = cloneDeep_1(dynamicFacets);\r\n        selectedFacets.map(function (_a) {\r\n            var selectedFacetKey = _a.selectedFacetKey, checked = _a.checked;\r\n            var facetKeyIndex = dynamicFacets.findIndex(function (facet) { return facet.text === selectedFacetKey; });\r\n            if (facetKeyIndex > -1) {\r\n                updatedFacets[facetKeyIndex].selected = checked;\r\n            }\r\n        });\r\n        onDynamicFacetsChange({ filterDynamic: updatedFacets });\r\n    };\r\n    var handleOnClear = function () {\r\n        var filterDynamic = dynamicFacets.map(function (facet) {\r\n            return __assign(__assign({}, facet), { selected: false });\r\n        });\r\n        onDynamicFacetsChange({ filterDynamic: filterDynamic });\r\n    };\r\n    var aggregationSettings = {\r\n        type: '',\r\n        label: messages.dynamicFacetsLabel,\r\n        multiple_selections_allowed: true,\r\n        field: '',\r\n        name: ''\r\n    };\r\n    return (React$g__default.createElement(CollapsibleFacetsGroup, { aggregationSettings: aggregationSettings, collapsedFacetsCount: collapsedFacetsCount, facets: dynamicFacets, showMatchingResults: showMatchingResults, facetsTextField: \"text\", onCollapsibleFacetsGroupChange: handleOnCollapsibleFacetsGroupChange, onChange: onChange, onClear: handleOnClear, messages: messages, hasCategories: false }));\r\n};\n\nvar defaultMessages$1 = {\r\n    labelText: '{facetText}',\r\n    labelTextWithCount: '{facetText} ({count})',\r\n    clearAllButtonText: 'Clear all',\r\n    clearFacetTitle: 'Clear all selected items',\r\n    clearFacetSelectionTitle: 'Clear selected item',\r\n    collapsedFacetShowMoreText: 'Show more',\r\n    collapsedFacetShowLessText: 'Show less',\r\n    collapsedFacetShowAllText: 'Show all',\r\n    collectionSelectTitleText: 'Collections',\r\n    collectionSelectLabel: 'Available collections',\r\n    dynamicFacetsLabel: 'Dynamic Facets',\r\n    showMoreModalPrimaryButtonText: 'Apply',\r\n    showMoreModalSecondaryButtonText: 'Cancel',\r\n    showMoreModalAriaLabel: 'Modal to select and deselect facets',\r\n    categoryExpandCollapseIconDescription: 'Expand/Collapse',\r\n    modalSearchBarPrompt: 'Find',\r\n    emptyModalSearch: 'There were no results found'\r\n};\n\nvar SearchFacets = function (_a) {\r\n    var id = _a.id, _b = _a.showCollections, showCollections = _b === void 0 ? true : _b, _c = _a.showDynamicFacets, showDynamicFacets = _c === void 0 ? true : _c, _d = _a.showMatchingResults, showMatchingResults = _d === void 0 ? false : _d, _e = _a.messages, messages = _e === void 0 ? defaultMessages$1 : _e, overrideComponentSettingsAggregations = _a.overrideComponentSettingsAggregations, _f = _a.collapsedFacetsCount, collapsedFacetsCount = _f === void 0 ? 5 : _f, serverErrorMessage = _a.serverErrorMessage, onChange = _a.onChange;\r\n    var facetsId = id || \"search-facets__\" + uuid_1.v4();\r\n    var _g = useContext(SearchContext), _h = _g.searchResponseStore, searchParameters = _h.parameters, _j = _h.parameters, filter = _j.filter, collectionIds = _j.collectionIds, searchResponse = _h.data, collectionsResults = _g.collectionsResults, componentSettings = _g.componentSettings, _k = _g.globalAggregationsResponseStore, isLoading = _k.isLoading, isError = _k.isError, aggregations = _k.data, globalAggregationsParameters = _k.parameters;\r\n    var _l = useState(SearchFilterTransform.fromString(filter || '')), facetSelectionState = _l[0], setFacetSelectionState = _l[1];\r\n    var collections = get_1(collectionsResults, 'collections', []);\r\n    var initialSelectedCollectionIds = collectionIds || [];\r\n    var initialSelectedCollections = collections\r\n        .filter(function (collection) {\r\n        return (!!collection.collection_id &&\r\n            initialSelectedCollectionIds.includes(collection.collection_id));\r\n    })\r\n        .map(function (collection) {\r\n        return {\r\n            id: \"\" + collectionFacetIdPrefix + collection.collection_id,\r\n            label: collection.name || ''\r\n        };\r\n    });\r\n    var _m = useState(initialSelectedCollections), collectionSelectionState = _m[0], setCollectionSelectionState = _m[1];\r\n    var _o = useContext(SearchApi), performSearch = _o.performSearch, fetchAggregations = _o.fetchAggregations;\r\n    var mergedMessages = __assign(__assign({}, defaultMessages$1), messages);\r\n    var componentSettingsAggregations = overrideComponentSettingsAggregations ||\r\n        (componentSettings && componentSettings.aggregations) ||\r\n        [];\r\n    useDeepCompareEffect(function () {\r\n        if (!aggregations && !isError && !isLoading) {\r\n            fetchAggregations(globalAggregationsParameters);\r\n        }\r\n    }, [fetchAggregations, globalAggregationsParameters, aggregations, isError, isLoading]);\r\n    useDeepCompareEffect(function () {\r\n        if (filter === '') {\r\n            setFacetSelectionState({ filterFields: [], filterDynamic: [] });\r\n        }\r\n    }, [aggregations, filter]);\r\n    var allFieldFacets = mergeFilterFacets(aggregations, facetSelectionState.filterFields, componentSettingsAggregations);\r\n    var allDynamicFacets = mergeDynamicFacets(get_1(searchResponse, 'suggested_refinements', []), facetSelectionState.filterDynamic);\r\n    var shouldShowCollections = showCollections && !!collections;\r\n    var shouldShowFields = !!allFieldFacets && allFieldFacets.length > 0;\r\n    var shouldShowDynamic = showDynamicFacets && !!allDynamicFacets && allDynamicFacets.length > 0;\r\n    var originalFilters = {\r\n        filterFields: allFieldFacets,\r\n        filterDynamic: allDynamicFacets\r\n    };\r\n    var hasFieldSelection = facetSelectionState.filterFields.some(function (aggregation) {\r\n        return (aggregation.results &&\r\n            aggregation.results.some(function (result) {\r\n                return result.selected;\r\n            }));\r\n    });\r\n    var hasDynamicSelection = facetSelectionState.filterDynamic.some(function (dynamicFacet) {\r\n        return dynamicFacet.selected;\r\n    });\r\n    var hasCollectionSelection = collectionSelectionState.length > 0;\r\n    var hasSelection = hasFieldSelection || hasDynamicSelection || hasCollectionSelection;\r\n    var handleOnSearchFacetsChange = function (updatedFacets) {\r\n        var newFilters = __assign(__assign({}, originalFilters), updatedFacets);\r\n        var filter = SearchFilterTransform.toString(newFilters);\r\n        setFacetSelectionState(newFilters);\r\n        performSearch(__assign(__assign({}, searchParameters), { offset: 0, filter: filter }), false);\r\n    };\r\n    var handleCollectionToggle = function (selectedCollectionItems) {\r\n        setCollectionSelectionState(selectedCollectionItems.selectedItems);\r\n        // Filtering by id !== undefined still threw TS errors, so had to default\r\n        // to '' and filter on that\r\n        var collectionIds = selectedCollectionItems.selectedItems\r\n            .map(function (collection) {\r\n            return collection.id.split(collectionFacetIdPrefix).pop() || '';\r\n        })\r\n            .filter(function (id) { return id !== ''; });\r\n        if (onChange) {\r\n            // returning collection labels\r\n            onChange(selectedCollectionItems.selectedItems\r\n                .map(function (collection) {\r\n                return collection.label.split(collectionFacetIdPrefix).pop() || '';\r\n            })\r\n                .filter(function (label) { return label !== ''; }));\r\n        }\r\n        performSearch(__assign(__assign({}, searchParameters), { offset: 0, collectionIds: collectionIds }));\r\n    };\r\n    var handleOnClear = function (event) {\r\n        if (onChange) {\r\n            onChange(event);\r\n        }\r\n        setFacetSelectionState({ filterFields: [], filterDynamic: [] });\r\n        setCollectionSelectionState([]);\r\n        // We should update to not select with a click\r\n        // when Carbon MultiSelect selection can be controlled and Downshift's action props are exposed\r\n        document.querySelectorAll(\".\" + settings.prefix + \"--list-box__selection--multi\").forEach(function (element) { return element.click(); });\r\n        performSearch(__assign(__assign({}, searchParameters), { collectionIds: [], offset: 0, filter: '' }), false);\r\n    };\r\n    if (isLoading && !shouldShowFields && !shouldShowCollections) {\r\n        return null;\r\n    }\r\n    else if (isError) {\r\n        var errorNode = typeof serverErrorMessage === 'string'\r\n            ? displayMessage(serverErrorMessage)\r\n            : serverErrorMessage || displayMessage(errorMessage);\r\n        return React$g__default.createElement(React$g__default.Fragment, null,\r\n            \" \",\r\n            errorNode,\r\n            \" \");\r\n    }\r\n    else if (shouldShowFields || shouldShowCollections) {\r\n        return (React$g__default.createElement(\"div\", { id: facetsId, className: settings.prefix + \"--search-facets\" },\r\n            hasSelection && (React$g__default.createElement(Button, { className: settings.prefix + \"--search-facets__button-clear-all\", id: facetsId + \"--search-facets-button-clear-all\", kind: \"ghost\", renderIcon: _16$1, size: \"small\", onClick: handleOnClear }, messages.clearAllButtonText)),\r\n            shouldShowFields && (React$g__default.createElement(FieldFacets, { allFacets: allFieldFacets, showMatchingResults: showMatchingResults, onChange: onChange, onFieldFacetsChange: handleOnSearchFacetsChange, collapsedFacetsCount: collapsedFacetsCount, messages: mergedMessages })),\r\n            shouldShowDynamic && (React$g__default.createElement(DynamicFacets, { dynamicFacets: allDynamicFacets, showMatchingResults: showMatchingResults, messages: mergedMessages, onChange: onChange, onDynamicFacetsChange: handleOnSearchFacetsChange, collapsedFacetsCount: collapsedFacetsCount })),\r\n            shouldShowCollections && (React$g__default.createElement(CollectionFacets, { initialSelectedCollections: initialSelectedCollections, messages: mergedMessages, onChange: handleCollectionToggle }))));\r\n    }\r\n    else {\r\n        return displayMessage(noAvailableFacetsMessage);\r\n    }\r\n};\r\nvar SearchFacets$1 = commonjs_2(SearchFacets, FallbackComponent('SearchFacets'), onErrorCallback);\n\nvar defaultMessages$2 = {\r\n    itemRangeText: '{min}–{max} of {total} results',\r\n    itemsPerPageText: 'Items per page:',\r\n    pageRangeText: 'of {total} pages'\r\n};\n\nvar ResultsPagination = function (_a) {\r\n    var _b = _a.page, page = _b === void 0 ? 1 : _b, _c = _a.pageSizes, pageSizes = _c === void 0 ? [10, 20, 30, 40, 50] : _c, pageSize = _a.pageSize, _d = _a.showPageSizeSelector, showPageSizeSelector = _d === void 0 ? true : _d, _e = _a.messages, messages = _e === void 0 ? defaultMessages$2 : _e, onChange = _a.onChange, inputProps = __rest(_a, [\"page\", \"pageSizes\", \"pageSize\", \"showPageSizeSelector\", \"messages\", \"onChange\"]);\r\n    var mergedMessages = __assign(__assign({}, defaultMessages$2), messages);\r\n    var _f = useContext(SearchApi), performSearch = _f.performSearch, setSearchParameters = _f.setSearchParameters;\r\n    var _g = useContext(SearchContext), _h = _g.searchResponseStore, searchResponse = _h.data, searchParameters = _h.parameters, componentSettings = _g.componentSettings, isResultsPaginationComponentHidden = _g.isResultsPaginationComponentHidden;\r\n    var _j = useState(page), currentPage = _j[0], setCurrentPage = _j[1];\r\n    var resultsPerPage = get_1(componentSettings, 'results_per_page', 10);\r\n    useEffect(function () {\r\n        if (!!pageSize || !!resultsPerPage) {\r\n            setSearchParameters(function (currentSearchParameters) {\r\n                return __assign(__assign({}, currentSearchParameters), { count: pageSize || resultsPerPage });\r\n            });\r\n        }\r\n    }, [setSearchParameters, pageSize, resultsPerPage]);\r\n    useEffect(function () {\r\n        var actualPageSize = searchParameters.count || 10;\r\n        var actualOffset = searchParameters.offset || 0;\r\n        var pageFromOffset = Math.floor(actualOffset / actualPageSize) + 1;\r\n        if (currentPage !== pageFromOffset) {\r\n            setCurrentPage(pageFromOffset);\r\n        }\r\n    }, [currentPage, searchParameters.count, searchParameters.offset]);\r\n    var matchingResults = (searchResponse && searchResponse.matching_results) || 0;\r\n    var actualPageSize = searchParameters.count || 10;\r\n    // the default behavior of Carbon is to discard pageSize if it is not included in pageSizes,\r\n    // we instead choose to make it so that pageSize is appended to pageSizes if it is not already included.\r\n    if (!pageSizes.includes(actualPageSize)) {\r\n        pageSizes.push(actualPageSize);\r\n        pageSizes = pageSizes.sort(function (a, b) { return a - b; });\r\n    }\r\n    var classNames = [settings.prefix + \"--pagination\"];\r\n    if (!showPageSizeSelector) {\r\n        classNames.push(settings.prefix + \"--pagination__page-size-selector--hidden\");\r\n    }\r\n    var handleOnChange = function (evt) {\r\n        if (onChange) {\r\n            onChange(evt);\r\n        }\r\n        var page = evt.page, pageSize = evt.pageSize;\r\n        var offset = (page - 1) * pageSize;\r\n        setCurrentPage(page);\r\n        performSearch(__assign(__assign({}, searchParameters), { count: pageSize, offset: offset }), false);\r\n    };\r\n    var handleItemRangeText = function (min, max, total) {\r\n        return formatMessage(mergedMessages.itemRangeText, { min: min, max: max, total: total }, false);\r\n    };\r\n    var handlePageRangeText = function (_current, total) {\r\n        return formatMessage(mergedMessages.pageRangeText, { total: total }, false);\r\n    };\r\n    if (!!componentSettings) {\r\n        return (React$g__default.createElement(React$g__default.Fragment, null, !isResultsPaginationComponentHidden && (React$g__default.createElement(Pagination, __assign({ className: classNames.join(' '), page: currentPage, totalItems: matchingResults, pageSize: actualPageSize, pageSizes: pageSizes, onChange: handleOnChange, itemRangeText: handleItemRangeText, itemsPerPageText: mergedMessages.itemsPerPageText, pageRangeText: handlePageRangeText }, inputProps)))));\r\n    }\r\n    return null;\r\n};\r\nvar ResultsPagination$1 = commonjs_2(ResultsPagination, FallbackComponent('ResultsPagination'), onErrorCallback);\n\nfunction _interopDefault$5 (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\n\n\n\nvar React$5 = _interopDefault$5(React$g__default);\n\nvar _ref2$4 =\n/*#__PURE__*/\n\n/*#__PURE__*/\nReact$5.createElement(\"path\", {\n  d: \"M18 12L14 12 14 8 12 8 12 12 8 12 8 14 12 14 12 18 14 18 14 14 18 14 18 12z\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\n\n/*#__PURE__*/\nReact$5.createElement(\"path\", {\n  d: \"M21.4479,20A10.856,10.856,0,0,0,24,13,11,11,0,1,0,13,24a10.856,10.856,0,0,0,7-2.5521L27.5859,29,29,27.5859ZM13,22a9,9,0,1,1,9-9A9.01,9.01,0,0,1,13,22Z\"\n});\n\nvar ZoomIn24 = /*#__PURE__*/React$5.forwardRef(function ZoomIn24(_ref, ref) {\n  var children = _ref.children,\n      rest = IconE8f71a9c._objectWithoutProperties(_ref, [\"children\"]);\n\n  return /*#__PURE__*/React$5.createElement(IconE8f71a9c.Icon, IconE8f71a9c._extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 32 32\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"currentColor\",\n    ref: ref\n  }, rest), _ref2$4, _ref3, children);\n});\n\nvar _24 = ZoomIn24;\n\nfunction _interopDefault$6 (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\n\n\n\nvar React$6 = _interopDefault$6(React$g__default);\n\nvar _ref2$5 =\n/*#__PURE__*/\n\n/*#__PURE__*/\nReact$6.createElement(\"path\", {\n  d: \"M8 12H18V14H8z\"\n});\n\nvar _ref3$1 =\n/*#__PURE__*/\n\n/*#__PURE__*/\nReact$6.createElement(\"path\", {\n  d: \"M21.4479,20A10.856,10.856,0,0,0,24,13,11,11,0,1,0,13,24a10.856,10.856,0,0,0,7-2.5521L27.5859,29,29,27.5859ZM13,22a9,9,0,1,1,9-9A9.01,9.01,0,0,1,13,22Z\"\n});\n\nvar ZoomOut24 = /*#__PURE__*/React$6.forwardRef(function ZoomOut24(_ref, ref) {\n  var children = _ref.children,\n      rest = IconE8f71a9c._objectWithoutProperties(_ref, [\"children\"]);\n\n  return /*#__PURE__*/React$6.createElement(IconE8f71a9c.Icon, IconE8f71a9c._extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 32 32\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"currentColor\",\n    ref: ref\n  }, rest), _ref2$5, _ref3$1, children);\n});\n\nvar _24$1 = ZoomOut24;\n\nfunction _interopDefault$7 (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\n\n\n\nvar React$7 = _interopDefault$7(React$g__default);\n\nvar _ref2$6 =\n/*#__PURE__*/\n\n/*#__PURE__*/\nReact$7.createElement(\"path\", {\n  d: \"M20 24L10 16 20 8z\"\n});\n\nvar CaretLeft24 = /*#__PURE__*/React$7.forwardRef(function CaretLeft24(_ref, ref) {\n  var children = _ref.children,\n      rest = IconE8f71a9c._objectWithoutProperties(_ref, [\"children\"]);\n\n  return /*#__PURE__*/React$7.createElement(IconE8f71a9c.Icon, IconE8f71a9c._extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 32 32\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"currentColor\",\n    ref: ref\n  }, rest), _ref2$6, children);\n});\n\nvar _24$2 = CaretLeft24;\n\nfunction _interopDefault$8 (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\n\n\n\nvar React$8 = _interopDefault$8(React$g__default);\n\nvar _ref2$7 =\n/*#__PURE__*/\n\n/*#__PURE__*/\nReact$8.createElement(\"path\", {\n  d: \"M12 8L22 16 12 24z\"\n});\n\nvar CaretRight24 = /*#__PURE__*/React$8.forwardRef(function CaretRight24(_ref, ref) {\n  var children = _ref.children,\n      rest = IconE8f71a9c._objectWithoutProperties(_ref, [\"children\"]);\n\n  return /*#__PURE__*/React$8.createElement(IconE8f71a9c.Icon, IconE8f71a9c._extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 32 32\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"currentColor\",\n    ref: ref\n  }, rest), _ref2$7, children);\n});\n\nvar _24$3 = CaretRight24;\n\nfunction _interopDefault$9 (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\n\n\n\nvar React$9 = _interopDefault$9(React$g__default);\n\nvar _ref2$8 =\n/*#__PURE__*/\n\n/*#__PURE__*/\nReact$9.createElement(\"path\", {\n  d: \"M18,28A12,12,0,1,0,6,16v6.2L2.4,18.6,1,20l6,6,6-6-1.4-1.4L8,22.2V16H8A10,10,0,1,1,18,26Z\"\n});\n\nvar Reset24 = /*#__PURE__*/React$9.forwardRef(function Reset24(_ref, ref) {\n  var children = _ref.children,\n      rest = IconE8f71a9c._objectWithoutProperties(_ref, [\"children\"]);\n\n  return /*#__PURE__*/React$9.createElement(IconE8f71a9c.Icon, IconE8f71a9c._extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 32 32\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"currentColor\",\n    ref: ref\n  }, rest), _ref2$8, children);\n});\n\nvar _24$4 = Reset24;\n\nvar ZOOM_IN = 'zoom-in';\r\nvar ZOOM_OUT = 'zoom-out';\r\nvar ZOOM_RESET = 'reset-zoom';\r\nvar base = settings.prefix + \"--preview-toolbar\";\r\nvar PreviewToolbar = function (_a) {\r\n    var _b = _a.loading, loading = _b === void 0 ? false : _b, _c = _a.hideControls, hideControls = _c === void 0 ? false : _c, current = _a.current, total = _a.total, onZoom = _a.onZoom, onChange = _a.onChange;\r\n    var inputRef = useRef(null);\r\n    useEffect(function () {\r\n        if (inputRef.current != null) {\r\n            inputRef.current.value = current.toString();\r\n        }\r\n    }, [current]);\r\n    return (React$g__default.createElement(\"div\", { className: \"\" + base }, !hideControls ? (React$g__default.createElement(React$g__default.Fragment, null,\r\n        React$g__default.createElement(\"div\", { className: base + \"__spacer\" }),\r\n        React$g__default.createElement(\"div\", { className: base + \"__nav\" },\r\n            renderButton({\r\n                icon: _24$2,\r\n                description: 'Previous Page',\r\n                onClick: function () { return nextPrevButtonClicked(current, total, onChange, -1); },\r\n                disabled: loading || current === 1\r\n            }),\r\n            React$g__default.createElement(Form, { onSubmit: function (e) { return currentPageChanged(e, onChange, inputRef); }, autoComplete: \"off\" },\r\n                React$g__default.createElement(TextInput, { id: \"pageInput\", defaultValue: current, type: \"number\", ref: inputRef, min: 1, max: total, className: base + \"__input\", onBlur: function (e) { return currentPageChanged(e, onChange, inputRef); }, labelText: \"labelText\", hideLabel: true, disabled: loading })),\r\n            React$g__default.createElement(FormLabel, { className: base + \"__pageLabel\" },\r\n                \"/ \",\r\n                total),\r\n            renderButton({\r\n                icon: _24$3,\r\n                description: 'Next Page',\r\n                onClick: function () { return nextPrevButtonClicked(current, total, onChange, 1); },\r\n                disabled: loading || current === total\r\n            })),\r\n        React$g__default.createElement(\"div\", { className: base + \"__zoom\" },\r\n            renderButton({\r\n                icon: _24,\r\n                description: 'Zoom In',\r\n                onClick: function () { return onZoom(ZOOM_IN); },\r\n                disabled: loading\r\n            }),\r\n            renderButton({\r\n                icon: _24$1,\r\n                description: 'Zoom Out',\r\n                onClick: function () { return onZoom(ZOOM_OUT); },\r\n                disabled: loading\r\n            }),\r\n            renderButton({\r\n                icon: _24$4,\r\n                description: 'Reset Zoom',\r\n                onClick: function () { return onZoom(ZOOM_RESET); },\r\n                disabled: loading\r\n            })))) : null));\r\n};\r\nfunction renderButton(obj) {\r\n    return (React$g__default.createElement(Button, { className: base + \"__button\", disabled: obj.disabled, size: \"small\", kind: \"ghost\", renderIcon: obj.icon, iconDescription: obj.description, tooltipPosition: \"bottom\", tooltipAlignment: \"center\", onClick: obj.onClick, hasIconOnly: true }));\r\n}\r\nfunction nextPrevButtonClicked(current, total, onChange, change) {\r\n    var newPage = current + change;\r\n    if (newPage >= 1 && newPage <= total) {\r\n        onChange(newPage);\r\n    }\r\n}\r\nfunction currentPageChanged(e, onChange, inputRef) {\r\n    e.preventDefault();\r\n    var pageInput = Number(inputRef.current.value);\r\n    onChange(pageInput);\r\n}\r\nvar PrevToolbar = PreviewToolbar;\r\nPrevToolbar.ZOOM_IN = ZOOM_IN;\r\nPrevToolbar.ZOOM_OUT = ZOOM_OUT;\r\nPrevToolbar.ZOOM_RESET = ZOOM_RESET;\n\nvar entities = {Aacute:\"Á\",aacute:\"á\",Abreve:\"Ă\",abreve:\"ă\",ac:\"∾\",acd:\"∿\",acE:\"∾̳\",Acirc:\"Â\",acirc:\"â\",acute:\"´\",Acy:\"А\",acy:\"а\",AElig:\"Æ\",aelig:\"æ\",af:\"⁡\",Afr:\"𝔄\",afr:\"𝔞\",Agrave:\"À\",agrave:\"à\",alefsym:\"ℵ\",aleph:\"ℵ\",Alpha:\"Α\",alpha:\"α\",Amacr:\"Ā\",amacr:\"ā\",amalg:\"⨿\",amp:\"&\",AMP:\"&\",andand:\"⩕\",And:\"⩓\",and:\"∧\",andd:\"⩜\",andslope:\"⩘\",andv:\"⩚\",ang:\"∠\",ange:\"⦤\",angle:\"∠\",angmsdaa:\"⦨\",angmsdab:\"⦩\",angmsdac:\"⦪\",angmsdad:\"⦫\",angmsdae:\"⦬\",angmsdaf:\"⦭\",angmsdag:\"⦮\",angmsdah:\"⦯\",angmsd:\"∡\",angrt:\"∟\",angrtvb:\"⊾\",angrtvbd:\"⦝\",angsph:\"∢\",angst:\"Å\",angzarr:\"⍼\",Aogon:\"Ą\",aogon:\"ą\",Aopf:\"𝔸\",aopf:\"𝕒\",apacir:\"⩯\",ap:\"≈\",apE:\"⩰\",ape:\"≊\",apid:\"≋\",apos:\"'\",ApplyFunction:\"⁡\",approx:\"≈\",approxeq:\"≊\",Aring:\"Å\",aring:\"å\",Ascr:\"𝒜\",ascr:\"𝒶\",Assign:\"≔\",ast:\"*\",asymp:\"≈\",asympeq:\"≍\",Atilde:\"Ã\",atilde:\"ã\",Auml:\"Ä\",auml:\"ä\",awconint:\"∳\",awint:\"⨑\",backcong:\"≌\",backepsilon:\"϶\",backprime:\"‵\",backsim:\"∽\",backsimeq:\"⋍\",Backslash:\"∖\",Barv:\"⫧\",barvee:\"⊽\",barwed:\"⌅\",Barwed:\"⌆\",barwedge:\"⌅\",bbrk:\"⎵\",bbrktbrk:\"⎶\",bcong:\"≌\",Bcy:\"Б\",bcy:\"б\",bdquo:\"„\",becaus:\"∵\",because:\"∵\",Because:\"∵\",bemptyv:\"⦰\",bepsi:\"϶\",bernou:\"ℬ\",Bernoullis:\"ℬ\",Beta:\"Β\",beta:\"β\",beth:\"ℶ\",between:\"≬\",Bfr:\"𝔅\",bfr:\"𝔟\",bigcap:\"⋂\",bigcirc:\"◯\",bigcup:\"⋃\",bigodot:\"⨀\",bigoplus:\"⨁\",bigotimes:\"⨂\",bigsqcup:\"⨆\",bigstar:\"★\",bigtriangledown:\"▽\",bigtriangleup:\"△\",biguplus:\"⨄\",bigvee:\"⋁\",bigwedge:\"⋀\",bkarow:\"⤍\",blacklozenge:\"⧫\",blacksquare:\"▪\",blacktriangle:\"▴\",blacktriangledown:\"▾\",blacktriangleleft:\"◂\",blacktriangleright:\"▸\",blank:\"␣\",blk12:\"▒\",blk14:\"░\",blk34:\"▓\",block:\"█\",bne:\"=⃥\",bnequiv:\"≡⃥\",bNot:\"⫭\",bnot:\"⌐\",Bopf:\"𝔹\",bopf:\"𝕓\",bot:\"⊥\",bottom:\"⊥\",bowtie:\"⋈\",boxbox:\"⧉\",boxdl:\"┐\",boxdL:\"╕\",boxDl:\"╖\",boxDL:\"╗\",boxdr:\"┌\",boxdR:\"╒\",boxDr:\"╓\",boxDR:\"╔\",boxh:\"─\",boxH:\"═\",boxhd:\"┬\",boxHd:\"╤\",boxhD:\"╥\",boxHD:\"╦\",boxhu:\"┴\",boxHu:\"╧\",boxhU:\"╨\",boxHU:\"╩\",boxminus:\"⊟\",boxplus:\"⊞\",boxtimes:\"⊠\",boxul:\"┘\",boxuL:\"╛\",boxUl:\"╜\",boxUL:\"╝\",boxur:\"└\",boxuR:\"╘\",boxUr:\"╙\",boxUR:\"╚\",boxv:\"│\",boxV:\"║\",boxvh:\"┼\",boxvH:\"╪\",boxVh:\"╫\",boxVH:\"╬\",boxvl:\"┤\",boxvL:\"╡\",boxVl:\"╢\",boxVL:\"╣\",boxvr:\"├\",boxvR:\"╞\",boxVr:\"╟\",boxVR:\"╠\",bprime:\"‵\",breve:\"˘\",Breve:\"˘\",brvbar:\"¦\",bscr:\"𝒷\",Bscr:\"ℬ\",bsemi:\"⁏\",bsim:\"∽\",bsime:\"⋍\",bsolb:\"⧅\",bsol:\"\\\\\",bsolhsub:\"⟈\",bull:\"•\",bullet:\"•\",bump:\"≎\",bumpE:\"⪮\",bumpe:\"≏\",Bumpeq:\"≎\",bumpeq:\"≏\",Cacute:\"Ć\",cacute:\"ć\",capand:\"⩄\",capbrcup:\"⩉\",capcap:\"⩋\",cap:\"∩\",Cap:\"⋒\",capcup:\"⩇\",capdot:\"⩀\",CapitalDifferentialD:\"ⅅ\",caps:\"∩︀\",caret:\"⁁\",caron:\"ˇ\",Cayleys:\"ℭ\",ccaps:\"⩍\",Ccaron:\"Č\",ccaron:\"č\",Ccedil:\"Ç\",ccedil:\"ç\",Ccirc:\"Ĉ\",ccirc:\"ĉ\",Cconint:\"∰\",ccups:\"⩌\",ccupssm:\"⩐\",Cdot:\"Ċ\",cdot:\"ċ\",cedil:\"¸\",Cedilla:\"¸\",cemptyv:\"⦲\",cent:\"¢\",centerdot:\"·\",CenterDot:\"·\",cfr:\"𝔠\",Cfr:\"ℭ\",CHcy:\"Ч\",chcy:\"ч\",check:\"✓\",checkmark:\"✓\",Chi:\"Χ\",chi:\"χ\",circ:\"ˆ\",circeq:\"≗\",circlearrowleft:\"↺\",circlearrowright:\"↻\",circledast:\"⊛\",circledcirc:\"⊚\",circleddash:\"⊝\",CircleDot:\"⊙\",circledR:\"®\",circledS:\"Ⓢ\",CircleMinus:\"⊖\",CirclePlus:\"⊕\",CircleTimes:\"⊗\",cir:\"○\",cirE:\"⧃\",cire:\"≗\",cirfnint:\"⨐\",cirmid:\"⫯\",cirscir:\"⧂\",ClockwiseContourIntegral:\"∲\",CloseCurlyDoubleQuote:\"”\",CloseCurlyQuote:\"’\",clubs:\"♣\",clubsuit:\"♣\",colon:\":\",Colon:\"∷\",Colone:\"⩴\",colone:\"≔\",coloneq:\"≔\",comma:\",\",commat:\"@\",comp:\"∁\",compfn:\"∘\",complement:\"∁\",complexes:\"ℂ\",cong:\"≅\",congdot:\"⩭\",Congruent:\"≡\",conint:\"∮\",Conint:\"∯\",ContourIntegral:\"∮\",copf:\"𝕔\",Copf:\"ℂ\",coprod:\"∐\",Coproduct:\"∐\",copy:\"©\",COPY:\"©\",copysr:\"℗\",CounterClockwiseContourIntegral:\"∳\",crarr:\"↵\",cross:\"✗\",Cross:\"⨯\",Cscr:\"𝒞\",cscr:\"𝒸\",csub:\"⫏\",csube:\"⫑\",csup:\"⫐\",csupe:\"⫒\",ctdot:\"⋯\",cudarrl:\"⤸\",cudarrr:\"⤵\",cuepr:\"⋞\",cuesc:\"⋟\",cularr:\"↶\",cularrp:\"⤽\",cupbrcap:\"⩈\",cupcap:\"⩆\",CupCap:\"≍\",cup:\"∪\",Cup:\"⋓\",cupcup:\"⩊\",cupdot:\"⊍\",cupor:\"⩅\",cups:\"∪︀\",curarr:\"↷\",curarrm:\"⤼\",curlyeqprec:\"⋞\",curlyeqsucc:\"⋟\",curlyvee:\"⋎\",curlywedge:\"⋏\",curren:\"¤\",curvearrowleft:\"↶\",curvearrowright:\"↷\",cuvee:\"⋎\",cuwed:\"⋏\",cwconint:\"∲\",cwint:\"∱\",cylcty:\"⌭\",dagger:\"†\",Dagger:\"‡\",daleth:\"ℸ\",darr:\"↓\",Darr:\"↡\",dArr:\"⇓\",dash:\"‐\",Dashv:\"⫤\",dashv:\"⊣\",dbkarow:\"⤏\",dblac:\"˝\",Dcaron:\"Ď\",dcaron:\"ď\",Dcy:\"Д\",dcy:\"д\",ddagger:\"‡\",ddarr:\"⇊\",DD:\"ⅅ\",dd:\"ⅆ\",DDotrahd:\"⤑\",ddotseq:\"⩷\",deg:\"°\",Del:\"∇\",Delta:\"Δ\",delta:\"δ\",demptyv:\"⦱\",dfisht:\"⥿\",Dfr:\"𝔇\",dfr:\"𝔡\",dHar:\"⥥\",dharl:\"⇃\",dharr:\"⇂\",DiacriticalAcute:\"´\",DiacriticalDot:\"˙\",DiacriticalDoubleAcute:\"˝\",DiacriticalGrave:\"`\",DiacriticalTilde:\"˜\",diam:\"⋄\",diamond:\"⋄\",Diamond:\"⋄\",diamondsuit:\"♦\",diams:\"♦\",die:\"¨\",DifferentialD:\"ⅆ\",digamma:\"ϝ\",disin:\"⋲\",div:\"÷\",divide:\"÷\",divideontimes:\"⋇\",divonx:\"⋇\",DJcy:\"Ђ\",djcy:\"ђ\",dlcorn:\"⌞\",dlcrop:\"⌍\",dollar:\"$\",Dopf:\"𝔻\",dopf:\"𝕕\",Dot:\"¨\",dot:\"˙\",DotDot:\"⃜\",doteq:\"≐\",doteqdot:\"≑\",DotEqual:\"≐\",dotminus:\"∸\",dotplus:\"∔\",dotsquare:\"⊡\",doublebarwedge:\"⌆\",DoubleContourIntegral:\"∯\",DoubleDot:\"¨\",DoubleDownArrow:\"⇓\",DoubleLeftArrow:\"⇐\",DoubleLeftRightArrow:\"⇔\",DoubleLeftTee:\"⫤\",DoubleLongLeftArrow:\"⟸\",DoubleLongLeftRightArrow:\"⟺\",DoubleLongRightArrow:\"⟹\",DoubleRightArrow:\"⇒\",DoubleRightTee:\"⊨\",DoubleUpArrow:\"⇑\",DoubleUpDownArrow:\"⇕\",DoubleVerticalBar:\"∥\",DownArrowBar:\"⤓\",downarrow:\"↓\",DownArrow:\"↓\",Downarrow:\"⇓\",DownArrowUpArrow:\"⇵\",DownBreve:\"̑\",downdownarrows:\"⇊\",downharpoonleft:\"⇃\",downharpoonright:\"⇂\",DownLeftRightVector:\"⥐\",DownLeftTeeVector:\"⥞\",DownLeftVectorBar:\"⥖\",DownLeftVector:\"↽\",DownRightTeeVector:\"⥟\",DownRightVectorBar:\"⥗\",DownRightVector:\"⇁\",DownTeeArrow:\"↧\",DownTee:\"⊤\",drbkarow:\"⤐\",drcorn:\"⌟\",drcrop:\"⌌\",Dscr:\"𝒟\",dscr:\"𝒹\",DScy:\"Ѕ\",dscy:\"ѕ\",dsol:\"⧶\",Dstrok:\"Đ\",dstrok:\"đ\",dtdot:\"⋱\",dtri:\"▿\",dtrif:\"▾\",duarr:\"⇵\",duhar:\"⥯\",dwangle:\"⦦\",DZcy:\"Џ\",dzcy:\"џ\",dzigrarr:\"⟿\",Eacute:\"É\",eacute:\"é\",easter:\"⩮\",Ecaron:\"Ě\",ecaron:\"ě\",Ecirc:\"Ê\",ecirc:\"ê\",ecir:\"≖\",ecolon:\"≕\",Ecy:\"Э\",ecy:\"э\",eDDot:\"⩷\",Edot:\"Ė\",edot:\"ė\",eDot:\"≑\",ee:\"ⅇ\",efDot:\"≒\",Efr:\"𝔈\",efr:\"𝔢\",eg:\"⪚\",Egrave:\"È\",egrave:\"è\",egs:\"⪖\",egsdot:\"⪘\",el:\"⪙\",Element:\"∈\",elinters:\"⏧\",ell:\"ℓ\",els:\"⪕\",elsdot:\"⪗\",Emacr:\"Ē\",emacr:\"ē\",empty:\"∅\",emptyset:\"∅\",EmptySmallSquare:\"◻\",emptyv:\"∅\",EmptyVerySmallSquare:\"▫\",emsp13:\" \",emsp14:\" \",emsp:\" \",ENG:\"Ŋ\",eng:\"ŋ\",ensp:\" \",Eogon:\"Ę\",eogon:\"ę\",Eopf:\"𝔼\",eopf:\"𝕖\",epar:\"⋕\",eparsl:\"⧣\",eplus:\"⩱\",epsi:\"ε\",Epsilon:\"Ε\",epsilon:\"ε\",epsiv:\"ϵ\",eqcirc:\"≖\",eqcolon:\"≕\",eqsim:\"≂\",eqslantgtr:\"⪖\",eqslantless:\"⪕\",Equal:\"⩵\",equals:\"=\",EqualTilde:\"≂\",equest:\"≟\",Equilibrium:\"⇌\",equiv:\"≡\",equivDD:\"⩸\",eqvparsl:\"⧥\",erarr:\"⥱\",erDot:\"≓\",escr:\"ℯ\",Escr:\"ℰ\",esdot:\"≐\",Esim:\"⩳\",esim:\"≂\",Eta:\"Η\",eta:\"η\",ETH:\"Ð\",eth:\"ð\",Euml:\"Ë\",euml:\"ë\",euro:\"€\",excl:\"!\",exist:\"∃\",Exists:\"∃\",expectation:\"ℰ\",exponentiale:\"ⅇ\",ExponentialE:\"ⅇ\",fallingdotseq:\"≒\",Fcy:\"Ф\",fcy:\"ф\",female:\"♀\",ffilig:\"ﬃ\",fflig:\"ﬀ\",ffllig:\"ﬄ\",Ffr:\"𝔉\",ffr:\"𝔣\",filig:\"ﬁ\",FilledSmallSquare:\"◼\",FilledVerySmallSquare:\"▪\",fjlig:\"fj\",flat:\"♭\",fllig:\"ﬂ\",fltns:\"▱\",fnof:\"ƒ\",Fopf:\"𝔽\",fopf:\"𝕗\",forall:\"∀\",ForAll:\"∀\",fork:\"⋔\",forkv:\"⫙\",Fouriertrf:\"ℱ\",fpartint:\"⨍\",frac12:\"½\",frac13:\"⅓\",frac14:\"¼\",frac15:\"⅕\",frac16:\"⅙\",frac18:\"⅛\",frac23:\"⅔\",frac25:\"⅖\",frac34:\"¾\",frac35:\"⅗\",frac38:\"⅜\",frac45:\"⅘\",frac56:\"⅚\",frac58:\"⅝\",frac78:\"⅞\",frasl:\"⁄\",frown:\"⌢\",fscr:\"𝒻\",Fscr:\"ℱ\",gacute:\"ǵ\",Gamma:\"Γ\",gamma:\"γ\",Gammad:\"Ϝ\",gammad:\"ϝ\",gap:\"⪆\",Gbreve:\"Ğ\",gbreve:\"ğ\",Gcedil:\"Ģ\",Gcirc:\"Ĝ\",gcirc:\"ĝ\",Gcy:\"Г\",gcy:\"г\",Gdot:\"Ġ\",gdot:\"ġ\",ge:\"≥\",gE:\"≧\",gEl:\"⪌\",gel:\"⋛\",geq:\"≥\",geqq:\"≧\",geqslant:\"⩾\",gescc:\"⪩\",ges:\"⩾\",gesdot:\"⪀\",gesdoto:\"⪂\",gesdotol:\"⪄\",gesl:\"⋛︀\",gesles:\"⪔\",Gfr:\"𝔊\",gfr:\"𝔤\",gg:\"≫\",Gg:\"⋙\",ggg:\"⋙\",gimel:\"ℷ\",GJcy:\"Ѓ\",gjcy:\"ѓ\",gla:\"⪥\",gl:\"≷\",glE:\"⪒\",glj:\"⪤\",gnap:\"⪊\",gnapprox:\"⪊\",gne:\"⪈\",gnE:\"≩\",gneq:\"⪈\",gneqq:\"≩\",gnsim:\"⋧\",Gopf:\"𝔾\",gopf:\"𝕘\",grave:\"`\",GreaterEqual:\"≥\",GreaterEqualLess:\"⋛\",GreaterFullEqual:\"≧\",GreaterGreater:\"⪢\",GreaterLess:\"≷\",GreaterSlantEqual:\"⩾\",GreaterTilde:\"≳\",Gscr:\"𝒢\",gscr:\"ℊ\",gsim:\"≳\",gsime:\"⪎\",gsiml:\"⪐\",gtcc:\"⪧\",gtcir:\"⩺\",gt:\">\",GT:\">\",Gt:\"≫\",gtdot:\"⋗\",gtlPar:\"⦕\",gtquest:\"⩼\",gtrapprox:\"⪆\",gtrarr:\"⥸\",gtrdot:\"⋗\",gtreqless:\"⋛\",gtreqqless:\"⪌\",gtrless:\"≷\",gtrsim:\"≳\",gvertneqq:\"≩︀\",gvnE:\"≩︀\",Hacek:\"ˇ\",hairsp:\" \",half:\"½\",hamilt:\"ℋ\",HARDcy:\"Ъ\",hardcy:\"ъ\",harrcir:\"⥈\",harr:\"↔\",hArr:\"⇔\",harrw:\"↭\",Hat:\"^\",hbar:\"ℏ\",Hcirc:\"Ĥ\",hcirc:\"ĥ\",hearts:\"♥\",heartsuit:\"♥\",hellip:\"…\",hercon:\"⊹\",hfr:\"𝔥\",Hfr:\"ℌ\",HilbertSpace:\"ℋ\",hksearow:\"⤥\",hkswarow:\"⤦\",hoarr:\"⇿\",homtht:\"∻\",hookleftarrow:\"↩\",hookrightarrow:\"↪\",hopf:\"𝕙\",Hopf:\"ℍ\",horbar:\"―\",HorizontalLine:\"─\",hscr:\"𝒽\",Hscr:\"ℋ\",hslash:\"ℏ\",Hstrok:\"Ħ\",hstrok:\"ħ\",HumpDownHump:\"≎\",HumpEqual:\"≏\",hybull:\"⁃\",hyphen:\"‐\",Iacute:\"Í\",iacute:\"í\",ic:\"⁣\",Icirc:\"Î\",icirc:\"î\",Icy:\"И\",icy:\"и\",Idot:\"İ\",IEcy:\"Е\",iecy:\"е\",iexcl:\"¡\",iff:\"⇔\",ifr:\"𝔦\",Ifr:\"ℑ\",Igrave:\"Ì\",igrave:\"ì\",ii:\"ⅈ\",iiiint:\"⨌\",iiint:\"∭\",iinfin:\"⧜\",iiota:\"℩\",IJlig:\"Ĳ\",ijlig:\"ĳ\",Imacr:\"Ī\",imacr:\"ī\",image:\"ℑ\",ImaginaryI:\"ⅈ\",imagline:\"ℐ\",imagpart:\"ℑ\",imath:\"ı\",Im:\"ℑ\",imof:\"⊷\",imped:\"Ƶ\",Implies:\"⇒\",incare:\"℅\",\"in\":\"∈\",infin:\"∞\",infintie:\"⧝\",inodot:\"ı\",intcal:\"⊺\",int:\"∫\",Int:\"∬\",integers:\"ℤ\",Integral:\"∫\",intercal:\"⊺\",Intersection:\"⋂\",intlarhk:\"⨗\",intprod:\"⨼\",InvisibleComma:\"⁣\",InvisibleTimes:\"⁢\",IOcy:\"Ё\",iocy:\"ё\",Iogon:\"Į\",iogon:\"į\",Iopf:\"𝕀\",iopf:\"𝕚\",Iota:\"Ι\",iota:\"ι\",iprod:\"⨼\",iquest:\"¿\",iscr:\"𝒾\",Iscr:\"ℐ\",isin:\"∈\",isindot:\"⋵\",isinE:\"⋹\",isins:\"⋴\",isinsv:\"⋳\",isinv:\"∈\",it:\"⁢\",Itilde:\"Ĩ\",itilde:\"ĩ\",Iukcy:\"І\",iukcy:\"і\",Iuml:\"Ï\",iuml:\"ï\",Jcirc:\"Ĵ\",jcirc:\"ĵ\",Jcy:\"Й\",jcy:\"й\",Jfr:\"𝔍\",jfr:\"𝔧\",jmath:\"ȷ\",Jopf:\"𝕁\",jopf:\"𝕛\",Jscr:\"𝒥\",jscr:\"𝒿\",Jsercy:\"Ј\",jsercy:\"ј\",Jukcy:\"Є\",jukcy:\"є\",Kappa:\"Κ\",kappa:\"κ\",kappav:\"ϰ\",Kcedil:\"Ķ\",kcedil:\"ķ\",Kcy:\"К\",kcy:\"к\",Kfr:\"𝔎\",kfr:\"𝔨\",kgreen:\"ĸ\",KHcy:\"Х\",khcy:\"х\",KJcy:\"Ќ\",kjcy:\"ќ\",Kopf:\"𝕂\",kopf:\"𝕜\",Kscr:\"𝒦\",kscr:\"𝓀\",lAarr:\"⇚\",Lacute:\"Ĺ\",lacute:\"ĺ\",laemptyv:\"⦴\",lagran:\"ℒ\",Lambda:\"Λ\",lambda:\"λ\",lang:\"⟨\",Lang:\"⟪\",langd:\"⦑\",langle:\"⟨\",lap:\"⪅\",Laplacetrf:\"ℒ\",laquo:\"«\",larrb:\"⇤\",larrbfs:\"⤟\",larr:\"←\",Larr:\"↞\",lArr:\"⇐\",larrfs:\"⤝\",larrhk:\"↩\",larrlp:\"↫\",larrpl:\"⤹\",larrsim:\"⥳\",larrtl:\"↢\",latail:\"⤙\",lAtail:\"⤛\",lat:\"⪫\",late:\"⪭\",lates:\"⪭︀\",lbarr:\"⤌\",lBarr:\"⤎\",lbbrk:\"❲\",lbrace:\"{\",lbrack:\"[\",lbrke:\"⦋\",lbrksld:\"⦏\",lbrkslu:\"⦍\",Lcaron:\"Ľ\",lcaron:\"ľ\",Lcedil:\"Ļ\",lcedil:\"ļ\",lceil:\"⌈\",lcub:\"{\",Lcy:\"Л\",lcy:\"л\",ldca:\"⤶\",ldquo:\"“\",ldquor:\"„\",ldrdhar:\"⥧\",ldrushar:\"⥋\",ldsh:\"↲\",le:\"≤\",lE:\"≦\",LeftAngleBracket:\"⟨\",LeftArrowBar:\"⇤\",leftarrow:\"←\",LeftArrow:\"←\",Leftarrow:\"⇐\",LeftArrowRightArrow:\"⇆\",leftarrowtail:\"↢\",LeftCeiling:\"⌈\",LeftDoubleBracket:\"⟦\",LeftDownTeeVector:\"⥡\",LeftDownVectorBar:\"⥙\",LeftDownVector:\"⇃\",LeftFloor:\"⌊\",leftharpoondown:\"↽\",leftharpoonup:\"↼\",leftleftarrows:\"⇇\",leftrightarrow:\"↔\",LeftRightArrow:\"↔\",Leftrightarrow:\"⇔\",leftrightarrows:\"⇆\",leftrightharpoons:\"⇋\",leftrightsquigarrow:\"↭\",LeftRightVector:\"⥎\",LeftTeeArrow:\"↤\",LeftTee:\"⊣\",LeftTeeVector:\"⥚\",leftthreetimes:\"⋋\",LeftTriangleBar:\"⧏\",LeftTriangle:\"⊲\",LeftTriangleEqual:\"⊴\",LeftUpDownVector:\"⥑\",LeftUpTeeVector:\"⥠\",LeftUpVectorBar:\"⥘\",LeftUpVector:\"↿\",LeftVectorBar:\"⥒\",LeftVector:\"↼\",lEg:\"⪋\",leg:\"⋚\",leq:\"≤\",leqq:\"≦\",leqslant:\"⩽\",lescc:\"⪨\",les:\"⩽\",lesdot:\"⩿\",lesdoto:\"⪁\",lesdotor:\"⪃\",lesg:\"⋚︀\",lesges:\"⪓\",lessapprox:\"⪅\",lessdot:\"⋖\",lesseqgtr:\"⋚\",lesseqqgtr:\"⪋\",LessEqualGreater:\"⋚\",LessFullEqual:\"≦\",LessGreater:\"≶\",lessgtr:\"≶\",LessLess:\"⪡\",lesssim:\"≲\",LessSlantEqual:\"⩽\",LessTilde:\"≲\",lfisht:\"⥼\",lfloor:\"⌊\",Lfr:\"𝔏\",lfr:\"𝔩\",lg:\"≶\",lgE:\"⪑\",lHar:\"⥢\",lhard:\"↽\",lharu:\"↼\",lharul:\"⥪\",lhblk:\"▄\",LJcy:\"Љ\",ljcy:\"љ\",llarr:\"⇇\",ll:\"≪\",Ll:\"⋘\",llcorner:\"⌞\",Lleftarrow:\"⇚\",llhard:\"⥫\",lltri:\"◺\",Lmidot:\"Ŀ\",lmidot:\"ŀ\",lmoustache:\"⎰\",lmoust:\"⎰\",lnap:\"⪉\",lnapprox:\"⪉\",lne:\"⪇\",lnE:\"≨\",lneq:\"⪇\",lneqq:\"≨\",lnsim:\"⋦\",loang:\"⟬\",loarr:\"⇽\",lobrk:\"⟦\",longleftarrow:\"⟵\",LongLeftArrow:\"⟵\",Longleftarrow:\"⟸\",longleftrightarrow:\"⟷\",LongLeftRightArrow:\"⟷\",Longleftrightarrow:\"⟺\",longmapsto:\"⟼\",longrightarrow:\"⟶\",LongRightArrow:\"⟶\",Longrightarrow:\"⟹\",looparrowleft:\"↫\",looparrowright:\"↬\",lopar:\"⦅\",Lopf:\"𝕃\",lopf:\"𝕝\",loplus:\"⨭\",lotimes:\"⨴\",lowast:\"∗\",lowbar:\"_\",LowerLeftArrow:\"↙\",LowerRightArrow:\"↘\",loz:\"◊\",lozenge:\"◊\",lozf:\"⧫\",lpar:\"(\",lparlt:\"⦓\",lrarr:\"⇆\",lrcorner:\"⌟\",lrhar:\"⇋\",lrhard:\"⥭\",lrm:\"‎\",lrtri:\"⊿\",lsaquo:\"‹\",lscr:\"𝓁\",Lscr:\"ℒ\",lsh:\"↰\",Lsh:\"↰\",lsim:\"≲\",lsime:\"⪍\",lsimg:\"⪏\",lsqb:\"[\",lsquo:\"‘\",lsquor:\"‚\",Lstrok:\"Ł\",lstrok:\"ł\",ltcc:\"⪦\",ltcir:\"⩹\",lt:\"<\",LT:\"<\",Lt:\"≪\",ltdot:\"⋖\",lthree:\"⋋\",ltimes:\"⋉\",ltlarr:\"⥶\",ltquest:\"⩻\",ltri:\"◃\",ltrie:\"⊴\",ltrif:\"◂\",ltrPar:\"⦖\",lurdshar:\"⥊\",luruhar:\"⥦\",lvertneqq:\"≨︀\",lvnE:\"≨︀\",macr:\"¯\",male:\"♂\",malt:\"✠\",maltese:\"✠\",\"Map\":\"⤅\",map:\"↦\",mapsto:\"↦\",mapstodown:\"↧\",mapstoleft:\"↤\",mapstoup:\"↥\",marker:\"▮\",mcomma:\"⨩\",Mcy:\"М\",mcy:\"м\",mdash:\"—\",mDDot:\"∺\",measuredangle:\"∡\",MediumSpace:\" \",Mellintrf:\"ℳ\",Mfr:\"𝔐\",mfr:\"𝔪\",mho:\"℧\",micro:\"µ\",midast:\"*\",midcir:\"⫰\",mid:\"∣\",middot:\"·\",minusb:\"⊟\",minus:\"−\",minusd:\"∸\",minusdu:\"⨪\",MinusPlus:\"∓\",mlcp:\"⫛\",mldr:\"…\",mnplus:\"∓\",models:\"⊧\",Mopf:\"𝕄\",mopf:\"𝕞\",mp:\"∓\",mscr:\"𝓂\",Mscr:\"ℳ\",mstpos:\"∾\",Mu:\"Μ\",mu:\"μ\",multimap:\"⊸\",mumap:\"⊸\",nabla:\"∇\",Nacute:\"Ń\",nacute:\"ń\",nang:\"∠⃒\",nap:\"≉\",napE:\"⩰̸\",napid:\"≋̸\",napos:\"ŉ\",napprox:\"≉\",natural:\"♮\",naturals:\"ℕ\",natur:\"♮\",nbsp:\" \",nbump:\"≎̸\",nbumpe:\"≏̸\",ncap:\"⩃\",Ncaron:\"Ň\",ncaron:\"ň\",Ncedil:\"Ņ\",ncedil:\"ņ\",ncong:\"≇\",ncongdot:\"⩭̸\",ncup:\"⩂\",Ncy:\"Н\",ncy:\"н\",ndash:\"–\",nearhk:\"⤤\",nearr:\"↗\",neArr:\"⇗\",nearrow:\"↗\",ne:\"≠\",nedot:\"≐̸\",NegativeMediumSpace:\"​\",NegativeThickSpace:\"​\",NegativeThinSpace:\"​\",NegativeVeryThinSpace:\"​\",nequiv:\"≢\",nesear:\"⤨\",nesim:\"≂̸\",NestedGreaterGreater:\"≫\",NestedLessLess:\"≪\",NewLine:\"\\n\",nexist:\"∄\",nexists:\"∄\",Nfr:\"𝔑\",nfr:\"𝔫\",ngE:\"≧̸\",nge:\"≱\",ngeq:\"≱\",ngeqq:\"≧̸\",ngeqslant:\"⩾̸\",nges:\"⩾̸\",nGg:\"⋙̸\",ngsim:\"≵\",nGt:\"≫⃒\",ngt:\"≯\",ngtr:\"≯\",nGtv:\"≫̸\",nharr:\"↮\",nhArr:\"⇎\",nhpar:\"⫲\",ni:\"∋\",nis:\"⋼\",nisd:\"⋺\",niv:\"∋\",NJcy:\"Њ\",njcy:\"њ\",nlarr:\"↚\",nlArr:\"⇍\",nldr:\"‥\",nlE:\"≦̸\",nle:\"≰\",nleftarrow:\"↚\",nLeftarrow:\"⇍\",nleftrightarrow:\"↮\",nLeftrightarrow:\"⇎\",nleq:\"≰\",nleqq:\"≦̸\",nleqslant:\"⩽̸\",nles:\"⩽̸\",nless:\"≮\",nLl:\"⋘̸\",nlsim:\"≴\",nLt:\"≪⃒\",nlt:\"≮\",nltri:\"⋪\",nltrie:\"⋬\",nLtv:\"≪̸\",nmid:\"∤\",NoBreak:\"⁠\",NonBreakingSpace:\" \",nopf:\"𝕟\",Nopf:\"ℕ\",Not:\"⫬\",not:\"¬\",NotCongruent:\"≢\",NotCupCap:\"≭\",NotDoubleVerticalBar:\"∦\",NotElement:\"∉\",NotEqual:\"≠\",NotEqualTilde:\"≂̸\",NotExists:\"∄\",NotGreater:\"≯\",NotGreaterEqual:\"≱\",NotGreaterFullEqual:\"≧̸\",NotGreaterGreater:\"≫̸\",NotGreaterLess:\"≹\",NotGreaterSlantEqual:\"⩾̸\",NotGreaterTilde:\"≵\",NotHumpDownHump:\"≎̸\",NotHumpEqual:\"≏̸\",notin:\"∉\",notindot:\"⋵̸\",notinE:\"⋹̸\",notinva:\"∉\",notinvb:\"⋷\",notinvc:\"⋶\",NotLeftTriangleBar:\"⧏̸\",NotLeftTriangle:\"⋪\",NotLeftTriangleEqual:\"⋬\",NotLess:\"≮\",NotLessEqual:\"≰\",NotLessGreater:\"≸\",NotLessLess:\"≪̸\",NotLessSlantEqual:\"⩽̸\",NotLessTilde:\"≴\",NotNestedGreaterGreater:\"⪢̸\",NotNestedLessLess:\"⪡̸\",notni:\"∌\",notniva:\"∌\",notnivb:\"⋾\",notnivc:\"⋽\",NotPrecedes:\"⊀\",NotPrecedesEqual:\"⪯̸\",NotPrecedesSlantEqual:\"⋠\",NotReverseElement:\"∌\",NotRightTriangleBar:\"⧐̸\",NotRightTriangle:\"⋫\",NotRightTriangleEqual:\"⋭\",NotSquareSubset:\"⊏̸\",NotSquareSubsetEqual:\"⋢\",NotSquareSuperset:\"⊐̸\",NotSquareSupersetEqual:\"⋣\",NotSubset:\"⊂⃒\",NotSubsetEqual:\"⊈\",NotSucceeds:\"⊁\",NotSucceedsEqual:\"⪰̸\",NotSucceedsSlantEqual:\"⋡\",NotSucceedsTilde:\"≿̸\",NotSuperset:\"⊃⃒\",NotSupersetEqual:\"⊉\",NotTilde:\"≁\",NotTildeEqual:\"≄\",NotTildeFullEqual:\"≇\",NotTildeTilde:\"≉\",NotVerticalBar:\"∤\",nparallel:\"∦\",npar:\"∦\",nparsl:\"⫽⃥\",npart:\"∂̸\",npolint:\"⨔\",npr:\"⊀\",nprcue:\"⋠\",nprec:\"⊀\",npreceq:\"⪯̸\",npre:\"⪯̸\",nrarrc:\"⤳̸\",nrarr:\"↛\",nrArr:\"⇏\",nrarrw:\"↝̸\",nrightarrow:\"↛\",nRightarrow:\"⇏\",nrtri:\"⋫\",nrtrie:\"⋭\",nsc:\"⊁\",nsccue:\"⋡\",nsce:\"⪰̸\",Nscr:\"𝒩\",nscr:\"𝓃\",nshortmid:\"∤\",nshortparallel:\"∦\",nsim:\"≁\",nsime:\"≄\",nsimeq:\"≄\",nsmid:\"∤\",nspar:\"∦\",nsqsube:\"⋢\",nsqsupe:\"⋣\",nsub:\"⊄\",nsubE:\"⫅̸\",nsube:\"⊈\",nsubset:\"⊂⃒\",nsubseteq:\"⊈\",nsubseteqq:\"⫅̸\",nsucc:\"⊁\",nsucceq:\"⪰̸\",nsup:\"⊅\",nsupE:\"⫆̸\",nsupe:\"⊉\",nsupset:\"⊃⃒\",nsupseteq:\"⊉\",nsupseteqq:\"⫆̸\",ntgl:\"≹\",Ntilde:\"Ñ\",ntilde:\"ñ\",ntlg:\"≸\",ntriangleleft:\"⋪\",ntrianglelefteq:\"⋬\",ntriangleright:\"⋫\",ntrianglerighteq:\"⋭\",Nu:\"Ν\",nu:\"ν\",num:\"#\",numero:\"№\",numsp:\" \",nvap:\"≍⃒\",nvdash:\"⊬\",nvDash:\"⊭\",nVdash:\"⊮\",nVDash:\"⊯\",nvge:\"≥⃒\",nvgt:\">⃒\",nvHarr:\"⤄\",nvinfin:\"⧞\",nvlArr:\"⤂\",nvle:\"≤⃒\",nvlt:\"<⃒\",nvltrie:\"⊴⃒\",nvrArr:\"⤃\",nvrtrie:\"⊵⃒\",nvsim:\"∼⃒\",nwarhk:\"⤣\",nwarr:\"↖\",nwArr:\"⇖\",nwarrow:\"↖\",nwnear:\"⤧\",Oacute:\"Ó\",oacute:\"ó\",oast:\"⊛\",Ocirc:\"Ô\",ocirc:\"ô\",ocir:\"⊚\",Ocy:\"О\",ocy:\"о\",odash:\"⊝\",Odblac:\"Ő\",odblac:\"ő\",odiv:\"⨸\",odot:\"⊙\",odsold:\"⦼\",OElig:\"Œ\",oelig:\"œ\",ofcir:\"⦿\",Ofr:\"𝔒\",ofr:\"𝔬\",ogon:\"˛\",Ograve:\"Ò\",ograve:\"ò\",ogt:\"⧁\",ohbar:\"⦵\",ohm:\"Ω\",oint:\"∮\",olarr:\"↺\",olcir:\"⦾\",olcross:\"⦻\",oline:\"‾\",olt:\"⧀\",Omacr:\"Ō\",omacr:\"ō\",Omega:\"Ω\",omega:\"ω\",Omicron:\"Ο\",omicron:\"ο\",omid:\"⦶\",ominus:\"⊖\",Oopf:\"𝕆\",oopf:\"𝕠\",opar:\"⦷\",OpenCurlyDoubleQuote:\"“\",OpenCurlyQuote:\"‘\",operp:\"⦹\",oplus:\"⊕\",orarr:\"↻\",Or:\"⩔\",or:\"∨\",ord:\"⩝\",order:\"ℴ\",orderof:\"ℴ\",ordf:\"ª\",ordm:\"º\",origof:\"⊶\",oror:\"⩖\",orslope:\"⩗\",orv:\"⩛\",oS:\"Ⓢ\",Oscr:\"𝒪\",oscr:\"ℴ\",Oslash:\"Ø\",oslash:\"ø\",osol:\"⊘\",Otilde:\"Õ\",otilde:\"õ\",otimesas:\"⨶\",Otimes:\"⨷\",otimes:\"⊗\",Ouml:\"Ö\",ouml:\"ö\",ovbar:\"⌽\",OverBar:\"‾\",OverBrace:\"⏞\",OverBracket:\"⎴\",OverParenthesis:\"⏜\",para:\"¶\",parallel:\"∥\",par:\"∥\",parsim:\"⫳\",parsl:\"⫽\",part:\"∂\",PartialD:\"∂\",Pcy:\"П\",pcy:\"п\",percnt:\"%\",period:\".\",permil:\"‰\",perp:\"⊥\",pertenk:\"‱\",Pfr:\"𝔓\",pfr:\"𝔭\",Phi:\"Φ\",phi:\"φ\",phiv:\"ϕ\",phmmat:\"ℳ\",phone:\"☎\",Pi:\"Π\",pi:\"π\",pitchfork:\"⋔\",piv:\"ϖ\",planck:\"ℏ\",planckh:\"ℎ\",plankv:\"ℏ\",plusacir:\"⨣\",plusb:\"⊞\",pluscir:\"⨢\",plus:\"+\",plusdo:\"∔\",plusdu:\"⨥\",pluse:\"⩲\",PlusMinus:\"±\",plusmn:\"±\",plussim:\"⨦\",plustwo:\"⨧\",pm:\"±\",Poincareplane:\"ℌ\",pointint:\"⨕\",popf:\"𝕡\",Popf:\"ℙ\",pound:\"£\",prap:\"⪷\",Pr:\"⪻\",pr:\"≺\",prcue:\"≼\",precapprox:\"⪷\",prec:\"≺\",preccurlyeq:\"≼\",Precedes:\"≺\",PrecedesEqual:\"⪯\",PrecedesSlantEqual:\"≼\",PrecedesTilde:\"≾\",preceq:\"⪯\",precnapprox:\"⪹\",precneqq:\"⪵\",precnsim:\"⋨\",pre:\"⪯\",prE:\"⪳\",precsim:\"≾\",prime:\"′\",Prime:\"″\",primes:\"ℙ\",prnap:\"⪹\",prnE:\"⪵\",prnsim:\"⋨\",prod:\"∏\",Product:\"∏\",profalar:\"⌮\",profline:\"⌒\",profsurf:\"⌓\",prop:\"∝\",Proportional:\"∝\",Proportion:\"∷\",propto:\"∝\",prsim:\"≾\",prurel:\"⊰\",Pscr:\"𝒫\",pscr:\"𝓅\",Psi:\"Ψ\",psi:\"ψ\",puncsp:\" \",Qfr:\"𝔔\",qfr:\"𝔮\",qint:\"⨌\",qopf:\"𝕢\",Qopf:\"ℚ\",qprime:\"⁗\",Qscr:\"𝒬\",qscr:\"𝓆\",quaternions:\"ℍ\",quatint:\"⨖\",quest:\"?\",questeq:\"≟\",quot:\"\\\"\",QUOT:\"\\\"\",rAarr:\"⇛\",race:\"∽̱\",Racute:\"Ŕ\",racute:\"ŕ\",radic:\"√\",raemptyv:\"⦳\",rang:\"⟩\",Rang:\"⟫\",rangd:\"⦒\",range:\"⦥\",rangle:\"⟩\",raquo:\"»\",rarrap:\"⥵\",rarrb:\"⇥\",rarrbfs:\"⤠\",rarrc:\"⤳\",rarr:\"→\",Rarr:\"↠\",rArr:\"⇒\",rarrfs:\"⤞\",rarrhk:\"↪\",rarrlp:\"↬\",rarrpl:\"⥅\",rarrsim:\"⥴\",Rarrtl:\"⤖\",rarrtl:\"↣\",rarrw:\"↝\",ratail:\"⤚\",rAtail:\"⤜\",ratio:\"∶\",rationals:\"ℚ\",rbarr:\"⤍\",rBarr:\"⤏\",RBarr:\"⤐\",rbbrk:\"❳\",rbrace:\"}\",rbrack:\"]\",rbrke:\"⦌\",rbrksld:\"⦎\",rbrkslu:\"⦐\",Rcaron:\"Ř\",rcaron:\"ř\",Rcedil:\"Ŗ\",rcedil:\"ŗ\",rceil:\"⌉\",rcub:\"}\",Rcy:\"Р\",rcy:\"р\",rdca:\"⤷\",rdldhar:\"⥩\",rdquo:\"”\",rdquor:\"”\",rdsh:\"↳\",real:\"ℜ\",realine:\"ℛ\",realpart:\"ℜ\",reals:\"ℝ\",Re:\"ℜ\",rect:\"▭\",reg:\"®\",REG:\"®\",ReverseElement:\"∋\",ReverseEquilibrium:\"⇋\",ReverseUpEquilibrium:\"⥯\",rfisht:\"⥽\",rfloor:\"⌋\",rfr:\"𝔯\",Rfr:\"ℜ\",rHar:\"⥤\",rhard:\"⇁\",rharu:\"⇀\",rharul:\"⥬\",Rho:\"Ρ\",rho:\"ρ\",rhov:\"ϱ\",RightAngleBracket:\"⟩\",RightArrowBar:\"⇥\",rightarrow:\"→\",RightArrow:\"→\",Rightarrow:\"⇒\",RightArrowLeftArrow:\"⇄\",rightarrowtail:\"↣\",RightCeiling:\"⌉\",RightDoubleBracket:\"⟧\",RightDownTeeVector:\"⥝\",RightDownVectorBar:\"⥕\",RightDownVector:\"⇂\",RightFloor:\"⌋\",rightharpoondown:\"⇁\",rightharpoonup:\"⇀\",rightleftarrows:\"⇄\",rightleftharpoons:\"⇌\",rightrightarrows:\"⇉\",rightsquigarrow:\"↝\",RightTeeArrow:\"↦\",RightTee:\"⊢\",RightTeeVector:\"⥛\",rightthreetimes:\"⋌\",RightTriangleBar:\"⧐\",RightTriangle:\"⊳\",RightTriangleEqual:\"⊵\",RightUpDownVector:\"⥏\",RightUpTeeVector:\"⥜\",RightUpVectorBar:\"⥔\",RightUpVector:\"↾\",RightVectorBar:\"⥓\",RightVector:\"⇀\",ring:\"˚\",risingdotseq:\"≓\",rlarr:\"⇄\",rlhar:\"⇌\",rlm:\"‏\",rmoustache:\"⎱\",rmoust:\"⎱\",rnmid:\"⫮\",roang:\"⟭\",roarr:\"⇾\",robrk:\"⟧\",ropar:\"⦆\",ropf:\"𝕣\",Ropf:\"ℝ\",roplus:\"⨮\",rotimes:\"⨵\",RoundImplies:\"⥰\",rpar:\")\",rpargt:\"⦔\",rppolint:\"⨒\",rrarr:\"⇉\",Rrightarrow:\"⇛\",rsaquo:\"›\",rscr:\"𝓇\",Rscr:\"ℛ\",rsh:\"↱\",Rsh:\"↱\",rsqb:\"]\",rsquo:\"’\",rsquor:\"’\",rthree:\"⋌\",rtimes:\"⋊\",rtri:\"▹\",rtrie:\"⊵\",rtrif:\"▸\",rtriltri:\"⧎\",RuleDelayed:\"⧴\",ruluhar:\"⥨\",rx:\"℞\",Sacute:\"Ś\",sacute:\"ś\",sbquo:\"‚\",scap:\"⪸\",Scaron:\"Š\",scaron:\"š\",Sc:\"⪼\",sc:\"≻\",sccue:\"≽\",sce:\"⪰\",scE:\"⪴\",Scedil:\"Ş\",scedil:\"ş\",Scirc:\"Ŝ\",scirc:\"ŝ\",scnap:\"⪺\",scnE:\"⪶\",scnsim:\"⋩\",scpolint:\"⨓\",scsim:\"≿\",Scy:\"С\",scy:\"с\",sdotb:\"⊡\",sdot:\"⋅\",sdote:\"⩦\",searhk:\"⤥\",searr:\"↘\",seArr:\"⇘\",searrow:\"↘\",sect:\"§\",semi:\";\",seswar:\"⤩\",setminus:\"∖\",setmn:\"∖\",sext:\"✶\",Sfr:\"𝔖\",sfr:\"𝔰\",sfrown:\"⌢\",sharp:\"♯\",SHCHcy:\"Щ\",shchcy:\"щ\",SHcy:\"Ш\",shcy:\"ш\",ShortDownArrow:\"↓\",ShortLeftArrow:\"←\",shortmid:\"∣\",shortparallel:\"∥\",ShortRightArrow:\"→\",ShortUpArrow:\"↑\",shy:\"­\",Sigma:\"Σ\",sigma:\"σ\",sigmaf:\"ς\",sigmav:\"ς\",sim:\"∼\",simdot:\"⩪\",sime:\"≃\",simeq:\"≃\",simg:\"⪞\",simgE:\"⪠\",siml:\"⪝\",simlE:\"⪟\",simne:\"≆\",simplus:\"⨤\",simrarr:\"⥲\",slarr:\"←\",SmallCircle:\"∘\",smallsetminus:\"∖\",smashp:\"⨳\",smeparsl:\"⧤\",smid:\"∣\",smile:\"⌣\",smt:\"⪪\",smte:\"⪬\",smtes:\"⪬︀\",SOFTcy:\"Ь\",softcy:\"ь\",solbar:\"⌿\",solb:\"⧄\",sol:\"/\",Sopf:\"𝕊\",sopf:\"𝕤\",spades:\"♠\",spadesuit:\"♠\",spar:\"∥\",sqcap:\"⊓\",sqcaps:\"⊓︀\",sqcup:\"⊔\",sqcups:\"⊔︀\",Sqrt:\"√\",sqsub:\"⊏\",sqsube:\"⊑\",sqsubset:\"⊏\",sqsubseteq:\"⊑\",sqsup:\"⊐\",sqsupe:\"⊒\",sqsupset:\"⊐\",sqsupseteq:\"⊒\",square:\"□\",Square:\"□\",SquareIntersection:\"⊓\",SquareSubset:\"⊏\",SquareSubsetEqual:\"⊑\",SquareSuperset:\"⊐\",SquareSupersetEqual:\"⊒\",SquareUnion:\"⊔\",squarf:\"▪\",squ:\"□\",squf:\"▪\",srarr:\"→\",Sscr:\"𝒮\",sscr:\"𝓈\",ssetmn:\"∖\",ssmile:\"⌣\",sstarf:\"⋆\",Star:\"⋆\",star:\"☆\",starf:\"★\",straightepsilon:\"ϵ\",straightphi:\"ϕ\",strns:\"¯\",sub:\"⊂\",Sub:\"⋐\",subdot:\"⪽\",subE:\"⫅\",sube:\"⊆\",subedot:\"⫃\",submult:\"⫁\",subnE:\"⫋\",subne:\"⊊\",subplus:\"⪿\",subrarr:\"⥹\",subset:\"⊂\",Subset:\"⋐\",subseteq:\"⊆\",subseteqq:\"⫅\",SubsetEqual:\"⊆\",subsetneq:\"⊊\",subsetneqq:\"⫋\",subsim:\"⫇\",subsub:\"⫕\",subsup:\"⫓\",succapprox:\"⪸\",succ:\"≻\",succcurlyeq:\"≽\",Succeeds:\"≻\",SucceedsEqual:\"⪰\",SucceedsSlantEqual:\"≽\",SucceedsTilde:\"≿\",succeq:\"⪰\",succnapprox:\"⪺\",succneqq:\"⪶\",succnsim:\"⋩\",succsim:\"≿\",SuchThat:\"∋\",sum:\"∑\",Sum:\"∑\",sung:\"♪\",sup1:\"¹\",sup2:\"²\",sup3:\"³\",sup:\"⊃\",Sup:\"⋑\",supdot:\"⪾\",supdsub:\"⫘\",supE:\"⫆\",supe:\"⊇\",supedot:\"⫄\",Superset:\"⊃\",SupersetEqual:\"⊇\",suphsol:\"⟉\",suphsub:\"⫗\",suplarr:\"⥻\",supmult:\"⫂\",supnE:\"⫌\",supne:\"⊋\",supplus:\"⫀\",supset:\"⊃\",Supset:\"⋑\",supseteq:\"⊇\",supseteqq:\"⫆\",supsetneq:\"⊋\",supsetneqq:\"⫌\",supsim:\"⫈\",supsub:\"⫔\",supsup:\"⫖\",swarhk:\"⤦\",swarr:\"↙\",swArr:\"⇙\",swarrow:\"↙\",swnwar:\"⤪\",szlig:\"ß\",Tab:\"\\t\",target:\"⌖\",Tau:\"Τ\",tau:\"τ\",tbrk:\"⎴\",Tcaron:\"Ť\",tcaron:\"ť\",Tcedil:\"Ţ\",tcedil:\"ţ\",Tcy:\"Т\",tcy:\"т\",tdot:\"⃛\",telrec:\"⌕\",Tfr:\"𝔗\",tfr:\"𝔱\",there4:\"∴\",therefore:\"∴\",Therefore:\"∴\",Theta:\"Θ\",theta:\"θ\",thetasym:\"ϑ\",thetav:\"ϑ\",thickapprox:\"≈\",thicksim:\"∼\",ThickSpace:\"  \",ThinSpace:\" \",thinsp:\" \",thkap:\"≈\",thksim:\"∼\",THORN:\"Þ\",thorn:\"þ\",tilde:\"˜\",Tilde:\"∼\",TildeEqual:\"≃\",TildeFullEqual:\"≅\",TildeTilde:\"≈\",timesbar:\"⨱\",timesb:\"⊠\",times:\"×\",timesd:\"⨰\",tint:\"∭\",toea:\"⤨\",topbot:\"⌶\",topcir:\"⫱\",top:\"⊤\",Topf:\"𝕋\",topf:\"𝕥\",topfork:\"⫚\",tosa:\"⤩\",tprime:\"‴\",trade:\"™\",TRADE:\"™\",triangle:\"▵\",triangledown:\"▿\",triangleleft:\"◃\",trianglelefteq:\"⊴\",triangleq:\"≜\",triangleright:\"▹\",trianglerighteq:\"⊵\",tridot:\"◬\",trie:\"≜\",triminus:\"⨺\",TripleDot:\"⃛\",triplus:\"⨹\",trisb:\"⧍\",tritime:\"⨻\",trpezium:\"⏢\",Tscr:\"𝒯\",tscr:\"𝓉\",TScy:\"Ц\",tscy:\"ц\",TSHcy:\"Ћ\",tshcy:\"ћ\",Tstrok:\"Ŧ\",tstrok:\"ŧ\",twixt:\"≬\",twoheadleftarrow:\"↞\",twoheadrightarrow:\"↠\",Uacute:\"Ú\",uacute:\"ú\",uarr:\"↑\",Uarr:\"↟\",uArr:\"⇑\",Uarrocir:\"⥉\",Ubrcy:\"Ў\",ubrcy:\"ў\",Ubreve:\"Ŭ\",ubreve:\"ŭ\",Ucirc:\"Û\",ucirc:\"û\",Ucy:\"У\",ucy:\"у\",udarr:\"⇅\",Udblac:\"Ű\",udblac:\"ű\",udhar:\"⥮\",ufisht:\"⥾\",Ufr:\"𝔘\",ufr:\"𝔲\",Ugrave:\"Ù\",ugrave:\"ù\",uHar:\"⥣\",uharl:\"↿\",uharr:\"↾\",uhblk:\"▀\",ulcorn:\"⌜\",ulcorner:\"⌜\",ulcrop:\"⌏\",ultri:\"◸\",Umacr:\"Ū\",umacr:\"ū\",uml:\"¨\",UnderBar:\"_\",UnderBrace:\"⏟\",UnderBracket:\"⎵\",UnderParenthesis:\"⏝\",Union:\"⋃\",UnionPlus:\"⊎\",Uogon:\"Ų\",uogon:\"ų\",Uopf:\"𝕌\",uopf:\"𝕦\",UpArrowBar:\"⤒\",uparrow:\"↑\",UpArrow:\"↑\",Uparrow:\"⇑\",UpArrowDownArrow:\"⇅\",updownarrow:\"↕\",UpDownArrow:\"↕\",Updownarrow:\"⇕\",UpEquilibrium:\"⥮\",upharpoonleft:\"↿\",upharpoonright:\"↾\",uplus:\"⊎\",UpperLeftArrow:\"↖\",UpperRightArrow:\"↗\",upsi:\"υ\",Upsi:\"ϒ\",upsih:\"ϒ\",Upsilon:\"Υ\",upsilon:\"υ\",UpTeeArrow:\"↥\",UpTee:\"⊥\",upuparrows:\"⇈\",urcorn:\"⌝\",urcorner:\"⌝\",urcrop:\"⌎\",Uring:\"Ů\",uring:\"ů\",urtri:\"◹\",Uscr:\"𝒰\",uscr:\"𝓊\",utdot:\"⋰\",Utilde:\"Ũ\",utilde:\"ũ\",utri:\"▵\",utrif:\"▴\",uuarr:\"⇈\",Uuml:\"Ü\",uuml:\"ü\",uwangle:\"⦧\",vangrt:\"⦜\",varepsilon:\"ϵ\",varkappa:\"ϰ\",varnothing:\"∅\",varphi:\"ϕ\",varpi:\"ϖ\",varpropto:\"∝\",varr:\"↕\",vArr:\"⇕\",varrho:\"ϱ\",varsigma:\"ς\",varsubsetneq:\"⊊︀\",varsubsetneqq:\"⫋︀\",varsupsetneq:\"⊋︀\",varsupsetneqq:\"⫌︀\",vartheta:\"ϑ\",vartriangleleft:\"⊲\",vartriangleright:\"⊳\",vBar:\"⫨\",Vbar:\"⫫\",vBarv:\"⫩\",Vcy:\"В\",vcy:\"в\",vdash:\"⊢\",vDash:\"⊨\",Vdash:\"⊩\",VDash:\"⊫\",Vdashl:\"⫦\",veebar:\"⊻\",vee:\"∨\",Vee:\"⋁\",veeeq:\"≚\",vellip:\"⋮\",verbar:\"|\",Verbar:\"‖\",vert:\"|\",Vert:\"‖\",VerticalBar:\"∣\",VerticalLine:\"|\",VerticalSeparator:\"❘\",VerticalTilde:\"≀\",VeryThinSpace:\" \",Vfr:\"𝔙\",vfr:\"𝔳\",vltri:\"⊲\",vnsub:\"⊂⃒\",vnsup:\"⊃⃒\",Vopf:\"𝕍\",vopf:\"𝕧\",vprop:\"∝\",vrtri:\"⊳\",Vscr:\"𝒱\",vscr:\"𝓋\",vsubnE:\"⫋︀\",vsubne:\"⊊︀\",vsupnE:\"⫌︀\",vsupne:\"⊋︀\",Vvdash:\"⊪\",vzigzag:\"⦚\",Wcirc:\"Ŵ\",wcirc:\"ŵ\",wedbar:\"⩟\",wedge:\"∧\",Wedge:\"⋀\",wedgeq:\"≙\",weierp:\"℘\",Wfr:\"𝔚\",wfr:\"𝔴\",Wopf:\"𝕎\",wopf:\"𝕨\",wp:\"℘\",wr:\"≀\",wreath:\"≀\",Wscr:\"𝒲\",wscr:\"𝓌\",xcap:\"⋂\",xcirc:\"◯\",xcup:\"⋃\",xdtri:\"▽\",Xfr:\"𝔛\",xfr:\"𝔵\",xharr:\"⟷\",xhArr:\"⟺\",Xi:\"Ξ\",xi:\"ξ\",xlarr:\"⟵\",xlArr:\"⟸\",xmap:\"⟼\",xnis:\"⋻\",xodot:\"⨀\",Xopf:\"𝕏\",xopf:\"𝕩\",xoplus:\"⨁\",xotime:\"⨂\",xrarr:\"⟶\",xrArr:\"⟹\",Xscr:\"𝒳\",xscr:\"𝓍\",xsqcup:\"⨆\",xuplus:\"⨄\",xutri:\"△\",xvee:\"⋁\",xwedge:\"⋀\",Yacute:\"Ý\",yacute:\"ý\",YAcy:\"Я\",yacy:\"я\",Ycirc:\"Ŷ\",ycirc:\"ŷ\",Ycy:\"Ы\",ycy:\"ы\",yen:\"¥\",Yfr:\"𝔜\",yfr:\"𝔶\",YIcy:\"Ї\",yicy:\"ї\",Yopf:\"𝕐\",yopf:\"𝕪\",Yscr:\"𝒴\",yscr:\"𝓎\",YUcy:\"Ю\",yucy:\"ю\",yuml:\"ÿ\",Yuml:\"Ÿ\",Zacute:\"Ź\",zacute:\"ź\",Zcaron:\"Ž\",zcaron:\"ž\",Zcy:\"З\",zcy:\"з\",Zdot:\"Ż\",zdot:\"ż\",zeetrf:\"ℨ\",ZeroWidthSpace:\"​\",Zeta:\"Ζ\",zeta:\"ζ\",zfr:\"𝔷\",Zfr:\"ℨ\",ZHcy:\"Ж\",zhcy:\"ж\",zigrarr:\"⇝\",zopf:\"𝕫\",Zopf:\"ℤ\",Zscr:\"𝒵\",zscr:\"𝓏\",zwj:\"‍\",zwnj:\"‌\"};\n\nvar entities$1 = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    'default': entities\n});\n\nvar legacy = {Aacute:\"Á\",aacute:\"á\",Acirc:\"Â\",acirc:\"â\",acute:\"´\",AElig:\"Æ\",aelig:\"æ\",Agrave:\"À\",agrave:\"à\",amp:\"&\",AMP:\"&\",Aring:\"Å\",aring:\"å\",Atilde:\"Ã\",atilde:\"ã\",Auml:\"Ä\",auml:\"ä\",brvbar:\"¦\",Ccedil:\"Ç\",ccedil:\"ç\",cedil:\"¸\",cent:\"¢\",copy:\"©\",COPY:\"©\",curren:\"¤\",deg:\"°\",divide:\"÷\",Eacute:\"É\",eacute:\"é\",Ecirc:\"Ê\",ecirc:\"ê\",Egrave:\"È\",egrave:\"è\",ETH:\"Ð\",eth:\"ð\",Euml:\"Ë\",euml:\"ë\",frac12:\"½\",frac14:\"¼\",frac34:\"¾\",gt:\">\",GT:\">\",Iacute:\"Í\",iacute:\"í\",Icirc:\"Î\",icirc:\"î\",iexcl:\"¡\",Igrave:\"Ì\",igrave:\"ì\",iquest:\"¿\",Iuml:\"Ï\",iuml:\"ï\",laquo:\"«\",lt:\"<\",LT:\"<\",macr:\"¯\",micro:\"µ\",middot:\"·\",nbsp:\" \",not:\"¬\",Ntilde:\"Ñ\",ntilde:\"ñ\",Oacute:\"Ó\",oacute:\"ó\",Ocirc:\"Ô\",ocirc:\"ô\",Ograve:\"Ò\",ograve:\"ò\",ordf:\"ª\",ordm:\"º\",Oslash:\"Ø\",oslash:\"ø\",Otilde:\"Õ\",otilde:\"õ\",Ouml:\"Ö\",ouml:\"ö\",para:\"¶\",plusmn:\"±\",pound:\"£\",quot:\"\\\"\",QUOT:\"\\\"\",raquo:\"»\",reg:\"®\",REG:\"®\",sect:\"§\",shy:\"­\",sup1:\"¹\",sup2:\"²\",sup3:\"³\",szlig:\"ß\",THORN:\"Þ\",thorn:\"þ\",times:\"×\",Uacute:\"Ú\",uacute:\"ú\",Ucirc:\"Û\",ucirc:\"û\",Ugrave:\"Ù\",ugrave:\"ù\",uml:\"¨\",Uuml:\"Ü\",uuml:\"ü\",Yacute:\"Ý\",yacute:\"ý\",yen:\"¥\",yuml:\"ÿ\"};\n\nvar legacy$1 = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    'default': legacy\n});\n\nvar xml = {amp:\"&\",apos:\"'\",gt:\">\",lt:\"<\",quot:\"\\\"\"};\n\nvar xml$1 = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    'default': xml\n});\n\nvar decode = {\"0\":65533,\"128\":8364,\"130\":8218,\"131\":402,\"132\":8222,\"133\":8230,\"134\":8224,\"135\":8225,\"136\":710,\"137\":8240,\"138\":352,\"139\":8249,\"140\":338,\"142\":381,\"145\":8216,\"146\":8217,\"147\":8220,\"148\":8221,\"149\":8226,\"150\":8211,\"151\":8212,\"152\":732,\"153\":8482,\"154\":353,\"155\":8250,\"156\":339,\"158\":382,\"159\":376};\n\nvar decode$1 = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    'default': decode\n});\n\nvar require$$0 = getCjsExportFromNamespace(decode$1);\n\nvar decode_codepoint = createCommonjsModule(function (module, exports) {\nvar __importDefault = (commonjsGlobal && commonjsGlobal.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar decode_json_1 = __importDefault(require$$0);\n// Modified version of https://github.com/mathiasbynens/he/blob/master/src/he.js#L94-L119\nfunction decodeCodePoint(codePoint) {\n    if ((codePoint >= 0xd800 && codePoint <= 0xdfff) || codePoint > 0x10ffff) {\n        return \"\\uFFFD\";\n    }\n    if (codePoint in decode_json_1.default) {\n        codePoint = decode_json_1.default[codePoint];\n    }\n    var output = \"\";\n    if (codePoint > 0xffff) {\n        codePoint -= 0x10000;\n        output += String.fromCharCode(((codePoint >>> 10) & 0x3ff) | 0xd800);\n        codePoint = 0xdc00 | (codePoint & 0x3ff);\n    }\n    output += String.fromCharCode(codePoint);\n    return output;\n}\nexports.default = decodeCodePoint;\n});\n\nunwrapExports(decode_codepoint);\n\nvar require$$1 = getCjsExportFromNamespace(entities$1);\n\nvar require$$2 = getCjsExportFromNamespace(legacy$1);\n\nvar require$$3 = getCjsExportFromNamespace(xml$1);\n\nvar decode$2 = createCommonjsModule(function (module, exports) {\nvar __importDefault = (commonjsGlobal && commonjsGlobal.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decodeHTML = exports.decodeHTMLStrict = exports.decodeXML = void 0;\nvar entities_json_1 = __importDefault(require$$1);\nvar legacy_json_1 = __importDefault(require$$2);\nvar xml_json_1 = __importDefault(require$$3);\nvar decode_codepoint_1 = __importDefault(decode_codepoint);\nexports.decodeXML = getStrictDecoder(xml_json_1.default);\nexports.decodeHTMLStrict = getStrictDecoder(entities_json_1.default);\nfunction getStrictDecoder(map) {\n    var keys = Object.keys(map).join(\"|\");\n    var replace = getReplacer(map);\n    keys += \"|#[xX][\\\\da-fA-F]+|#\\\\d+\";\n    var re = new RegExp(\"&(?:\" + keys + \");\", \"g\");\n    return function (str) { return String(str).replace(re, replace); };\n}\nvar sorter = function (a, b) { return (a < b ? 1 : -1); };\nexports.decodeHTML = (function () {\n    var legacy = Object.keys(legacy_json_1.default).sort(sorter);\n    var keys = Object.keys(entities_json_1.default).sort(sorter);\n    for (var i = 0, j = 0; i < keys.length; i++) {\n        if (legacy[j] === keys[i]) {\n            keys[i] += \";?\";\n            j++;\n        }\n        else {\n            keys[i] += \";\";\n        }\n    }\n    var re = new RegExp(\"&(?:\" + keys.join(\"|\") + \"|#[xX][\\\\da-fA-F]+;?|#\\\\d+;?)\", \"g\");\n    var replace = getReplacer(entities_json_1.default);\n    function replacer(str) {\n        if (str.substr(-1) !== \";\")\n            str += \";\";\n        return replace(str);\n    }\n    // TODO consider creating a merged map\n    return function (str) { return String(str).replace(re, replacer); };\n})();\nfunction getReplacer(map) {\n    return function replace(str) {\n        if (str.charAt(1) === \"#\") {\n            var secondChar = str.charAt(2);\n            if (secondChar === \"X\" || secondChar === \"x\") {\n                return decode_codepoint_1.default(parseInt(str.substr(3), 16));\n            }\n            return decode_codepoint_1.default(parseInt(str.substr(2), 10));\n        }\n        return map[str.slice(1, -1)];\n    };\n}\n});\n\nunwrapExports(decode$2);\nvar decode_1 = decode$2.decodeHTML;\nvar decode_2 = decode$2.decodeHTMLStrict;\nvar decode_3 = decode$2.decodeXML;\n\nvar encode = createCommonjsModule(function (module, exports) {\nvar __importDefault = (commonjsGlobal && commonjsGlobal.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.escape = exports.encodeHTML = exports.encodeXML = void 0;\nvar xml_json_1 = __importDefault(require$$3);\nvar inverseXML = getInverseObj(xml_json_1.default);\nvar xmlReplacer = getInverseReplacer(inverseXML);\nexports.encodeXML = getInverse(inverseXML, xmlReplacer);\nvar entities_json_1 = __importDefault(require$$1);\nvar inverseHTML = getInverseObj(entities_json_1.default);\nvar htmlReplacer = getInverseReplacer(inverseHTML);\nexports.encodeHTML = getInverse(inverseHTML, htmlReplacer);\nfunction getInverseObj(obj) {\n    return Object.keys(obj)\n        .sort()\n        .reduce(function (inverse, name) {\n        inverse[obj[name]] = \"&\" + name + \";\";\n        return inverse;\n    }, {});\n}\nfunction getInverseReplacer(inverse) {\n    var single = [];\n    var multiple = [];\n    for (var _i = 0, _a = Object.keys(inverse); _i < _a.length; _i++) {\n        var k = _a[_i];\n        if (k.length === 1) {\n            // Add value to single array\n            single.push(\"\\\\\" + k);\n        }\n        else {\n            // Add value to multiple array\n            multiple.push(k);\n        }\n    }\n    // Add ranges to single characters.\n    single.sort();\n    for (var start = 0; start < single.length - 1; start++) {\n        // Find the end of a run of characters\n        var end = start;\n        while (end < single.length - 1 &&\n            single[end].charCodeAt(1) + 1 === single[end + 1].charCodeAt(1)) {\n            end += 1;\n        }\n        var count = 1 + end - start;\n        // We want to replace at least three characters\n        if (count < 3)\n            continue;\n        single.splice(start, count, single[start] + \"-\" + single[end]);\n    }\n    multiple.unshift(\"[\" + single.join(\"\") + \"]\");\n    return new RegExp(multiple.join(\"|\"), \"g\");\n}\nvar reNonASCII = /(?:[\\x80-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])/g;\nfunction singleCharReplacer(c) {\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    return \"&#x\" + c.codePointAt(0).toString(16).toUpperCase() + \";\";\n}\nfunction getInverse(inverse, re) {\n    return function (data) {\n        return data\n            .replace(re, function (name) { return inverse[name]; })\n            .replace(reNonASCII, singleCharReplacer);\n    };\n}\nvar reXmlChars = getInverseReplacer(inverseXML);\nfunction escape(data) {\n    return data\n        .replace(reXmlChars, singleCharReplacer)\n        .replace(reNonASCII, singleCharReplacer);\n}\nexports.escape = escape;\n});\n\nunwrapExports(encode);\nvar encode_1 = encode.escape;\nvar encode_2 = encode.encodeHTML;\nvar encode_3 = encode.encodeXML;\n\nvar lib = createCommonjsModule(function (module, exports) {\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decodeXMLStrict = exports.decodeHTML5Strict = exports.decodeHTML4Strict = exports.decodeHTML5 = exports.decodeHTML4 = exports.decodeHTMLStrict = exports.decodeHTML = exports.decodeXML = exports.encodeHTML5 = exports.encodeHTML4 = exports.escape = exports.encodeHTML = exports.encodeXML = exports.encode = exports.decodeStrict = exports.decode = void 0;\n\n\n/**\n * Decodes a string with entities.\n *\n * @param data String to decode.\n * @param level Optional level to decode at. 0 = XML, 1 = HTML. Default is 0.\n */\nfunction decode(data, level) {\n    return (!level || level <= 0 ? decode$2.decodeXML : decode$2.decodeHTML)(data);\n}\nexports.decode = decode;\n/**\n * Decodes a string with entities. Does not allow missing trailing semicolons for entities.\n *\n * @param data String to decode.\n * @param level Optional level to decode at. 0 = XML, 1 = HTML. Default is 0.\n */\nfunction decodeStrict(data, level) {\n    return (!level || level <= 0 ? decode$2.decodeXML : decode$2.decodeHTMLStrict)(data);\n}\nexports.decodeStrict = decodeStrict;\n/**\n * Encodes a string with entities.\n *\n * @param data String to encode.\n * @param level Optional level to encode at. 0 = XML, 1 = HTML. Default is 0.\n */\nfunction encode$1(data, level) {\n    return (!level || level <= 0 ? encode.encodeXML : encode.encodeHTML)(data);\n}\nexports.encode = encode$1;\nvar encode_2 = encode;\nObject.defineProperty(exports, \"encodeXML\", { enumerable: true, get: function () { return encode_2.encodeXML; } });\nObject.defineProperty(exports, \"encodeHTML\", { enumerable: true, get: function () { return encode_2.encodeHTML; } });\nObject.defineProperty(exports, \"escape\", { enumerable: true, get: function () { return encode_2.escape; } });\n// Legacy aliases\nObject.defineProperty(exports, \"encodeHTML4\", { enumerable: true, get: function () { return encode_2.encodeHTML; } });\nObject.defineProperty(exports, \"encodeHTML5\", { enumerable: true, get: function () { return encode_2.encodeHTML; } });\nvar decode_2 = decode$2;\nObject.defineProperty(exports, \"decodeXML\", { enumerable: true, get: function () { return decode_2.decodeXML; } });\nObject.defineProperty(exports, \"decodeHTML\", { enumerable: true, get: function () { return decode_2.decodeHTML; } });\nObject.defineProperty(exports, \"decodeHTMLStrict\", { enumerable: true, get: function () { return decode_2.decodeHTMLStrict; } });\n// Legacy aliases\nObject.defineProperty(exports, \"decodeHTML4\", { enumerable: true, get: function () { return decode_2.decodeHTML; } });\nObject.defineProperty(exports, \"decodeHTML5\", { enumerable: true, get: function () { return decode_2.decodeHTML; } });\nObject.defineProperty(exports, \"decodeHTML4Strict\", { enumerable: true, get: function () { return decode_2.decodeHTMLStrict; } });\nObject.defineProperty(exports, \"decodeHTML5Strict\", { enumerable: true, get: function () { return decode_2.decodeHTMLStrict; } });\nObject.defineProperty(exports, \"decodeXMLStrict\", { enumerable: true, get: function () { return decode_2.decodeXML; } });\n});\n\nunwrapExports(lib);\nvar lib_1 = lib.decodeXMLStrict;\nvar lib_2 = lib.decodeHTML5Strict;\nvar lib_3 = lib.decodeHTML4Strict;\nvar lib_4 = lib.decodeHTML5;\nvar lib_5 = lib.decodeHTML4;\nvar lib_6 = lib.decodeHTMLStrict;\nvar lib_7 = lib.decodeHTML;\nvar lib_8 = lib.decodeXML;\nvar lib_9 = lib.encodeHTML5;\nvar lib_10 = lib.encodeHTML4;\nvar lib_11 = lib.escape;\nvar lib_12 = lib.encodeHTML;\nvar lib_13 = lib.encodeXML;\nvar lib_14 = lib.encode;\nvar lib_15 = lib.decodeStrict;\nvar lib_16 = lib.decode;\n\nfunction clearNodeChildren(node) {\r\n    while (node.firstChild) {\r\n        node.removeChild(node.firstChild);\r\n    }\r\n}\n\n/**\n * This method is like `_.uniq` except that it accepts `comparator` which\n * is invoked to compare elements of `array`. The order of result values is\n * determined by the order they occur in the array.The comparator is invoked\n * with two arguments: (arrVal, othVal).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 2 }];\n *\n * _.uniqWith(objects, _.isEqual);\n * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }]\n */\nfunction uniqWith(array, comparator) {\n  comparator = typeof comparator == 'function' ? comparator : undefined;\n  return (array && array.length) ? _baseUniq(array, undefined, comparator) : [];\n}\n\nvar uniqWith_1 = uniqWith;\n\n/**\r\n * Find the offsets within the children of the given node\r\n * @param parentNode DOM node containing children with attributes `data-child-begin` and `data-child-end`\r\n * @param begin the start offset to search for\r\n * @param end end offset\r\n * @param _getTextNodeAndOffset function for retrieving text node and offset\r\n * @return begin/end text nodes and offsets within those nodes; for use with DOM `Range`\r\n */\r\nfunction findOffsetInDOM(parentNode, begin, end) {\r\n    var allNodes = Array.from(parentNode.querySelectorAll('[data-child-begin]'));\r\n    var beginNode, endNode, idx = 0;\r\n    do {\r\n        beginNode = allNodes[idx];\r\n    } while (++idx &&\r\n        idx < allNodes.length &&\r\n        begin >= parseInt(allNodes[idx].dataset.childBegin || '0', 10));\r\n    idx--; // reset to index of `beginNode`\r\n    do {\r\n        endNode = allNodes[idx];\r\n    } while (++idx &&\r\n        idx < allNodes.length &&\r\n        end > parseInt(allNodes[idx].dataset.childBegin, 10));\r\n    var _a = getTextNodeAndOffset(beginNode, begin), beginTextNode = _a.textNode, beginOffset = _a.textOffset;\r\n    var _b = getTextNodeAndOffset(endNode, end), endTextNode = _b.textNode, endOffset = _b.textOffset;\r\n    return {\r\n        beginTextNode: beginTextNode,\r\n        beginOffset: beginOffset,\r\n        endTextNode: endTextNode,\r\n        endOffset: endOffset\r\n    };\r\n}\r\n/**\r\n * Find the appropriate DOM TextNode and offset within to match the given\r\n * string offset\r\n * @param {HTMLElement} node\r\n * @param {number} strOffset - offset into HTML string\r\n * @return TextNode and DOM offset matching the given string offset\r\n */\r\nfunction getTextNodeAndOffset(node, strOffset) {\r\n    var nodeElement = node;\r\n    // beginOffset - offset into HTML string for beginning of this node's content\r\n    var beginStrOffset = parseInt(nodeElement.dataset.childBegin || '0', 10);\r\n    // domOffset - offset within DOM node\r\n    var domOffset = Math.max(0, strOffset - beginStrOffset);\r\n    // If attribute 'data-orig-text' is present then the string contains some\r\n    // encoded entities so, we need adjust the `domOffset`\r\n    var originalText = nodeElement.dataset.origText;\r\n    if (originalText) {\r\n        // To properly calculate the offset of the string we want to highlight\r\n        // we need to get the offset from the decoded html text and subtract\r\n        // it from the original encoded html offset. we doing this because the\r\n        // offsets are based on the original html string which may contain\r\n        // html entities (eg. `&quot;`), however those entities get rendered in\r\n        // the dom which throws off the offsets values, for example `&quot;`\r\n        // becomes `\"`, going from 6 characters to 1.\r\n        var encodedTextSubstring = originalText.substring(0, domOffset);\r\n        var decodedText = lib_7(encodedTextSubstring);\r\n        var adjustment = domOffset - decodedText.length;\r\n        domOffset = Math.max(0, domOffset - adjustment);\r\n    }\r\n    // In certain cases (i.e. text length > 65536 chars), the DOM will break\r\n    // up text into multiple TextNodes. Loop through TextNodes, finding which\r\n    // contains the `domOffset`\r\n    var iterator = document.createNodeIterator(node, NodeFilter.SHOW_TEXT);\r\n    var textNode, len;\r\n    do {\r\n        textNode = iterator.nextNode();\r\n    } while (textNode && (len = textNode.data.length) && domOffset > len && (domOffset -= len));\r\n    if (textNode === null) {\r\n        throw new Error(\"Failed to find text node. Node: \" + node.textContent + \", offset: \" + strOffset);\r\n    }\r\n    return { textNode: textNode, textOffset: domOffset };\r\n}\r\n/**\r\n * Create \"field\" rects in the DOM, starting/ending with values of beginTextNode/beginOffset\r\n * & endTextNode/endOffset.\r\n * @param args.fragment DocumentFragment or Node in which to create field rects\r\n * @param args.parentRect dimensions of parent of field rects\r\n * @param args.fieldType type string for field rects\r\n * @param args.fieldId id string for field rects\r\n * @param args.beginTextNode\r\n * @param args.beginOffset\r\n * @param args.endTextNode\r\n * @param args.endOffset\r\n */\r\nfunction createFieldRects(_a) {\r\n    var fragment = _a.fragment, parentRect = _a.parentRect, fieldType = _a.fieldType, fieldId = _a.fieldId, beginTextNode = _a.beginTextNode, beginOffset = _a.beginOffset, endTextNode = _a.endTextNode, endOffset = _a.endOffset;\r\n    // create a Range for each field\r\n    var range = document.createRange();\r\n    range.setStart(beginTextNode, Math.min(beginOffset, beginTextNode.length));\r\n    range.setEnd(endTextNode, Math.min(endOffset, endTextNode.length));\r\n    // create a field container\r\n    var fieldNode = document.createElement('div');\r\n    fieldNode.className = 'field';\r\n    fieldNode.dataset.fieldType = fieldType;\r\n    fieldNode.dataset.fieldId = fieldId;\r\n    fieldNode.setAttribute('data-testid', \"field-\" + fieldId);\r\n    fragment.appendChild(fieldNode);\r\n    // create highlight rect(s) inside of a field\r\n    Array.prototype.forEach.call(uniqRects(range.getClientRects()), function (rect) {\r\n        var div = document.createElement('div');\r\n        div.className = 'field--rect';\r\n        div.setAttribute('data-testid', 'field-rect');\r\n        div.setAttribute('style', \"top: \" + (rect.top - parentRect.top) + \"px;\\n          left: \" + (rect.left - parentRect.left) + \"px;\\n          width: \" + rect.width + \"px;\\n          height: \" + rect.height + \"px;\");\r\n        fieldNode.appendChild(div);\r\n    });\r\n}\r\n// Some browsers (Chrome, Safari) return duplicate rects\r\nfunction uniqRects(rects) {\r\n    return uniqWith_1(rects, function (rectA, rectB) {\r\n        return rectA.bottom === rectB.bottom &&\r\n            rectA.height === rectB.height &&\r\n            rectA.left === rectB.left &&\r\n            rectA.right === rectB.right &&\r\n            rectA.top === rectB.top &&\r\n            rectA.width === rectB.width &&\r\n            rectA.x === rectB.x &&\r\n            rectA.y === rectB.y;\r\n    });\r\n}\r\nfunction spansIntersect(_a, _b) {\r\n    var beginA = _a.begin, endA = _a.end;\r\n    var beginB = _b.begin, endB = _b.end;\r\n    return beginA <= endB && endA > beginB;\r\n}\n\n/**\r\n * Get `text_mappings` document property as an object. Usually, this\r\n * prop is stored as a JSON string; if so, parse and return as object.\r\n */\r\nfunction getTextMappings(doc) {\r\n    var mappings = get_1(doc, 'extracted_metadata.text_mappings');\r\n    if (mappings && typeof mappings === 'string') {\r\n        try {\r\n            mappings = JSON.parse(mappings);\r\n        }\r\n        catch (err) {\r\n            // fail gracefully - text mapping cannot be parsed\r\n            console.error('Failure parsing text_mappings', err);\r\n            mappings = null;\r\n        }\r\n    }\r\n    else {\r\n        // text mapping is not a string or no mappings are present\r\n        mappings = null;\r\n    }\r\n    return mappings;\r\n}\r\n/**\r\n * Returns true if the `file_type` is CSV\r\n */\r\nfunction isCsvFile(doc) {\r\n    return get_1(doc, 'extracted_metadata.file_type') === 'csv';\r\n}\r\n/**\r\n * Returns true if the `file_type` is JSON\r\n */\r\nfunction isJsonFile(doc) {\r\n    return get_1(doc, 'extracted_metadata.file_type') === 'json';\r\n}\n\nvar START = 0;\r\nvar END = 1;\r\n/* eslint-disable @typescript-eslint/camelcase */\r\nfunction getPassagePageInfo(textMappings, passage) {\r\n    var start_offset = passage.start_offset, end_offset = passage.end_offset, field = passage.field;\r\n    if (typeof start_offset !== 'number' || typeof end_offset !== 'number') {\r\n        return null;\r\n    }\r\n    return get_1(textMappings, 'text_mappings', [])\r\n        .filter(function (cell) {\r\n        var _a = cell.field, name = _a.name, span = _a.span;\r\n        return (name === field &&\r\n            spansIntersect({ begin: span[START], end: span[END] }, { begin: start_offset, end: end_offset }));\r\n    })\r\n        .map(function (cell) { return cell.page; });\r\n}\r\n/* eslint-enable @typescript-eslint/camelcase */\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction isPassage(obj) {\r\n    return obj && 'passage_text' in obj;\r\n}\n\nfunction _extends$1() { _extends$1 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$1.apply(this, arguments); }\n\nfunction _objectWithoutProperties$2(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose$2(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose$2(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nvar _ref2$9 = /*#__PURE__*/React$g__default.createElement(\"path\", {\n  d: \"M24 46.86H9a.33.33 0 01-.25-.11l-7.5-7.5a.33.33 0 01-.11-.25V16.5a.36.36 0 01.36-.36h7.14a15.36 15.36 0 1126.47 11l11.64 11.61-.5.5L34.6 27.61a15.24 15.24 0 01-10.24 4.25V46.5a.36.36 0 01-.36.36zm-14.64-.72h14.28V31.86a15.39 15.39 0 01-15-15H1.86v21.78H9a.36.36 0 01.36.36zm-7-6.78l6.27 6.27v-6.27zM24 1.86A14.64 14.64 0 1038.64 16.5 14.66 14.66 0 0024 1.86z\",\n  \"data-name\": \"analyze\"\n});\n\nvar _ref3$2 = /*#__PURE__*/React$g__default.createElement(\"path\", {\n  d: \"M19.73 19.37a.76.76 0 01-.61-.22 1 1 0 01-.24-.55h-.05a1.31 1.31 0 01-.49.64 1.56 1.56 0 01-.91.23 1.69 1.69 0 01-1.15-.37 1.31 1.31 0 01-.42-1 1.2 1.2 0 01.48-1 2.7 2.7 0 011.53-.35h.95v-.41a1 1 0 00-.27-.74 1.1 1.1 0 00-.79-.25 1.54 1.54 0 00-.75.17 1.38 1.38 0 00-.47.49l-.54-.47a1.52 1.52 0 01.25-.35 1.65 1.65 0 01.39-.29 1.89 1.89 0 01.52-.21 2.71 2.71 0 01.66-.08 2 2 0 011.33.42 1.48 1.48 0 01.49 1.19v2.45h.62v.7zm-2.1-.55a1.4 1.4 0 00.85-.24.67.67 0 00.34-.58v-.72h-.94a1.69 1.69 0 00-.88.17.53.53 0 00-.28.49v.19a.61.61 0 00.24.52 1.18 1.18 0 00.67.17zM22.11 12.71H23v2.79a1.6 1.6 0 01.56-.66 1.55 1.55 0 01.86-.23 1.57 1.57 0 011.32.63 2.92 2.92 0 01.49 1.8 2.92 2.92 0 01-.49 1.8 1.57 1.57 0 01-1.32.63 1.55 1.55 0 01-.86-.22 1.6 1.6 0 01-.56-.66v.78h-.84zm2 6.05a1.2 1.2 0 00.89-.36 1.44 1.44 0 00.32-1v-.77a1.42 1.42 0 00-.32-1 1.2 1.2 0 00-.93-.37 1.42 1.42 0 00-.42.06 1 1 0 00-.36.18.83.83 0 00-.25.28.8.8 0 00-.09.39v1.62a.84.84 0 00.09.4.75.75 0 00.25.28.86.86 0 00.36.17 1.42 1.42 0 00.42.12zM30.22 19.47a2.17 2.17 0 01-.91-.17 1.75 1.75 0 01-.68-.49 2.33 2.33 0 01-.42-.76 3.44 3.44 0 010-2 2.23 2.23 0 01.42-.76 1.88 1.88 0 01.68-.5 2.33 2.33 0 01.9-.17A1.76 1.76 0 0132 15.7l-.66.36a1.1 1.1 0 00-.4-.54 1.33 1.33 0 00-1.63.18 1.36 1.36 0 00-.33.95v.79a1.37 1.37 0 00.33.95 1.2 1.2 0 00.95.37 1.22 1.22 0 00.74-.21 1.57 1.57 0 00.47-.57l.6.4a1.84 1.84 0 01-.66.78 2 2 0 01-1.19.31z\"\n});\n\nvar SvgDocumentPreview = function SvgDocumentPreview(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties$2(_ref, [\"svgRef\"]);\n\n  return /*#__PURE__*/React$g__default.createElement(\"svg\", _extends$1({\n    \"data-name\": \"Layer 1\",\n    viewBox: \"0 0 48 48\",\n    ref: svgRef\n  }, props), _ref2$9, _ref3$2);\n};\n\nvar ForwardRef$1 = /*#__PURE__*/React$g__default.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React$g__default.createElement(SvgDocumentPreview, _extends$1({\n    svgRef: ref\n  }, props));\n});\n\nvar ErrorState = function (_a) {\r\n    var header = _a.header, message = _a.message;\r\n    var baseClass = settings.prefix + \"--simple-document__error-view\";\r\n    return (React$g__default.createElement(\"div\", { className: baseClass, \"data-testid\": \"error_state\" },\r\n        React$g__default.createElement(\"div\", { className: baseClass + \"__icon\" },\r\n            React$g__default.createElement(ForwardRef$1, null)),\r\n        React$g__default.createElement(\"div\", null,\r\n            React$g__default.createElement(\"h1\", { className: baseClass + \"__header\" }, header),\r\n            React$g__default.createElement(\"div\", { className: baseClass + \"__message\" }, message))));\r\n};\n\nvar SimpleDocument = function (_a) {\r\n    var _b, _c, _d, _e, _f;\r\n    var document = _a.document, highlight = _a.highlight, loading = _a.loading, setLoading = _a.setLoading, hideToolbarControls = _a.hideToolbarControls, setHideToolbarControls = _a.setHideToolbarControls, _g = _a.cannotPreviewMessage, cannotPreviewMessage = _g === void 0 ? \"Can't preview document\" : _g, _h = _a.cannotPreviewMessage2, cannotPreviewMessage2 = _h === void 0 ? \"Try the JSON tab for a different view of this document's data.\" : _h;\r\n    var contentRef = useRef(null);\r\n    var highlightRef = useRef(null);\r\n    var componentSettings = useContext(SearchContext).componentSettings;\r\n    var html, passage = null;\r\n    if (document) {\r\n        // JSON and CSV files will default to displaying the specified body field, `text` field, or passage highlighting field.\r\n        // Otherwise an error is shown\r\n        var isJsonOrCsvType = isJsonFile(document) || isCsvFile(document);\r\n        var field = (_d = (_c = (_b = componentSettings === null || componentSettings === void 0 ? void 0 : componentSettings.fields_shown) === null || _b === void 0 ? void 0 : _b.body) === null || _c === void 0 ? void 0 : _c.field) !== null && _d !== void 0 ? _d : 'text';\r\n        if (isJsonOrCsvType && (!highlight || !isPassage(highlight)) && document[field] === undefined) {\r\n            // An error message will be rendered\r\n            html = null;\r\n        }\r\n        else {\r\n            // if there is a passage highlight, use text values from field specified in passage\r\n            if (highlight && isPassage(highlight)) {\r\n                passage = highlight;\r\n                field = passage.field;\r\n                if (!field) {\r\n                    // if passage has no defined field, choose a default and unset `highlight`\r\n                    field = 'text';\r\n                    highlight = undefined;\r\n                }\r\n            }\r\n            else {\r\n                // see if user has specified a body field; default to 'text' field\r\n                field = ((_f = (_e = componentSettings === null || componentSettings === void 0 ? void 0 : componentSettings.fields_shown) === null || _e === void 0 ? void 0 : _e.body) === null || _f === void 0 ? void 0 : _f.field) || 'text';\r\n            }\r\n            var text = void 0;\r\n            if (typeof document[field] === 'undefined') {\r\n                // such a field doesn't exist in the document; fall back to 'text'\r\n                text = document.text || '';\r\n                passage = null;\r\n            }\r\n            else {\r\n                text = document[field];\r\n            }\r\n            if (!Array.isArray(text)) {\r\n                text = [text];\r\n            }\r\n            var rollingStart_1 = 0;\r\n            html = text\r\n                .map(function (val) {\r\n                var end = rollingStart_1 + val.length - 1;\r\n                var res = \"<p data-child-begin=\" + rollingStart_1 + \" data-child-end=\" + end + \">\" + lib_12(val) + \"</p>\";\r\n                rollingStart_1 = end + 1;\r\n                return res;\r\n            })\r\n                .join('\\n');\r\n        }\r\n    }\r\n    useEffect(function () {\r\n        if (document) {\r\n            if (loading) {\r\n                setLoading(false);\r\n            }\r\n            if (typeof setHideToolbarControls === 'function' && !hideToolbarControls) {\r\n                setHideToolbarControls(true);\r\n            }\r\n        }\r\n    }, [document, hideToolbarControls, loading, setHideToolbarControls, setLoading]);\r\n    // highlight passage and scroll into view\r\n    useEffect(function () {\r\n        var contentNode = contentRef.current;\r\n        var highlightNode = highlightRef.current;\r\n        if (highlightNode) {\r\n            clearNodeChildren(highlightNode);\r\n        }\r\n        if (!passage || !contentNode || !highlightNode) {\r\n            return;\r\n        }\r\n        var begin = passage.start_offset, end = passage.end_offset;\r\n        if (typeof begin === 'undefined' || typeof end === 'undefined') {\r\n            return;\r\n        }\r\n        var offsets = findOffsetInDOM(contentNode, begin, end);\r\n        var fragment = window.document.createDocumentFragment();\r\n        var parentRect = contentNode.getBoundingClientRect();\r\n        createFieldRects(__assign({ fragment: fragment,\r\n            parentRect: parentRect, fieldType: 'passage', fieldId: begin.toString() }, offsets));\r\n        highlightNode.appendChild(fragment);\r\n        // scroll highlight into view\r\n        var firstFieldRect = highlightNode.querySelector('.field--rect');\r\n        if (firstFieldRect) {\r\n            firstFieldRect.scrollIntoView({ block: 'center' });\r\n        }\r\n    }, [passage]);\r\n    var baseClass = settings.prefix + \"--simple-document\";\r\n    return (React$g__default.createElement(\"div\", { className: baseClass }, html ? (React$g__default.createElement(\"div\", { className: baseClass + \"__wrapper\" },\r\n        React$g__default.createElement(\"div\", { ref: highlightRef }),\r\n        React$g__default.createElement(\"div\", { className: baseClass + \"__content\", dangerouslySetInnerHTML: { __html: html }, ref: contentRef }))) : (React$g__default.createElement(ErrorState, { header: cannotPreviewMessage, message: cannotPreviewMessage2 }))));\r\n};\n\n/**\r\n * High-order component which injects a `didCatch` property, letting\r\n * wrapped component know that a previous render resulted in a\r\n * caught error.\r\n */\r\nfunction withErrorBoundary(WrappedComponent) {\r\n    var _a;\r\n    return _a = /** @class */ (function (_super) {\r\n            __extends(WithErrorBoundary, _super);\r\n            function WithErrorBoundary(props) {\r\n                var _this = _super.call(this, props) || this;\r\n                _this.state = { didCatch: false };\r\n                return _this;\r\n            }\r\n            WithErrorBoundary.getDerivedStateFromError = function ( /* error: Error */) {\r\n                return { didCatch: true };\r\n            };\r\n            // componentDidCatch(error, errorInfo) {\r\n            //   logErrorToMyService(error, errorInfo);\r\n            // }\r\n            WithErrorBoundary.prototype.componentDidUpdate = function (_, prevState) {\r\n                // If properties change and we had previously caught an error, reset\r\n                // so component can re-render normally.\r\n                if (prevState.didCatch) {\r\n                    this.setState({ didCatch: false });\r\n                }\r\n            };\r\n            WithErrorBoundary.prototype.render = function () {\r\n                return React$g__default.createElement(WrappedComponent, __assign({}, this.props, this.state));\r\n            };\r\n            return WithErrorBoundary;\r\n        }(PureComponent)),\r\n        _a.displayName = \"WithErrorBoundary(\" + (WrappedComponent.displayName ||\r\n            WrappedComponent.name ||\r\n            'Component') + \")\",\r\n        _a.WrappedComponent = WrappedComponent,\r\n        _a;\r\n}\n\nvar defaultMessages$3 = {\r\n    noDataMessage: 'No document data',\r\n    errorMessage: 'Error previewing document'\r\n};\n\nvar purify = createCommonjsModule(function (module, exports) {\n/*! @license DOMPurify | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.0.8/LICENSE */\n\n(function (global, factory) {\n   module.exports = factory() ;\n}(commonjsGlobal, function () {\n  function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n  var hasOwnProperty = Object.hasOwnProperty,\n      setPrototypeOf = Object.setPrototypeOf,\n      isFrozen = Object.isFrozen,\n      objectKeys = Object.keys;\n  var freeze = Object.freeze,\n      seal = Object.seal,\n      create = Object.create; // eslint-disable-line import/no-mutable-exports\n\n  var _ref = typeof Reflect !== 'undefined' && Reflect,\n      apply = _ref.apply,\n      construct = _ref.construct;\n\n  if (!apply) {\n    apply = function apply(fun, thisValue, args) {\n      return fun.apply(thisValue, args);\n    };\n  }\n\n  if (!freeze) {\n    freeze = function freeze(x) {\n      return x;\n    };\n  }\n\n  if (!seal) {\n    seal = function seal(x) {\n      return x;\n    };\n  }\n\n  if (!construct) {\n    construct = function construct(Func, args) {\n      return new (Function.prototype.bind.apply(Func, [null].concat(_toConsumableArray(args))))();\n    };\n  }\n\n  var arrayForEach = unapply(Array.prototype.forEach);\n  var arrayIndexOf = unapply(Array.prototype.indexOf);\n  var arrayJoin = unapply(Array.prototype.join);\n  var arrayPop = unapply(Array.prototype.pop);\n  var arrayPush = unapply(Array.prototype.push);\n  var arraySlice = unapply(Array.prototype.slice);\n\n  var stringToLowerCase = unapply(String.prototype.toLowerCase);\n  var stringMatch = unapply(String.prototype.match);\n  var stringReplace = unapply(String.prototype.replace);\n  var stringIndexOf = unapply(String.prototype.indexOf);\n  var stringTrim = unapply(String.prototype.trim);\n\n  var regExpTest = unapply(RegExp.prototype.test);\n  var regExpCreate = unconstruct(RegExp);\n\n  var typeErrorCreate = unconstruct(TypeError);\n\n  function unapply(func) {\n    return function (thisArg) {\n      for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      return apply(func, thisArg, args);\n    };\n  }\n\n  function unconstruct(func) {\n    return function () {\n      for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return construct(func, args);\n    };\n  }\n\n  /* Add properties to a lookup table */\n  function addToSet(set, array) {\n    if (setPrototypeOf) {\n      // Make 'in' and truthy checks like Boolean(set.constructor)\n      // independent of any properties defined on Object.prototype.\n      // Prevent prototype setters from intercepting set as a this value.\n      setPrototypeOf(set, null);\n    }\n\n    var l = array.length;\n    while (l--) {\n      var element = array[l];\n      if (typeof element === 'string') {\n        var lcElement = stringToLowerCase(element);\n        if (lcElement !== element) {\n          // Config presets (e.g. tags.js, attrs.js) are immutable.\n          if (!isFrozen(array)) {\n            array[l] = lcElement;\n          }\n\n          element = lcElement;\n        }\n      }\n\n      set[element] = true;\n    }\n\n    return set;\n  }\n\n  /* Shallow clone an object */\n  function clone(object) {\n    var newObject = create(null);\n\n    var property = void 0;\n    for (property in object) {\n      if (apply(hasOwnProperty, object, [property])) {\n        newObject[property] = object[property];\n      }\n    }\n\n    return newObject;\n  }\n\n  var html = freeze(['a', 'abbr', 'acronym', 'address', 'area', 'article', 'aside', 'audio', 'b', 'bdi', 'bdo', 'big', 'blink', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'center', 'cite', 'code', 'col', 'colgroup', 'content', 'data', 'datalist', 'dd', 'decorator', 'del', 'details', 'dfn', 'dir', 'div', 'dl', 'dt', 'element', 'em', 'fieldset', 'figcaption', 'figure', 'font', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'img', 'input', 'ins', 'kbd', 'label', 'legend', 'li', 'main', 'map', 'mark', 'marquee', 'menu', 'menuitem', 'meter', 'nav', 'nobr', 'ol', 'optgroup', 'option', 'output', 'p', 'picture', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'section', 'select', 'shadow', 'small', 'source', 'spacer', 'span', 'strike', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'template', 'textarea', 'tfoot', 'th', 'thead', 'time', 'tr', 'track', 'tt', 'u', 'ul', 'var', 'video', 'wbr']);\n\n  // SVG\n  var svg = freeze(['svg', 'a', 'altglyph', 'altglyphdef', 'altglyphitem', 'animatecolor', 'animatemotion', 'animatetransform', 'audio', 'canvas', 'circle', 'clippath', 'defs', 'desc', 'ellipse', 'filter', 'font', 'g', 'glyph', 'glyphref', 'hkern', 'image', 'line', 'lineargradient', 'marker', 'mask', 'metadata', 'mpath', 'path', 'pattern', 'polygon', 'polyline', 'radialgradient', 'rect', 'stop', 'style', 'switch', 'symbol', 'text', 'textpath', 'title', 'tref', 'tspan', 'video', 'view', 'vkern']);\n\n  var svgFilters = freeze(['feBlend', 'feColorMatrix', 'feComponentTransfer', 'feComposite', 'feConvolveMatrix', 'feDiffuseLighting', 'feDisplacementMap', 'feDistantLight', 'feFlood', 'feFuncA', 'feFuncB', 'feFuncG', 'feFuncR', 'feGaussianBlur', 'feMerge', 'feMergeNode', 'feMorphology', 'feOffset', 'fePointLight', 'feSpecularLighting', 'feSpotLight', 'feTile', 'feTurbulence']);\n\n  var mathMl = freeze(['math', 'menclose', 'merror', 'mfenced', 'mfrac', 'mglyph', 'mi', 'mlabeledtr', 'mmultiscripts', 'mn', 'mo', 'mover', 'mpadded', 'mphantom', 'mroot', 'mrow', 'ms', 'mspace', 'msqrt', 'mstyle', 'msub', 'msup', 'msubsup', 'mtable', 'mtd', 'mtext', 'mtr', 'munder', 'munderover']);\n\n  var text = freeze(['#text']);\n\n  var html$1 = freeze(['accept', 'action', 'align', 'alt', 'autocapitalize', 'autocomplete', 'autopictureinpicture', 'autoplay', 'background', 'bgcolor', 'border', 'capture', 'cellpadding', 'cellspacing', 'checked', 'cite', 'class', 'clear', 'color', 'cols', 'colspan', 'controls', 'controlslist', 'coords', 'crossorigin', 'datetime', 'decoding', 'default', 'dir', 'disabled', 'disablepictureinpicture', 'disableremoteplayback', 'download', 'draggable', 'enctype', 'enterkeyhint', 'face', 'for', 'headers', 'height', 'hidden', 'high', 'href', 'hreflang', 'id', 'inputmode', 'integrity', 'ismap', 'kind', 'label', 'lang', 'list', 'loading', 'loop', 'low', 'max', 'maxlength', 'media', 'method', 'min', 'minlength', 'multiple', 'muted', 'name', 'noshade', 'novalidate', 'nowrap', 'open', 'optimum', 'pattern', 'placeholder', 'playsinline', 'poster', 'preload', 'pubdate', 'radiogroup', 'readonly', 'rel', 'required', 'rev', 'reversed', 'role', 'rows', 'rowspan', 'spellcheck', 'scope', 'selected', 'shape', 'size', 'sizes', 'span', 'srclang', 'start', 'src', 'srcset', 'step', 'style', 'summary', 'tabindex', 'title', 'translate', 'type', 'usemap', 'valign', 'value', 'width', 'xmlns']);\n\n  var svg$1 = freeze(['accent-height', 'accumulate', 'additive', 'alignment-baseline', 'ascent', 'attributename', 'attributetype', 'azimuth', 'basefrequency', 'baseline-shift', 'begin', 'bias', 'by', 'class', 'clip', 'clippathunits', 'clip-path', 'clip-rule', 'color', 'color-interpolation', 'color-interpolation-filters', 'color-profile', 'color-rendering', 'cx', 'cy', 'd', 'dx', 'dy', 'diffuseconstant', 'direction', 'display', 'divisor', 'dur', 'edgemode', 'elevation', 'end', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'filterunits', 'flood-color', 'flood-opacity', 'font-family', 'font-size', 'font-size-adjust', 'font-stretch', 'font-style', 'font-variant', 'font-weight', 'fx', 'fy', 'g1', 'g2', 'glyph-name', 'glyphref', 'gradientunits', 'gradienttransform', 'height', 'href', 'id', 'image-rendering', 'in', 'in2', 'k', 'k1', 'k2', 'k3', 'k4', 'kerning', 'keypoints', 'keysplines', 'keytimes', 'lang', 'lengthadjust', 'letter-spacing', 'kernelmatrix', 'kernelunitlength', 'lighting-color', 'local', 'marker-end', 'marker-mid', 'marker-start', 'markerheight', 'markerunits', 'markerwidth', 'maskcontentunits', 'maskunits', 'max', 'mask', 'media', 'method', 'mode', 'min', 'name', 'numoctaves', 'offset', 'operator', 'opacity', 'order', 'orient', 'orientation', 'origin', 'overflow', 'paint-order', 'path', 'pathlength', 'patterncontentunits', 'patterntransform', 'patternunits', 'points', 'preservealpha', 'preserveaspectratio', 'primitiveunits', 'r', 'rx', 'ry', 'radius', 'refx', 'refy', 'repeatcount', 'repeatdur', 'restart', 'result', 'rotate', 'scale', 'seed', 'shape-rendering', 'specularconstant', 'specularexponent', 'spreadmethod', 'startoffset', 'stddeviation', 'stitchtiles', 'stop-color', 'stop-opacity', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke', 'stroke-width', 'style', 'surfacescale', 'systemlanguage', 'tabindex', 'targetx', 'targety', 'transform', 'text-anchor', 'text-decoration', 'text-rendering', 'textlength', 'type', 'u1', 'u2', 'unicode', 'values', 'viewbox', 'visibility', 'version', 'vert-adv-y', 'vert-origin-x', 'vert-origin-y', 'width', 'word-spacing', 'wrap', 'writing-mode', 'xchannelselector', 'ychannelselector', 'x', 'x1', 'x2', 'xmlns', 'y', 'y1', 'y2', 'z', 'zoomandpan']);\n\n  var mathMl$1 = freeze(['accent', 'accentunder', 'align', 'bevelled', 'close', 'columnsalign', 'columnlines', 'columnspan', 'denomalign', 'depth', 'dir', 'display', 'displaystyle', 'encoding', 'fence', 'frame', 'height', 'href', 'id', 'largeop', 'length', 'linethickness', 'lspace', 'lquote', 'mathbackground', 'mathcolor', 'mathsize', 'mathvariant', 'maxsize', 'minsize', 'movablelimits', 'notation', 'numalign', 'open', 'rowalign', 'rowlines', 'rowspacing', 'rowspan', 'rspace', 'rquote', 'scriptlevel', 'scriptminsize', 'scriptsizemultiplier', 'selection', 'separator', 'separators', 'stretchy', 'subscriptshift', 'supscriptshift', 'symmetric', 'voffset', 'width', 'xmlns']);\n\n  var xml = freeze(['xlink:href', 'xml:id', 'xlink:title', 'xml:space', 'xmlns:xlink']);\n\n  // eslint-disable-next-line unicorn/better-regex\n  var MUSTACHE_EXPR = seal(/\\{\\{[\\s\\S]*|[\\s\\S]*\\}\\}/gm); // Specify template detection regex for SAFE_FOR_TEMPLATES mode\n  var ERB_EXPR = seal(/<%[\\s\\S]*|[\\s\\S]*%>/gm);\n  var DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]/); // eslint-disable-line no-useless-escape\n  var ARIA_ATTR = seal(/^aria-[\\-\\w]+$/); // eslint-disable-line no-useless-escape\n  var IS_ALLOWED_URI = seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i // eslint-disable-line no-useless-escape\n  );\n  var IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\n  var ATTR_WHITESPACE = seal(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g // eslint-disable-line no-control-regex\n  );\n\n  var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n  function _toConsumableArray$1(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n  var getGlobal = function getGlobal() {\n    return typeof window === 'undefined' ? null : window;\n  };\n\n  /**\n   * Creates a no-op policy for internal use only.\n   * Don't export this function outside this module!\n   * @param {?TrustedTypePolicyFactory} trustedTypes The policy factory.\n   * @param {Document} document The document object (to determine policy name suffix)\n   * @return {?TrustedTypePolicy} The policy created (or null, if Trusted Types\n   * are not supported).\n   */\n  var _createTrustedTypesPolicy = function _createTrustedTypesPolicy(trustedTypes, document) {\n    if ((typeof trustedTypes === 'undefined' ? 'undefined' : _typeof(trustedTypes)) !== 'object' || typeof trustedTypes.createPolicy !== 'function') {\n      return null;\n    }\n\n    // Allow the callers to control the unique policy name\n    // by adding a data-tt-policy-suffix to the script element with the DOMPurify.\n    // Policy creation with duplicate names throws in Trusted Types.\n    var suffix = null;\n    var ATTR_NAME = 'data-tt-policy-suffix';\n    if (document.currentScript && document.currentScript.hasAttribute(ATTR_NAME)) {\n      suffix = document.currentScript.getAttribute(ATTR_NAME);\n    }\n\n    var policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n\n    try {\n      return trustedTypes.createPolicy(policyName, {\n        createHTML: function createHTML(html$$1) {\n          return html$$1;\n        }\n      });\n    } catch (_) {\n      // Policy creation failed (most likely another DOMPurify script has\n      // already run). Skip creating the policy, as this will only cause errors\n      // if TT are enforced.\n      console.warn('TrustedTypes policy ' + policyName + ' could not be created.');\n      return null;\n    }\n  };\n\n  function createDOMPurify() {\n    var window = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getGlobal();\n\n    var DOMPurify = function DOMPurify(root) {\n      return createDOMPurify(root);\n    };\n\n    /**\n     * Version label, exposed for easier checks\n     * if DOMPurify is up to date or not\n     */\n    DOMPurify.version = '2.0.17';\n\n    /**\n     * Array of elements that DOMPurify removed during sanitation.\n     * Empty if nothing was removed.\n     */\n    DOMPurify.removed = [];\n\n    if (!window || !window.document || window.document.nodeType !== 9) {\n      // Not running in a browser, provide a factory function\n      // so that you can pass your own Window\n      DOMPurify.isSupported = false;\n\n      return DOMPurify;\n    }\n\n    var originalDocument = window.document;\n    var removeTitle = false;\n\n    var document = window.document;\n    var DocumentFragment = window.DocumentFragment,\n        HTMLTemplateElement = window.HTMLTemplateElement,\n        Node = window.Node,\n        NodeFilter = window.NodeFilter,\n        _window$NamedNodeMap = window.NamedNodeMap,\n        NamedNodeMap = _window$NamedNodeMap === undefined ? window.NamedNodeMap || window.MozNamedAttrMap : _window$NamedNodeMap,\n        Text = window.Text,\n        Comment = window.Comment,\n        DOMParser = window.DOMParser,\n        trustedTypes = window.trustedTypes;\n\n    // As per issue #47, the web-components registry is inherited by a\n    // new document created via createHTMLDocument. As per the spec\n    // (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n    // a new empty registry is used when creating a template contents owner\n    // document, so we use that as our parent document to ensure nothing\n    // is inherited.\n\n    if (typeof HTMLTemplateElement === 'function') {\n      var template = document.createElement('template');\n      if (template.content && template.content.ownerDocument) {\n        document = template.content.ownerDocument;\n      }\n    }\n\n    var trustedTypesPolicy = _createTrustedTypesPolicy(trustedTypes, originalDocument);\n    var emptyHTML = trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML('') : '';\n\n    var _document = document,\n        implementation = _document.implementation,\n        createNodeIterator = _document.createNodeIterator,\n        getElementsByTagName = _document.getElementsByTagName,\n        createDocumentFragment = _document.createDocumentFragment;\n    var importNode = originalDocument.importNode;\n\n\n    var documentMode = {};\n    try {\n      documentMode = clone(document).documentMode ? document.documentMode : {};\n    } catch (_) {}\n\n    var hooks = {};\n\n    /**\n     * Expose whether this browser supports running the full DOMPurify.\n     */\n    DOMPurify.isSupported = implementation && typeof implementation.createHTMLDocument !== 'undefined' && documentMode !== 9;\n\n    var MUSTACHE_EXPR$$1 = MUSTACHE_EXPR,\n        ERB_EXPR$$1 = ERB_EXPR,\n        DATA_ATTR$$1 = DATA_ATTR,\n        ARIA_ATTR$$1 = ARIA_ATTR,\n        IS_SCRIPT_OR_DATA$$1 = IS_SCRIPT_OR_DATA,\n        ATTR_WHITESPACE$$1 = ATTR_WHITESPACE;\n    var IS_ALLOWED_URI$$1 = IS_ALLOWED_URI;\n\n    /**\n     * We consider the elements and attributes below to be safe. Ideally\n     * don't add any new ones but feel free to remove unwanted ones.\n     */\n\n    /* allowed element names */\n\n    var ALLOWED_TAGS = null;\n    var DEFAULT_ALLOWED_TAGS = addToSet({}, [].concat(_toConsumableArray$1(html), _toConsumableArray$1(svg), _toConsumableArray$1(svgFilters), _toConsumableArray$1(mathMl), _toConsumableArray$1(text)));\n\n    /* Allowed attribute names */\n    var ALLOWED_ATTR = null;\n    var DEFAULT_ALLOWED_ATTR = addToSet({}, [].concat(_toConsumableArray$1(html$1), _toConsumableArray$1(svg$1), _toConsumableArray$1(mathMl$1), _toConsumableArray$1(xml)));\n\n    /* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */\n    var FORBID_TAGS = null;\n\n    /* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */\n    var FORBID_ATTR = null;\n\n    /* Decide if ARIA attributes are okay */\n    var ALLOW_ARIA_ATTR = true;\n\n    /* Decide if custom data attributes are okay */\n    var ALLOW_DATA_ATTR = true;\n\n    /* Decide if unknown protocols are okay */\n    var ALLOW_UNKNOWN_PROTOCOLS = false;\n\n    /* Output should be safe for jQuery's $() factory? */\n    var SAFE_FOR_JQUERY = false;\n\n    /* Output should be safe for common template engines.\n     * This means, DOMPurify removes data attributes, mustaches and ERB\n     */\n    var SAFE_FOR_TEMPLATES = false;\n\n    /* Decide if document with <html>... should be returned */\n    var WHOLE_DOCUMENT = false;\n\n    /* Track whether config is already set on this instance of DOMPurify. */\n    var SET_CONFIG = false;\n\n    /* Decide if all elements (e.g. style, script) must be children of\n     * document.body. By default, browsers might move them to document.head */\n    var FORCE_BODY = false;\n\n    /* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html\n     * string (or a TrustedHTML object if Trusted Types are supported).\n     * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead\n     */\n    var RETURN_DOM = false;\n\n    /* Decide if a DOM `DocumentFragment` should be returned, instead of a html\n     * string  (or a TrustedHTML object if Trusted Types are supported) */\n    var RETURN_DOM_FRAGMENT = false;\n\n    /* If `RETURN_DOM` or `RETURN_DOM_FRAGMENT` is enabled, decide if the returned DOM\n     * `Node` is imported into the current `Document`. If this flag is not enabled the\n     * `Node` will belong (its ownerDocument) to a fresh `HTMLDocument`, created by\n     * DOMPurify. */\n    var RETURN_DOM_IMPORT = false;\n\n    /* Try to return a Trusted Type object instead of a string, return a string in\n     * case Trusted Types are not supported  */\n    var RETURN_TRUSTED_TYPE = false;\n\n    /* Output should be free from DOM clobbering attacks? */\n    var SANITIZE_DOM = true;\n\n    /* Keep element content when removing element? */\n    var KEEP_CONTENT = true;\n\n    /* If a `Node` is passed to sanitize(), then performs sanitization in-place instead\n     * of importing it into a new Document and returning a sanitized copy */\n    var IN_PLACE = false;\n\n    /* Allow usage of profiles like html, svg and mathMl */\n    var USE_PROFILES = {};\n\n    /* Tags to ignore content of when KEEP_CONTENT is true */\n    var FORBID_CONTENTS = addToSet({}, ['annotation-xml', 'audio', 'colgroup', 'desc', 'foreignobject', 'head', 'iframe', 'math', 'mi', 'mn', 'mo', 'ms', 'mtext', 'noembed', 'noframes', 'plaintext', 'script', 'style', 'svg', 'template', 'thead', 'title', 'video', 'xmp']);\n\n    /* Tags that are safe for data: URIs */\n    var DATA_URI_TAGS = null;\n    var DEFAULT_DATA_URI_TAGS = addToSet({}, ['audio', 'video', 'img', 'source', 'image', 'track']);\n\n    /* Attributes safe for values like \"javascript:\" */\n    var URI_SAFE_ATTRIBUTES = null;\n    var DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, ['alt', 'class', 'for', 'id', 'label', 'name', 'pattern', 'placeholder', 'summary', 'title', 'value', 'style', 'xmlns']);\n\n    /* Keep a reference to config to pass to hooks */\n    var CONFIG = null;\n\n    /* Ideally, do not touch anything below this line */\n    /* ______________________________________________ */\n\n    var formElement = document.createElement('form');\n\n    /**\n     * _parseConfig\n     *\n     * @param  {Object} cfg optional config literal\n     */\n    // eslint-disable-next-line complexity\n    var _parseConfig = function _parseConfig(cfg) {\n      if (CONFIG && CONFIG === cfg) {\n        return;\n      }\n\n      /* Shield configuration object from tampering */\n      if (!cfg || (typeof cfg === 'undefined' ? 'undefined' : _typeof(cfg)) !== 'object') {\n        cfg = {};\n      }\n\n      /* Shield configuration object from prototype pollution */\n      cfg = clone(cfg);\n\n      /* Set configuration parameters */\n      ALLOWED_TAGS = 'ALLOWED_TAGS' in cfg ? addToSet({}, cfg.ALLOWED_TAGS) : DEFAULT_ALLOWED_TAGS;\n      ALLOWED_ATTR = 'ALLOWED_ATTR' in cfg ? addToSet({}, cfg.ALLOWED_ATTR) : DEFAULT_ALLOWED_ATTR;\n      URI_SAFE_ATTRIBUTES = 'ADD_URI_SAFE_ATTR' in cfg ? addToSet(clone(DEFAULT_URI_SAFE_ATTRIBUTES), cfg.ADD_URI_SAFE_ATTR) : DEFAULT_URI_SAFE_ATTRIBUTES;\n      DATA_URI_TAGS = 'ADD_DATA_URI_TAGS' in cfg ? addToSet(clone(DEFAULT_DATA_URI_TAGS), cfg.ADD_DATA_URI_TAGS) : DEFAULT_DATA_URI_TAGS;\n      FORBID_TAGS = 'FORBID_TAGS' in cfg ? addToSet({}, cfg.FORBID_TAGS) : {};\n      FORBID_ATTR = 'FORBID_ATTR' in cfg ? addToSet({}, cfg.FORBID_ATTR) : {};\n      USE_PROFILES = 'USE_PROFILES' in cfg ? cfg.USE_PROFILES : false;\n      ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false; // Default true\n      ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false; // Default true\n      ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false\n      SAFE_FOR_JQUERY = cfg.SAFE_FOR_JQUERY || false; // Default false\n      SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false; // Default false\n      WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false; // Default false\n      RETURN_DOM = cfg.RETURN_DOM || false; // Default false\n      RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false; // Default false\n      RETURN_DOM_IMPORT = cfg.RETURN_DOM_IMPORT || false; // Default false\n      RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false; // Default false\n      FORCE_BODY = cfg.FORCE_BODY || false; // Default false\n      SANITIZE_DOM = cfg.SANITIZE_DOM !== false; // Default true\n      KEEP_CONTENT = cfg.KEEP_CONTENT !== false; // Default true\n      IN_PLACE = cfg.IN_PLACE || false; // Default false\n      IS_ALLOWED_URI$$1 = cfg.ALLOWED_URI_REGEXP || IS_ALLOWED_URI$$1;\n      if (SAFE_FOR_TEMPLATES) {\n        ALLOW_DATA_ATTR = false;\n      }\n\n      if (RETURN_DOM_FRAGMENT) {\n        RETURN_DOM = true;\n      }\n\n      /* Parse profile info */\n      if (USE_PROFILES) {\n        ALLOWED_TAGS = addToSet({}, [].concat(_toConsumableArray$1(text)));\n        ALLOWED_ATTR = [];\n        if (USE_PROFILES.html === true) {\n          addToSet(ALLOWED_TAGS, html);\n          addToSet(ALLOWED_ATTR, html$1);\n        }\n\n        if (USE_PROFILES.svg === true) {\n          addToSet(ALLOWED_TAGS, svg);\n          addToSet(ALLOWED_ATTR, svg$1);\n          addToSet(ALLOWED_ATTR, xml);\n        }\n\n        if (USE_PROFILES.svgFilters === true) {\n          addToSet(ALLOWED_TAGS, svgFilters);\n          addToSet(ALLOWED_ATTR, svg$1);\n          addToSet(ALLOWED_ATTR, xml);\n        }\n\n        if (USE_PROFILES.mathMl === true) {\n          addToSet(ALLOWED_TAGS, mathMl);\n          addToSet(ALLOWED_ATTR, mathMl$1);\n          addToSet(ALLOWED_ATTR, xml);\n        }\n      }\n\n      /* Merge configuration parameters */\n      if (cfg.ADD_TAGS) {\n        if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n          ALLOWED_TAGS = clone(ALLOWED_TAGS);\n        }\n\n        addToSet(ALLOWED_TAGS, cfg.ADD_TAGS);\n      }\n\n      if (cfg.ADD_ATTR) {\n        if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n          ALLOWED_ATTR = clone(ALLOWED_ATTR);\n        }\n\n        addToSet(ALLOWED_ATTR, cfg.ADD_ATTR);\n      }\n\n      if (cfg.ADD_URI_SAFE_ATTR) {\n        addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR);\n      }\n\n      /* Add #text in case KEEP_CONTENT is set to true */\n      if (KEEP_CONTENT) {\n        ALLOWED_TAGS['#text'] = true;\n      }\n\n      /* Add html, head and body to ALLOWED_TAGS in case WHOLE_DOCUMENT is true */\n      if (WHOLE_DOCUMENT) {\n        addToSet(ALLOWED_TAGS, ['html', 'head', 'body']);\n      }\n\n      /* Add tbody to ALLOWED_TAGS in case tables are permitted, see #286, #365 */\n      if (ALLOWED_TAGS.table) {\n        addToSet(ALLOWED_TAGS, ['tbody']);\n        delete FORBID_TAGS.tbody;\n      }\n\n      // Prevent further manipulation of configuration.\n      // Not available in IE8, Safari 5, etc.\n      if (freeze) {\n        freeze(cfg);\n      }\n\n      CONFIG = cfg;\n    };\n\n    /**\n     * _forceRemove\n     *\n     * @param  {Node} node a DOM node\n     */\n    var _forceRemove = function _forceRemove(node) {\n      arrayPush(DOMPurify.removed, { element: node });\n      try {\n        node.parentNode.removeChild(node);\n      } catch (_) {\n        node.outerHTML = emptyHTML;\n      }\n    };\n\n    /**\n     * _removeAttribute\n     *\n     * @param  {String} name an Attribute name\n     * @param  {Node} node a DOM node\n     */\n    var _removeAttribute = function _removeAttribute(name, node) {\n      try {\n        arrayPush(DOMPurify.removed, {\n          attribute: node.getAttributeNode(name),\n          from: node\n        });\n      } catch (_) {\n        arrayPush(DOMPurify.removed, {\n          attribute: null,\n          from: node\n        });\n      }\n\n      node.removeAttribute(name);\n    };\n\n    /**\n     * _initDocument\n     *\n     * @param  {String} dirty a string of dirty markup\n     * @return {Document} a DOM, filled with the dirty markup\n     */\n    var _initDocument = function _initDocument(dirty) {\n      /* Create a HTML document */\n      var doc = void 0;\n      var leadingWhitespace = void 0;\n\n      if (FORCE_BODY) {\n        dirty = '<remove></remove>' + dirty;\n      } else {\n        /* If FORCE_BODY isn't used, leading whitespace needs to be preserved manually */\n        var matches = stringMatch(dirty, /^[\\r\\n\\t ]+/);\n        leadingWhitespace = matches && matches[0];\n      }\n\n      var dirtyPayload = trustedTypesPolicy ? trustedTypesPolicy.createHTML(dirty) : dirty;\n      /* Use the DOMParser API by default, fallback later if needs be */\n      try {\n        doc = new DOMParser().parseFromString(dirtyPayload, 'text/html');\n      } catch (_) {}\n\n      /* Remove title to fix a mXSS bug in older MS Edge */\n      if (removeTitle) {\n        addToSet(FORBID_TAGS, ['title']);\n      }\n\n      /* Use createHTMLDocument in case DOMParser is not available */\n      if (!doc || !doc.documentElement) {\n        doc = implementation.createHTMLDocument('');\n        var _doc = doc,\n            body = _doc.body;\n\n        body.parentNode.removeChild(body.parentNode.firstElementChild);\n        body.outerHTML = dirtyPayload;\n      }\n\n      if (dirty && leadingWhitespace) {\n        doc.body.insertBefore(document.createTextNode(leadingWhitespace), doc.body.childNodes[0] || null);\n      }\n\n      /* Work on whole document or just its body */\n      return getElementsByTagName.call(doc, WHOLE_DOCUMENT ? 'html' : 'body')[0];\n    };\n\n    /* Here we test for a broken feature in Edge that might cause mXSS */\n    if (DOMPurify.isSupported) {\n      (function () {\n        try {\n          var doc = _initDocument('<x/><title>&lt;/title&gt;&lt;img&gt;');\n          if (regExpTest(/<\\/title/, doc.querySelector('title').innerHTML)) {\n            removeTitle = true;\n          }\n        } catch (_) {}\n      })();\n    }\n\n    /**\n     * _createIterator\n     *\n     * @param  {Document} root document/fragment to create iterator for\n     * @return {Iterator} iterator instance\n     */\n    var _createIterator = function _createIterator(root) {\n      return createNodeIterator.call(root.ownerDocument || root, root, NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT, function () {\n        return NodeFilter.FILTER_ACCEPT;\n      }, false);\n    };\n\n    /**\n     * _isClobbered\n     *\n     * @param  {Node} elm element to check for clobbering attacks\n     * @return {Boolean} true if clobbered, false if safe\n     */\n    var _isClobbered = function _isClobbered(elm) {\n      if (elm instanceof Text || elm instanceof Comment) {\n        return false;\n      }\n\n      if (typeof elm.nodeName !== 'string' || typeof elm.textContent !== 'string' || typeof elm.removeChild !== 'function' || !(elm.attributes instanceof NamedNodeMap) || typeof elm.removeAttribute !== 'function' || typeof elm.setAttribute !== 'function' || typeof elm.namespaceURI !== 'string') {\n        return true;\n      }\n\n      return false;\n    };\n\n    /**\n     * _isNode\n     *\n     * @param  {Node} obj object to check whether it's a DOM node\n     * @return {Boolean} true is object is a DOM node\n     */\n    var _isNode = function _isNode(object) {\n      return (typeof Node === 'undefined' ? 'undefined' : _typeof(Node)) === 'object' ? object instanceof Node : object && (typeof object === 'undefined' ? 'undefined' : _typeof(object)) === 'object' && typeof object.nodeType === 'number' && typeof object.nodeName === 'string';\n    };\n\n    /**\n     * _executeHook\n     * Execute user configurable hooks\n     *\n     * @param  {String} entryPoint  Name of the hook's entry point\n     * @param  {Node} currentNode node to work on with the hook\n     * @param  {Object} data additional hook parameters\n     */\n    var _executeHook = function _executeHook(entryPoint, currentNode, data) {\n      if (!hooks[entryPoint]) {\n        return;\n      }\n\n      arrayForEach(hooks[entryPoint], function (hook) {\n        hook.call(DOMPurify, currentNode, data, CONFIG);\n      });\n    };\n\n    /**\n     * _sanitizeElements\n     *\n     * @protect nodeName\n     * @protect textContent\n     * @protect removeChild\n     *\n     * @param   {Node} currentNode to check for permission to exist\n     * @return  {Boolean} true if node was killed, false if left alive\n     */\n    // eslint-disable-next-line complexity\n    var _sanitizeElements = function _sanitizeElements(currentNode) {\n      var content = void 0;\n\n      /* Execute a hook if present */\n      _executeHook('beforeSanitizeElements', currentNode, null);\n\n      /* Check if element is clobbered or can clobber */\n      if (_isClobbered(currentNode)) {\n        _forceRemove(currentNode);\n        return true;\n      }\n\n      /* Check if tagname contains Unicode */\n      if (stringMatch(currentNode.nodeName, /[\\u0080-\\uFFFF]/)) {\n        _forceRemove(currentNode);\n        return true;\n      }\n\n      /* Now let's check the element's type and name */\n      var tagName = stringToLowerCase(currentNode.nodeName);\n\n      /* Execute a hook if present */\n      _executeHook('uponSanitizeElement', currentNode, {\n        tagName: tagName,\n        allowedTags: ALLOWED_TAGS\n      });\n\n      /* Take care of an mXSS pattern using p, br inside svg, math */\n      if ((tagName === 'svg' || tagName === 'math') && currentNode.querySelectorAll('p, br, form, table').length !== 0) {\n        _forceRemove(currentNode);\n        return true;\n      }\n\n      /* Remove element if anything forbids its presence */\n      if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n        /* Keep content except for bad-listed elements */\n        if (KEEP_CONTENT && !FORBID_CONTENTS[tagName] && typeof currentNode.insertAdjacentHTML === 'function') {\n          try {\n            var htmlToInsert = currentNode.innerHTML;\n            currentNode.insertAdjacentHTML('AfterEnd', trustedTypesPolicy ? trustedTypesPolicy.createHTML(htmlToInsert) : htmlToInsert);\n          } catch (_) {}\n        }\n\n        _forceRemove(currentNode);\n        return true;\n      }\n\n      /* Remove in case a noscript/noembed XSS is suspected */\n      if (tagName === 'noscript' && regExpTest(/<\\/noscript/i, currentNode.innerHTML)) {\n        _forceRemove(currentNode);\n        return true;\n      }\n\n      if (tagName === 'noembed' && regExpTest(/<\\/noembed/i, currentNode.innerHTML)) {\n        _forceRemove(currentNode);\n        return true;\n      }\n\n      /* Convert markup to cover jQuery behavior */\n      if (SAFE_FOR_JQUERY && !_isNode(currentNode.firstElementChild) && (!_isNode(currentNode.content) || !_isNode(currentNode.content.firstElementChild)) && regExpTest(/</g, currentNode.textContent)) {\n        arrayPush(DOMPurify.removed, { element: currentNode.cloneNode() });\n        if (currentNode.innerHTML) {\n          currentNode.innerHTML = stringReplace(currentNode.innerHTML, /</g, '&lt;');\n        } else {\n          currentNode.innerHTML = stringReplace(currentNode.textContent, /</g, '&lt;');\n        }\n      }\n\n      /* Sanitize element content to be template-safe */\n      if (SAFE_FOR_TEMPLATES && currentNode.nodeType === 3) {\n        /* Get the element's text content */\n        content = currentNode.textContent;\n        content = stringReplace(content, MUSTACHE_EXPR$$1, ' ');\n        content = stringReplace(content, ERB_EXPR$$1, ' ');\n        if (currentNode.textContent !== content) {\n          arrayPush(DOMPurify.removed, { element: currentNode.cloneNode() });\n          currentNode.textContent = content;\n        }\n      }\n\n      /* Execute a hook if present */\n      _executeHook('afterSanitizeElements', currentNode, null);\n\n      return false;\n    };\n\n    /**\n     * _isValidAttribute\n     *\n     * @param  {string} lcTag Lowercase tag name of containing element.\n     * @param  {string} lcName Lowercase attribute name.\n     * @param  {string} value Attribute value.\n     * @return {Boolean} Returns true if `value` is valid, otherwise false.\n     */\n    // eslint-disable-next-line complexity\n    var _isValidAttribute = function _isValidAttribute(lcTag, lcName, value) {\n      /* Make sure attribute cannot clobber */\n      if (SANITIZE_DOM && (lcName === 'id' || lcName === 'name') && (value in document || value in formElement)) {\n        return false;\n      }\n\n      /* Allow valid data-* attributes: At least one character after \"-\"\n          (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n          XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n          We don't need to check the value; it's always URI safe. */\n      if (ALLOW_DATA_ATTR && regExpTest(DATA_ATTR$$1, lcName)) ; else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR$$1, lcName)) ; else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n        return false;\n\n        /* Check value is safe. First, is attr inert? If so, is safe */\n      } else if (URI_SAFE_ATTRIBUTES[lcName]) ; else if (regExpTest(IS_ALLOWED_URI$$1, stringReplace(value, ATTR_WHITESPACE$$1, ''))) ; else if ((lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') && lcTag !== 'script' && stringIndexOf(value, 'data:') === 0 && DATA_URI_TAGS[lcTag]) ; else if (ALLOW_UNKNOWN_PROTOCOLS && !regExpTest(IS_SCRIPT_OR_DATA$$1, stringReplace(value, ATTR_WHITESPACE$$1, ''))) ; else if (!value) ; else {\n        return false;\n      }\n\n      return true;\n    };\n\n    /**\n     * _sanitizeAttributes\n     *\n     * @protect attributes\n     * @protect nodeName\n     * @protect removeAttribute\n     * @protect setAttribute\n     *\n     * @param  {Node} currentNode to sanitize\n     */\n    // eslint-disable-next-line complexity\n    var _sanitizeAttributes = function _sanitizeAttributes(currentNode) {\n      var attr = void 0;\n      var value = void 0;\n      var lcName = void 0;\n      var idAttr = void 0;\n      var l = void 0;\n      /* Execute a hook if present */\n      _executeHook('beforeSanitizeAttributes', currentNode, null);\n\n      var attributes = currentNode.attributes;\n\n      /* Check if we have attributes; if not we might have a text node */\n\n      if (!attributes) {\n        return;\n      }\n\n      var hookEvent = {\n        attrName: '',\n        attrValue: '',\n        keepAttr: true,\n        allowedAttributes: ALLOWED_ATTR\n      };\n      l = attributes.length;\n\n      /* Go backwards over all attributes; safely remove bad ones */\n      while (l--) {\n        attr = attributes[l];\n        var _attr = attr,\n            name = _attr.name,\n            namespaceURI = _attr.namespaceURI;\n\n        value = stringTrim(attr.value);\n        lcName = stringToLowerCase(name);\n\n        /* Execute a hook if present */\n        hookEvent.attrName = lcName;\n        hookEvent.attrValue = value;\n        hookEvent.keepAttr = true;\n        hookEvent.forceKeepAttr = undefined; // Allows developers to see this is a property they can set\n        _executeHook('uponSanitizeAttribute', currentNode, hookEvent);\n        value = hookEvent.attrValue;\n        /* Did the hooks approve of the attribute? */\n        if (hookEvent.forceKeepAttr) {\n          continue;\n        }\n\n        /* Remove attribute */\n        // Safari (iOS + Mac), last tested v8.0.5, crashes if you try to\n        // remove a \"name\" attribute from an <img> tag that has an \"id\"\n        // attribute at the time.\n        if (lcName === 'name' && currentNode.nodeName === 'IMG' && attributes.id) {\n          idAttr = attributes.id;\n          attributes = arraySlice(attributes, []);\n          _removeAttribute('id', currentNode);\n          _removeAttribute(name, currentNode);\n          if (arrayIndexOf(attributes, idAttr) > l) {\n            currentNode.setAttribute('id', idAttr.value);\n          }\n        } else if (\n        // This works around a bug in Safari, where input[type=file]\n        // cannot be dynamically set after type has been removed\n        currentNode.nodeName === 'INPUT' && lcName === 'type' && value === 'file' && hookEvent.keepAttr && (ALLOWED_ATTR[lcName] || !FORBID_ATTR[lcName])) {\n          continue;\n        } else {\n          // This avoids a crash in Safari v9.0 with double-ids.\n          // The trick is to first set the id to be empty and then to\n          // remove the attribute\n          if (name === 'id') {\n            currentNode.setAttribute(name, '');\n          }\n\n          _removeAttribute(name, currentNode);\n        }\n\n        /* Did the hooks approve of the attribute? */\n        if (!hookEvent.keepAttr) {\n          continue;\n        }\n\n        /* Work around a security issue in jQuery 3.0 */\n        if (SAFE_FOR_JQUERY && regExpTest(/\\/>/i, value)) {\n          _removeAttribute(name, currentNode);\n          continue;\n        }\n\n        /* Take care of an mXSS pattern using namespace switches */\n        if (regExpTest(/svg|math/i, currentNode.namespaceURI) && regExpTest(regExpCreate('</(' + arrayJoin(objectKeys(FORBID_CONTENTS), '|') + ')', 'i'), value)) {\n          _removeAttribute(name, currentNode);\n          continue;\n        }\n\n        /* Sanitize attribute content to be template-safe */\n        if (SAFE_FOR_TEMPLATES) {\n          value = stringReplace(value, MUSTACHE_EXPR$$1, ' ');\n          value = stringReplace(value, ERB_EXPR$$1, ' ');\n        }\n\n        /* Is `value` valid for this attribute? */\n        var lcTag = currentNode.nodeName.toLowerCase();\n        if (!_isValidAttribute(lcTag, lcName, value)) {\n          continue;\n        }\n\n        /* Handle invalid data-* attribute set by try-catching it */\n        try {\n          if (namespaceURI) {\n            currentNode.setAttributeNS(namespaceURI, name, value);\n          } else {\n            /* Fallback to setAttribute() for browser-unrecognized namespaces e.g. \"x-schema\". */\n            currentNode.setAttribute(name, value);\n          }\n\n          arrayPop(DOMPurify.removed);\n        } catch (_) {}\n      }\n\n      /* Execute a hook if present */\n      _executeHook('afterSanitizeAttributes', currentNode, null);\n    };\n\n    /**\n     * _sanitizeShadowDOM\n     *\n     * @param  {DocumentFragment} fragment to iterate over recursively\n     */\n    var _sanitizeShadowDOM = function _sanitizeShadowDOM(fragment) {\n      var shadowNode = void 0;\n      var shadowIterator = _createIterator(fragment);\n\n      /* Execute a hook if present */\n      _executeHook('beforeSanitizeShadowDOM', fragment, null);\n\n      while (shadowNode = shadowIterator.nextNode()) {\n        /* Execute a hook if present */\n        _executeHook('uponSanitizeShadowNode', shadowNode, null);\n\n        /* Sanitize tags and elements */\n        if (_sanitizeElements(shadowNode)) {\n          continue;\n        }\n\n        /* Deep shadow DOM detected */\n        if (shadowNode.content instanceof DocumentFragment) {\n          _sanitizeShadowDOM(shadowNode.content);\n        }\n\n        /* Check attributes, sanitize if necessary */\n        _sanitizeAttributes(shadowNode);\n      }\n\n      /* Execute a hook if present */\n      _executeHook('afterSanitizeShadowDOM', fragment, null);\n    };\n\n    /**\n     * Sanitize\n     * Public method providing core sanitation functionality\n     *\n     * @param {String|Node} dirty string or DOM node\n     * @param {Object} configuration object\n     */\n    // eslint-disable-next-line complexity\n    DOMPurify.sanitize = function (dirty, cfg) {\n      var body = void 0;\n      var importedNode = void 0;\n      var currentNode = void 0;\n      var oldNode = void 0;\n      var returnNode = void 0;\n      /* Make sure we have a string to sanitize.\n        DO NOT return early, as this will return the wrong type if\n        the user has requested a DOM object rather than a string */\n      if (!dirty) {\n        dirty = '<!-->';\n      }\n\n      /* Stringify, in case dirty is an object */\n      if (typeof dirty !== 'string' && !_isNode(dirty)) {\n        // eslint-disable-next-line no-negated-condition\n        if (typeof dirty.toString !== 'function') {\n          throw typeErrorCreate('toString is not a function');\n        } else {\n          dirty = dirty.toString();\n          if (typeof dirty !== 'string') {\n            throw typeErrorCreate('dirty is not a string, aborting');\n          }\n        }\n      }\n\n      /* Check we can run. Otherwise fall back or ignore */\n      if (!DOMPurify.isSupported) {\n        if (_typeof(window.toStaticHTML) === 'object' || typeof window.toStaticHTML === 'function') {\n          if (typeof dirty === 'string') {\n            return window.toStaticHTML(dirty);\n          }\n\n          if (_isNode(dirty)) {\n            return window.toStaticHTML(dirty.outerHTML);\n          }\n        }\n\n        return dirty;\n      }\n\n      /* Assign config vars */\n      if (!SET_CONFIG) {\n        _parseConfig(cfg);\n      }\n\n      /* Clean up removed elements */\n      DOMPurify.removed = [];\n\n      /* Check if dirty is correctly typed for IN_PLACE */\n      if (typeof dirty === 'string') {\n        IN_PLACE = false;\n      }\n\n      if (IN_PLACE) ; else if (dirty instanceof Node) {\n        /* If dirty is a DOM element, append to an empty document to avoid\n           elements being stripped by the parser */\n        body = _initDocument('<!-->');\n        importedNode = body.ownerDocument.importNode(dirty, true);\n        if (importedNode.nodeType === 1 && importedNode.nodeName === 'BODY') {\n          /* Node is already a body, use as is */\n          body = importedNode;\n        } else if (importedNode.nodeName === 'HTML') {\n          body = importedNode;\n        } else {\n          // eslint-disable-next-line unicorn/prefer-node-append\n          body.appendChild(importedNode);\n        }\n      } else {\n        /* Exit directly if we have nothing to do */\n        if (!RETURN_DOM && !SAFE_FOR_TEMPLATES && !WHOLE_DOCUMENT &&\n        // eslint-disable-next-line unicorn/prefer-includes\n        dirty.indexOf('<') === -1) {\n          return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(dirty) : dirty;\n        }\n\n        /* Initialize the document to work on */\n        body = _initDocument(dirty);\n\n        /* Check we have a DOM node from the data */\n        if (!body) {\n          return RETURN_DOM ? null : emptyHTML;\n        }\n      }\n\n      /* Remove first element node (ours) if FORCE_BODY is set */\n      if (body && FORCE_BODY) {\n        _forceRemove(body.firstChild);\n      }\n\n      /* Get node iterator */\n      var nodeIterator = _createIterator(IN_PLACE ? dirty : body);\n\n      /* Now start iterating over the created document */\n      while (currentNode = nodeIterator.nextNode()) {\n        /* Fix IE's strange behavior with manipulated textNodes #89 */\n        if (currentNode.nodeType === 3 && currentNode === oldNode) {\n          continue;\n        }\n\n        /* Sanitize tags and elements */\n        if (_sanitizeElements(currentNode)) {\n          continue;\n        }\n\n        /* Shadow DOM detected, sanitize it */\n        if (currentNode.content instanceof DocumentFragment) {\n          _sanitizeShadowDOM(currentNode.content);\n        }\n\n        /* Check attributes, sanitize if necessary */\n        _sanitizeAttributes(currentNode);\n\n        oldNode = currentNode;\n      }\n\n      oldNode = null;\n\n      /* If we sanitized `dirty` in-place, return it. */\n      if (IN_PLACE) {\n        return dirty;\n      }\n\n      /* Return sanitized string or DOM */\n      if (RETURN_DOM) {\n        if (RETURN_DOM_FRAGMENT) {\n          returnNode = createDocumentFragment.call(body.ownerDocument);\n\n          while (body.firstChild) {\n            // eslint-disable-next-line unicorn/prefer-node-append\n            returnNode.appendChild(body.firstChild);\n          }\n        } else {\n          returnNode = body;\n        }\n\n        if (RETURN_DOM_IMPORT) {\n          /*\n            AdoptNode() is not used because internal state is not reset\n            (e.g. the past names map of a HTMLFormElement), this is safe\n            in theory but we would rather not risk another attack vector.\n            The state that is cloned by importNode() is explicitly defined\n            by the specs.\n          */\n          returnNode = importNode.call(originalDocument, returnNode, true);\n        }\n\n        return returnNode;\n      }\n\n      var serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n\n      /* Sanitize final string template-safe */\n      if (SAFE_FOR_TEMPLATES) {\n        serializedHTML = stringReplace(serializedHTML, MUSTACHE_EXPR$$1, ' ');\n        serializedHTML = stringReplace(serializedHTML, ERB_EXPR$$1, ' ');\n      }\n\n      return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(serializedHTML) : serializedHTML;\n    };\n\n    /**\n     * Public method to set the configuration once\n     * setConfig\n     *\n     * @param {Object} cfg configuration object\n     */\n    DOMPurify.setConfig = function (cfg) {\n      _parseConfig(cfg);\n      SET_CONFIG = true;\n    };\n\n    /**\n     * Public method to remove the configuration\n     * clearConfig\n     *\n     */\n    DOMPurify.clearConfig = function () {\n      CONFIG = null;\n      SET_CONFIG = false;\n    };\n\n    /**\n     * Public method to check if an attribute value is valid.\n     * Uses last set config, if any. Otherwise, uses config defaults.\n     * isValidAttribute\n     *\n     * @param  {string} tag Tag name of containing element.\n     * @param  {string} attr Attribute name.\n     * @param  {string} value Attribute value.\n     * @return {Boolean} Returns true if `value` is valid. Otherwise, returns false.\n     */\n    DOMPurify.isValidAttribute = function (tag, attr, value) {\n      /* Initialize shared config vars if necessary. */\n      if (!CONFIG) {\n        _parseConfig({});\n      }\n\n      var lcTag = stringToLowerCase(tag);\n      var lcName = stringToLowerCase(attr);\n      return _isValidAttribute(lcTag, lcName, value);\n    };\n\n    /**\n     * AddHook\n     * Public method to add DOMPurify hooks\n     *\n     * @param {String} entryPoint entry point for the hook to add\n     * @param {Function} hookFunction function to execute\n     */\n    DOMPurify.addHook = function (entryPoint, hookFunction) {\n      if (typeof hookFunction !== 'function') {\n        return;\n      }\n\n      hooks[entryPoint] = hooks[entryPoint] || [];\n      arrayPush(hooks[entryPoint], hookFunction);\n    };\n\n    /**\n     * RemoveHook\n     * Public method to remove a DOMPurify hook at a given entryPoint\n     * (pops it from the stack of hooks if more are present)\n     *\n     * @param {String} entryPoint entry point for the hook to remove\n     */\n    DOMPurify.removeHook = function (entryPoint) {\n      if (hooks[entryPoint]) {\n        arrayPop(hooks[entryPoint]);\n      }\n    };\n\n    /**\n     * RemoveHooks\n     * Public method to remove all DOMPurify hooks at a given entryPoint\n     *\n     * @param  {String} entryPoint entry point for the hooks to remove\n     */\n    DOMPurify.removeHooks = function (entryPoint) {\n      if (hooks[entryPoint]) {\n        hooks[entryPoint] = [];\n      }\n    };\n\n    /**\n     * RemoveAllHooks\n     * Public method to remove all DOMPurify hooks\n     *\n     */\n    DOMPurify.removeAllHooks = function () {\n      hooks = {};\n    };\n\n    return DOMPurify;\n  }\n\n  var purify = createDOMPurify();\n\n  return purify;\n\n}));\n\n});\n\n/**\n * The base implementation of `_.map` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction baseMap(collection, iteratee) {\n  var index = -1,\n      result = isArrayLike_1(collection) ? Array(collection.length) : [];\n\n  _baseEach(collection, function(value, key, collection) {\n    result[++index] = iteratee(value, key, collection);\n  });\n  return result;\n}\n\nvar _baseMap = baseMap;\n\n/**\n * Creates an array of values by running each element in `collection` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n *\n * The guarded methods are:\n * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * _.map([4, 8], square);\n * // => [16, 64]\n *\n * _.map({ 'a': 4, 'b': 8 }, square);\n * // => [16, 64] (iteration order is not guaranteed)\n *\n * var users = [\n *   { 'user': 'barney' },\n *   { 'user': 'fred' }\n * ];\n *\n * // The `_.property` iteratee shorthand.\n * _.map(users, 'user');\n * // => ['barney', 'fred']\n */\nfunction map(collection, iteratee) {\n  var func = isArray_1(collection) ? _arrayMap : _baseMap;\n  return func(collection, _baseIteratee(iteratee));\n}\n\nvar map_1 = map;\n\n/**\n * Creates a flattened array of values by running each element in `collection`\n * thru `iteratee` and flattening the mapped results. The iteratee is invoked\n * with three arguments: (value, index|key, collection).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * function duplicate(n) {\n *   return [n, n];\n * }\n *\n * _.flatMap([1, 2], duplicate);\n * // => [1, 1, 2, 2]\n */\nfunction flatMap(collection, iteratee) {\n  return _baseFlatten(map_1(collection, iteratee), 1);\n}\n\nvar flatMap_1 = flatMap;\n\n/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\nvar _trimmedEndIndex = trimmedEndIndex;\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, _trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\nvar _baseTrim = baseTrim;\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol_1(value)) {\n    return NAN;\n  }\n  if (isObject_1(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject_1(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = _baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nvar toNumber_1 = toNumber;\n\n/** Used as references for various `Number` constants. */\nvar INFINITY$3 = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber_1(value);\n  if (value === INFINITY$3 || value === -INFINITY$3) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\nvar toFinite_1 = toFinite;\n\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This method is loosely based on\n * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3.2);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3.2');\n * // => 3\n */\nfunction toInteger(value) {\n  var result = toFinite_1(value),\n      remainder = result % 1;\n\n  return result === result ? (remainder ? result - remainder : result) : 0;\n}\n\nvar toInteger_1 = toInteger;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax$1 = Math.max;\n\n/**\n * This method is like `_.find` except that it returns the index of the first\n * element `predicate` returns truthy for instead of the element itself.\n *\n * @static\n * @memberOf _\n * @since 1.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=0] The index to search from.\n * @returns {number} Returns the index of the found element, else `-1`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'active': false },\n *   { 'user': 'fred',    'active': false },\n *   { 'user': 'pebbles', 'active': true }\n * ];\n *\n * _.findIndex(users, function(o) { return o.user == 'barney'; });\n * // => 0\n *\n * // The `_.matches` iteratee shorthand.\n * _.findIndex(users, { 'user': 'fred', 'active': false });\n * // => 1\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.findIndex(users, ['active', false]);\n * // => 0\n *\n * // The `_.property` iteratee shorthand.\n * _.findIndex(users, 'active');\n * // => 2\n */\nfunction findIndex(array, predicate, fromIndex) {\n  var length = array == null ? 0 : array.length;\n  if (!length) {\n    return -1;\n  }\n  var index = fromIndex == null ? 0 : toInteger_1(fromIndex);\n  if (index < 0) {\n    index = nativeMax$1(length + index, 0);\n  }\n  return _baseFindIndex(array, _baseIteratee(predicate), index);\n}\n\nvar findIndex_1 = findIndex;\n\nvar Tokenizer_1 = createCommonjsModule(function (module, exports) {\nvar __importDefault = (commonjsGlobal && commonjsGlobal.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar decode_codepoint_1 = __importDefault(decode_codepoint);\nvar entities_json_1 = __importDefault(require$$1);\nvar legacy_json_1 = __importDefault(require$$2);\nvar xml_json_1 = __importDefault(require$$3);\nfunction whitespace(c) {\n    return c === \" \" || c === \"\\n\" || c === \"\\t\" || c === \"\\f\" || c === \"\\r\";\n}\nfunction ifElseState(upper, SUCCESS, FAILURE) {\n    var lower = upper.toLowerCase();\n    if (upper === lower) {\n        return function (t, c) {\n            if (c === lower) {\n                t._state = SUCCESS;\n            }\n            else {\n                t._state = FAILURE;\n                t._index--;\n            }\n        };\n    }\n    else {\n        return function (t, c) {\n            if (c === lower || c === upper) {\n                t._state = SUCCESS;\n            }\n            else {\n                t._state = FAILURE;\n                t._index--;\n            }\n        };\n    }\n}\nfunction consumeSpecialNameChar(upper, NEXT_STATE) {\n    var lower = upper.toLowerCase();\n    return function (t, c) {\n        if (c === lower || c === upper) {\n            t._state = NEXT_STATE;\n        }\n        else {\n            t._state = 3 /* InTagName */;\n            t._index--; //consume the token again\n        }\n    };\n}\nvar stateBeforeCdata1 = ifElseState(\"C\", 23 /* BeforeCdata2 */, 16 /* InDeclaration */);\nvar stateBeforeCdata2 = ifElseState(\"D\", 24 /* BeforeCdata3 */, 16 /* InDeclaration */);\nvar stateBeforeCdata3 = ifElseState(\"A\", 25 /* BeforeCdata4 */, 16 /* InDeclaration */);\nvar stateBeforeCdata4 = ifElseState(\"T\", 26 /* BeforeCdata5 */, 16 /* InDeclaration */);\nvar stateBeforeCdata5 = ifElseState(\"A\", 27 /* BeforeCdata6 */, 16 /* InDeclaration */);\nvar stateBeforeScript1 = consumeSpecialNameChar(\"R\", 34 /* BeforeScript2 */);\nvar stateBeforeScript2 = consumeSpecialNameChar(\"I\", 35 /* BeforeScript3 */);\nvar stateBeforeScript3 = consumeSpecialNameChar(\"P\", 36 /* BeforeScript4 */);\nvar stateBeforeScript4 = consumeSpecialNameChar(\"T\", 37 /* BeforeScript5 */);\nvar stateAfterScript1 = ifElseState(\"R\", 39 /* AfterScript2 */, 1 /* Text */);\nvar stateAfterScript2 = ifElseState(\"I\", 40 /* AfterScript3 */, 1 /* Text */);\nvar stateAfterScript3 = ifElseState(\"P\", 41 /* AfterScript4 */, 1 /* Text */);\nvar stateAfterScript4 = ifElseState(\"T\", 42 /* AfterScript5 */, 1 /* Text */);\nvar stateBeforeStyle1 = consumeSpecialNameChar(\"Y\", 44 /* BeforeStyle2 */);\nvar stateBeforeStyle2 = consumeSpecialNameChar(\"L\", 45 /* BeforeStyle3 */);\nvar stateBeforeStyle3 = consumeSpecialNameChar(\"E\", 46 /* BeforeStyle4 */);\nvar stateAfterStyle1 = ifElseState(\"Y\", 48 /* AfterStyle2 */, 1 /* Text */);\nvar stateAfterStyle2 = ifElseState(\"L\", 49 /* AfterStyle3 */, 1 /* Text */);\nvar stateAfterStyle3 = ifElseState(\"E\", 50 /* AfterStyle4 */, 1 /* Text */);\nvar stateBeforeEntity = ifElseState(\"#\", 52 /* BeforeNumericEntity */, 53 /* InNamedEntity */);\nvar stateBeforeNumericEntity = ifElseState(\"X\", 55 /* InHexEntity */, 54 /* InNumericEntity */);\nvar Tokenizer = /** @class */ (function () {\n    function Tokenizer(options, cbs) {\n        /** The current state the tokenizer is in. */\n        this._state = 1 /* Text */;\n        /** The read buffer. */\n        this._buffer = \"\";\n        /** The beginning of the section that is currently being read. */\n        this._sectionStart = 0;\n        /** The index within the buffer that we are currently looking at. */\n        this._index = 0;\n        /**\n         * Data that has already been processed will be removed from the buffer occasionally.\n         * `_bufferOffset` keeps track of how many characters have been removed, to make sure position information is accurate.\n         */\n        this._bufferOffset = 0;\n        /** Some behavior, eg. when decoding entities, is done while we are in another state. This keeps track of the other state type. */\n        this._baseState = 1 /* Text */;\n        /** For special parsing behavior inside of script and style tags. */\n        this._special = 1 /* None */;\n        /** Indicates whether the tokenizer has been paused. */\n        this._running = true;\n        /** Indicates whether the tokenizer has finished running / `.end` has been called. */\n        this._ended = false;\n        this._cbs = cbs;\n        this._xmlMode = !!(options && options.xmlMode);\n        this._decodeEntities = !!(options && options.decodeEntities);\n    }\n    Tokenizer.prototype.reset = function () {\n        this._state = 1 /* Text */;\n        this._buffer = \"\";\n        this._sectionStart = 0;\n        this._index = 0;\n        this._bufferOffset = 0;\n        this._baseState = 1 /* Text */;\n        this._special = 1 /* None */;\n        this._running = true;\n        this._ended = false;\n    };\n    Tokenizer.prototype._stateText = function (c) {\n        if (c === \"<\") {\n            if (this._index > this._sectionStart) {\n                this._cbs.ontext(this._getSection());\n            }\n            this._state = 2 /* BeforeTagName */;\n            this._sectionStart = this._index;\n        }\n        else if (this._decodeEntities &&\n            this._special === 1 /* None */ &&\n            c === \"&\") {\n            if (this._index > this._sectionStart) {\n                this._cbs.ontext(this._getSection());\n            }\n            this._baseState = 1 /* Text */;\n            this._state = 51 /* BeforeEntity */;\n            this._sectionStart = this._index;\n        }\n    };\n    Tokenizer.prototype._stateBeforeTagName = function (c) {\n        if (c === \"/\") {\n            this._state = 5 /* BeforeClosingTagName */;\n        }\n        else if (c === \"<\") {\n            this._cbs.ontext(this._getSection());\n            this._sectionStart = this._index;\n        }\n        else if (c === \">\" ||\n            this._special !== 1 /* None */ ||\n            whitespace(c)) {\n            this._state = 1 /* Text */;\n        }\n        else if (c === \"!\") {\n            this._state = 15 /* BeforeDeclaration */;\n            this._sectionStart = this._index + 1;\n        }\n        else if (c === \"?\") {\n            this._state = 17 /* InProcessingInstruction */;\n            this._sectionStart = this._index + 1;\n        }\n        else {\n            this._state =\n                !this._xmlMode && (c === \"s\" || c === \"S\")\n                    ? 31 /* BeforeSpecial */\n                    : 3 /* InTagName */;\n            this._sectionStart = this._index;\n        }\n    };\n    Tokenizer.prototype._stateInTagName = function (c) {\n        if (c === \"/\" || c === \">\" || whitespace(c)) {\n            this._emitToken(\"onopentagname\");\n            this._state = 8 /* BeforeAttributeName */;\n            this._index--;\n        }\n    };\n    Tokenizer.prototype._stateBeforeClosingTagName = function (c) {\n        if (whitespace(c)) ;\n        else if (c === \">\") {\n            this._state = 1 /* Text */;\n        }\n        else if (this._special !== 1 /* None */) {\n            if (c === \"s\" || c === \"S\") {\n                this._state = 32 /* BeforeSpecialEnd */;\n            }\n            else {\n                this._state = 1 /* Text */;\n                this._index--;\n            }\n        }\n        else {\n            this._state = 6 /* InClosingTagName */;\n            this._sectionStart = this._index;\n        }\n    };\n    Tokenizer.prototype._stateInClosingTagName = function (c) {\n        if (c === \">\" || whitespace(c)) {\n            this._emitToken(\"onclosetag\");\n            this._state = 7 /* AfterClosingTagName */;\n            this._index--;\n        }\n    };\n    Tokenizer.prototype._stateAfterClosingTagName = function (c) {\n        //skip everything until \">\"\n        if (c === \">\") {\n            this._state = 1 /* Text */;\n            this._sectionStart = this._index + 1;\n        }\n    };\n    Tokenizer.prototype._stateBeforeAttributeName = function (c) {\n        if (c === \">\") {\n            this._cbs.onopentagend();\n            this._state = 1 /* Text */;\n            this._sectionStart = this._index + 1;\n        }\n        else if (c === \"/\") {\n            this._state = 4 /* InSelfClosingTag */;\n        }\n        else if (!whitespace(c)) {\n            this._state = 9 /* InAttributeName */;\n            this._sectionStart = this._index;\n        }\n    };\n    Tokenizer.prototype._stateInSelfClosingTag = function (c) {\n        if (c === \">\") {\n            this._cbs.onselfclosingtag();\n            this._state = 1 /* Text */;\n            this._sectionStart = this._index + 1;\n        }\n        else if (!whitespace(c)) {\n            this._state = 8 /* BeforeAttributeName */;\n            this._index--;\n        }\n    };\n    Tokenizer.prototype._stateInAttributeName = function (c) {\n        if (c === \"=\" || c === \"/\" || c === \">\" || whitespace(c)) {\n            this._cbs.onattribname(this._getSection());\n            this._sectionStart = -1;\n            this._state = 10 /* AfterAttributeName */;\n            this._index--;\n        }\n    };\n    Tokenizer.prototype._stateAfterAttributeName = function (c) {\n        if (c === \"=\") {\n            this._state = 11 /* BeforeAttributeValue */;\n        }\n        else if (c === \"/\" || c === \">\") {\n            this._cbs.onattribend();\n            this._state = 8 /* BeforeAttributeName */;\n            this._index--;\n        }\n        else if (!whitespace(c)) {\n            this._cbs.onattribend();\n            this._state = 9 /* InAttributeName */;\n            this._sectionStart = this._index;\n        }\n    };\n    Tokenizer.prototype._stateBeforeAttributeValue = function (c) {\n        if (c === '\"') {\n            this._state = 12 /* InAttributeValueDq */;\n            this._sectionStart = this._index + 1;\n        }\n        else if (c === \"'\") {\n            this._state = 13 /* InAttributeValueSq */;\n            this._sectionStart = this._index + 1;\n        }\n        else if (!whitespace(c)) {\n            this._state = 14 /* InAttributeValueNq */;\n            this._sectionStart = this._index;\n            this._index--; //reconsume token\n        }\n    };\n    Tokenizer.prototype._stateInAttributeValueDoubleQuotes = function (c) {\n        if (c === '\"') {\n            this._emitToken(\"onattribdata\");\n            this._cbs.onattribend();\n            this._state = 8 /* BeforeAttributeName */;\n        }\n        else if (this._decodeEntities && c === \"&\") {\n            this._emitToken(\"onattribdata\");\n            this._baseState = this._state;\n            this._state = 51 /* BeforeEntity */;\n            this._sectionStart = this._index;\n        }\n    };\n    Tokenizer.prototype._stateInAttributeValueSingleQuotes = function (c) {\n        if (c === \"'\") {\n            this._emitToken(\"onattribdata\");\n            this._cbs.onattribend();\n            this._state = 8 /* BeforeAttributeName */;\n        }\n        else if (this._decodeEntities && c === \"&\") {\n            this._emitToken(\"onattribdata\");\n            this._baseState = this._state;\n            this._state = 51 /* BeforeEntity */;\n            this._sectionStart = this._index;\n        }\n    };\n    Tokenizer.prototype._stateInAttributeValueNoQuotes = function (c) {\n        if (whitespace(c) || c === \">\") {\n            this._emitToken(\"onattribdata\");\n            this._cbs.onattribend();\n            this._state = 8 /* BeforeAttributeName */;\n            this._index--;\n        }\n        else if (this._decodeEntities && c === \"&\") {\n            this._emitToken(\"onattribdata\");\n            this._baseState = this._state;\n            this._state = 51 /* BeforeEntity */;\n            this._sectionStart = this._index;\n        }\n    };\n    Tokenizer.prototype._stateBeforeDeclaration = function (c) {\n        this._state =\n            c === \"[\"\n                ? 22 /* BeforeCdata1 */\n                : c === \"-\"\n                    ? 18 /* BeforeComment */\n                    : 16 /* InDeclaration */;\n    };\n    Tokenizer.prototype._stateInDeclaration = function (c) {\n        if (c === \">\") {\n            this._cbs.ondeclaration(this._getSection());\n            this._state = 1 /* Text */;\n            this._sectionStart = this._index + 1;\n        }\n    };\n    Tokenizer.prototype._stateInProcessingInstruction = function (c) {\n        if (c === \">\") {\n            this._cbs.onprocessinginstruction(this._getSection());\n            this._state = 1 /* Text */;\n            this._sectionStart = this._index + 1;\n        }\n    };\n    Tokenizer.prototype._stateBeforeComment = function (c) {\n        if (c === \"-\") {\n            this._state = 19 /* InComment */;\n            this._sectionStart = this._index + 1;\n        }\n        else {\n            this._state = 16 /* InDeclaration */;\n        }\n    };\n    Tokenizer.prototype._stateInComment = function (c) {\n        if (c === \"-\")\n            this._state = 20 /* AfterComment1 */;\n    };\n    Tokenizer.prototype._stateAfterComment1 = function (c) {\n        if (c === \"-\") {\n            this._state = 21 /* AfterComment2 */;\n        }\n        else {\n            this._state = 19 /* InComment */;\n        }\n    };\n    Tokenizer.prototype._stateAfterComment2 = function (c) {\n        if (c === \">\") {\n            //remove 2 trailing chars\n            this._cbs.oncomment(this._buffer.substring(this._sectionStart, this._index - 2));\n            this._state = 1 /* Text */;\n            this._sectionStart = this._index + 1;\n        }\n        else if (c !== \"-\") {\n            this._state = 19 /* InComment */;\n        }\n        // else: stay in AFTER_COMMENT_2 (`--->`)\n    };\n    Tokenizer.prototype._stateBeforeCdata6 = function (c) {\n        if (c === \"[\") {\n            this._state = 28 /* InCdata */;\n            this._sectionStart = this._index + 1;\n        }\n        else {\n            this._state = 16 /* InDeclaration */;\n            this._index--;\n        }\n    };\n    Tokenizer.prototype._stateInCdata = function (c) {\n        if (c === \"]\")\n            this._state = 29 /* AfterCdata1 */;\n    };\n    Tokenizer.prototype._stateAfterCdata1 = function (c) {\n        if (c === \"]\")\n            this._state = 30 /* AfterCdata2 */;\n        else\n            this._state = 28 /* InCdata */;\n    };\n    Tokenizer.prototype._stateAfterCdata2 = function (c) {\n        if (c === \">\") {\n            //remove 2 trailing chars\n            this._cbs.oncdata(this._buffer.substring(this._sectionStart, this._index - 2));\n            this._state = 1 /* Text */;\n            this._sectionStart = this._index + 1;\n        }\n        else if (c !== \"]\") {\n            this._state = 28 /* InCdata */;\n        }\n        //else: stay in AFTER_CDATA_2 (`]]]>`)\n    };\n    Tokenizer.prototype._stateBeforeSpecial = function (c) {\n        if (c === \"c\" || c === \"C\") {\n            this._state = 33 /* BeforeScript1 */;\n        }\n        else if (c === \"t\" || c === \"T\") {\n            this._state = 43 /* BeforeStyle1 */;\n        }\n        else {\n            this._state = 3 /* InTagName */;\n            this._index--; //consume the token again\n        }\n    };\n    Tokenizer.prototype._stateBeforeSpecialEnd = function (c) {\n        if (this._special === 2 /* Script */ && (c === \"c\" || c === \"C\")) {\n            this._state = 38 /* AfterScript1 */;\n        }\n        else if (this._special === 3 /* Style */ &&\n            (c === \"t\" || c === \"T\")) {\n            this._state = 47 /* AfterStyle1 */;\n        }\n        else\n            this._state = 1 /* Text */;\n    };\n    Tokenizer.prototype._stateBeforeScript5 = function (c) {\n        if (c === \"/\" || c === \">\" || whitespace(c)) {\n            this._special = 2 /* Script */;\n        }\n        this._state = 3 /* InTagName */;\n        this._index--; //consume the token again\n    };\n    Tokenizer.prototype._stateAfterScript5 = function (c) {\n        if (c === \">\" || whitespace(c)) {\n            this._special = 1 /* None */;\n            this._state = 6 /* InClosingTagName */;\n            this._sectionStart = this._index - 6;\n            this._index--; //reconsume the token\n        }\n        else\n            this._state = 1 /* Text */;\n    };\n    Tokenizer.prototype._stateBeforeStyle4 = function (c) {\n        if (c === \"/\" || c === \">\" || whitespace(c)) {\n            this._special = 3 /* Style */;\n        }\n        this._state = 3 /* InTagName */;\n        this._index--; //consume the token again\n    };\n    Tokenizer.prototype._stateAfterStyle4 = function (c) {\n        if (c === \">\" || whitespace(c)) {\n            this._special = 1 /* None */;\n            this._state = 6 /* InClosingTagName */;\n            this._sectionStart = this._index - 5;\n            this._index--; //reconsume the token\n        }\n        else\n            this._state = 1 /* Text */;\n    };\n    //for entities terminated with a semicolon\n    Tokenizer.prototype._parseNamedEntityStrict = function () {\n        //offset = 1\n        if (this._sectionStart + 1 < this._index) {\n            var entity = this._buffer.substring(this._sectionStart + 1, this._index), map = this._xmlMode ? xml_json_1.default : entities_json_1.default;\n            if (Object.prototype.hasOwnProperty.call(map, entity)) {\n                // @ts-ignore\n                this._emitPartial(map[entity]);\n                this._sectionStart = this._index + 1;\n            }\n        }\n    };\n    //parses legacy entities (without trailing semicolon)\n    Tokenizer.prototype._parseLegacyEntity = function () {\n        var start = this._sectionStart + 1;\n        var limit = this._index - start;\n        if (limit > 6)\n            limit = 6; // The max length of legacy entities is 6\n        while (limit >= 2) {\n            // The min length of legacy entities is 2\n            var entity = this._buffer.substr(start, limit);\n            if (Object.prototype.hasOwnProperty.call(legacy_json_1.default, entity)) {\n                // @ts-ignore\n                this._emitPartial(legacy_json_1.default[entity]);\n                this._sectionStart += limit + 1;\n                return;\n            }\n            else {\n                limit--;\n            }\n        }\n    };\n    Tokenizer.prototype._stateInNamedEntity = function (c) {\n        if (c === \";\") {\n            this._parseNamedEntityStrict();\n            if (this._sectionStart + 1 < this._index && !this._xmlMode) {\n                this._parseLegacyEntity();\n            }\n            this._state = this._baseState;\n        }\n        else if ((c < \"a\" || c > \"z\") &&\n            (c < \"A\" || c > \"Z\") &&\n            (c < \"0\" || c > \"9\")) {\n            if (this._xmlMode || this._sectionStart + 1 === this._index) ;\n            else if (this._baseState !== 1 /* Text */) {\n                if (c !== \"=\") {\n                    this._parseNamedEntityStrict();\n                }\n            }\n            else {\n                this._parseLegacyEntity();\n            }\n            this._state = this._baseState;\n            this._index--;\n        }\n    };\n    Tokenizer.prototype._decodeNumericEntity = function (offset, base) {\n        var sectionStart = this._sectionStart + offset;\n        if (sectionStart !== this._index) {\n            //parse entity\n            var entity = this._buffer.substring(sectionStart, this._index);\n            var parsed = parseInt(entity, base);\n            this._emitPartial(decode_codepoint_1.default(parsed));\n            this._sectionStart = this._index;\n        }\n        else {\n            this._sectionStart--;\n        }\n        this._state = this._baseState;\n    };\n    Tokenizer.prototype._stateInNumericEntity = function (c) {\n        if (c === \";\") {\n            this._decodeNumericEntity(2, 10);\n            this._sectionStart++;\n        }\n        else if (c < \"0\" || c > \"9\") {\n            if (!this._xmlMode) {\n                this._decodeNumericEntity(2, 10);\n            }\n            else {\n                this._state = this._baseState;\n            }\n            this._index--;\n        }\n    };\n    Tokenizer.prototype._stateInHexEntity = function (c) {\n        if (c === \";\") {\n            this._decodeNumericEntity(3, 16);\n            this._sectionStart++;\n        }\n        else if ((c < \"a\" || c > \"f\") &&\n            (c < \"A\" || c > \"F\") &&\n            (c < \"0\" || c > \"9\")) {\n            if (!this._xmlMode) {\n                this._decodeNumericEntity(3, 16);\n            }\n            else {\n                this._state = this._baseState;\n            }\n            this._index--;\n        }\n    };\n    Tokenizer.prototype._cleanup = function () {\n        if (this._sectionStart < 0) {\n            this._buffer = \"\";\n            this._bufferOffset += this._index;\n            this._index = 0;\n        }\n        else if (this._running) {\n            if (this._state === 1 /* Text */) {\n                if (this._sectionStart !== this._index) {\n                    this._cbs.ontext(this._buffer.substr(this._sectionStart));\n                }\n                this._buffer = \"\";\n                this._bufferOffset += this._index;\n                this._index = 0;\n            }\n            else if (this._sectionStart === this._index) {\n                //the section just started\n                this._buffer = \"\";\n                this._bufferOffset += this._index;\n                this._index = 0;\n            }\n            else {\n                //remove everything unnecessary\n                this._buffer = this._buffer.substr(this._sectionStart);\n                this._index -= this._sectionStart;\n                this._bufferOffset += this._sectionStart;\n            }\n            this._sectionStart = 0;\n        }\n    };\n    //TODO make events conditional\n    Tokenizer.prototype.write = function (chunk) {\n        if (this._ended)\n            this._cbs.onerror(Error(\".write() after done!\"));\n        this._buffer += chunk;\n        this._parse();\n    };\n    // Iterates through the buffer, calling the function corresponding to the current state.\n    // States that are more likely to be hit are higher up, as a performance improvement.\n    Tokenizer.prototype._parse = function () {\n        while (this._index < this._buffer.length && this._running) {\n            var c = this._buffer.charAt(this._index);\n            if (this._state === 1 /* Text */) {\n                this._stateText(c);\n            }\n            else if (this._state === 12 /* InAttributeValueDq */) {\n                this._stateInAttributeValueDoubleQuotes(c);\n            }\n            else if (this._state === 9 /* InAttributeName */) {\n                this._stateInAttributeName(c);\n            }\n            else if (this._state === 19 /* InComment */) {\n                this._stateInComment(c);\n            }\n            else if (this._state === 8 /* BeforeAttributeName */) {\n                this._stateBeforeAttributeName(c);\n            }\n            else if (this._state === 3 /* InTagName */) {\n                this._stateInTagName(c);\n            }\n            else if (this._state === 6 /* InClosingTagName */) {\n                this._stateInClosingTagName(c);\n            }\n            else if (this._state === 2 /* BeforeTagName */) {\n                this._stateBeforeTagName(c);\n            }\n            else if (this._state === 10 /* AfterAttributeName */) {\n                this._stateAfterAttributeName(c);\n            }\n            else if (this._state === 13 /* InAttributeValueSq */) {\n                this._stateInAttributeValueSingleQuotes(c);\n            }\n            else if (this._state === 11 /* BeforeAttributeValue */) {\n                this._stateBeforeAttributeValue(c);\n            }\n            else if (this._state === 5 /* BeforeClosingTagName */) {\n                this._stateBeforeClosingTagName(c);\n            }\n            else if (this._state === 7 /* AfterClosingTagName */) {\n                this._stateAfterClosingTagName(c);\n            }\n            else if (this._state === 31 /* BeforeSpecial */) {\n                this._stateBeforeSpecial(c);\n            }\n            else if (this._state === 20 /* AfterComment1 */) {\n                this._stateAfterComment1(c);\n            }\n            else if (this._state === 14 /* InAttributeValueNq */) {\n                this._stateInAttributeValueNoQuotes(c);\n            }\n            else if (this._state === 4 /* InSelfClosingTag */) {\n                this._stateInSelfClosingTag(c);\n            }\n            else if (this._state === 16 /* InDeclaration */) {\n                this._stateInDeclaration(c);\n            }\n            else if (this._state === 15 /* BeforeDeclaration */) {\n                this._stateBeforeDeclaration(c);\n            }\n            else if (this._state === 21 /* AfterComment2 */) {\n                this._stateAfterComment2(c);\n            }\n            else if (this._state === 18 /* BeforeComment */) {\n                this._stateBeforeComment(c);\n            }\n            else if (this._state === 32 /* BeforeSpecialEnd */) {\n                this._stateBeforeSpecialEnd(c);\n            }\n            else if (this._state === 38 /* AfterScript1 */) {\n                stateAfterScript1(this, c);\n            }\n            else if (this._state === 39 /* AfterScript2 */) {\n                stateAfterScript2(this, c);\n            }\n            else if (this._state === 40 /* AfterScript3 */) {\n                stateAfterScript3(this, c);\n            }\n            else if (this._state === 33 /* BeforeScript1 */) {\n                stateBeforeScript1(this, c);\n            }\n            else if (this._state === 34 /* BeforeScript2 */) {\n                stateBeforeScript2(this, c);\n            }\n            else if (this._state === 35 /* BeforeScript3 */) {\n                stateBeforeScript3(this, c);\n            }\n            else if (this._state === 36 /* BeforeScript4 */) {\n                stateBeforeScript4(this, c);\n            }\n            else if (this._state === 37 /* BeforeScript5 */) {\n                this._stateBeforeScript5(c);\n            }\n            else if (this._state === 41 /* AfterScript4 */) {\n                stateAfterScript4(this, c);\n            }\n            else if (this._state === 42 /* AfterScript5 */) {\n                this._stateAfterScript5(c);\n            }\n            else if (this._state === 43 /* BeforeStyle1 */) {\n                stateBeforeStyle1(this, c);\n            }\n            else if (this._state === 28 /* InCdata */) {\n                this._stateInCdata(c);\n            }\n            else if (this._state === 44 /* BeforeStyle2 */) {\n                stateBeforeStyle2(this, c);\n            }\n            else if (this._state === 45 /* BeforeStyle3 */) {\n                stateBeforeStyle3(this, c);\n            }\n            else if (this._state === 46 /* BeforeStyle4 */) {\n                this._stateBeforeStyle4(c);\n            }\n            else if (this._state === 47 /* AfterStyle1 */) {\n                stateAfterStyle1(this, c);\n            }\n            else if (this._state === 48 /* AfterStyle2 */) {\n                stateAfterStyle2(this, c);\n            }\n            else if (this._state === 49 /* AfterStyle3 */) {\n                stateAfterStyle3(this, c);\n            }\n            else if (this._state === 50 /* AfterStyle4 */) {\n                this._stateAfterStyle4(c);\n            }\n            else if (this._state === 17 /* InProcessingInstruction */) {\n                this._stateInProcessingInstruction(c);\n            }\n            else if (this._state === 53 /* InNamedEntity */) {\n                this._stateInNamedEntity(c);\n            }\n            else if (this._state === 22 /* BeforeCdata1 */) {\n                stateBeforeCdata1(this, c);\n            }\n            else if (this._state === 51 /* BeforeEntity */) {\n                stateBeforeEntity(this, c);\n            }\n            else if (this._state === 23 /* BeforeCdata2 */) {\n                stateBeforeCdata2(this, c);\n            }\n            else if (this._state === 24 /* BeforeCdata3 */) {\n                stateBeforeCdata3(this, c);\n            }\n            else if (this._state === 29 /* AfterCdata1 */) {\n                this._stateAfterCdata1(c);\n            }\n            else if (this._state === 30 /* AfterCdata2 */) {\n                this._stateAfterCdata2(c);\n            }\n            else if (this._state === 25 /* BeforeCdata4 */) {\n                stateBeforeCdata4(this, c);\n            }\n            else if (this._state === 26 /* BeforeCdata5 */) {\n                stateBeforeCdata5(this, c);\n            }\n            else if (this._state === 27 /* BeforeCdata6 */) {\n                this._stateBeforeCdata6(c);\n            }\n            else if (this._state === 55 /* InHexEntity */) {\n                this._stateInHexEntity(c);\n            }\n            else if (this._state === 54 /* InNumericEntity */) {\n                this._stateInNumericEntity(c);\n            }\n            else if (this._state === 52 /* BeforeNumericEntity */) {\n                stateBeforeNumericEntity(this, c);\n            }\n            else {\n                this._cbs.onerror(Error(\"unknown _state\"), this._state);\n            }\n            this._index++;\n        }\n        this._cleanup();\n    };\n    Tokenizer.prototype.pause = function () {\n        this._running = false;\n    };\n    Tokenizer.prototype.resume = function () {\n        this._running = true;\n        if (this._index < this._buffer.length) {\n            this._parse();\n        }\n        if (this._ended) {\n            this._finish();\n        }\n    };\n    Tokenizer.prototype.end = function (chunk) {\n        if (this._ended)\n            this._cbs.onerror(Error(\".end() after done!\"));\n        if (chunk)\n            this.write(chunk);\n        this._ended = true;\n        if (this._running)\n            this._finish();\n    };\n    Tokenizer.prototype._finish = function () {\n        //if there is remaining data, emit it in a reasonable way\n        if (this._sectionStart < this._index) {\n            this._handleTrailingData();\n        }\n        this._cbs.onend();\n    };\n    Tokenizer.prototype._handleTrailingData = function () {\n        var data = this._buffer.substr(this._sectionStart);\n        if (this._state === 28 /* InCdata */ ||\n            this._state === 29 /* AfterCdata1 */ ||\n            this._state === 30 /* AfterCdata2 */) {\n            this._cbs.oncdata(data);\n        }\n        else if (this._state === 19 /* InComment */ ||\n            this._state === 20 /* AfterComment1 */ ||\n            this._state === 21 /* AfterComment2 */) {\n            this._cbs.oncomment(data);\n        }\n        else if (this._state === 53 /* InNamedEntity */ && !this._xmlMode) {\n            this._parseLegacyEntity();\n            if (this._sectionStart < this._index) {\n                this._state = this._baseState;\n                this._handleTrailingData();\n            }\n        }\n        else if (this._state === 54 /* InNumericEntity */ && !this._xmlMode) {\n            this._decodeNumericEntity(2, 10);\n            if (this._sectionStart < this._index) {\n                this._state = this._baseState;\n                this._handleTrailingData();\n            }\n        }\n        else if (this._state === 55 /* InHexEntity */ && !this._xmlMode) {\n            this._decodeNumericEntity(3, 16);\n            if (this._sectionStart < this._index) {\n                this._state = this._baseState;\n                this._handleTrailingData();\n            }\n        }\n        else if (this._state !== 3 /* InTagName */ &&\n            this._state !== 8 /* BeforeAttributeName */ &&\n            this._state !== 11 /* BeforeAttributeValue */ &&\n            this._state !== 10 /* AfterAttributeName */ &&\n            this._state !== 9 /* InAttributeName */ &&\n            this._state !== 13 /* InAttributeValueSq */ &&\n            this._state !== 12 /* InAttributeValueDq */ &&\n            this._state !== 14 /* InAttributeValueNq */ &&\n            this._state !== 6 /* InClosingTagName */) {\n            this._cbs.ontext(data);\n        }\n        //else, ignore remaining data\n        //TODO add a way to remove current tag\n    };\n    Tokenizer.prototype.getAbsoluteIndex = function () {\n        return this._bufferOffset + this._index;\n    };\n    Tokenizer.prototype._getSection = function () {\n        return this._buffer.substring(this._sectionStart, this._index);\n    };\n    Tokenizer.prototype._emitToken = function (name) {\n        this._cbs[name](this._getSection());\n        this._sectionStart = -1;\n    };\n    Tokenizer.prototype._emitPartial = function (value) {\n        if (this._baseState !== 1 /* Text */) {\n            this._cbs.onattribdata(value); //TODO implement the new event\n        }\n        else {\n            this._cbs.ontext(value);\n        }\n    };\n    return Tokenizer;\n}());\nexports.default = Tokenizer;\n});\n\nunwrapExports(Tokenizer_1);\n\n// Copyright Joyent, Inc. and other Node contributors.\n\nvar R = typeof Reflect === 'object' ? Reflect : null;\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  };\n\nvar ReflectOwnKeys;\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys;\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n};\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nvar events = EventEmitter;\nvar once_1 = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function eventListener() {\n      if (errorListener !== undefined) {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    }    var errorListener;\n\n    // Adding an error listener is not optional because\n    // if an error is thrown on an event emitter we cannot\n    // guarantee that the actual event we are waiting will\n    // be fired. The result could be a silent way to create\n    // memory or file descriptor leaks, which is something\n    // we should avoid.\n    if (name !== 'error') {\n      errorListener = function errorListener(err) {\n        emitter.removeListener(name, eventListener);\n        reject(err);\n      };\n\n      emitter.once('error', errorListener);\n    }\n\n    emitter.once(name, eventListener);\n  });\n}\nevents.once = once_1;\n\nvar Parser_1 = createCommonjsModule(function (module, exports) {\nvar __extends = (commonjsGlobal && commonjsGlobal.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (commonjsGlobal && commonjsGlobal.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Tokenizer_1$1 = __importDefault(Tokenizer_1);\n\nvar formTags = new Set([\n    \"input\",\n    \"option\",\n    \"optgroup\",\n    \"select\",\n    \"button\",\n    \"datalist\",\n    \"textarea\"\n]);\nvar pTag = new Set([\"p\"]);\nvar openImpliesClose = {\n    tr: new Set([\"tr\", \"th\", \"td\"]),\n    th: new Set([\"th\"]),\n    td: new Set([\"thead\", \"th\", \"td\"]),\n    body: new Set([\"head\", \"link\", \"script\"]),\n    li: new Set([\"li\"]),\n    p: pTag,\n    h1: pTag,\n    h2: pTag,\n    h3: pTag,\n    h4: pTag,\n    h5: pTag,\n    h6: pTag,\n    select: formTags,\n    input: formTags,\n    output: formTags,\n    button: formTags,\n    datalist: formTags,\n    textarea: formTags,\n    option: new Set([\"option\"]),\n    optgroup: new Set([\"optgroup\", \"option\"]),\n    dd: new Set([\"dt\", \"dd\"]),\n    dt: new Set([\"dt\", \"dd\"]),\n    address: pTag,\n    article: pTag,\n    aside: pTag,\n    blockquote: pTag,\n    details: pTag,\n    div: pTag,\n    dl: pTag,\n    fieldset: pTag,\n    figcaption: pTag,\n    figure: pTag,\n    footer: pTag,\n    form: pTag,\n    header: pTag,\n    hr: pTag,\n    main: pTag,\n    nav: pTag,\n    ol: pTag,\n    pre: pTag,\n    section: pTag,\n    table: pTag,\n    ul: pTag,\n    rt: new Set([\"rt\", \"rp\"]),\n    rp: new Set([\"rt\", \"rp\"]),\n    tbody: new Set([\"thead\", \"tbody\"]),\n    tfoot: new Set([\"thead\", \"tbody\"])\n};\nvar voidElements = new Set([\n    \"area\",\n    \"base\",\n    \"basefont\",\n    \"br\",\n    \"col\",\n    \"command\",\n    \"embed\",\n    \"frame\",\n    \"hr\",\n    \"img\",\n    \"input\",\n    \"isindex\",\n    \"keygen\",\n    \"link\",\n    \"meta\",\n    \"param\",\n    \"source\",\n    \"track\",\n    \"wbr\"\n]);\nvar foreignContextElements = new Set([\"math\", \"svg\"]);\nvar htmlIntegrationElements = new Set([\n    \"mi\",\n    \"mo\",\n    \"mn\",\n    \"ms\",\n    \"mtext\",\n    \"annotation-xml\",\n    \"foreignObject\",\n    \"desc\",\n    \"title\"\n]);\nvar reNameEnd = /\\s|\\//;\nvar Parser = /** @class */ (function (_super) {\n    __extends(Parser, _super);\n    function Parser(cbs, options) {\n        var _this = _super.call(this) || this;\n        _this._tagname = \"\";\n        _this._attribname = \"\";\n        _this._attribvalue = \"\";\n        _this._attribs = null;\n        _this._stack = [];\n        _this._foreignContext = [];\n        _this.startIndex = 0;\n        _this.endIndex = null;\n        // Aliases for backwards compatibility\n        _this.parseChunk = Parser.prototype.write;\n        _this.done = Parser.prototype.end;\n        _this._options = options || {};\n        _this._cbs = cbs || {};\n        _this._tagname = \"\";\n        _this._attribname = \"\";\n        _this._attribvalue = \"\";\n        _this._attribs = null;\n        _this._stack = [];\n        _this._foreignContext = [];\n        _this.startIndex = 0;\n        _this.endIndex = null;\n        _this._lowerCaseTagNames =\n            \"lowerCaseTags\" in _this._options\n                ? !!_this._options.lowerCaseTags\n                : !_this._options.xmlMode;\n        _this._lowerCaseAttributeNames =\n            \"lowerCaseAttributeNames\" in _this._options\n                ? !!_this._options.lowerCaseAttributeNames\n                : !_this._options.xmlMode;\n        _this._tokenizer = new (_this._options.Tokenizer || Tokenizer_1$1.default)(_this._options, _this);\n        if (_this._cbs.onparserinit)\n            _this._cbs.onparserinit(_this);\n        return _this;\n    }\n    Parser.prototype._updatePosition = function (initialOffset) {\n        if (this.endIndex === null) {\n            if (this._tokenizer._sectionStart <= initialOffset) {\n                this.startIndex = 0;\n            }\n            else {\n                this.startIndex = this._tokenizer._sectionStart - initialOffset;\n            }\n        }\n        else\n            this.startIndex = this.endIndex + 1;\n        this.endIndex = this._tokenizer.getAbsoluteIndex();\n    };\n    //Tokenizer event handlers\n    Parser.prototype.ontext = function (data) {\n        this._updatePosition(1);\n        // @ts-ignore\n        this.endIndex--;\n        if (this._cbs.ontext)\n            this._cbs.ontext(data);\n    };\n    Parser.prototype.onopentagname = function (name) {\n        if (this._lowerCaseTagNames) {\n            name = name.toLowerCase();\n        }\n        this._tagname = name;\n        if (!this._options.xmlMode &&\n            Object.prototype.hasOwnProperty.call(openImpliesClose, name)) {\n            for (var el = void 0; \n            // @ts-ignore\n            openImpliesClose[name].has((el = this._stack[this._stack.length - 1])); this.onclosetag(el))\n                ;\n        }\n        if (this._options.xmlMode || !voidElements.has(name)) {\n            this._stack.push(name);\n            if (foreignContextElements.has(name)) {\n                this._foreignContext.push(true);\n            }\n            else if (htmlIntegrationElements.has(name)) {\n                this._foreignContext.push(false);\n            }\n        }\n        if (this._cbs.onopentagname)\n            this._cbs.onopentagname(name);\n        if (this._cbs.onopentag)\n            this._attribs = {};\n    };\n    Parser.prototype.onopentagend = function () {\n        this._updatePosition(1);\n        if (this._attribs) {\n            if (this._cbs.onopentag) {\n                this._cbs.onopentag(this._tagname, this._attribs);\n            }\n            this._attribs = null;\n        }\n        if (!this._options.xmlMode &&\n            this._cbs.onclosetag &&\n            voidElements.has(this._tagname)) {\n            this._cbs.onclosetag(this._tagname);\n        }\n        this._tagname = \"\";\n    };\n    Parser.prototype.onclosetag = function (name) {\n        this._updatePosition(1);\n        if (this._lowerCaseTagNames) {\n            name = name.toLowerCase();\n        }\n        if (foreignContextElements.has(name) ||\n            htmlIntegrationElements.has(name)) {\n            this._foreignContext.pop();\n        }\n        if (this._stack.length &&\n            (this._options.xmlMode || !voidElements.has(name))) {\n            var pos = this._stack.lastIndexOf(name);\n            if (pos !== -1) {\n                if (this._cbs.onclosetag) {\n                    pos = this._stack.length - pos;\n                    // @ts-ignore\n                    while (pos--)\n                        this._cbs.onclosetag(this._stack.pop());\n                }\n                else\n                    this._stack.length = pos;\n            }\n            else if (name === \"p\" && !this._options.xmlMode) {\n                this.onopentagname(name);\n                this._closeCurrentTag();\n            }\n        }\n        else if (!this._options.xmlMode && (name === \"br\" || name === \"p\")) {\n            this.onopentagname(name);\n            this._closeCurrentTag();\n        }\n    };\n    Parser.prototype.onselfclosingtag = function () {\n        if (this._options.xmlMode ||\n            this._options.recognizeSelfClosing ||\n            this._foreignContext[this._foreignContext.length - 1]) {\n            this._closeCurrentTag();\n        }\n        else {\n            this.onopentagend();\n        }\n    };\n    Parser.prototype._closeCurrentTag = function () {\n        var name = this._tagname;\n        this.onopentagend();\n        //self-closing tags will be on the top of the stack\n        //(cheaper check than in onclosetag)\n        if (this._stack[this._stack.length - 1] === name) {\n            if (this._cbs.onclosetag) {\n                this._cbs.onclosetag(name);\n            }\n            this._stack.pop();\n        }\n    };\n    Parser.prototype.onattribname = function (name) {\n        if (this._lowerCaseAttributeNames) {\n            name = name.toLowerCase();\n        }\n        this._attribname = name;\n    };\n    Parser.prototype.onattribdata = function (value) {\n        this._attribvalue += value;\n    };\n    Parser.prototype.onattribend = function () {\n        if (this._cbs.onattribute)\n            this._cbs.onattribute(this._attribname, this._attribvalue);\n        if (this._attribs &&\n            !Object.prototype.hasOwnProperty.call(this._attribs, this._attribname)) {\n            this._attribs[this._attribname] = this._attribvalue;\n        }\n        this._attribname = \"\";\n        this._attribvalue = \"\";\n    };\n    Parser.prototype._getInstructionName = function (value) {\n        var idx = value.search(reNameEnd);\n        var name = idx < 0 ? value : value.substr(0, idx);\n        if (this._lowerCaseTagNames) {\n            name = name.toLowerCase();\n        }\n        return name;\n    };\n    Parser.prototype.ondeclaration = function (value) {\n        if (this._cbs.onprocessinginstruction) {\n            var name_1 = this._getInstructionName(value);\n            this._cbs.onprocessinginstruction(\"!\" + name_1, \"!\" + value);\n        }\n    };\n    Parser.prototype.onprocessinginstruction = function (value) {\n        if (this._cbs.onprocessinginstruction) {\n            var name_2 = this._getInstructionName(value);\n            this._cbs.onprocessinginstruction(\"?\" + name_2, \"?\" + value);\n        }\n    };\n    Parser.prototype.oncomment = function (value) {\n        this._updatePosition(4);\n        if (this._cbs.oncomment)\n            this._cbs.oncomment(value);\n        if (this._cbs.oncommentend)\n            this._cbs.oncommentend();\n    };\n    Parser.prototype.oncdata = function (value) {\n        this._updatePosition(1);\n        if (this._options.xmlMode || this._options.recognizeCDATA) {\n            if (this._cbs.oncdatastart)\n                this._cbs.oncdatastart();\n            if (this._cbs.ontext)\n                this._cbs.ontext(value);\n            if (this._cbs.oncdataend)\n                this._cbs.oncdataend();\n        }\n        else {\n            this.oncomment(\"[CDATA[\" + value + \"]]\");\n        }\n    };\n    Parser.prototype.onerror = function (err) {\n        if (this._cbs.onerror)\n            this._cbs.onerror(err);\n    };\n    Parser.prototype.onend = function () {\n        if (this._cbs.onclosetag) {\n            for (var i = this._stack.length; i > 0; this._cbs.onclosetag(this._stack[--i]))\n                ;\n        }\n        if (this._cbs.onend)\n            this._cbs.onend();\n    };\n    //Resets the parser to a blank state, ready to parse a new HTML document\n    Parser.prototype.reset = function () {\n        if (this._cbs.onreset)\n            this._cbs.onreset();\n        this._tokenizer.reset();\n        this._tagname = \"\";\n        this._attribname = \"\";\n        this._attribs = null;\n        this._stack = [];\n        if (this._cbs.onparserinit)\n            this._cbs.onparserinit(this);\n    };\n    //Parses a complete HTML document and pushes it to the handler\n    Parser.prototype.parseComplete = function (data) {\n        this.reset();\n        this.end(data);\n    };\n    Parser.prototype.write = function (chunk) {\n        this._tokenizer.write(chunk);\n    };\n    Parser.prototype.end = function (chunk) {\n        this._tokenizer.end(chunk);\n    };\n    Parser.prototype.pause = function () {\n        this._tokenizer.pause();\n    };\n    Parser.prototype.resume = function () {\n        this._tokenizer.resume();\n    };\n    return Parser;\n}(events.EventEmitter));\nexports.Parser = Parser;\n});\n\nunwrapExports(Parser_1);\nvar Parser_2 = Parser_1.Parser;\n\nvar node = createCommonjsModule(function (module, exports) {\nvar __extends = (commonjsGlobal && commonjsGlobal.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (commonjsGlobal && commonjsGlobal.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.cloneNode = exports.Element = exports.NodeWithChildren = exports.ProcessingInstruction = exports.Comment = exports.Text = exports.DataNode = exports.Node = void 0;\nvar nodeTypes = new Map([\n    [\"tag\" /* Tag */, 1],\n    [\"script\" /* Script */, 1],\n    [\"style\" /* Style */, 1],\n    [\"directive\" /* Directive */, 1],\n    [\"text\" /* Text */, 3],\n    [\"cdata\" /* CDATA */, 4],\n    [\"comment\" /* Comment */, 8],\n]);\n/**\n * This object will be used as the prototype for Nodes when creating a\n * DOM-Level-1-compliant structure.\n */\nvar Node = /** @class */ (function () {\n    /**\n     *\n     * @param type The type of the node.\n     */\n    function Node(type) {\n        this.type = type;\n        /** Parent of the node */\n        this.parent = null;\n        /** Previous sibling */\n        this.prev = null;\n        /** Next sibling */\n        this.next = null;\n        /** The start index of the node. Requires `withStartIndices` on the handler to be `true. */\n        this.startIndex = null;\n        /** The end index of the node. Requires `withEndIndices` on the handler to be `true. */\n        this.endIndex = null;\n    }\n    Object.defineProperty(Node.prototype, \"nodeType\", {\n        // Read-only aliases\n        get: function () {\n            var _a;\n            return (_a = nodeTypes.get(this.type)) !== null && _a !== void 0 ? _a : 1;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"parentNode\", {\n        // Read-write aliases for properties\n        get: function () {\n            return this.parent;\n        },\n        set: function (parent) {\n            this.parent = parent;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"previousSibling\", {\n        get: function () {\n            return this.prev;\n        },\n        set: function (prev) {\n            this.prev = prev;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"nextSibling\", {\n        get: function () {\n            return this.next;\n        },\n        set: function (next) {\n            this.next = next;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Clone this node, and optionally its children.\n     *\n     * @param recursive Clone child nodes as well.\n     * @returns A clone of the node.\n     */\n    Node.prototype.cloneNode = function (recursive) {\n        if (recursive === void 0) { recursive = false; }\n        return cloneNode(this, recursive);\n    };\n    return Node;\n}());\nexports.Node = Node;\nvar DataNode = /** @class */ (function (_super) {\n    __extends(DataNode, _super);\n    /**\n     * @param type The type of the node\n     * @param data The content of the data node\n     */\n    function DataNode(type, data) {\n        var _this = _super.call(this, type) || this;\n        _this.data = data;\n        return _this;\n    }\n    Object.defineProperty(DataNode.prototype, \"nodeValue\", {\n        get: function () {\n            return this.data;\n        },\n        set: function (data) {\n            this.data = data;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return DataNode;\n}(Node));\nexports.DataNode = DataNode;\nvar Text = /** @class */ (function (_super) {\n    __extends(Text, _super);\n    function Text(data) {\n        return _super.call(this, \"text\" /* Text */, data) || this;\n    }\n    return Text;\n}(DataNode));\nexports.Text = Text;\nvar Comment = /** @class */ (function (_super) {\n    __extends(Comment, _super);\n    function Comment(data) {\n        return _super.call(this, \"comment\" /* Comment */, data) || this;\n    }\n    return Comment;\n}(DataNode));\nexports.Comment = Comment;\nvar ProcessingInstruction = /** @class */ (function (_super) {\n    __extends(ProcessingInstruction, _super);\n    function ProcessingInstruction(name, data) {\n        var _this = _super.call(this, \"directive\" /* Directive */, data) || this;\n        _this.name = name;\n        return _this;\n    }\n    return ProcessingInstruction;\n}(DataNode));\nexports.ProcessingInstruction = ProcessingInstruction;\nvar NodeWithChildren = /** @class */ (function (_super) {\n    __extends(NodeWithChildren, _super);\n    /**\n     *\n     * @param type Type of the node.\n     * @param children Children of the node. Only certain node types can have children.\n     */\n    function NodeWithChildren(type, children) {\n        var _this = _super.call(this, type) || this;\n        _this.children = children;\n        return _this;\n    }\n    Object.defineProperty(NodeWithChildren.prototype, \"firstChild\", {\n        // Aliases\n        get: function () {\n            var _a;\n            return (_a = this.children[0]) !== null && _a !== void 0 ? _a : null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(NodeWithChildren.prototype, \"lastChild\", {\n        get: function () {\n            return this.children.length > 0\n                ? this.children[this.children.length - 1]\n                : null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(NodeWithChildren.prototype, \"childNodes\", {\n        get: function () {\n            return this.children;\n        },\n        set: function (children) {\n            this.children = children;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return NodeWithChildren;\n}(Node));\nexports.NodeWithChildren = NodeWithChildren;\nvar Element = /** @class */ (function (_super) {\n    __extends(Element, _super);\n    /**\n     * @param name Name of the tag, eg. `div`, `span`.\n     * @param attribs Object mapping attribute names to attribute values.\n     * @param children Children of the node.\n     */\n    function Element(name, attribs, children) {\n        if (children === void 0) { children = []; }\n        var _this = _super.call(this, name === \"script\"\n            ? \"script\" /* Script */\n            : name === \"style\"\n                ? \"style\" /* Style */\n                : \"tag\" /* Tag */, children) || this;\n        _this.name = name;\n        _this.attribs = attribs;\n        _this.attribs = attribs;\n        return _this;\n    }\n    Object.defineProperty(Element.prototype, \"tagName\", {\n        // DOM Level 1 aliases\n        get: function () {\n            return this.name;\n        },\n        set: function (name) {\n            this.name = name;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Element.prototype, \"attributes\", {\n        get: function () {\n            var _this = this;\n            return Object.keys(this.attribs).map(function (name) { return ({\n                name: name,\n                value: _this.attribs[name],\n            }); });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Element;\n}(NodeWithChildren));\nexports.Element = Element;\n/**\n * Clone a node, and optionally its children.\n *\n * @param recursive Clone child nodes as well.\n * @returns A clone of the node.\n */\nfunction cloneNode(node, recursive) {\n    if (recursive === void 0) { recursive = false; }\n    switch (node.type) {\n        case \"text\" /* Text */:\n            return new Text(node.data);\n        case \"directive\" /* Directive */: {\n            var instr = node;\n            return new ProcessingInstruction(instr.name, instr.data);\n        }\n        case \"comment\" /* Comment */:\n            return new Comment(node.data);\n        case \"tag\" /* Tag */:\n        case \"script\" /* Script */:\n        case \"style\" /* Style */: {\n            var elem = node;\n            var children = recursive ? cloneChildren(elem.children) : [];\n            var clone_1 = new Element(elem.name, __assign({}, elem.attribs), children);\n            children.forEach(function (child) { return (child.parent = clone_1); });\n            return clone_1;\n        }\n        case \"cdata\" /* CDATA */: {\n            var cdata = node;\n            var children = recursive ? cloneChildren(cdata.children) : [];\n            var clone_2 = new NodeWithChildren(\"cdata\" /* CDATA */, children);\n            children.forEach(function (child) { return (child.parent = clone_2); });\n            return clone_2;\n        }\n        case \"doctype\" /* Doctype */: {\n            // This type isn't used yet.\n            throw new Error(\"Not implemented yet: ElementType.Doctype case\");\n        }\n    }\n}\nexports.cloneNode = cloneNode;\nfunction cloneChildren(childs) {\n    var children = childs.map(function (child) { return cloneNode(child, true); });\n    for (var i = 1; i < children.length; i++) {\n        children[i].prev = children[i - 1];\n        children[i - 1].next = children[i];\n    }\n    return children;\n}\n});\n\nunwrapExports(node);\nvar node_1 = node.cloneNode;\nvar node_2 = node.Element;\nvar node_3 = node.NodeWithChildren;\nvar node_4 = node.ProcessingInstruction;\nvar node_5 = node.Comment;\nvar node_6 = node.Text;\nvar node_7 = node.DataNode;\nvar node_8 = node.Node;\n\nvar lib$1 = createCommonjsModule(function (module, exports) {\nvar __createBinding = (commonjsGlobal && commonjsGlobal.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (commonjsGlobal && commonjsGlobal.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DomHandler = void 0;\n\n__exportStar(node, exports);\nvar reWhitespace = /\\s+/g;\n// Default options\nvar defaultOpts = {\n    normalizeWhitespace: false,\n    withStartIndices: false,\n    withEndIndices: false,\n};\nvar DomHandler = /** @class */ (function () {\n    /**\n     * @param callback Called once parsing has completed.\n     * @param options Settings for the handler.\n     * @param elementCB Callback whenever a tag is closed.\n     */\n    function DomHandler(callback, options, elementCB) {\n        /** The constructed DOM */\n        this.dom = [];\n        /** Indicated whether parsing has been completed. */\n        this._done = false;\n        /** Stack of open tags. */\n        this._tagStack = [];\n        /** A data node that is still being written to. */\n        this._lastNode = null;\n        /** Reference to the parser instance. Used for location information. */\n        this._parser = null;\n        // Make it possible to skip arguments, for backwards-compatibility\n        if (typeof options === \"function\") {\n            elementCB = options;\n            options = defaultOpts;\n        }\n        if (typeof callback === \"object\") {\n            options = callback;\n            callback = undefined;\n        }\n        this._callback = callback !== null && callback !== void 0 ? callback : null;\n        this._options = options !== null && options !== void 0 ? options : defaultOpts;\n        this._elementCB = elementCB !== null && elementCB !== void 0 ? elementCB : null;\n    }\n    DomHandler.prototype.onparserinit = function (parser) {\n        this._parser = parser;\n    };\n    // Resets the handler back to starting state\n    DomHandler.prototype.onreset = function () {\n        var _a;\n        this.dom = [];\n        this._done = false;\n        this._tagStack = [];\n        this._lastNode = null;\n        this._parser = (_a = this._parser) !== null && _a !== void 0 ? _a : null;\n    };\n    // Signals the handler that parsing is done\n    DomHandler.prototype.onend = function () {\n        if (this._done)\n            return;\n        this._done = true;\n        this._parser = null;\n        this.handleCallback(null);\n    };\n    DomHandler.prototype.onerror = function (error) {\n        this.handleCallback(error);\n    };\n    DomHandler.prototype.onclosetag = function () {\n        this._lastNode = null;\n        var elem = this._tagStack.pop();\n        if (!elem || !this._parser) {\n            return;\n        }\n        if (this._options.withEndIndices) {\n            elem.endIndex = this._parser.endIndex;\n        }\n        if (this._elementCB)\n            this._elementCB(elem);\n    };\n    DomHandler.prototype.onopentag = function (name, attribs) {\n        var element = new node.Element(name, attribs);\n        this.addNode(element);\n        this._tagStack.push(element);\n    };\n    DomHandler.prototype.ontext = function (data) {\n        var normalize = this._options.normalizeWhitespace;\n        var _lastNode = this._lastNode;\n        if (_lastNode && _lastNode.type === \"text\" /* Text */) {\n            if (normalize) {\n                _lastNode.data = (_lastNode.data + data).replace(reWhitespace, \" \");\n            }\n            else {\n                _lastNode.data += data;\n            }\n        }\n        else {\n            if (normalize) {\n                data = data.replace(reWhitespace, \" \");\n            }\n            var node$1 = new node.Text(data);\n            this.addNode(node$1);\n            this._lastNode = node$1;\n        }\n    };\n    DomHandler.prototype.oncomment = function (data) {\n        if (this._lastNode && this._lastNode.type === \"comment\" /* Comment */) {\n            this._lastNode.data += data;\n            return;\n        }\n        var node$1 = new node.Comment(data);\n        this.addNode(node$1);\n        this._lastNode = node$1;\n    };\n    DomHandler.prototype.oncommentend = function () {\n        this._lastNode = null;\n    };\n    DomHandler.prototype.oncdatastart = function () {\n        var text = new node.Text(\"\");\n        var node$1 = new node.NodeWithChildren(\"cdata\" /* CDATA */, [text]);\n        this.addNode(node$1);\n        text.parent = node$1;\n        this._lastNode = text;\n    };\n    DomHandler.prototype.oncdataend = function () {\n        this._lastNode = null;\n    };\n    DomHandler.prototype.onprocessinginstruction = function (name, data) {\n        var node$1 = new node.ProcessingInstruction(name, data);\n        this.addNode(node$1);\n    };\n    DomHandler.prototype.handleCallback = function (error) {\n        if (typeof this._callback === \"function\") {\n            this._callback(error, this.dom);\n        }\n        else if (error) {\n            throw error;\n        }\n    };\n    DomHandler.prototype.addNode = function (node) {\n        var parent = this._tagStack[this._tagStack.length - 1];\n        var siblings = parent ? parent.children : this.dom;\n        var previousSibling = siblings[siblings.length - 1];\n        if (this._parser) {\n            if (this._options.withStartIndices) {\n                node.startIndex = this._parser.startIndex;\n            }\n            if (this._options.withEndIndices) {\n                node.endIndex = this._parser.endIndex;\n            }\n        }\n        siblings.push(node);\n        if (previousSibling) {\n            node.prev = previousSibling;\n            previousSibling.next = node;\n        }\n        if (parent) {\n            node.parent = parent;\n        }\n        this._lastNode = null;\n    };\n    DomHandler.prototype.addDataNode = function (node) {\n        this.addNode(node);\n        this._lastNode = node;\n    };\n    return DomHandler;\n}());\nexports.DomHandler = DomHandler;\nexports.default = DomHandler;\n});\n\nunwrapExports(lib$1);\nvar lib_1$1 = lib$1.DomHandler;\n\nvar lib$2 = createCommonjsModule(function (module, exports) {\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Doctype = exports.CDATA = exports.Tag = exports.Style = exports.Script = exports.Comment = exports.Directive = exports.Text = exports.Root = exports.isTag = void 0;\n/**\n * Tests whether an element is a tag or not.\n *\n * @param elem Element to test\n */\nfunction isTag(elem) {\n    return (elem.type === \"tag\" /* Tag */ ||\n        elem.type === \"script\" /* Script */ ||\n        elem.type === \"style\" /* Style */);\n}\nexports.isTag = isTag;\n// Exports for backwards compatibility\n/** Type for the root element of a document */\nexports.Root = \"root\" /* Root */;\n/** Type for Text */\nexports.Text = \"text\" /* Text */;\n/** Type for <? ... ?> */\nexports.Directive = \"directive\" /* Directive */;\n/** Type for <!-- ... --> */\nexports.Comment = \"comment\" /* Comment */;\n/** Type for <script> tags */\nexports.Script = \"script\" /* Script */;\n/** Type for <style> tags */\nexports.Style = \"style\" /* Style */;\n/** Type for Any tag */\nexports.Tag = \"tag\" /* Tag */;\n/** Type for <![CDATA[ ... ]]> */\nexports.CDATA = \"cdata\" /* CDATA */;\n/** Type for <!doctype ...> */\nexports.Doctype = \"doctype\" /* Doctype */;\n});\n\nunwrapExports(lib$2);\nvar lib_1$2 = lib$2.Doctype;\nvar lib_2$1 = lib$2.CDATA;\nvar lib_3$1 = lib$2.Tag;\nvar lib_4$1 = lib$2.Style;\nvar lib_5$1 = lib$2.Script;\nvar lib_6$1 = lib$2.Comment;\nvar lib_7$1 = lib$2.Directive;\nvar lib_8$1 = lib$2.Text;\nvar lib_9$1 = lib$2.Root;\nvar lib_10$1 = lib$2.isTag;\n\nvar tagtypes = createCommonjsModule(function (module, exports) {\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.hasChildren = exports.isComment = exports.isText = exports.isCDATA = exports.isTag = void 0;\n\n/**\n * @param node Node to check.\n * @returns `true` if the node is a `Element`, `false` otherwise.\n */\nfunction isTag(node) {\n    return lib$2.isTag(node);\n}\nexports.isTag = isTag;\n/**\n * @param node Node to check.\n * @returns `true` if the node is a `NodeWithChildren`, `false` otherwise.\n */\nfunction isCDATA(node) {\n    return node.type === \"cdata\" /* CDATA */;\n}\nexports.isCDATA = isCDATA;\n/**\n * @param node Node to check.\n * @returns `true` if the node is a `DataNode`, `false` otherwise.\n */\nfunction isText(node) {\n    return node.type === \"text\" /* Text */;\n}\nexports.isText = isText;\n/**\n * @param node Node to check.\n * @returns `true` if the node is a `DataNode`, `false` otherwise.\n */\nfunction isComment(node) {\n    return node.type === \"comment\" /* Comment */;\n}\nexports.isComment = isComment;\n/**\n * @param node Node to check.\n * @returns `true` if the node is a `NodeWithChildren` (has children), `false` otherwise.\n */\nfunction hasChildren(node) {\n    return Object.prototype.hasOwnProperty.call(node, \"children\");\n}\nexports.hasChildren = hasChildren;\n});\n\nunwrapExports(tagtypes);\nvar tagtypes_1 = tagtypes.hasChildren;\nvar tagtypes_2 = tagtypes.isComment;\nvar tagtypes_3 = tagtypes.isText;\nvar tagtypes_4 = tagtypes.isCDATA;\nvar tagtypes_5 = tagtypes.isTag;\n\nvar foreignNames = createCommonjsModule(function (module, exports) {\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.attributeNames = exports.elementNames = void 0;\nexports.elementNames = new Map([\n    [\"altglyph\", \"altGlyph\"],\n    [\"altglyphdef\", \"altGlyphDef\"],\n    [\"altglyphitem\", \"altGlyphItem\"],\n    [\"animatecolor\", \"animateColor\"],\n    [\"animatemotion\", \"animateMotion\"],\n    [\"animatetransform\", \"animateTransform\"],\n    [\"clippath\", \"clipPath\"],\n    [\"feblend\", \"feBlend\"],\n    [\"fecolormatrix\", \"feColorMatrix\"],\n    [\"fecomponenttransfer\", \"feComponentTransfer\"],\n    [\"fecomposite\", \"feComposite\"],\n    [\"feconvolvematrix\", \"feConvolveMatrix\"],\n    [\"fediffuselighting\", \"feDiffuseLighting\"],\n    [\"fedisplacementmap\", \"feDisplacementMap\"],\n    [\"fedistantlight\", \"feDistantLight\"],\n    [\"fedropshadow\", \"feDropShadow\"],\n    [\"feflood\", \"feFlood\"],\n    [\"fefunca\", \"feFuncA\"],\n    [\"fefuncb\", \"feFuncB\"],\n    [\"fefuncg\", \"feFuncG\"],\n    [\"fefuncr\", \"feFuncR\"],\n    [\"fegaussianblur\", \"feGaussianBlur\"],\n    [\"feimage\", \"feImage\"],\n    [\"femerge\", \"feMerge\"],\n    [\"femergenode\", \"feMergeNode\"],\n    [\"femorphology\", \"feMorphology\"],\n    [\"feoffset\", \"feOffset\"],\n    [\"fepointlight\", \"fePointLight\"],\n    [\"fespecularlighting\", \"feSpecularLighting\"],\n    [\"fespotlight\", \"feSpotLight\"],\n    [\"fetile\", \"feTile\"],\n    [\"feturbulence\", \"feTurbulence\"],\n    [\"foreignobject\", \"foreignObject\"],\n    [\"glyphref\", \"glyphRef\"],\n    [\"lineargradient\", \"linearGradient\"],\n    [\"radialgradient\", \"radialGradient\"],\n    [\"textpath\", \"textPath\"],\n]);\nexports.attributeNames = new Map([\n    [\"definitionurl\", \"definitionURL\"],\n    [\"attributename\", \"attributeName\"],\n    [\"attributetype\", \"attributeType\"],\n    [\"basefrequency\", \"baseFrequency\"],\n    [\"baseprofile\", \"baseProfile\"],\n    [\"calcmode\", \"calcMode\"],\n    [\"clippathunits\", \"clipPathUnits\"],\n    [\"diffuseconstant\", \"diffuseConstant\"],\n    [\"edgemode\", \"edgeMode\"],\n    [\"filterunits\", \"filterUnits\"],\n    [\"glyphref\", \"glyphRef\"],\n    [\"gradienttransform\", \"gradientTransform\"],\n    [\"gradientunits\", \"gradientUnits\"],\n    [\"kernelmatrix\", \"kernelMatrix\"],\n    [\"kernelunitlength\", \"kernelUnitLength\"],\n    [\"keypoints\", \"keyPoints\"],\n    [\"keysplines\", \"keySplines\"],\n    [\"keytimes\", \"keyTimes\"],\n    [\"lengthadjust\", \"lengthAdjust\"],\n    [\"limitingconeangle\", \"limitingConeAngle\"],\n    [\"markerheight\", \"markerHeight\"],\n    [\"markerunits\", \"markerUnits\"],\n    [\"markerwidth\", \"markerWidth\"],\n    [\"maskcontentunits\", \"maskContentUnits\"],\n    [\"maskunits\", \"maskUnits\"],\n    [\"numoctaves\", \"numOctaves\"],\n    [\"pathlength\", \"pathLength\"],\n    [\"patterncontentunits\", \"patternContentUnits\"],\n    [\"patterntransform\", \"patternTransform\"],\n    [\"patternunits\", \"patternUnits\"],\n    [\"pointsatx\", \"pointsAtX\"],\n    [\"pointsaty\", \"pointsAtY\"],\n    [\"pointsatz\", \"pointsAtZ\"],\n    [\"preservealpha\", \"preserveAlpha\"],\n    [\"preserveaspectratio\", \"preserveAspectRatio\"],\n    [\"primitiveunits\", \"primitiveUnits\"],\n    [\"refx\", \"refX\"],\n    [\"refy\", \"refY\"],\n    [\"repeatcount\", \"repeatCount\"],\n    [\"repeatdur\", \"repeatDur\"],\n    [\"requiredextensions\", \"requiredExtensions\"],\n    [\"requiredfeatures\", \"requiredFeatures\"],\n    [\"specularconstant\", \"specularConstant\"],\n    [\"specularexponent\", \"specularExponent\"],\n    [\"spreadmethod\", \"spreadMethod\"],\n    [\"startoffset\", \"startOffset\"],\n    [\"stddeviation\", \"stdDeviation\"],\n    [\"stitchtiles\", \"stitchTiles\"],\n    [\"surfacescale\", \"surfaceScale\"],\n    [\"systemlanguage\", \"systemLanguage\"],\n    [\"tablevalues\", \"tableValues\"],\n    [\"targetx\", \"targetX\"],\n    [\"targety\", \"targetY\"],\n    [\"textlength\", \"textLength\"],\n    [\"viewbox\", \"viewBox\"],\n    [\"viewtarget\", \"viewTarget\"],\n    [\"xchannelselector\", \"xChannelSelector\"],\n    [\"ychannelselector\", \"yChannelSelector\"],\n    [\"zoomandpan\", \"zoomAndPan\"],\n]);\n});\n\nunwrapExports(foreignNames);\nvar foreignNames_1 = foreignNames.attributeNames;\nvar foreignNames_2 = foreignNames.elementNames;\n\nvar lib$3 = createCommonjsModule(function (module, exports) {\nvar __assign = (commonjsGlobal && commonjsGlobal.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (commonjsGlobal && commonjsGlobal.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (commonjsGlobal && commonjsGlobal.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (commonjsGlobal && commonjsGlobal.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/*\n * Module dependencies\n */\nvar ElementType = __importStar(lib$2);\n\n/*\n * Mixed-case SVG and MathML tags & attributes\n * recognized by the HTML parser, see\n * https://html.spec.whatwg.org/multipage/parsing.html#parsing-main-inforeign\n */\n\nvar unencodedElements = new Set([\n    \"style\",\n    \"script\",\n    \"xmp\",\n    \"iframe\",\n    \"noembed\",\n    \"noframes\",\n    \"plaintext\",\n    \"noscript\",\n]);\n/**\n * Format attributes\n */\nfunction formatAttributes(attributes, opts) {\n    if (!attributes)\n        return;\n    return Object.keys(attributes)\n        .map(function (key) {\n        var _a, _b;\n        var value = (_a = attributes[key]) !== null && _a !== void 0 ? _a : \"\";\n        if (opts.xmlMode === \"foreign\") {\n            /* Fix up mixed-case attribute names */\n            key = (_b = foreignNames.attributeNames.get(key)) !== null && _b !== void 0 ? _b : key;\n        }\n        if (!opts.emptyAttrs && !opts.xmlMode && value === \"\") {\n            return key;\n        }\n        return key + \"=\\\"\" + (opts.decodeEntities ? lib.encodeXML(value) : value.replace(/\"/g, \"&quot;\")) + \"\\\"\";\n    })\n        .join(\" \");\n}\n/**\n * Self-enclosing tags\n */\nvar singleTag = new Set([\n    \"area\",\n    \"base\",\n    \"basefont\",\n    \"br\",\n    \"col\",\n    \"command\",\n    \"embed\",\n    \"frame\",\n    \"hr\",\n    \"img\",\n    \"input\",\n    \"isindex\",\n    \"keygen\",\n    \"link\",\n    \"meta\",\n    \"param\",\n    \"source\",\n    \"track\",\n    \"wbr\",\n]);\n/**\n * Renders a DOM node or an array of DOM nodes to a string.\n *\n * Can be thought of as the equivalent of the `outerHTML` of the passed node(s).\n *\n * @param node Node to be rendered.\n * @param options Changes serialization behavior\n */\nfunction render(node, options) {\n    if (options === void 0) { options = {}; }\n    // TODO: This is a bit hacky.\n    var nodes = Array.isArray(node) || node.cheerio ? node : [node];\n    var output = \"\";\n    for (var i = 0; i < nodes.length; i++) {\n        output += renderNode(nodes[i], options);\n    }\n    return output;\n}\nexports.default = render;\nfunction renderNode(node, options) {\n    switch (node.type) {\n        case ElementType.Root:\n            return render(node.children, options);\n        case ElementType.Directive:\n        case ElementType.Doctype:\n            return renderDirective(node);\n        case ElementType.Comment:\n            return renderComment(node);\n        case ElementType.CDATA:\n            return renderCdata(node);\n        case ElementType.Script:\n        case ElementType.Style:\n        case ElementType.Tag:\n            return renderTag(node, options);\n        case ElementType.Text:\n            return renderText(node, options);\n    }\n}\nvar foreignModeIntegrationPoints = new Set([\n    \"mi\",\n    \"mo\",\n    \"mn\",\n    \"ms\",\n    \"mtext\",\n    \"annotation-xml\",\n    \"foreignObject\",\n    \"desc\",\n    \"title\",\n]);\nvar foreignElements = new Set([\"svg\", \"math\"]);\nfunction renderTag(elem, opts) {\n    var _a;\n    // Handle SVG / MathML in HTML\n    if (opts.xmlMode === \"foreign\") {\n        /* Fix up mixed-case element names */\n        elem.name = (_a = foreignNames.elementNames.get(elem.name)) !== null && _a !== void 0 ? _a : elem.name;\n        /* Exit foreign mode at integration points */\n        if (elem.parent &&\n            foreignModeIntegrationPoints.has(elem.parent.name)) {\n            opts = __assign(__assign({}, opts), { xmlMode: false });\n        }\n    }\n    if (!opts.xmlMode && foreignElements.has(elem.name)) {\n        opts = __assign(__assign({}, opts), { xmlMode: \"foreign\" });\n    }\n    var tag = \"<\" + elem.name;\n    var attribs = formatAttributes(elem.attribs, opts);\n    if (attribs) {\n        tag += \" \" + attribs;\n    }\n    if (elem.children.length === 0 &&\n        (opts.xmlMode\n            ? // In XML mode or foreign mode, and user hasn't explicitly turned off self-closing tags\n                opts.selfClosingTags !== false\n            : // User explicitly asked for self-closing tags, even in HTML mode\n                opts.selfClosingTags && singleTag.has(elem.name))) {\n        if (!opts.xmlMode)\n            tag += \" \";\n        tag += \"/>\";\n    }\n    else {\n        tag += \">\";\n        if (elem.children.length > 0) {\n            tag += render(elem.children, opts);\n        }\n        if (opts.xmlMode || !singleTag.has(elem.name)) {\n            tag += \"</\" + elem.name + \">\";\n        }\n    }\n    return tag;\n}\nfunction renderDirective(elem) {\n    return \"<\" + elem.data + \">\";\n}\nfunction renderText(elem, opts) {\n    var data = elem.data || \"\";\n    // If entities weren't decoded, no need to encode them back\n    if (opts.decodeEntities &&\n        !(elem.parent && unencodedElements.has(elem.parent.name))) {\n        data = lib.encodeXML(data);\n    }\n    return data;\n}\nfunction renderCdata(elem) {\n    return \"<![CDATA[\" + elem.children[0].data + \"]]>\";\n}\nfunction renderComment(elem) {\n    return \"<!--\" + elem.data + \"-->\";\n}\n});\n\nunwrapExports(lib$3);\n\nvar stringify = createCommonjsModule(function (module, exports) {\nvar __importDefault = (commonjsGlobal && commonjsGlobal.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getText = exports.getInnerHTML = exports.getOuterHTML = void 0;\n\nvar dom_serializer_1 = __importDefault(lib$3);\n/**\n * @param node Node to get the outer HTML of.\n * @param options Options for serialization.\n * @deprecated Use the `dom-serializer` module directly.\n * @returns `node`'s outer HTML.\n */\nfunction getOuterHTML(node, options) {\n    return dom_serializer_1.default(node, options);\n}\nexports.getOuterHTML = getOuterHTML;\n/**\n * @param node Node to get the inner HTML of.\n * @param options Options for serialization.\n * @deprecated Use the `dom-serializer` module directly.\n * @returns `node`'s inner HTML.\n */\nfunction getInnerHTML(node, options) {\n    return tagtypes.hasChildren(node)\n        ? node.children.map(function (node) { return getOuterHTML(node, options); }).join(\"\")\n        : \"\";\n}\nexports.getInnerHTML = getInnerHTML;\n/**\n * Get a node's inner text.\n *\n * @param node Node to get the inner text of.\n * @returns `node`'s inner text.\n */\nfunction getText(node) {\n    if (Array.isArray(node))\n        return node.map(getText).join(\"\");\n    if (tagtypes.isTag(node))\n        return node.name === \"br\" ? \"\\n\" : getText(node.children);\n    if (tagtypes.isCDATA(node))\n        return getText(node.children);\n    if (tagtypes.isText(node))\n        return node.data;\n    return \"\";\n}\nexports.getText = getText;\n});\n\nunwrapExports(stringify);\nvar stringify_1 = stringify.getText;\nvar stringify_2 = stringify.getInnerHTML;\nvar stringify_3 = stringify.getOuterHTML;\n\nvar traversal = createCommonjsModule(function (module, exports) {\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.nextElementSibling = exports.getName = exports.hasAttrib = exports.getAttributeValue = exports.getSiblings = exports.getParent = exports.getChildren = void 0;\n\nvar emptyArray = [];\n/**\n * Get a node's children.\n *\n * @param elem Node to get the children of.\n * @returns `elem`'s children, or an empty array.\n */\nfunction getChildren(elem) {\n    var _a;\n    return (_a = elem.children) !== null && _a !== void 0 ? _a : emptyArray;\n}\nexports.getChildren = getChildren;\n/**\n * Get a node's parent.\n *\n * @param elem Node to get the parent of.\n * @returns `elem`'s parent node.\n */\nfunction getParent(elem) {\n    return elem.parent || null;\n}\nexports.getParent = getParent;\n/**\n * Gets an elements siblings, including the element itself.\n *\n * Attempts to get the children through the element's parent first.\n * If we don't have a parent (the element is a root node),\n * we walk the element's `prev` & `next` to get all remaining nodes.\n *\n * @param elem Element to get the siblings of.\n * @returns `elem`'s siblings.\n */\nfunction getSiblings(elem) {\n    var _a, _b;\n    var parent = getParent(elem);\n    if (parent != null)\n        return getChildren(parent);\n    var siblings = [elem];\n    var prev = elem.prev, next = elem.next;\n    while (prev != null) {\n        siblings.unshift(prev);\n        (_a = prev, prev = _a.prev);\n    }\n    while (next != null) {\n        siblings.push(next);\n        (_b = next, next = _b.next);\n    }\n    return siblings;\n}\nexports.getSiblings = getSiblings;\n/**\n * Gets an attribute from an element.\n *\n * @param elem Element to check.\n * @param name Attribute name to retrieve.\n * @returns The element's attribute value, or `undefined`.\n */\nfunction getAttributeValue(elem, name) {\n    var _a;\n    return (_a = elem.attribs) === null || _a === void 0 ? void 0 : _a[name];\n}\nexports.getAttributeValue = getAttributeValue;\n/**\n * Checks whether an element has an attribute.\n *\n * @param elem Element to check.\n * @param name Attribute name to look for.\n * @returns Returns whether `elem` has the attribute `name`.\n */\nfunction hasAttrib(elem, name) {\n    return (elem.attribs != null &&\n        Object.prototype.hasOwnProperty.call(elem.attribs, name) &&\n        elem.attribs[name] != null);\n}\nexports.hasAttrib = hasAttrib;\n/**\n * Get the tag name of an element.\n *\n * @param elem The element to get the name for.\n * @returns The tag name of `elem`.\n */\nfunction getName(elem) {\n    return elem.name;\n}\nexports.getName = getName;\n/**\n * Returns the next element sibling of a node.\n *\n * @param elem The element to get the next sibling of.\n * @returns `elem`'s next sibling that is a tag.\n */\nfunction nextElementSibling(elem) {\n    var _a;\n    var next = elem.next;\n    while (next !== null && !tagtypes.isTag(next))\n        (_a = next, next = _a.next);\n    return next;\n}\nexports.nextElementSibling = nextElementSibling;\n});\n\nunwrapExports(traversal);\nvar traversal_1 = traversal.nextElementSibling;\nvar traversal_2 = traversal.getName;\nvar traversal_3 = traversal.hasAttrib;\nvar traversal_4 = traversal.getAttributeValue;\nvar traversal_5 = traversal.getSiblings;\nvar traversal_6 = traversal.getParent;\nvar traversal_7 = traversal.getChildren;\n\nvar manipulation = createCommonjsModule(function (module, exports) {\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.prepend = exports.prependChild = exports.append = exports.appendChild = exports.replaceElement = exports.removeElement = void 0;\n/**\n * Remove an element from the dom\n *\n * @param elem The element to be removed\n */\nfunction removeElement(elem) {\n    if (elem.prev)\n        elem.prev.next = elem.next;\n    if (elem.next)\n        elem.next.prev = elem.prev;\n    if (elem.parent) {\n        var childs = elem.parent.children;\n        childs.splice(childs.lastIndexOf(elem), 1);\n    }\n}\nexports.removeElement = removeElement;\n/**\n * Replace an element in the dom\n *\n * @param elem The element to be replaced\n * @param replacement The element to be added\n */\nfunction replaceElement(elem, replacement) {\n    var prev = (replacement.prev = elem.prev);\n    if (prev) {\n        prev.next = replacement;\n    }\n    var next = (replacement.next = elem.next);\n    if (next) {\n        next.prev = replacement;\n    }\n    var parent = (replacement.parent = elem.parent);\n    if (parent) {\n        var childs = parent.children;\n        childs[childs.lastIndexOf(elem)] = replacement;\n    }\n}\nexports.replaceElement = replaceElement;\n/**\n * Append a child to an element.\n *\n * @param elem The element to append to.\n * @param child The element to be added as a child.\n */\nfunction appendChild(elem, child) {\n    removeElement(child);\n    child.next = null;\n    child.parent = elem;\n    if (elem.children.push(child) > 1) {\n        var sibling = elem.children[elem.children.length - 2];\n        sibling.next = child;\n        child.prev = sibling;\n    }\n    else {\n        child.prev = null;\n    }\n}\nexports.appendChild = appendChild;\n/**\n * Append an element after another.\n *\n * @param elem The element to append after.\n * @param next The element be added.\n */\nfunction append(elem, next) {\n    removeElement(next);\n    var parent = elem.parent;\n    var currNext = elem.next;\n    next.next = currNext;\n    next.prev = elem;\n    elem.next = next;\n    next.parent = parent;\n    if (currNext) {\n        currNext.prev = next;\n        if (parent) {\n            var childs = parent.children;\n            childs.splice(childs.lastIndexOf(currNext), 0, next);\n        }\n    }\n    else if (parent) {\n        parent.children.push(next);\n    }\n}\nexports.append = append;\n/**\n * Prepend a child to an element.\n *\n * @param elem The element to prepend before.\n * @param child The element to be added as a child.\n */\nfunction prependChild(elem, child) {\n    removeElement(child);\n    child.parent = elem;\n    child.prev = null;\n    if (elem.children.unshift(child) !== 1) {\n        var sibling = elem.children[1];\n        sibling.prev = child;\n        child.next = sibling;\n    }\n    else {\n        child.next = null;\n    }\n}\nexports.prependChild = prependChild;\n/**\n * Prepend an element before another.\n *\n * @param elem The element to prepend before.\n * @param prev The element be added.\n */\nfunction prepend(elem, prev) {\n    removeElement(prev);\n    var parent = elem.parent;\n    if (parent) {\n        var childs = parent.children;\n        childs.splice(childs.indexOf(elem), 0, prev);\n    }\n    if (elem.prev) {\n        elem.prev.next = prev;\n    }\n    prev.parent = parent;\n    prev.prev = elem.prev;\n    prev.next = elem;\n    elem.prev = prev;\n}\nexports.prepend = prepend;\n});\n\nunwrapExports(manipulation);\nvar manipulation_1 = manipulation.prepend;\nvar manipulation_2 = manipulation.prependChild;\nvar manipulation_3 = manipulation.append;\nvar manipulation_4 = manipulation.appendChild;\nvar manipulation_5 = manipulation.replaceElement;\nvar manipulation_6 = manipulation.removeElement;\n\nvar querying = createCommonjsModule(function (module, exports) {\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.findAll = exports.existsOne = exports.findOne = exports.findOneChild = exports.find = exports.filter = void 0;\n\n/**\n * Search a node and its children for nodes passing a test function.\n *\n * @param test Function to test nodes on.\n * @param node Node to search. Will be included in the result set if it matches.\n * @param recurse Also consider child nodes.\n * @param limit Maximum number of nodes to return.\n * @returns All nodes passing `test`.\n */\nfunction filter(test, node, recurse, limit) {\n    if (recurse === void 0) { recurse = true; }\n    if (limit === void 0) { limit = Infinity; }\n    if (!Array.isArray(node))\n        node = [node];\n    return find(test, node, recurse, limit);\n}\nexports.filter = filter;\n/**\n * Search an array of node and its children for nodes passing a test function.\n *\n * @param test Function to test nodes on.\n * @param nodes Array of nodes to search.\n * @param recurse Also consider child nodes.\n * @param limit Maximum number of nodes to return.\n * @returns All nodes passing `test`.\n */\nfunction find(test, nodes, recurse, limit) {\n    var result = [];\n    for (var _i = 0, nodes_1 = nodes; _i < nodes_1.length; _i++) {\n        var elem = nodes_1[_i];\n        if (test(elem)) {\n            result.push(elem);\n            if (--limit <= 0)\n                break;\n        }\n        if (recurse && tagtypes.hasChildren(elem) && elem.children.length > 0) {\n            var children = find(test, elem.children, recurse, limit);\n            result.push.apply(result, children);\n            limit -= children.length;\n            if (limit <= 0)\n                break;\n        }\n    }\n    return result;\n}\nexports.find = find;\n/**\n * Finds the first element inside of an array that matches a test function.\n *\n * @param test Function to test nodes on.\n * @param nodes Array of nodes to search.\n * @returns The first node in the array that passes `test`.\n */\nfunction findOneChild(test, nodes) {\n    return nodes.find(test);\n}\nexports.findOneChild = findOneChild;\n/**\n * Finds one element in a tree that passes a test.\n *\n * @param test Function to test nodes on.\n * @param nodes Array of nodes to search.\n * @param recurse Also consider child nodes.\n * @returns The first child node that passes `test`.\n */\nfunction findOne(test, nodes, recurse) {\n    if (recurse === void 0) { recurse = true; }\n    var elem = null;\n    for (var i = 0; i < nodes.length && !elem; i++) {\n        var checked = nodes[i];\n        if (!tagtypes.isTag(checked)) {\n            continue;\n        }\n        else if (test(checked)) {\n            elem = checked;\n        }\n        else if (recurse && checked.children.length > 0) {\n            elem = findOne(test, checked.children);\n        }\n    }\n    return elem;\n}\nexports.findOne = findOne;\n/**\n * @param test Function to test nodes on.\n * @param nodes Array of nodes to search.\n * @returns Whether a tree of nodes contains at least one node passing a test.\n */\nfunction existsOne(test, nodes) {\n    return nodes.some(function (checked) {\n        return tagtypes.isTag(checked) &&\n            (test(checked) ||\n                (checked.children.length > 0 &&\n                    existsOne(test, checked.children)));\n    });\n}\nexports.existsOne = existsOne;\n/**\n * Search and array of nodes and its children for nodes passing a test function.\n *\n * Same as `find`, only with less options, leading to reduced complexity.\n *\n * @param test Function to test nodes on.\n * @param nodes Array of nodes to search.\n * @returns All nodes passing `test`.\n */\nfunction findAll(test, nodes) {\n    var _a;\n    var result = [];\n    var stack = nodes.filter(tagtypes.isTag);\n    var elem;\n    while ((elem = stack.shift())) {\n        var children = (_a = elem.children) === null || _a === void 0 ? void 0 : _a.filter(tagtypes.isTag);\n        if (children && children.length > 0) {\n            stack.unshift.apply(stack, children);\n        }\n        if (test(elem))\n            result.push(elem);\n    }\n    return result;\n}\nexports.findAll = findAll;\n});\n\nunwrapExports(querying);\nvar querying_1 = querying.findAll;\nvar querying_2 = querying.existsOne;\nvar querying_3 = querying.findOne;\nvar querying_4 = querying.findOneChild;\nvar querying_5 = querying.find;\nvar querying_6 = querying.filter;\n\nvar legacy$2 = createCommonjsModule(function (module, exports) {\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getElementsByTagType = exports.getElementsByTagName = exports.getElementById = exports.getElements = exports.testElement = void 0;\n\n\nvar Checks = {\n    tag_name: function (name) {\n        if (typeof name === \"function\") {\n            return function (elem) { return tagtypes.isTag(elem) && name(elem.name); };\n        }\n        else if (name === \"*\") {\n            return tagtypes.isTag;\n        }\n        return function (elem) { return tagtypes.isTag(elem) && elem.name === name; };\n    },\n    tag_type: function (type) {\n        if (typeof type === \"function\") {\n            return function (elem) { return type(elem.type); };\n        }\n        return function (elem) { return elem.type === type; };\n    },\n    tag_contains: function (data) {\n        if (typeof data === \"function\") {\n            return function (elem) { return tagtypes.isText(elem) && data(elem.data); };\n        }\n        return function (elem) { return tagtypes.isText(elem) && elem.data === data; };\n    },\n};\n/**\n * @param attrib Attribute to check.\n * @param value Attribute value to look for.\n * @returns A function to check whether the a node has an attribute with a particular value.\n */\nfunction getAttribCheck(attrib, value) {\n    if (typeof value === \"function\") {\n        return function (elem) { return tagtypes.isTag(elem) && value(elem.attribs[attrib]); };\n    }\n    return function (elem) { return tagtypes.isTag(elem) && elem.attribs[attrib] === value; };\n}\n/**\n * @param a First function to combine.\n * @param b Second function to combine.\n * @returns A function taking a node and returning `true` if either\n * of the input functions returns `true` for the node.\n */\nfunction combineFuncs(a, b) {\n    return function (elem) { return a(elem) || b(elem); };\n}\n/**\n * @param options An object describing nodes to look for.\n * @returns A function executing all checks in `options` and returning `true`\n * if any of them match a node.\n */\nfunction compileTest(options) {\n    var funcs = Object.keys(options).map(function (key) {\n        var value = options[key];\n        return key in Checks\n            ? Checks[key](value)\n            : getAttribCheck(key, value);\n    });\n    return funcs.length === 0 ? null : funcs.reduce(combineFuncs);\n}\n/**\n * @param options An object describing nodes to look for.\n * @param node The element to test.\n * @returns Whether the element matches the description in `options`.\n */\nfunction testElement(options, node) {\n    var test = compileTest(options);\n    return test ? test(node) : true;\n}\nexports.testElement = testElement;\n/**\n * @param options An object describing nodes to look for.\n * @param nodes Nodes to search through.\n * @param recurse Also consider child nodes.\n * @param limit Maximum number of nodes to return.\n * @returns All nodes that match `options`.\n */\nfunction getElements(options, nodes, recurse, limit) {\n    if (limit === void 0) { limit = Infinity; }\n    var test = compileTest(options);\n    return test ? querying.filter(test, nodes, recurse, limit) : [];\n}\nexports.getElements = getElements;\n/**\n * @param id The unique ID attribute value to look for.\n * @param nodes Nodes to search through.\n * @param recurse Also consider child nodes.\n * @returns The node with the supplied ID.\n */\nfunction getElementById(id, nodes, recurse) {\n    if (recurse === void 0) { recurse = true; }\n    if (!Array.isArray(nodes))\n        nodes = [nodes];\n    return querying.findOne(getAttribCheck(\"id\", id), nodes, recurse);\n}\nexports.getElementById = getElementById;\n/**\n * @param tagName Tag name to search for.\n * @param nodes Nodes to search through.\n * @param recurse Also consider child nodes.\n * @param limit Maximum number of nodes to return.\n * @returns All nodes with the supplied `tagName`.\n */\nfunction getElementsByTagName(tagName, nodes, recurse, limit) {\n    if (recurse === void 0) { recurse = true; }\n    if (limit === void 0) { limit = Infinity; }\n    return querying.filter(Checks.tag_name(tagName), nodes, recurse, limit);\n}\nexports.getElementsByTagName = getElementsByTagName;\n/**\n * @param type Element type to look for.\n * @param nodes Nodes to search through.\n * @param recurse Also consider child nodes.\n * @param limit Maximum number of nodes to return.\n * @returns All nodes with the supplied `type`.\n */\nfunction getElementsByTagType(type, nodes, recurse, limit) {\n    if (recurse === void 0) { recurse = true; }\n    if (limit === void 0) { limit = Infinity; }\n    return querying.filter(Checks.tag_type(type), nodes, recurse, limit);\n}\nexports.getElementsByTagType = getElementsByTagType;\n});\n\nunwrapExports(legacy$2);\nvar legacy_1 = legacy$2.getElementsByTagType;\nvar legacy_2 = legacy$2.getElementsByTagName;\nvar legacy_3 = legacy$2.getElementById;\nvar legacy_4 = legacy$2.getElements;\nvar legacy_5 = legacy$2.testElement;\n\nvar helpers = createCommonjsModule(function (module, exports) {\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.uniqueSort = exports.compareDocumentPosition = exports.removeSubsets = void 0;\n\n/**\n * Given an array of nodes, remove any member that is contained by another.\n *\n * @param nodes Nodes to filter.\n * @returns Remaining nodes that aren't subtrees of each other.\n */\nfunction removeSubsets(nodes) {\n    var idx = nodes.length;\n    /*\n     * Check if each node (or one of its ancestors) is already contained in the\n     * array.\n     */\n    while (--idx >= 0) {\n        var node = nodes[idx];\n        /*\n         * Remove the node if it is not unique.\n         * We are going through the array from the end, so we only\n         * have to check nodes that preceed the node under consideration in the array.\n         */\n        if (idx > 0 && nodes.lastIndexOf(node, idx - 1) >= 0) {\n            nodes.splice(idx, 1);\n            continue;\n        }\n        for (var ancestor = node.parent; ancestor; ancestor = ancestor.parent) {\n            if (nodes.includes(ancestor)) {\n                nodes.splice(idx, 1);\n                break;\n            }\n        }\n    }\n    return nodes;\n}\nexports.removeSubsets = removeSubsets;\n/**\n * Compare the position of one node against another node in any other document.\n * The return value is a bitmask with the following values:\n *\n * Document order:\n * > There is an ordering, document order, defined on all the nodes in the\n * > document corresponding to the order in which the first character of the\n * > XML representation of each node occurs in the XML representation of the\n * > document after expansion of general entities. Thus, the document element\n * > node will be the first node. Element nodes occur before their children.\n * > Thus, document order orders element nodes in order of the occurrence of\n * > their start-tag in the XML (after expansion of entities). The attribute\n * > nodes of an element occur after the element and before its children. The\n * > relative order of attribute nodes is implementation-dependent./\n *\n * Source:\n * http://www.w3.org/TR/DOM-Level-3-Core/glossary.html#dt-document-order\n *\n * @param nodeA The first node to use in the comparison\n * @param nodeB The second node to use in the comparison\n * @returns A bitmask describing the input nodes' relative position.\n *\n * See http://dom.spec.whatwg.org/#dom-node-comparedocumentposition for\n * a description of these values.\n */\nfunction compareDocumentPosition(nodeA, nodeB) {\n    var aParents = [];\n    var bParents = [];\n    if (nodeA === nodeB) {\n        return 0;\n    }\n    var current = tagtypes.hasChildren(nodeA) ? nodeA : nodeA.parent;\n    while (current) {\n        aParents.unshift(current);\n        current = current.parent;\n    }\n    current = tagtypes.hasChildren(nodeB) ? nodeB : nodeB.parent;\n    while (current) {\n        bParents.unshift(current);\n        current = current.parent;\n    }\n    var maxIdx = Math.min(aParents.length, bParents.length);\n    var idx = 0;\n    while (idx < maxIdx && aParents[idx] === bParents[idx]) {\n        idx++;\n    }\n    if (idx === 0) {\n        return 1 /* DISCONNECTED */;\n    }\n    var sharedParent = aParents[idx - 1];\n    var siblings = sharedParent.children;\n    var aSibling = aParents[idx];\n    var bSibling = bParents[idx];\n    if (siblings.indexOf(aSibling) > siblings.indexOf(bSibling)) {\n        if (sharedParent === nodeB) {\n            return 4 /* FOLLOWING */ | 16 /* CONTAINED_BY */;\n        }\n        return 4 /* FOLLOWING */;\n    }\n    if (sharedParent === nodeA) {\n        return 2 /* PRECEDING */ | 8 /* CONTAINS */;\n    }\n    return 2 /* PRECEDING */;\n}\nexports.compareDocumentPosition = compareDocumentPosition;\n/**\n * Sort an array of nodes based on their relative position in the document and\n * remove any duplicate nodes. If the array contains nodes that do not belong\n * to the same document, sort order is unspecified.\n *\n * @param nodes Array of DOM nodes.\n * @returns Collection of unique nodes, sorted in document order.\n */\nfunction uniqueSort(nodes) {\n    nodes = nodes.filter(function (node, i, arr) { return !arr.includes(node, i + 1); });\n    nodes.sort(function (a, b) {\n        var relative = compareDocumentPosition(a, b);\n        if (relative & 2 /* PRECEDING */) {\n            return -1;\n        }\n        else if (relative & 4 /* FOLLOWING */) {\n            return 1;\n        }\n        return 0;\n    });\n    return nodes;\n}\nexports.uniqueSort = uniqueSort;\n});\n\nunwrapExports(helpers);\nvar helpers_1 = helpers.uniqueSort;\nvar helpers_2 = helpers.compareDocumentPosition;\nvar helpers_3 = helpers.removeSubsets;\n\nvar lib$4 = createCommonjsModule(function (module, exports) {\nvar __createBinding = (commonjsGlobal && commonjsGlobal.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (commonjsGlobal && commonjsGlobal.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(stringify, exports);\n__exportStar(traversal, exports);\n__exportStar(manipulation, exports);\n__exportStar(querying, exports);\n__exportStar(legacy$2, exports);\n__exportStar(helpers, exports);\n__exportStar(tagtypes, exports);\n});\n\nunwrapExports(lib$4);\n\nvar FeedHandler_1 = createCommonjsModule(function (module, exports) {\nvar __extends = (commonjsGlobal && commonjsGlobal.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (commonjsGlobal && commonjsGlobal.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nvar __importStar = (commonjsGlobal && commonjsGlobal.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar domhandler_1 = __importDefault(lib$1);\nvar DomUtils = __importStar(lib$4);\n\n//TODO: Consume data as it is coming in\nvar FeedHandler = /** @class */ (function (_super) {\n    __extends(FeedHandler, _super);\n    /**\n     *\n     * @param callback\n     * @param options\n     */\n    function FeedHandler(callback, options) {\n        var _this = this;\n        if (typeof callback === \"object\" && callback !== null) {\n            callback = undefined;\n            options = callback;\n        }\n        _this = _super.call(this, callback, options) || this;\n        return _this;\n    }\n    FeedHandler.prototype.onend = function () {\n        var feed = {};\n        var feedRoot = getOneElement(isValidFeed, this.dom);\n        if (feedRoot) {\n            if (feedRoot.name === \"feed\") {\n                var childs = feedRoot.children;\n                feed.type = \"atom\";\n                addConditionally(feed, \"id\", \"id\", childs);\n                addConditionally(feed, \"title\", \"title\", childs);\n                var href = getAttribute(\"href\", getOneElement(\"link\", childs));\n                if (href) {\n                    feed.link = href;\n                }\n                addConditionally(feed, \"description\", \"subtitle\", childs);\n                var updated = fetch(\"updated\", childs);\n                if (updated) {\n                    feed.updated = new Date(updated);\n                }\n                addConditionally(feed, \"author\", \"email\", childs, true);\n                feed.items = getElements(\"entry\", childs).map(function (item) {\n                    var entry = {};\n                    var children = item.children;\n                    addConditionally(entry, \"id\", \"id\", children);\n                    addConditionally(entry, \"title\", \"title\", children);\n                    var href = getAttribute(\"href\", getOneElement(\"link\", children));\n                    if (href) {\n                        entry.link = href;\n                    }\n                    var description = fetch(\"summary\", children) ||\n                        fetch(\"content\", children);\n                    if (description) {\n                        entry.description = description;\n                    }\n                    var pubDate = fetch(\"updated\", children);\n                    if (pubDate) {\n                        entry.pubDate = new Date(pubDate);\n                    }\n                    return entry;\n                });\n            }\n            else {\n                var childs = getOneElement(\"channel\", feedRoot.children)\n                    .children;\n                feed.type = feedRoot.name.substr(0, 3);\n                feed.id = \"\";\n                addConditionally(feed, \"title\", \"title\", childs);\n                addConditionally(feed, \"link\", \"link\", childs);\n                addConditionally(feed, \"description\", \"description\", childs);\n                var updated = fetch(\"lastBuildDate\", childs);\n                if (updated) {\n                    feed.updated = new Date(updated);\n                }\n                addConditionally(feed, \"author\", \"managingEditor\", childs, true);\n                feed.items = getElements(\"item\", feedRoot.children).map(function (item) {\n                    var entry = {};\n                    var children = item.children;\n                    addConditionally(entry, \"id\", \"guid\", children);\n                    addConditionally(entry, \"title\", \"title\", children);\n                    addConditionally(entry, \"link\", \"link\", children);\n                    addConditionally(entry, \"description\", \"description\", children);\n                    var pubDate = fetch(\"pubDate\", children);\n                    if (pubDate)\n                        entry.pubDate = new Date(pubDate);\n                    return entry;\n                });\n            }\n        }\n        this.feed = feed;\n        this.handleCallback(feedRoot ? null : Error(\"couldn't find root of feed\"));\n    };\n    return FeedHandler;\n}(domhandler_1.default));\nexports.FeedHandler = FeedHandler;\nfunction getElements(what, where) {\n    return DomUtils.getElementsByTagName(what, where, true);\n}\nfunction getOneElement(what, where) {\n    return DomUtils.getElementsByTagName(what, where, true, 1)[0];\n}\nfunction fetch(what, where, recurse) {\n    if (recurse === void 0) { recurse = false; }\n    return DomUtils.getText(DomUtils.getElementsByTagName(what, where, recurse, 1)).trim();\n}\nfunction getAttribute(name, elem) {\n    if (!elem) {\n        return null;\n    }\n    var attribs = elem.attribs;\n    return attribs[name];\n}\nfunction addConditionally(obj, prop, what, where, recurse) {\n    if (recurse === void 0) { recurse = false; }\n    var tmp = fetch(what, where, recurse);\n    // @ts-ignore\n    if (tmp)\n        obj[prop] = tmp;\n}\nfunction isValidFeed(value) {\n    return value === \"rss\" || value === \"feed\" || value === \"rdf:RDF\";\n}\nvar defaultOptions = { xmlMode: true };\n/**\n * Parse a feed.\n *\n * @param feed The feed that should be parsed, as a string.\n * @param options Optionally, options for parsing. When using this option, you probably want to set `xmlMode` to `true`.\n */\nfunction parseFeed(feed, options) {\n    if (options === void 0) { options = defaultOptions; }\n    var handler = new FeedHandler(options);\n    new Parser_1.Parser(handler, options).end(feed);\n    return handler.feed;\n}\nexports.parseFeed = parseFeed;\n});\n\nunwrapExports(FeedHandler_1);\nvar FeedHandler_2 = FeedHandler_1.FeedHandler;\nvar FeedHandler_3 = FeedHandler_1.parseFeed;\n\nvar _nodeResolve_empty = {};\n\nvar _nodeResolve_empty$1 = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    'default': _nodeResolve_empty\n});\n\nvar MultiplexHandler_1 = createCommonjsModule(function (module, exports) {\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Calls a specific handler function for all events that are encountered.\n *\n * @param func — The function to multiplex all events to.\n */\nvar MultiplexHandler = /** @class */ (function () {\n    function MultiplexHandler(func) {\n        this._func = func;\n    }\n    /* Format: eventname: number of arguments */\n    MultiplexHandler.prototype.onattribute = function (name, value) {\n        this._func(\"onattribute\", name, value);\n    };\n    MultiplexHandler.prototype.oncdatastart = function () {\n        this._func(\"oncdatastart\");\n    };\n    MultiplexHandler.prototype.oncdataend = function () {\n        this._func(\"oncdataend\");\n    };\n    MultiplexHandler.prototype.ontext = function (text) {\n        this._func(\"ontext\", text);\n    };\n    MultiplexHandler.prototype.onprocessinginstruction = function (name, value) {\n        this._func(\"onprocessinginstruction\", name, value);\n    };\n    MultiplexHandler.prototype.oncomment = function (comment) {\n        this._func(\"oncomment\", comment);\n    };\n    MultiplexHandler.prototype.oncommentend = function () {\n        this._func(\"oncommentend\");\n    };\n    MultiplexHandler.prototype.onclosetag = function (name) {\n        this._func(\"onclosetag\", name);\n    };\n    MultiplexHandler.prototype.onopentag = function (name, attribs) {\n        this._func(\"onopentag\", name, attribs);\n    };\n    MultiplexHandler.prototype.onopentagname = function (name) {\n        this._func(\"onopentagname\", name);\n    };\n    MultiplexHandler.prototype.onerror = function (error) {\n        this._func(\"onerror\", error);\n    };\n    MultiplexHandler.prototype.onend = function () {\n        this._func(\"onend\");\n    };\n    MultiplexHandler.prototype.onparserinit = function (parser) {\n        this._func(\"onparserinit\", parser);\n    };\n    MultiplexHandler.prototype.onreset = function () {\n        this._func(\"onreset\");\n    };\n    return MultiplexHandler;\n}());\nexports.default = MultiplexHandler;\n});\n\nunwrapExports(MultiplexHandler_1);\n\nvar CollectingHandler_1 = createCommonjsModule(function (module, exports) {\nvar __extends = (commonjsGlobal && commonjsGlobal.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (commonjsGlobal && commonjsGlobal.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar MultiplexHandler_1$1 = __importDefault(MultiplexHandler_1);\nvar CollectingHandler = /** @class */ (function (_super) {\n    __extends(CollectingHandler, _super);\n    function CollectingHandler(cbs) {\n        if (cbs === void 0) { cbs = {}; }\n        var _this = _super.call(this, function (name) {\n            var _a;\n            var args = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                args[_i - 1] = arguments[_i];\n            }\n            _this.events.push([name].concat(args));\n            // @ts-ignore\n            if (_this._cbs[name])\n                (_a = _this._cbs)[name].apply(_a, args);\n        }) || this;\n        _this._cbs = cbs;\n        _this.events = [];\n        return _this;\n    }\n    CollectingHandler.prototype.onreset = function () {\n        this.events = [];\n        if (this._cbs.onreset)\n            this._cbs.onreset();\n    };\n    CollectingHandler.prototype.restart = function () {\n        var _a;\n        if (this._cbs.onreset)\n            this._cbs.onreset();\n        for (var i = 0; i < this.events.length; i++) {\n            var _b = this.events[i], name_1 = _b[0], args = _b.slice(1);\n            if (!this._cbs[name_1]) {\n                continue;\n            }\n            // @ts-ignore\n            (_a = this._cbs)[name_1].apply(_a, args);\n        }\n    };\n    return CollectingHandler;\n}(MultiplexHandler_1$1.default));\nexports.CollectingHandler = CollectingHandler;\n});\n\nunwrapExports(CollectingHandler_1);\nvar CollectingHandler_2 = CollectingHandler_1.CollectingHandler;\n\nvar require$$2$1 = getCjsExportFromNamespace(_nodeResolve_empty$1);\n\nvar lib$5 = createCommonjsModule(function (module, exports) {\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nvar __importStar = (commonjsGlobal && commonjsGlobal.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n\nexports.Parser = Parser_1.Parser;\n\nexports.DomHandler = lib$1.DomHandler;\nexports.DefaultHandler = lib$1.DomHandler;\n// Helper methods\n/**\n * Parses data, returns the resulting DOM.\n *\n * @param data The data that should be parsed.\n * @param options Optional options for the parser and DOM builder.\n */\nfunction parseDOM(data, options) {\n    var handler = new lib$1.DomHandler(void 0, options);\n    new Parser_1.Parser(handler, options).end(data);\n    return handler.dom;\n}\nexports.parseDOM = parseDOM;\n/**\n * Creates a parser instance, with an attached DOM handler.\n *\n * @param cb A callback that will be called once parsing has been completed.\n * @param options Optional options for the parser and DOM builder.\n * @param elementCb An optional callback that will be called every time a tag has been completed inside of the DOM.\n */\nfunction createDomStream(cb, options, elementCb) {\n    var handler = new lib$1.DomHandler(cb, options, elementCb);\n    return new Parser_1.Parser(handler, options);\n}\nexports.createDomStream = createDomStream;\n\nexports.Tokenizer = Tokenizer_1.default;\nvar ElementType = __importStar(lib$2);\nexports.ElementType = ElementType;\n/**\n * List of all events that the parser emits.\n *\n * Format: eventname: number of arguments.\n */\nexports.EVENTS = {\n    attribute: 2,\n    cdatastart: 0,\n    cdataend: 0,\n    text: 1,\n    processinginstruction: 2,\n    comment: 1,\n    commentend: 0,\n    closetag: 1,\n    opentag: 2,\n    opentagname: 1,\n    error: 1,\n    end: 0\n};\n/*\n    All of the following exports exist for backwards-compatibility.\n    They should probably be removed eventually.\n*/\n__export(FeedHandler_1);\n__export(require$$2$1);\n__export(CollectingHandler_1);\nvar DomUtils = __importStar(lib$4);\nexports.DomUtils = DomUtils;\nvar FeedHandler_1$1 = FeedHandler_1;\nexports.RssHandler = FeedHandler_1$1.FeedHandler;\n});\n\nunwrapExports(lib$5);\nvar lib_1$3 = lib$5.Parser;\nvar lib_2$2 = lib$5.DomHandler;\nvar lib_3$2 = lib$5.DefaultHandler;\nvar lib_4$2 = lib$5.parseDOM;\nvar lib_5$2 = lib$5.createDomStream;\nvar lib_6$2 = lib$5.Tokenizer;\nvar lib_7$2 = lib$5.ElementType;\nvar lib_8$2 = lib$5.EVENTS;\nvar lib_9$2 = lib$5.DomUtils;\nvar lib_10$2 = lib$5.RssHandler;\n\nvar SaxParser = /** @class */ (function () {\r\n    function SaxParser() {\r\n        var _this = this;\r\n        /**\r\n         * Base event handlers used by this class. These are available no matter what\r\n         * the current `state` is.\r\n         */\r\n        this.baseHandlers = {};\r\n        // parser state stack which manages the current callbacks\r\n        this.state = [];\r\n        // create a handler function which responds to all events, forwarding them\r\n        // to our `onEvent` handler\r\n        var handler = Object.keys(lib_8$2).reduce(function (handler, evt) {\r\n            var fnName = \"on\" + evt;\r\n            handler[fnName] = _this.onEvent.bind(_this, fnName);\r\n            return handler;\r\n        }, {});\r\n        this.parser = new lib_1$3(handler, { decodeEntities: false });\r\n    }\r\n    /**\r\n     * On a parser event, check if our current state contains a handler function.\r\n     * If so, call that function, passing the parser object as first argument,\r\n     * followed by event arguments.\r\n     *\r\n     * @param fnName parser event name\r\n     * @param args parser event arguments\r\n     */\r\n    SaxParser.prototype.onEvent = function (fnName) {\r\n        var _a;\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        var _b = this, parser = _b.parser, state = _b.state, baseHandlers = _b.baseHandlers;\r\n        if (state[0][fnName]) {\r\n            return (_a = state[0])[fnName].apply(_a, __spreadArrays([parser], args));\r\n        }\r\n        if (baseHandlers[fnName]) {\r\n            return baseHandlers[fnName].apply(baseHandlers, args);\r\n        }\r\n    };\r\n    SaxParser.prototype.parse = function (html) {\r\n        var _this = this;\r\n        var parser = this.parser;\r\n        var promise = new Promise(function (resolve, reject) {\r\n            _this.baseHandlers = {\r\n                onerror: function (err) {\r\n                    // eslint-disable-next-line no-console\r\n                    console.error('Document Parsing Error', err);\r\n                    reject(new ParsingError(err));\r\n                },\r\n                onend: function () {\r\n                    resolve();\r\n                }\r\n            };\r\n        });\r\n        parser.write(html);\r\n        parser.end();\r\n        return promise;\r\n    };\r\n    SaxParser.prototype.pushState = function (newState) {\r\n        this.state.unshift(newState);\r\n    };\r\n    SaxParser.prototype.popState = function () {\r\n        this.state.shift();\r\n    };\r\n    return SaxParser;\r\n}());\r\nvar ParsingError = /** @class */ (function (_super) {\r\n    __extends(ParsingError, _super);\r\n    function ParsingError() {\r\n        var params = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            params[_i] = arguments[_i];\r\n        }\r\n        var _this = _super.apply(this, params) || this;\r\n        _this.name = 'ParsingError';\r\n        return _this;\r\n    }\r\n    return ParsingError;\r\n}(Error));\n\nvar ENRICHMENTS = {\r\n    CONTRACT: 'contract',\r\n    INVOICE: 'invoice',\r\n    PURCHASE_ORDER: 'purchase_order'\r\n};\r\nfunction getEnrichmentName(enrichedHtml) {\r\n    if (enrichedHtml) {\r\n        if (ENRICHMENTS.INVOICE in enrichedHtml) {\r\n            return ENRICHMENTS.INVOICE;\r\n        }\r\n        else if (ENRICHMENTS.PURCHASE_ORDER in enrichedHtml) {\r\n            return ENRICHMENTS.PURCHASE_ORDER;\r\n        }\r\n    }\r\n    return ENRICHMENTS.CONTRACT;\r\n}\n\n/**\r\n * Checks if document type is either invoice or purchase order.\r\n *\r\n * @param {string} enrichmentName enrichmentName is the type of document\r\n * @returns {boolean} true if enrichmentName is either Invoice or Purchase order\r\n */\r\nvar isInvoiceOrPurchaseOrder = function (enrichmentName) {\r\n    return enrichmentName === ENRICHMENTS.INVOICE || enrichmentName === ENRICHMENTS.PURCHASE_ORDER;\r\n};\r\n/**\r\n * Checks if object is of type RelationObject\r\n *\r\n * @param {*} object object\r\n * @returns {boolean} true if object has attributes within it\r\n */\r\nvar isRelationObject = function (object) { return object.allAttributeIds; };\r\n/**\r\n * Checks if array has an object of relation\r\n *\r\n * @param {Array} items items is an array.\r\n * @returns {boolean} true if array has a relation object\r\n */\r\nvar hasRelation = function (items) { return items.some(isRelationObject); };\n\n/**\r\n * Creates an id string for the given item, based on the location.begin field\r\n *\r\n * @param {*} item Item to build a string id for\r\n * @returns {string} Id string\r\n */\r\nfunction getId(item) {\r\n    return item.location && item.location.begin + \"_\" + item.location.end;\r\n}\r\n/**\r\n * Finds an item in the given list that matches the given id\r\n *\r\n * @param {Array} list List to search within\r\n * @param {Array<string>>} ids Id string to find a match for in the list\r\n * @returns {*} matching item\r\n */\r\nfunction findElement(list, ids) {\r\n    return list[findElementIndex(list, ids)];\r\n}\r\n/**\r\n * Finds the index of an item in the given list that matches the given id\r\n *\r\n * @param {Array} list List to search within\r\n * @param {Array<string>} ids Id string to find a match for in the list\r\n * @returns {*} index of matching item\r\n */\r\nfunction findElementIndex(list, ids) {\r\n    if (list.some(function (li) { return isRelationObject(li); })) {\r\n        return list.findIndex(function (item) {\r\n            return isEqual_1(item.allAttributeIds.sort(), ids.sort());\r\n        });\r\n    }\r\n    return list.findIndex(function (item) { return isEqual_1([getId(item)].sort(), ids.sort()); });\r\n}\n\nvar invoiceOntology = {\r\n    enrichment: 'invoice',\r\n    attributes: [\r\n        'buyers',\r\n        'suppliers',\r\n        'currencies',\r\n        'purchase_order_numbers',\r\n        'invoice_numbers',\r\n        'invoice_dates',\r\n        'due_dates',\r\n        'amount',\r\n        'currency',\r\n        'quantity_ordered',\r\n        'part_description'\r\n    ],\r\n    relations: ['totals_due', 'unit_price', 'invoice_parts']\r\n};\n\nvar purchaseOrderOntology = {\r\n    enrichment: 'purchase_order',\r\n    attributes: [\r\n        'buyers',\r\n        'purchase_order_numbers',\r\n        'purchase_order_dates',\r\n        'due_dates',\r\n        'payment_terms',\r\n        'currencies',\r\n        'suppliers',\r\n        'supplier_ids',\r\n        'bill_to',\r\n        'ship_to',\r\n        'invoice_to',\r\n        'total_amounts',\r\n        'item_description',\r\n        'quantity_ordered',\r\n        'unit_price'\r\n    ],\r\n    relations: ['line_items']\r\n};\n\n/** Used as references for various `Number` constants. */\nvar INFINITY$4 = 1 / 0;\n\n/**\n * Recursively flattens `array`.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flattenDeep([1, [2, [3, [4]], 5]]);\n * // => [1, 2, 3, 4, 5]\n */\nfunction flattenDeep(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? _baseFlatten(array, INFINITY$4) : [];\n}\n\nvar flattenDeep_1 = flattenDeep;\n\nvar ontologyMapping = {\r\n    invoice: invoiceOntology,\r\n    purchase_order: purchaseOrderOntology\r\n};\r\nvar modelMapping = {\r\n    contract: setMetadata,\r\n    invoice: setAttributesAndRelations,\r\n    purchase_order: setAttributesAndRelations\r\n};\r\nfunction getUpdatedEnrichment(enrichment, enrichmentName) {\r\n    if (enrichment && enrichmentName in modelMapping) {\r\n        enrichment = modelMapping[enrichmentName](enrichment, enrichmentName);\r\n    }\r\n    return enrichment;\r\n}\r\nfunction setMetadata(enrichedHtml) {\r\n    var meta = {\r\n        contract_amounts: enrichedHtml.contract_amounts,\r\n        effective_dates: enrichedHtml.effective_dates,\r\n        termination_dates: enrichedHtml.termination_dates,\r\n        contract_types: enrichedHtml.contract_types,\r\n        contract_terms: enrichedHtml.contract_terms,\r\n        payment_terms: enrichedHtml.payment_terms\r\n    };\r\n    var updatedMetadata = [];\r\n    Object.keys(meta).forEach(function (key) {\r\n        var metadataObj = meta[key];\r\n        if (typeof metadataObj === 'object' && !!metadataObj.length) {\r\n            updatedMetadata.push({\r\n                metadataType: key,\r\n                data: metadataObj\r\n            });\r\n        }\r\n    });\r\n    enrichedHtml.metadata = updatedMetadata;\r\n    return enrichedHtml;\r\n}\r\nfunction setAttributesAndRelations(enrichment, enrichmentName) {\r\n    var ontology = ontologyMapping[enrichmentName];\r\n    enrichment.attributes = setAttributes(ontology, enrichment);\r\n    enrichment.relations = setRelations(ontology, enrichment);\r\n    return enrichment;\r\n}\r\n// find any instances of attribute types that are defined in the ontology and create attribute objects\r\nfunction setAttributes(ontology, parsedObject) {\r\n    var filteredAttributes = ontology.attributes.filter(function (attributeDef) { return parsedObject[attributeDef]; });\r\n    var attributes = filteredAttributes.map(function (attr) {\r\n        var parsedAttributes = parsedObject[attr];\r\n        if (Array.isArray(parsedAttributes)) {\r\n            return parsedAttributes.map(function (att) { return createAttributeObject(att, attr); });\r\n        }\r\n        else if (hasLocationData(parsedAttributes)) {\r\n            return createAttributeObject(parsedAttributes, attr);\r\n        }\r\n        return parsedAttributes;\r\n    });\r\n    return flattenDeep_1(attributes);\r\n}\r\nfunction createAttributeObject(_a, type) {\r\n    var text = _a.text, location = _a.location;\r\n    return {\r\n        type: type,\r\n        text: text,\r\n        location: location\r\n    };\r\n}\r\n// find any instances of relation types that are defined in the ontology and create relation objects\r\nfunction setRelations(ontology, parsedObject) {\r\n    var filteredRelations = ontology.relations.filter(function (relation) { return parsedObject[relation]; });\r\n    var relations = filteredRelations.map(function (relation) {\r\n        return createRelationObject(parsedObject[relation], relation, ontology);\r\n    });\r\n    return flattenDeep_1(relations);\r\n}\r\nfunction createRelationObject(relation, type, ontology) {\r\n    // relation is either a array of relations of the same type, or a single relation object\r\n    var relationArray = Array.isArray(relation) ? relation : [relation];\r\n    var result = relationArray.map(function (rel) {\r\n        var attributes = setAttributes(ontology, rel);\r\n        var relations = setRelations(ontology, rel);\r\n        return {\r\n            type: type,\r\n            attributes: attributes.length > 0 ? attributes : [],\r\n            relations: relations.length > 0 ? relations : []\r\n        };\r\n    });\r\n    result.map(function (rel) {\r\n        var _a;\r\n        (_a = rel.attributes).push.apply(_a, getAllAttributesInRelation(rel));\r\n        rel.allAttributeIds = rel.attributes.map(function (attribute) { return getId(attribute); });\r\n        return rel;\r\n    });\r\n    return result;\r\n}\r\nfunction getAllAttributesInRelation(_a) {\r\n    var relations = _a.relations;\r\n    var allAttributes = (relations || []).map(function (rel) {\r\n        if (rel.relations && rel.relations.length > 0) {\r\n            return getAllAttributesInRelation(rel);\r\n        }\r\n        else {\r\n            return rel.attributes;\r\n        }\r\n    });\r\n    return flattenDeep_1(allAttributes);\r\n}\r\n// Function checks if attribute is valid and has location data in it.\r\n// Since have observed noisy data before so this function is required.\r\nfunction hasLocationData(attr) {\r\n    return !!(attr &&\r\n        attr.location &&\r\n        typeof attr.location.begin !== 'undefined' &&\r\n        attr.location.end);\r\n}\r\nfunction transformEnrichment(enrichedHtml) {\r\n    if (enrichedHtml && enrichedHtml[0]) {\r\n        var enrichmentName = getEnrichmentName(enrichedHtml[0]);\r\n        var enrichment = enrichedHtml[0][enrichmentName];\r\n        var updatedEnrichment = getUpdatedEnrichment(enrichment, enrichmentName);\r\n        enrichedHtml[0][enrichmentName] = updatedEnrichment;\r\n    }\r\n    return enrichedHtml;\r\n}\n\nvar getDocumentTitle = function (document, titleField) {\r\n    if (document) {\r\n        return (get_1(document, titleField) ||\r\n            get_1(document, 'extracted_metadata.title') ||\r\n            get_1(document, 'extracted_metadata.filename') ||\r\n            document.document_id);\r\n    }\r\n    return '';\r\n};\n\n// split HTML into \"sections\" based on these top level tag(s)\r\nvar SECTION_NAMES = ['p', 'ul', 'table'];\r\n// enrichments with location data\r\nvar DOC_ENRICHMENTS = ['elements', 'attributes', 'relations'];\r\nvar TABLE_TAG = 'table';\r\nvar BBOX_TAG = 'bbox';\r\n// skip rendering `<bbox>` nodes?\r\n// TODO When removing, we need to readjust the offsets for parent nodes;\r\n//      otherwise, parsing docs fails\r\nvar SKIP_BBOX = false;\r\nvar DEFAULT_OPTIONS = {\r\n    sections: false,\r\n    tables: false,\r\n    bbox: false,\r\n    itemMap: false\r\n};\r\n/**\r\n * Convert document data into structure that is more palatable for use by\r\n * CIDocument\r\n *\r\n * @param {Object} queryData Discovery document data\r\n * @param {Object} options\r\n * @param {Boolean} options.sections return array of HTML sections\r\n * @param {Boolean} options.tables return array of tables' bboxes\r\n * @param {Boolean} options.bbox return array of bboxes, with classname\r\n * @param {Boolean} options.itemMap return item mapping into 'sections'\r\n * @throws {ParsingError}\r\n */\r\nfunction processDoc(\r\n// eslint-disable-next-line @typescript-eslint/camelcase\r\nqueryData, options) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var _a, html, enrichedHtml, documentTitle, transformedEnrichmentArray, transformedEnrichment, enrichment, doc, parser, htmlContent;\r\n        return __generator(this, function (_b) {\r\n            switch (_b.label) {\r\n                case 0:\r\n                    _a = cloneDeep_1(queryData), html = _a.html, enrichedHtml = _a.enriched_html;\r\n                    documentTitle = getDocumentTitle(queryData, 'title');\r\n                    options = __assign(__assign({}, DEFAULT_OPTIONS), (options || {}));\r\n                    transformedEnrichmentArray = transformEnrichment(enrichedHtml);\r\n                    transformedEnrichment = transformedEnrichmentArray && transformedEnrichmentArray[0];\r\n                    enrichment = transformedEnrichment\r\n                        ? transformedEnrichment[getEnrichmentName(transformedEnrichment)]\r\n                        : [];\r\n                    doc = {\r\n                        title: documentTitle,\r\n                        styles: ''\r\n                    };\r\n                    if (enrichment && enrichment.metadata) {\r\n                        doc.metadata = enrichment.metadata;\r\n                    }\r\n                    if (enrichment && enrichment.attributes) {\r\n                        doc.attributes = enrichment.attributes;\r\n                    }\r\n                    if (enrichment && enrichment.relations) {\r\n                        doc.relations = enrichment.relations;\r\n                    }\r\n                    if (options.sections) {\r\n                        doc.sections = [];\r\n                    }\r\n                    if (options.tables) {\r\n                        doc.tables = [];\r\n                    }\r\n                    if (options.bbox) {\r\n                        doc.bboxes = [];\r\n                    }\r\n                    parser = new SaxParser();\r\n                    // setup initial parsing handling\r\n                    setupDocParser(parser, doc);\r\n                    htmlContent = Array.isArray(html) ? html[0] : html;\r\n                    // kick off parsing\r\n                    return [4 /*yield*/, parser.parse(htmlContent)];\r\n                case 1:\r\n                    // kick off parsing\r\n                    _b.sent();\r\n                    sortFields(enrichment, doc);\r\n                    if (options && options.sections && options.itemMap) {\r\n                        addItemMap(doc);\r\n                    }\r\n                    return [2 /*return*/, doc];\r\n            }\r\n        });\r\n    });\r\n}\r\nfunction setupDocParser(parser, doc) {\r\n    parser.pushState({\r\n        onopentag: function (_, tagName) {\r\n            /* eslint-disable-next-line default-case */\r\n            switch (tagName) {\r\n                case 'style': {\r\n                    setupStyleParser(parser, doc);\r\n                    break;\r\n                }\r\n                case 'body': {\r\n                    setupBodyParser(parser, doc);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    });\r\n}\r\nfunction setupStyleParser(parser, doc) {\r\n    var styleText = '';\r\n    parser.pushState({\r\n        onopentag: function (_, tagName) {\r\n            throw new ParsingError(\"Unexpected open tag (\" + tagName + \") in <style>\");\r\n        },\r\n        ontext: function (_, text) {\r\n            styleText += text;\r\n        },\r\n        onclosetag: function (_, tagName) {\r\n            if (tagName !== 'style') {\r\n                throw new ParsingError(\"Unexpected close tag (\" + tagName + \"); expected </style>\");\r\n            }\r\n            // finish\r\n            doc.styles += styleText;\r\n            // cleanup\r\n            parser.popState();\r\n        }\r\n    });\r\n}\r\nfunction setupBodyParser(parser, doc) {\r\n    parser.pushState({\r\n        onopentag: function (p, tagName, attributes) {\r\n            if (SECTION_NAMES.includes(tagName)) {\r\n                setupSectionParser(parser, doc, tagName, attributes, p.startIndex, p);\r\n            }\r\n        }\r\n    });\r\n}\r\nfunction setupSectionParser(parser, doc, sectionTagName, sectionTagAttrs, sectionStartIndex, sectionParser) {\r\n    var lastClassName = '';\r\n    var currentTable = null;\r\n    var currentBbox = null;\r\n    // track nested nodes of same tag name\r\n    var stackCount = 0;\r\n    var openTagIndices = [0];\r\n    var sectionHtml = [];\r\n    var actionState = getActionState();\r\n    parser.pushState(actionState);\r\n    // Ensures the current section open tag is called first and then\r\n    // continues through tags inside of that section.\r\n    actionState.onopentag(sectionParser, sectionTagName, sectionTagAttrs);\r\n    function getActionState() {\r\n        return {\r\n            onopentag: function (p, tagName, attributes) {\r\n                if (attributes.class) {\r\n                    lastClassName = attributes.class;\r\n                }\r\n                if (tagName !== BBOX_TAG || !SKIP_BBOX) {\r\n                    if (tagName === TABLE_TAG) {\r\n                        var descriptionId = \"table-description-\" + p.startIndex;\r\n                        var tableDescription = 'This table was generated using AI. It may be missing semantic table markup for accessibility.';\r\n                        var ariaLabel = \"Table generated from \" + doc.title + \" (id: \" + p.startIndex + \")\";\r\n                        sectionHtml.push(\"<article aria-label=\\\"\" + ariaLabel + \"\\\" aria-describedby=\\\"\" + descriptionId + \"\\\">\");\r\n                        sectionHtml.push(\"<p id=\\\"\" + descriptionId + \"\\\" style=\\\"display: none;\\\">\" + tableDescription + \"</p>\");\r\n                    }\r\n                    sectionHtml.push(openTagToString(tagName, attributes, getChildBeginFromOpenTag(p)));\r\n                    openTagIndices.push(sectionHtml.length - 1);\r\n                }\r\n                // <table border=\"1\" data-max-height=\"78.36000061035156\" data-max-width=\"514.1761474609375\"\r\n                //    data-max-x=\"48.999847412109375\" data-max-y=\"72.62348937988281\"\r\n                //    data-min-height=\"78.36000061035156\" data-min-width=\"514.1761474609375\"\r\n                //    data-min-x=\"48.999847412109375\" data-min-y=\"72.62348937988281\" data-page=\"39\">\r\n                if (tagName === TABLE_TAG && doc.tables) {\r\n                    currentTable = {\r\n                        location: {\r\n                            begin: p.startIndex,\r\n                            end: 0\r\n                        },\r\n                        bboxes: []\r\n                    };\r\n                    doc.tables.push(currentTable);\r\n                }\r\n                // <bbox height=\"6.056159973144531\" page=\"1\" width=\"150.52044677734375\" x=\"72.0\" y=\"116.10381317138672\">\r\n                if (tagName === BBOX_TAG && (doc.bboxes || currentTable)) {\r\n                    var left = Number(attributes.x);\r\n                    var top_1 = Number(attributes.y);\r\n                    currentBbox = {\r\n                        left: left,\r\n                        right: left + Number(attributes.width),\r\n                        top: top_1,\r\n                        bottom: top_1 + Number(attributes.height),\r\n                        page: Number(attributes.page),\r\n                        className: lastClassName,\r\n                        location: {\r\n                            begin: p.startIndex,\r\n                            end: 0\r\n                        }\r\n                    };\r\n                    if (doc.bboxes) {\r\n                        doc.bboxes.push(currentBbox);\r\n                    }\r\n                    if (currentTable && doc.tables) {\r\n                        currentTable.bboxes.push(currentBbox);\r\n                    }\r\n                }\r\n                if (tagName === sectionTagName) {\r\n                    stackCount++;\r\n                }\r\n            },\r\n            ontext: function (_, text) {\r\n                // In order to properly highlight texts in the DOM we need\r\n                // to know if the original text contains some encoded\r\n                // html entities, and if so, we pass that value down to\r\n                // be used later.\r\n                if (lib_7(text).length !== text.length) {\r\n                    var lastElemIndex = openTagIndices[openTagIndices.length - 1];\r\n                    // For us to be able to access the original text, we need to\r\n                    // encode it again because otherwise the dom will decode it\r\n                    // when we try to access it later\r\n                    sectionHtml[lastElemIndex] = sectionHtml[lastElemIndex].replace(/>$/, \" data-orig-text=\\\"\" + lib_12(text) + \"\\\">\");\r\n                }\r\n                sectionHtml.push(text);\r\n            },\r\n            onclosetag: function (p, tagName) {\r\n                if (tagName !== BBOX_TAG || !SKIP_BBOX) {\r\n                    sectionHtml.push(closeTagToString(tagName));\r\n                    if (tagName === TABLE_TAG) {\r\n                        sectionHtml.push('</article>');\r\n                    }\r\n                    // update opening tag with location of closing tag\r\n                    var openTagIdx = openTagIndices.pop();\r\n                    sectionHtml[openTagIdx] = sectionHtml[openTagIdx].replace(/>$/, \" data-child-end=\\\"\" + getChildEndFromCloseTag(p) + \"\\\">\");\r\n                }\r\n                if (doc.tables && tagName === TABLE_TAG && currentTable) {\r\n                    currentTable.location.end = p.endIndex || p.startIndex;\r\n                    currentTable = null;\r\n                }\r\n                if (doc.bboxes && tagName === BBOX_TAG && currentBbox) {\r\n                    currentBbox.location.end = getChildEndFromCloseTag(p);\r\n                    currentBbox = null;\r\n                }\r\n                if (tagName === sectionTagName) {\r\n                    stackCount--;\r\n                    if (stackCount === 0) {\r\n                        // finish\r\n                        if (doc.sections) {\r\n                            doc.sections.push({\r\n                                html: sectionHtml.join(''),\r\n                                location: {\r\n                                    begin: sectionStartIndex,\r\n                                    end: p.endIndex || p.startIndex\r\n                                },\r\n                                enrichments: []\r\n                            });\r\n                        }\r\n                        // cleanup\r\n                        parser.popState();\r\n                    }\r\n                }\r\n                if (tagName === 'body') {\r\n                    parser.popState();\r\n                }\r\n            }\r\n        };\r\n    }\r\n}\r\nfunction getChildBeginFromOpenTag(p) {\r\n    // For an open tag, `p.endIndex` will be the \">\". Add one to get\r\n    // offset for child content.\r\n    // (Default to `startIndex` since `endIndex` is marked as possibly null)\r\n    return (p.endIndex || p.startIndex) + 1;\r\n}\r\nfunction getChildEndFromCloseTag(p) {\r\n    return p.startIndex;\r\n}\r\nfunction openTagToString(tagName, attributes, position) {\r\n    var text = [\"<\" + tagName];\r\n    if (attributes) {\r\n        for (var _i = 0, _a = Object.entries(attributes); _i < _a.length; _i++) {\r\n            var _b = _a[_i], attr = _b[0], val = _b[1];\r\n            text.push(\" \" + attr + \"=\\\"\" + val + \"\\\"\");\r\n        }\r\n    }\r\n    text.push(\" data-child-begin=\\\"\" + position + \"\\\"\");\r\n    text.push('>');\r\n    return text.join('');\r\n}\r\nfunction closeTagToString(tagName) {\r\n    return \"</\" + tagName + \">\";\r\n}\r\nfunction sortFields(_enrichments, doc) {\r\n    // shallow copy of object\r\n    var enrichments = Object.assign({}, _enrichments);\r\n    for (var _i = 0, DOC_ENRICHMENTS_1 = DOC_ENRICHMENTS; _i < DOC_ENRICHMENTS_1.length; _i++) {\r\n        var fieldType = DOC_ENRICHMENTS_1[_i];\r\n        var fields = enrichments[fieldType];\r\n        if (!fields) {\r\n            continue;\r\n        }\r\n        // ASSUMPTIONS:\r\n        // - location data in JSON is sorted\r\n        if (doc.sections) {\r\n            for (var _a = 0, fields_1 = fields; _a < fields_1.length; _a++) {\r\n                var field = fields_1[_a];\r\n                if (isRelationObject(field)) {\r\n                    for (var _b = 0, _c = field.attributes; _b < _c.length; _b++) {\r\n                        var attribute = _c[_b];\r\n                        sortFieldsBySection(attribute, doc.sections, fieldType);\r\n                    }\r\n                }\r\n                else {\r\n                    sortFieldsBySection(field, doc.sections, fieldType);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction sortFieldsBySection(field, sections, fieldType) {\r\n    var _a;\r\n    var _b = field.location, begin = _b.begin, end = _b.end;\r\n    var sectionIdx = findIndex_1(sections, function (item) { return spansIntersect({ begin: begin, end: end }, item.location); });\r\n    if (sectionIdx === -1) {\r\n        // notify of error, but keep going\r\n        // eslint-disable-next-line no-console\r\n        console.error('Failed to find doc section which contains given field');\r\n        return;\r\n    }\r\n    sections[sectionIdx].enrichments.push(__assign(__assign({}, field), { __type: fieldType }));\r\n    // 'elements' contain 'attributes', which also contain location data\r\n    if (fieldType === 'elements' && field.attributes && field.attributes.length) {\r\n        (_a = sections[sectionIdx].enrichments).push.apply(_a, field.attributes.map(function (attr) { return (__assign(__assign({}, attr), { __type: 'attributes' })); }));\r\n    }\r\n}\r\nfunction addItemMap(doc) {\r\n    var itemNames = ['elements', 'attributes', 'metadata'];\r\n    var sections = doc.sections;\r\n    var byItem = {};\r\n    var bySection = {};\r\n    sections.forEach(function (section, sectionNum) {\r\n        bySection[sectionNum] = [];\r\n        var itemsInSection = section.enrichments.filter(function (_a) {\r\n            var __type = _a.__type;\r\n            return itemNames.includes(__type);\r\n        });\r\n        for (var _i = 0, itemsInSection_1 = itemsInSection; _i < itemsInSection_1.length; _i++) {\r\n            var item = itemsInSection_1[_i];\r\n            var itemId = getId(item);\r\n            bySection[sectionNum].push(itemId);\r\n            byItem[itemId] = sectionNum;\r\n        }\r\n    });\r\n    doc.itemMap = {\r\n        byItem: byItem,\r\n        bySection: bySection\r\n    };\r\n}\n\n/**\r\n * Check whether two bbox intersect\r\n * @param boxA first bbox\r\n * @param boxB second bbox\r\n * @returns bool\r\n */\r\nfunction intersects(boxA, boxB) {\r\n    var leftA = boxA[0], topA = boxA[1], rightA = boxA[2], bottomA = boxA[3], pageA = boxA[4];\r\n    var leftB = boxB[0], topB = boxB[1], rightB = boxB[2], bottomB = boxB[3], pageB = boxB[4];\r\n    return !(leftB > rightA || rightB < leftA || topB > bottomA || bottomB < topA || pageA !== pageB);\r\n}\r\n/**\r\n * find the matching original document bboxes in the processed document bboxes\r\n * @param docBox bbox from original document\r\n * @param htmlBox bbox from processed document\r\n */\r\nvar findMatchingBbox = function (docBox, htmlBox) {\r\n    return htmlBox.filter(function (pBbox) {\r\n        var left = pBbox.left, top = pBbox.top, right = pBbox.right, bottom = pBbox.bottom, page = pBbox.page;\r\n        var _a = docBox.bbox, left2 = _a[0], top2 = _a[1], right2 = _a[2], bottom2 = _a[3];\r\n        return intersects([left2, top2, right2, bottom2, docBox.page_number], [left, top, right, bottom, page]);\r\n    });\r\n};\n\nvar canRenderHtmlView = function (document) { return !!get_1(document, 'html'); };\r\nvar SANITIZE_CONFIG = {\r\n    ADD_TAGS: ['bbox'],\r\n    ADD_ATTR: [\r\n        // bbox\r\n        'page'\r\n    ],\r\n    WHOLE_DOCUMENT: true\r\n};\r\nvar baseClassName = settings.prefix + \"--html\";\r\nvar HtmlView = function (_a) {\r\n    var document = _a.document, highlight = _a.highlight, setHideToolbarControls = _a.setHideToolbarControls, setLoading = _a.setLoading;\r\n    var contentRef = useRef(null);\r\n    var highlightRef = useRef(null);\r\n    if (setHideToolbarControls) {\r\n        setHideToolbarControls(true);\r\n    }\r\n    var _b = useState(null), html = _b[0], setHtml = _b[1];\r\n    var _c = useState(null), processedDoc = _c[0], setProcessedDoc = _c[1];\r\n    var _d = useState([]), highlightLocations = _d[0], setHighlightLocations = _d[1];\r\n    useLayoutEffect(function () {\r\n        purify.addHook('afterSanitizeAttributes', function (node) {\r\n            if (node.tagName === 'TABLE') {\r\n                node.setAttribute('role', 'presentation');\r\n            }\r\n        });\r\n        return function () {\r\n            purify.removeHook('afterSanitizeAttributes');\r\n        };\r\n    }, []);\r\n    useEffect(function () {\r\n        if (document) {\r\n            var docHtml_1 = document.html;\r\n            if (docHtml_1 && highlight) {\r\n                // \"process\" the original HTML string in order to find offsets for DOM nodes\r\n                var process_1 = function () { return __awaiter(void 0, void 0, void 0, function () {\r\n                    var processedDoc, fullHtml;\r\n                    return __generator(this, function (_a) {\r\n                        switch (_a.label) {\r\n                            case 0: return [4 /*yield*/, processDoc(__assign(__assign({}, document), { docHtml: docHtml_1 }), { sections: true, bbox: true })];\r\n                            case 1:\r\n                                processedDoc = _a.sent();\r\n                                fullHtml = processedDoc.sections\r\n                                    ? processedDoc.sections.map(function (section) { return section.html; }).join('')\r\n                                    : '';\r\n                                setProcessedDoc(processedDoc);\r\n                                // set sanitized HTML (removing scripts, etc)\r\n                                setHtml(\"\\n            <style>\" + processedDoc.styles + \"</style>\\n            \" + purify.sanitize(fullHtml, SANITIZE_CONFIG) + \"\\n          \");\r\n                                setLoading(false);\r\n                                return [2 /*return*/];\r\n                        }\r\n                    });\r\n                }); };\r\n                process_1();\r\n            }\r\n            else {\r\n                // if no highlight, then no need to \"process\"\r\n                setHtml(docHtml_1 ? purify.sanitize(docHtml_1, SANITIZE_CONFIG) : '');\r\n                setLoading(false);\r\n            }\r\n        }\r\n    }, [document, highlight, setLoading]);\r\n    useEffect(function () {\r\n        if (highlight) {\r\n            var textMappings = getTextMappings(document);\r\n            if (isPassage(highlight) && textMappings) {\r\n                var textMappingBbox = getPassagePageInfo(textMappings, highlight);\r\n                if (processedDoc && processedDoc.bboxes && textMappingBbox) {\r\n                    var passageLocs = flatMap_1(textMappingBbox, function (bbox) {\r\n                        return findMatchingBbox(bbox, processedDoc.bboxes);\r\n                    }).map(function (bbox) {\r\n                        return bbox.location;\r\n                    });\r\n                    setHighlightLocations(passageLocs);\r\n                }\r\n            }\r\n            else {\r\n                var tableLoc = get_1(highlight, 'table.location', {});\r\n                setHighlightLocations([tableLoc]);\r\n            }\r\n        }\r\n    }, [document, highlight, processedDoc]);\r\n    // highlight table and scroll into view\r\n    useEffect(function () {\r\n        if (!html || !highlightLocations) {\r\n            return;\r\n        }\r\n        var contentNode = contentRef.current;\r\n        var highlightNode = highlightRef.current;\r\n        if (highlightNode) {\r\n            clearNodeChildren(highlightNode);\r\n        }\r\n        if (!highlight || !contentNode || !highlightNode) {\r\n            return;\r\n        }\r\n        highlightLocations.forEach(function (location) {\r\n            var begin = location.begin, end = location.end;\r\n            if (typeof begin === 'undefined' || typeof end === 'undefined') {\r\n                return;\r\n            }\r\n            var offsets = findOffsetInDOM(contentNode, begin, end);\r\n            var fragment = window.document.createDocumentFragment();\r\n            var parentRect = contentNode.getBoundingClientRect();\r\n            createFieldRects(__assign({ fragment: fragment,\r\n                parentRect: parentRect, fieldType: 'highlight', fieldId: begin.toString() }, offsets));\r\n            highlightNode.appendChild(fragment);\r\n        });\r\n        // scroll highlight into view\r\n        var firstFieldRect = highlightNode.querySelector('.field--rect');\r\n        if (firstFieldRect) {\r\n            firstFieldRect.scrollIntoView({ block: 'center' });\r\n        }\r\n    }, [highlight, html, highlightLocations]);\r\n    return (React$g__default.createElement(\"div\", { className: baseClassName },\r\n        React$g__default.createElement(\"div\", { ref: highlightRef }),\r\n        html && (React$g__default.createElement(\"div\", { className: baseClassName + \"__content\", dangerouslySetInnerHTML: {\r\n                __html: html\r\n            }, ref: contentRef }))));\r\n};\n\nvar ZOOM_IN$1 = PrevToolbar.ZOOM_IN, ZOOM_OUT$1 = PrevToolbar.ZOOM_OUT;\r\nvar SCALE_FACTOR = 1.2;\r\nvar DocumentPreview = function (_a) {\r\n    var document = _a.document, file = _a.file, highlight = _a.highlight, _b = _a.messages, messages = _b === void 0 ? defaultMessages$3 : _b, didCatch = _a.didCatch;\r\n    var selectedResult = useContext(SearchContext).selectedResult;\r\n    // document prop takes precedence over that in context\r\n    var doc = document || selectedResult.document;\r\n    highlight = highlight || selectedResult.element || undefined;\r\n    var _c = useState(1), scale = _c[0], setScale = _c[1];\r\n    var _d = useState(1), currentPage = _d[0], setCurrentPage = _d[1];\r\n    var _e = useState(true), loading = _e[0], setLoading = _e[1];\r\n    var _f = useState(false), hideToolbarControls = _f[0], setHideToolbarControls = _f[1];\r\n    useEffect(function () {\r\n        // reset state if document changes\r\n        setCurrentPage(1);\r\n        //reset scale if document changes\r\n        setScale(1);\r\n        // TODO disable for now, until we can properly fix https://github.ibm.com/Watson-Discovery/docviz-squad-issue-tracker/issues/143\r\n        // setLoading(true);\r\n    }, [doc]);\r\n    var base = settings.prefix + \"--document-preview\";\r\n    return (React$g__default.createElement(\"div\", { className: \"\" + base }, (doc || file) && !didCatch ? (React$g__default.createElement(React$g__default.Fragment, null,\r\n        React$g__default.createElement(PrevToolbar, { loading: loading, hideControls: hideToolbarControls, current: currentPage, total: 0, onChange: setCurrentPage, onZoom: function (zoom) {\r\n                if (zoom === ZOOM_IN$1 || zoom === ZOOM_OUT$1) {\r\n                    setScale(zoom === ZOOM_IN$1 ? scale * SCALE_FACTOR : scale / SCALE_FACTOR);\r\n                }\r\n                else {\r\n                    setScale(1);\r\n                }\r\n            } }),\r\n        React$g__default.createElement(\"div\", { className: base + \"__document\" },\r\n            React$g__default.createElement(PreviewDocument, { document: doc, highlight: highlight, setLoading: setLoading, setHideToolbarControls: setHideToolbarControls, loading: loading, hideToolbarControls: hideToolbarControls })),\r\n        loading && (React$g__default.createElement(\"div\", { className: base + \"__skeleton\" },\r\n            React$g__default.createElement(SkeletonText, { paragraph: true, lineCount: 40 }))))) : didCatch ? (React$g__default.createElement(\"div\", { className: base + \"__error\" }, messages.errorMessage)) : (React$g__default.createElement(\"div\", { className: base + \"__error\" }, messages.noDataMessage))));\r\n};\r\nfunction PreviewDocument(_a) {\r\n    var document = _a.document, loading = _a.loading, setLoading = _a.setLoading, hideToolbarControls = _a.hideToolbarControls, setHideToolbarControls = _a.setHideToolbarControls, highlight = _a.highlight;\r\n    if (document) {\r\n        var isJsonType = isJsonFile(document);\r\n        var isCsvType = isCsvFile(document);\r\n        if (document.html && !isJsonType && !isCsvType) {\r\n            return (React$g__default.createElement(HtmlView, { document: document, highlight: highlight, setHideToolbarControls: setHideToolbarControls, setLoading: setLoading }));\r\n        }\r\n        return (React$g__default.createElement(SimpleDocument, { document: document, highlight: highlight, hideToolbarControls: hideToolbarControls, setHideToolbarControls: setHideToolbarControls, loading: loading, setLoading: setLoading }));\r\n    }\r\n    return null;\r\n}\r\n//Replace any with a proper TS check\r\nvar ErrorBoundDocumentPreview = withErrorBoundary(DocumentPreview);\r\nErrorBoundDocumentPreview.PreviewToolbar = PrevToolbar;\r\nErrorBoundDocumentPreview.PreviewDocument = PreviewDocument;\n\nvar TablesOnlyToggle = function (_a) {\r\n    var setShowTablesOnlyResults = _a.setShowTablesOnlyResults, showTablesOnlyResults = _a.showTablesOnlyResults, showTablesOnlyToggle = _a.showTablesOnlyToggle, messages = _a.messages;\r\n    var setIsResultsPaginationComponentHidden = useContext(SearchApi).setIsResultsPaginationComponentHidden;\r\n    var handleToggle = function () {\r\n        setShowTablesOnlyResults(!showTablesOnlyResults);\r\n        showTablesOnlyResults\r\n            ? setIsResultsPaginationComponentHidden(false)\r\n            : setIsResultsPaginationComponentHidden(true);\r\n    };\r\n    var toggleClassName = settings.prefix + \"--search-result--toggle\";\r\n    return (React$g__default.createElement(React$g__default.Fragment, null, showTablesOnlyToggle && (React$g__default.createElement(ToggleSmall, { \"aria-label\": messages.tablesOnlyToggleLabelText, className: toggleClassName, id: settings.prefix + \"--tables-only-toggle\", labelText: messages.tablesOnlyToggleLabelText, onToggle: handleToggle, toggled: showTablesOnlyResults }))));\r\n};\n\nvar mustache = createCommonjsModule(function (module, exports) {\n// This file has been generated from mustache.mjs\n(function (global, factory) {\n   module.exports = factory() ;\n}(commonjsGlobal, (function () {\n  /*!\n   * mustache.js - Logic-less {{mustache}} templates with JavaScript\n   * http://github.com/janl/mustache.js\n   */\n\n  var objectToString = Object.prototype.toString;\n  var isArray = Array.isArray || function isArrayPolyfill (object) {\n    return objectToString.call(object) === '[object Array]';\n  };\n\n  function isFunction (object) {\n    return typeof object === 'function';\n  }\n\n  /**\n   * More correct typeof string handling array\n   * which normally returns typeof 'object'\n   */\n  function typeStr (obj) {\n    return isArray(obj) ? 'array' : typeof obj;\n  }\n\n  function escapeRegExp (string) {\n    return string.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g, '\\\\$&');\n  }\n\n  /**\n   * Null safe way of checking whether or not an object,\n   * including its prototype, has a given property\n   */\n  function hasProperty (obj, propName) {\n    return obj != null && typeof obj === 'object' && (propName in obj);\n  }\n\n  /**\n   * Safe way of detecting whether or not the given thing is a primitive and\n   * whether it has the given property\n   */\n  function primitiveHasOwnProperty (primitive, propName) {\n    return (\n      primitive != null\n      && typeof primitive !== 'object'\n      && primitive.hasOwnProperty\n      && primitive.hasOwnProperty(propName)\n    );\n  }\n\n  // Workaround for https://issues.apache.org/jira/browse/COUCHDB-577\n  // See https://github.com/janl/mustache.js/issues/189\n  var regExpTest = RegExp.prototype.test;\n  function testRegExp (re, string) {\n    return regExpTest.call(re, string);\n  }\n\n  var nonSpaceRe = /\\S/;\n  function isWhitespace (string) {\n    return !testRegExp(nonSpaceRe, string);\n  }\n\n  var entityMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '/': '&#x2F;',\n    '`': '&#x60;',\n    '=': '&#x3D;'\n  };\n\n  function escapeHtml (string) {\n    return String(string).replace(/[&<>\"'`=\\/]/g, function fromEntityMap (s) {\n      return entityMap[s];\n    });\n  }\n\n  var whiteRe = /\\s*/;\n  var spaceRe = /\\s+/;\n  var equalsRe = /\\s*=/;\n  var curlyRe = /\\s*\\}/;\n  var tagRe = /#|\\^|\\/|>|\\{|&|=|!/;\n\n  /**\n   * Breaks up the given `template` string into a tree of tokens. If the `tags`\n   * argument is given here it must be an array with two string values: the\n   * opening and closing tags used in the template (e.g. [ \"<%\", \"%>\" ]). Of\n   * course, the default is to use mustaches (i.e. mustache.tags).\n   *\n   * A token is an array with at least 4 elements. The first element is the\n   * mustache symbol that was used inside the tag, e.g. \"#\" or \"&\". If the tag\n   * did not contain a symbol (i.e. {{myValue}}) this element is \"name\". For\n   * all text that appears outside a symbol this element is \"text\".\n   *\n   * The second element of a token is its \"value\". For mustache tags this is\n   * whatever else was inside the tag besides the opening symbol. For text tokens\n   * this is the text itself.\n   *\n   * The third and fourth elements of the token are the start and end indices,\n   * respectively, of the token in the original template.\n   *\n   * Tokens that are the root node of a subtree contain two more elements: 1) an\n   * array of tokens in the subtree and 2) the index in the original template at\n   * which the closing tag for that section begins.\n   *\n   * Tokens for partials also contain two more elements: 1) a string value of\n   * indendation prior to that tag and 2) the index of that tag on that line -\n   * eg a value of 2 indicates the partial is the third tag on this line.\n   */\n  function parseTemplate (template, tags) {\n    if (!template)\n      return [];\n    var lineHasNonSpace = false;\n    var sections = [];     // Stack to hold section tokens\n    var tokens = [];       // Buffer to hold the tokens\n    var spaces = [];       // Indices of whitespace tokens on the current line\n    var hasTag = false;    // Is there a {{tag}} on the current line?\n    var nonSpace = false;  // Is there a non-space char on the current line?\n    var indentation = '';  // Tracks indentation for tags that use it\n    var tagIndex = 0;      // Stores a count of number of tags encountered on a line\n\n    // Strips all whitespace tokens array for the current line\n    // if there was a {{#tag}} on it and otherwise only space.\n    function stripSpace () {\n      if (hasTag && !nonSpace) {\n        while (spaces.length)\n          delete tokens[spaces.pop()];\n      } else {\n        spaces = [];\n      }\n\n      hasTag = false;\n      nonSpace = false;\n    }\n\n    var openingTagRe, closingTagRe, closingCurlyRe;\n    function compileTags (tagsToCompile) {\n      if (typeof tagsToCompile === 'string')\n        tagsToCompile = tagsToCompile.split(spaceRe, 2);\n\n      if (!isArray(tagsToCompile) || tagsToCompile.length !== 2)\n        throw new Error('Invalid tags: ' + tagsToCompile);\n\n      openingTagRe = new RegExp(escapeRegExp(tagsToCompile[0]) + '\\\\s*');\n      closingTagRe = new RegExp('\\\\s*' + escapeRegExp(tagsToCompile[1]));\n      closingCurlyRe = new RegExp('\\\\s*' + escapeRegExp('}' + tagsToCompile[1]));\n    }\n\n    compileTags(tags || mustache.tags);\n\n    var scanner = new Scanner(template);\n\n    var start, type, value, chr, token, openSection;\n    while (!scanner.eos()) {\n      start = scanner.pos;\n\n      // Match any text between tags.\n      value = scanner.scanUntil(openingTagRe);\n\n      if (value) {\n        for (var i = 0, valueLength = value.length; i < valueLength; ++i) {\n          chr = value.charAt(i);\n\n          if (isWhitespace(chr)) {\n            spaces.push(tokens.length);\n            indentation += chr;\n          } else {\n            nonSpace = true;\n            lineHasNonSpace = true;\n            indentation += ' ';\n          }\n\n          tokens.push([ 'text', chr, start, start + 1 ]);\n          start += 1;\n\n          // Check for whitespace on the current line.\n          if (chr === '\\n') {\n            stripSpace();\n            indentation = '';\n            tagIndex = 0;\n            lineHasNonSpace = false;\n          }\n        }\n      }\n\n      // Match the opening tag.\n      if (!scanner.scan(openingTagRe))\n        break;\n\n      hasTag = true;\n\n      // Get the tag type.\n      type = scanner.scan(tagRe) || 'name';\n      scanner.scan(whiteRe);\n\n      // Get the tag value.\n      if (type === '=') {\n        value = scanner.scanUntil(equalsRe);\n        scanner.scan(equalsRe);\n        scanner.scanUntil(closingTagRe);\n      } else if (type === '{') {\n        value = scanner.scanUntil(closingCurlyRe);\n        scanner.scan(curlyRe);\n        scanner.scanUntil(closingTagRe);\n        type = '&';\n      } else {\n        value = scanner.scanUntil(closingTagRe);\n      }\n\n      // Match the closing tag.\n      if (!scanner.scan(closingTagRe))\n        throw new Error('Unclosed tag at ' + scanner.pos);\n\n      if (type == '>') {\n        token = [ type, value, start, scanner.pos, indentation, tagIndex, lineHasNonSpace ];\n      } else {\n        token = [ type, value, start, scanner.pos ];\n      }\n      tagIndex++;\n      tokens.push(token);\n\n      if (type === '#' || type === '^') {\n        sections.push(token);\n      } else if (type === '/') {\n        // Check section nesting.\n        openSection = sections.pop();\n\n        if (!openSection)\n          throw new Error('Unopened section \"' + value + '\" at ' + start);\n\n        if (openSection[1] !== value)\n          throw new Error('Unclosed section \"' + openSection[1] + '\" at ' + start);\n      } else if (type === 'name' || type === '{' || type === '&') {\n        nonSpace = true;\n      } else if (type === '=') {\n        // Set the tags for the next time around.\n        compileTags(value);\n      }\n    }\n\n    stripSpace();\n\n    // Make sure there are no open sections when we're done.\n    openSection = sections.pop();\n\n    if (openSection)\n      throw new Error('Unclosed section \"' + openSection[1] + '\" at ' + scanner.pos);\n\n    return nestTokens(squashTokens(tokens));\n  }\n\n  /**\n   * Combines the values of consecutive text tokens in the given `tokens` array\n   * to a single token.\n   */\n  function squashTokens (tokens) {\n    var squashedTokens = [];\n\n    var token, lastToken;\n    for (var i = 0, numTokens = tokens.length; i < numTokens; ++i) {\n      token = tokens[i];\n\n      if (token) {\n        if (token[0] === 'text' && lastToken && lastToken[0] === 'text') {\n          lastToken[1] += token[1];\n          lastToken[3] = token[3];\n        } else {\n          squashedTokens.push(token);\n          lastToken = token;\n        }\n      }\n    }\n\n    return squashedTokens;\n  }\n\n  /**\n   * Forms the given array of `tokens` into a nested tree structure where\n   * tokens that represent a section have two additional items: 1) an array of\n   * all tokens that appear in that section and 2) the index in the original\n   * template that represents the end of that section.\n   */\n  function nestTokens (tokens) {\n    var nestedTokens = [];\n    var collector = nestedTokens;\n    var sections = [];\n\n    var token, section;\n    for (var i = 0, numTokens = tokens.length; i < numTokens; ++i) {\n      token = tokens[i];\n\n      switch (token[0]) {\n        case '#':\n        case '^':\n          collector.push(token);\n          sections.push(token);\n          collector = token[4] = [];\n          break;\n        case '/':\n          section = sections.pop();\n          section[5] = token[2];\n          collector = sections.length > 0 ? sections[sections.length - 1][4] : nestedTokens;\n          break;\n        default:\n          collector.push(token);\n      }\n    }\n\n    return nestedTokens;\n  }\n\n  /**\n   * A simple string scanner that is used by the template parser to find\n   * tokens in template strings.\n   */\n  function Scanner (string) {\n    this.string = string;\n    this.tail = string;\n    this.pos = 0;\n  }\n\n  /**\n   * Returns `true` if the tail is empty (end of string).\n   */\n  Scanner.prototype.eos = function eos () {\n    return this.tail === '';\n  };\n\n  /**\n   * Tries to match the given regular expression at the current position.\n   * Returns the matched text if it can match, the empty string otherwise.\n   */\n  Scanner.prototype.scan = function scan (re) {\n    var match = this.tail.match(re);\n\n    if (!match || match.index !== 0)\n      return '';\n\n    var string = match[0];\n\n    this.tail = this.tail.substring(string.length);\n    this.pos += string.length;\n\n    return string;\n  };\n\n  /**\n   * Skips all text until the given regular expression can be matched. Returns\n   * the skipped string, which is the entire tail if no match can be made.\n   */\n  Scanner.prototype.scanUntil = function scanUntil (re) {\n    var index = this.tail.search(re), match;\n\n    switch (index) {\n      case -1:\n        match = this.tail;\n        this.tail = '';\n        break;\n      case 0:\n        match = '';\n        break;\n      default:\n        match = this.tail.substring(0, index);\n        this.tail = this.tail.substring(index);\n    }\n\n    this.pos += match.length;\n\n    return match;\n  };\n\n  /**\n   * Represents a rendering context by wrapping a view object and\n   * maintaining a reference to the parent context.\n   */\n  function Context (view, parentContext) {\n    this.view = view;\n    this.cache = { '.': this.view };\n    this.parent = parentContext;\n  }\n\n  /**\n   * Creates a new context using the given view with this context\n   * as the parent.\n   */\n  Context.prototype.push = function push (view) {\n    return new Context(view, this);\n  };\n\n  /**\n   * Returns the value of the given name in this context, traversing\n   * up the context hierarchy if the value is absent in this context's view.\n   */\n  Context.prototype.lookup = function lookup (name) {\n    var cache = this.cache;\n\n    var value;\n    if (cache.hasOwnProperty(name)) {\n      value = cache[name];\n    } else {\n      var context = this, intermediateValue, names, index, lookupHit = false;\n\n      while (context) {\n        if (name.indexOf('.') > 0) {\n          intermediateValue = context.view;\n          names = name.split('.');\n          index = 0;\n\n          /**\n           * Using the dot notion path in `name`, we descend through the\n           * nested objects.\n           *\n           * To be certain that the lookup has been successful, we have to\n           * check if the last object in the path actually has the property\n           * we are looking for. We store the result in `lookupHit`.\n           *\n           * This is specially necessary for when the value has been set to\n           * `undefined` and we want to avoid looking up parent contexts.\n           *\n           * In the case where dot notation is used, we consider the lookup\n           * to be successful even if the last \"object\" in the path is\n           * not actually an object but a primitive (e.g., a string, or an\n           * integer), because it is sometimes useful to access a property\n           * of an autoboxed primitive, such as the length of a string.\n           **/\n          while (intermediateValue != null && index < names.length) {\n            if (index === names.length - 1)\n              lookupHit = (\n                hasProperty(intermediateValue, names[index])\n                || primitiveHasOwnProperty(intermediateValue, names[index])\n              );\n\n            intermediateValue = intermediateValue[names[index++]];\n          }\n        } else {\n          intermediateValue = context.view[name];\n\n          /**\n           * Only checking against `hasProperty`, which always returns `false` if\n           * `context.view` is not an object. Deliberately omitting the check\n           * against `primitiveHasOwnProperty` if dot notation is not used.\n           *\n           * Consider this example:\n           * ```\n           * Mustache.render(\"The length of a football field is {{#length}}{{length}}{{/length}}.\", {length: \"100 yards\"})\n           * ```\n           *\n           * If we were to check also against `primitiveHasOwnProperty`, as we do\n           * in the dot notation case, then render call would return:\n           *\n           * \"The length of a football field is 9.\"\n           *\n           * rather than the expected:\n           *\n           * \"The length of a football field is 100 yards.\"\n           **/\n          lookupHit = hasProperty(context.view, name);\n        }\n\n        if (lookupHit) {\n          value = intermediateValue;\n          break;\n        }\n\n        context = context.parent;\n      }\n\n      cache[name] = value;\n    }\n\n    if (isFunction(value))\n      value = value.call(this.view);\n\n    return value;\n  };\n\n  /**\n   * A Writer knows how to take a stream of tokens and render them to a\n   * string, given a context. It also maintains a cache of templates to\n   * avoid the need to parse the same template twice.\n   */\n  function Writer () {\n    this.cache = {};\n  }\n\n  /**\n   * Clears all cached templates in this writer.\n   */\n  Writer.prototype.clearCache = function clearCache () {\n    this.cache = {};\n  };\n\n  /**\n   * Parses and caches the given `template` according to the given `tags` or\n   * `mustache.tags` if `tags` is omitted,  and returns the array of tokens\n   * that is generated from the parse.\n   */\n  Writer.prototype.parse = function parse (template, tags) {\n    var cache = this.cache;\n    var cacheKey = template + ':' + (tags || mustache.tags).join(':');\n    var tokens = cache[cacheKey];\n\n    if (tokens == null)\n      tokens = cache[cacheKey] = parseTemplate(template, tags);\n\n    return tokens;\n  };\n\n  /**\n   * High-level method that is used to render the given `template` with\n   * the given `view`.\n   *\n   * The optional `partials` argument may be an object that contains the\n   * names and templates of partials that are used in the template. It may\n   * also be a function that is used to load partial templates on the fly\n   * that takes a single argument: the name of the partial.\n   *\n   * If the optional `tags` argument is given here it must be an array with two\n   * string values: the opening and closing tags used in the template (e.g.\n   * [ \"<%\", \"%>\" ]). The default is to mustache.tags.\n   */\n  Writer.prototype.render = function render (template, view, partials, tags) {\n    var tokens = this.parse(template, tags);\n    var context = (view instanceof Context) ? view : new Context(view, undefined);\n    return this.renderTokens(tokens, context, partials, template, tags);\n  };\n\n  /**\n   * Low-level method that renders the given array of `tokens` using\n   * the given `context` and `partials`.\n   *\n   * Note: The `originalTemplate` is only ever used to extract the portion\n   * of the original template that was contained in a higher-order section.\n   * If the template doesn't use higher-order sections, this argument may\n   * be omitted.\n   */\n  Writer.prototype.renderTokens = function renderTokens (tokens, context, partials, originalTemplate, tags) {\n    var buffer = '';\n\n    var token, symbol, value;\n    for (var i = 0, numTokens = tokens.length; i < numTokens; ++i) {\n      value = undefined;\n      token = tokens[i];\n      symbol = token[0];\n\n      if (symbol === '#') value = this.renderSection(token, context, partials, originalTemplate);\n      else if (symbol === '^') value = this.renderInverted(token, context, partials, originalTemplate);\n      else if (symbol === '>') value = this.renderPartial(token, context, partials, tags);\n      else if (symbol === '&') value = this.unescapedValue(token, context);\n      else if (symbol === 'name') value = this.escapedValue(token, context);\n      else if (symbol === 'text') value = this.rawValue(token);\n\n      if (value !== undefined)\n        buffer += value;\n    }\n\n    return buffer;\n  };\n\n  Writer.prototype.renderSection = function renderSection (token, context, partials, originalTemplate) {\n    var self = this;\n    var buffer = '';\n    var value = context.lookup(token[1]);\n\n    // This function is used to render an arbitrary template\n    // in the current context by higher-order sections.\n    function subRender (template) {\n      return self.render(template, context, partials);\n    }\n\n    if (!value) return;\n\n    if (isArray(value)) {\n      for (var j = 0, valueLength = value.length; j < valueLength; ++j) {\n        buffer += this.renderTokens(token[4], context.push(value[j]), partials, originalTemplate);\n      }\n    } else if (typeof value === 'object' || typeof value === 'string' || typeof value === 'number') {\n      buffer += this.renderTokens(token[4], context.push(value), partials, originalTemplate);\n    } else if (isFunction(value)) {\n      if (typeof originalTemplate !== 'string')\n        throw new Error('Cannot use higher-order sections without the original template');\n\n      // Extract the portion of the original template that the section contains.\n      value = value.call(context.view, originalTemplate.slice(token[3], token[5]), subRender);\n\n      if (value != null)\n        buffer += value;\n    } else {\n      buffer += this.renderTokens(token[4], context, partials, originalTemplate);\n    }\n    return buffer;\n  };\n\n  Writer.prototype.renderInverted = function renderInverted (token, context, partials, originalTemplate) {\n    var value = context.lookup(token[1]);\n\n    // Use JavaScript's definition of falsy. Include empty arrays.\n    // See https://github.com/janl/mustache.js/issues/186\n    if (!value || (isArray(value) && value.length === 0))\n      return this.renderTokens(token[4], context, partials, originalTemplate);\n  };\n\n  Writer.prototype.indentPartial = function indentPartial (partial, indentation, lineHasNonSpace) {\n    var filteredIndentation = indentation.replace(/[^ \\t]/g, '');\n    var partialByNl = partial.split('\\n');\n    for (var i = 0; i < partialByNl.length; i++) {\n      if (partialByNl[i].length && (i > 0 || !lineHasNonSpace)) {\n        partialByNl[i] = filteredIndentation + partialByNl[i];\n      }\n    }\n    return partialByNl.join('\\n');\n  };\n\n  Writer.prototype.renderPartial = function renderPartial (token, context, partials, tags) {\n    if (!partials) return;\n\n    var value = isFunction(partials) ? partials(token[1]) : partials[token[1]];\n    if (value != null) {\n      var lineHasNonSpace = token[6];\n      var tagIndex = token[5];\n      var indentation = token[4];\n      var indentedValue = value;\n      if (tagIndex == 0 && indentation) {\n        indentedValue = this.indentPartial(value, indentation, lineHasNonSpace);\n      }\n      return this.renderTokens(this.parse(indentedValue, tags), context, partials, indentedValue);\n    }\n  };\n\n  Writer.prototype.unescapedValue = function unescapedValue (token, context) {\n    var value = context.lookup(token[1]);\n    if (value != null)\n      return value;\n  };\n\n  Writer.prototype.escapedValue = function escapedValue (token, context) {\n    var value = context.lookup(token[1]);\n    if (value != null)\n      return mustache.escape(value);\n  };\n\n  Writer.prototype.rawValue = function rawValue (token) {\n    return token[1];\n  };\n\n  var mustache = {\n    name: 'mustache.js',\n    version: '3.2.1',\n    tags: [ '{{', '}}' ],\n    clearCache: undefined,\n    escape: undefined,\n    parse: undefined,\n    render: undefined,\n    to_html: undefined,\n    Scanner: undefined,\n    Context: undefined,\n    Writer: undefined\n  };\n\n  // All high-level mustache.* functions use this writer.\n  var defaultWriter = new Writer();\n\n  /**\n   * Clears all cached templates in the default writer.\n   */\n  mustache.clearCache = function clearCache () {\n    return defaultWriter.clearCache();\n  };\n\n  /**\n   * Parses and caches the given template in the default writer and returns the\n   * array of tokens it contains. Doing this ahead of time avoids the need to\n   * parse templates on the fly as they are rendered.\n   */\n  mustache.parse = function parse (template, tags) {\n    return defaultWriter.parse(template, tags);\n  };\n\n  /**\n   * Renders the `template` with the given `view` and `partials` using the\n   * default writer. If the optional `tags` argument is given here it must be an\n   * array with two string values: the opening and closing tags used in the\n   * template (e.g. [ \"<%\", \"%>\" ]). The default is to mustache.tags.\n   */\n  mustache.render = function render (template, view, partials, tags) {\n    if (typeof template !== 'string') {\n      throw new TypeError('Invalid template! Template should be a \"string\" ' +\n                          'but \"' + typeStr(template) + '\" was given as the first ' +\n                          'argument for mustache#render(template, view, partials)');\n    }\n\n    return defaultWriter.render(template, view, partials, tags);\n  };\n\n  // This is here for backwards compatibility with 0.4.x.,\n  /*eslint-disable */ // eslint wants camel cased function name\n  mustache.to_html = function to_html (template, view, partials, send) {\n    /*eslint-enable*/\n\n    var result = mustache.render(template, view, partials);\n\n    if (isFunction(send)) {\n      send(result);\n    } else {\n      return result;\n    }\n  };\n\n  // Export the escaping function so that the user may override it.\n  // See https://github.com/janl/mustache.js/issues/244\n  mustache.escape = escapeHtml;\n\n  // Export these mainly for testing, but also for advanced usage.\n  mustache.Scanner = Scanner;\n  mustache.Context = Context;\n  mustache.Writer = Writer;\n\n  return mustache;\n\n})));\n});\n\nfunction _interopDefault$a (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\n\n\n\nvar React$a = _interopDefault$a(React$g__default);\n\nvar _ref2$a =\n/*#__PURE__*/\n\n/*#__PURE__*/\nReact$a.createElement(\"path\", {\n  d: \"M13,14H3c-0.6,0-1-0.4-1-1V3c0-0.6,0.4-1,1-1h5v1H3v10h10V8h1v5C14,13.6,13.6,14,13,14z\"\n});\n\nvar _ref3$3 =\n/*#__PURE__*/\n\n/*#__PURE__*/\nReact$a.createElement(\"path\", {\n  d: \"M10 1L10 2 13.3 2 9 6.3 9.7 7 14 2.7 14 6 15 6 15 1z\"\n});\n\nvar Launch16 = /*#__PURE__*/React$a.forwardRef(function Launch16(_ref, ref) {\n  var children = _ref.children,\n      rest = IconE8f71a9c._objectWithoutProperties(_ref, [\"children\"]);\n\n  return /*#__PURE__*/React$a.createElement(IconE8f71a9c.Icon, IconE8f71a9c._extends({\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"currentColor\",\n    ref: ref\n  }, rest), _ref2$a, _ref3$3, children);\n});\n\nvar _16$4 = Launch16;\n\nfunction _interopDefault$b (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\n\n\n\nvar React$b = _interopDefault$b(React$g__default);\n\nvar _ref2$b =\n/*#__PURE__*/\n\n/*#__PURE__*/\nReact$b.createElement(\"path\", {\n  d: \"M27,3H5A2,2,0,0,0,3,5V27a2,2,0,0,0,2,2H27a2,2,0,0,0,2-2V5A2,2,0,0,0,27,3Zm0,2V9H5V5ZM17,11H27v7H17Zm-2,7H5V11H15ZM5,20H15v7H5Zm12,7V20H27v7Z\"\n});\n\nvar TableSplit16 = /*#__PURE__*/React$b.forwardRef(function TableSplit16(_ref, ref) {\n  var children = _ref.children,\n      rest = IconE8f71a9c._objectWithoutProperties(_ref, [\"children\"]);\n\n  return /*#__PURE__*/React$b.createElement(IconE8f71a9c.Icon, IconE8f71a9c._extends({\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 32 32\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"currentColor\",\n    ref: ref\n  }, rest), _ref2$b, children);\n});\n\nvar _16$5 = TableSplit16;\n\n// Multiple search results\r\nvar baseClass$1 = settings.prefix + \"--search-results\";\r\nvar searchResultsListClass = baseClass$1 + \"__list\";\r\nvar searchResultsHeaderClass = baseClass$1 + \"__header\";\r\n// Single search result\r\nvar searchResultClass = settings.prefix + \"--search-result\";\r\nvar searchResultSelectedClass = searchResultClass + \"--selected\";\r\nvar searchResultLoadingClass = searchResultClass + \"--loading\";\r\nvar searchResultCurationClass = searchResultClass + \"_curation\";\r\nvar searchResultContentWrapperClass = searchResultClass + \"__content-wrapper\";\r\nvar searchResultContentWrapperBodyClass = searchResultContentWrapperClass + \"__body\";\r\nvar searchResultContentWrapperBodyButtonClass = searchResultContentWrapperBodyClass + \"__button\";\r\nvar searchResultContentWrapperBodyPassageHighlightsClass = searchResultContentWrapperBodyClass + \"--passage__highlights\";\r\nvar searchResultContentWrapperHalfClass = searchResultContentWrapperClass + \"--half\";\r\nvar searchResultFooterClass = searchResultClass + \"__footer\";\r\nvar searchResultFooterTitleClass = searchResultFooterClass + \"__title\";\r\nvar searchResultFooterCollectionNameClass = searchResultFooterClass + \"__collection-name\";\n\nvar ResultElement = function (_a) {\r\n    var body = _a.body, _b = _a.buttonText, buttonText = _b === void 0 ? 'View document' : _b, _c = _a.element, element = _c === void 0 ? null : _c, _d = _a.elementType, elementType = _d === void 0 ? null : _d, elementLabel = _a.elementLabel, handleSelectResult = _a.handleSelectResult, passageTextClassName = _a.passageTextClassName, hasResult = _a.hasResult, dangerouslyRenderHtml = _a.dangerouslyRenderHtml;\r\n    var elementBodyClassNames = [searchResultContentWrapperBodyClass];\r\n    if (elementType) {\r\n        elementBodyClassNames.push(searchResultContentWrapperBodyClass + \"--\" + elementType);\r\n    }\r\n    if (elementType === 'passage') {\r\n        passageTextClassName\r\n            ? elementBodyClassNames.push(passageTextClassName)\r\n            : elementBodyClassNames.push(searchResultContentWrapperBodyPassageHighlightsClass);\r\n    }\r\n    var icon = elementType === 'table' ? _16$5 : _16$4;\r\n    var elementBodyProps = __assign({ className: elementBodyClassNames.join(' '), 'data-testid': \"search-result-element-body-\" + elementType, 'aria-label': elementLabel }, (elementType === 'table' ? { role: 'article' } : {}));\r\n    useLayoutEffect(function () {\r\n        if (elementType === 'table') {\r\n            purify.addHook('afterSanitizeAttributes', function (node) {\r\n                if (node.tagName === 'TABLE') {\r\n                    node.setAttribute('role', 'presentation');\r\n                }\r\n            });\r\n        }\r\n        return function () {\r\n            if (elementType === 'table') {\r\n                purify.removeHook('afterSanitizeAttributes');\r\n            }\r\n        };\r\n    }, [elementType]);\r\n    return (React$g__default.createElement(Tile, null,\r\n        dangerouslyRenderHtml ? (React$g__default.createElement(\"div\", __assign({}, elementBodyProps, { dangerouslySetInnerHTML: { __html: purify.sanitize(body) } }))) : (React$g__default.createElement(\"div\", __assign({}, elementBodyProps), body)),\r\n        React$g__default.createElement(Button, { className: searchResultContentWrapperBodyButtonClass, onClick: handleSelectResult(element, elementType), kind: \"ghost\", renderIcon: icon, disabled: !hasResult, \"data-testid\": 'search-result-element-preview-button' },\r\n            React$g__default.createElement(\"span\", null, buttonText))));\r\n};\n\nvar Result = function (_a) {\r\n    var bodyField = _a.bodyField, collectionName = _a.collectionName, passageTextClassName = _a.passageTextClassName, result = _a.result, resultLinkField = _a.resultLinkField, resultLinkTemplate = _a.resultLinkTemplate, resultTitleField = _a.resultTitleField, showTablesOnlyResults = _a.showTablesOnlyResults, table = _a.table, dangerouslyRenderHtml = _a.dangerouslyRenderHtml, usePassages = _a.usePassages, onSelectResult = _a.onSelectResult, messages = _a.messages;\r\n    var setSelectedResult = useContext(SearchApi).setSelectedResult;\r\n    var _b = useContext(SearchContext), selectedResult = _b.selectedResult, isLoading = _b.fetchDocumentsResponseStore.isLoading;\r\n    var firstPassage = get_1(result, 'document_passages[0]');\r\n    var firstPassageText = get_1(firstPassage, 'passage_text');\r\n    var hasPassage = usePassages && !!firstPassageText;\r\n    var displayedText = get_1(result, bodyField);\r\n    if (hasPassage) {\r\n        displayedText = firstPassageText;\r\n    }\r\n    var shouldDangerouslyRenderHtml = hasPassage || dangerouslyRenderHtml;\r\n    var displayedTextElement = hasPassage ? firstPassage : null;\r\n    var displayedTextElementType = hasPassage ? 'passage' : null;\r\n    var tableHtml = get_1(table, 'table_html');\r\n    // Need to check that showTablesOnlyResults isn't enabled to ensure text for a linked result isn't displayed in a tables only results view\r\n    var hasText = displayedText && !showTablesOnlyResults;\r\n    var emptyResultContent = !(hasText || tableHtml);\r\n    var title = getDocumentTitle(result, resultTitleField);\r\n    if (Array.isArray(title)) {\r\n        title = title[0]; // only first element will be shown if title is array\r\n    }\r\n    var searchResultClasses = [searchResultClass];\r\n    if (isEqual_1(result, selectedResult.document)) {\r\n        searchResultClasses.push(searchResultSelectedClass);\r\n    }\r\n    var documentRetrievalSource = get_1(result, 'result_metadata.document_retrieval_source');\r\n    if (documentRetrievalSource === 'curation') {\r\n        searchResultClasses.push(searchResultCurationClass);\r\n    }\r\n    var searchResultContentWrapperClasses = [searchResultContentWrapperClass];\r\n    if (displayedText && tableHtml && !showTablesOnlyResults) {\r\n        searchResultContentWrapperClasses.push(searchResultContentWrapperHalfClass);\r\n    }\r\n    var handleSelectResult = function (element, elementType) {\r\n        return function (event) {\r\n            event.preventDefault();\r\n            if (resultLinkField || resultLinkTemplate) {\r\n                // expected behavior, use the resultLinkField if it exists over the resultLinkTemplate\r\n                var url = resultLinkField\r\n                    ? get_1(result, resultLinkField)\r\n                    : mustache.render(resultLinkTemplate, result);\r\n                window.open(url);\r\n            }\r\n            else if (result) {\r\n                setSelectedResult({ document: result, element: element, elementType: elementType });\r\n                //When onSelectResult props is present, send back document\r\n                onSelectResult && onSelectResult({ document: result });\r\n            }\r\n        };\r\n    };\r\n    return (React$g__default.createElement(\"div\", { className: searchResultClasses.join(' ') },\r\n        React$g__default.createElement(\"div\", { className: searchResultContentWrapperClasses.join(' ') }, emptyResultContent ? (React$g__default.createElement(ResultElement, { body: messages.emptyResultContentBodyText, handleSelectResult: handleSelectResult, hasResult: !!result })) : (React$g__default.createElement(React$g__default.Fragment, null,\r\n            displayedText && !showTablesOnlyResults && (React$g__default.createElement(ResultElement, { body: displayedText, buttonText: hasPassage ? messages.viewExcerptInDocumentButtonText : undefined, element: displayedTextElement, elementType: displayedTextElementType, handleSelectResult: handleSelectResult, passageTextClassName: passageTextClassName, hasResult: !!result, dangerouslyRenderHtml: shouldDangerouslyRenderHtml })),\r\n            tableHtml && (React$g__default.createElement(ResultElement, { body: tableHtml, buttonText: messages.viewTableInDocumentButtonText, element: table, elementType: \"table\", handleSelectResult: handleSelectResult, hasResult: !!result, dangerouslyRenderHtml: true, elementLabel: messages.elementTableLabel\r\n                    ? formatMessage(messages.elementTableLabel, { documentName: title }, false).join('')\r\n                    : undefined }))))),\r\n        (collectionName || result) && (React$g__default.createElement(\"div\", { className: searchResultFooterClass },\r\n            isLoading || !result ? (React$g__default.createElement(SkeletonText, { width: '30%', \"data-testid\": \"result-title-skeleton\" })) : (result && (React$g__default.createElement(\"div\", { className: searchResultFooterTitleClass, title: title }, title))),\r\n            collectionName && (React$g__default.createElement(\"div\", { className: searchResultFooterCollectionNameClass, title: collectionName },\r\n                messages.collectionLabel,\r\n                \" \",\r\n                collectionName))))));\r\n};\n\nvar SpellingSuggestion = function (_a) {\r\n    var spellingSuggestionPrefix = _a.spellingSuggestionPrefix, onChange = _a.onChange;\r\n    var spellingSuggestionClassName = settings.prefix + \"--spelling-suggestion\";\r\n    var spellingSuggestionWrapperClassName = settings.prefix + \"--spelling-suggestion__wrapper\";\r\n    var _b = useContext(SearchContext).searchResponseStore, searchParameters = _b.parameters, searchResponse = _b.data;\r\n    var performSearch = useContext(SearchApi).performSearch;\r\n    var suggestedQuery = searchResponse && searchResponse.suggested_query;\r\n    var prepareFreshSearchParameters = useDeepCompareCallback(function (nlq) {\r\n        return __assign(__assign({}, searchParameters), { naturalLanguageQuery: nlq, offset: 0, filter: '' });\r\n    }, [searchParameters]);\r\n    var selectSuggestion = function (evt) {\r\n        evt.preventDefault();\r\n        if (!!suggestedQuery) {\r\n            performSearch(prepareFreshSearchParameters(suggestedQuery));\r\n            if (onChange) {\r\n                onChange(suggestedQuery);\r\n            }\r\n        }\r\n    };\r\n    return (React$g__default.createElement(React$g__default.Fragment, null, !!suggestedQuery && (React$g__default.createElement(\"div\", { className: spellingSuggestionWrapperClassName },\r\n        spellingSuggestionPrefix,\r\n        React$g__default.createElement(Button, { className: spellingSuggestionClassName, onClick: selectSuggestion, kind: \"ghost\", size: \"small\" }, suggestedQuery)))));\r\n};\n\nvar findCollectionName = function (collectionResponse, queryResult) {\r\n    var collectionId = get_1(queryResult, 'result_metadata.collection_id') || get_1(queryResult, 'collection_id');\r\n    var collections = get_1(collectionResponse, 'collections', []);\r\n    var matchingCollection = collections.find(function (collection) {\r\n        return collection.collection_id === collectionId;\r\n    });\r\n    return get_1(matchingCollection, 'name', collectionId);\r\n};\n\nvar getDisplaySettings = function (params, componentSettings) {\r\n    if (componentSettings === void 0) { componentSettings = null; }\r\n    return {\r\n        resultTitleField: params.resultTitleField || get_1(componentSettings, 'fields_shown.title.field'),\r\n        bodyField: params.bodyField || get_1(componentSettings, 'fields_shown.body.field', 'text'),\r\n        usePassages: params.usePassages === undefined\r\n            ? get_1(componentSettings, 'fields_shown.body.use_passage', true)\r\n            : params.usePassages\r\n    };\r\n};\n\nvar findTablesWithoutResults = function (tableResults, results) {\r\n    var tablesWithoutResults = tableResults.filter(function (table) {\r\n        var matchingResult = results.find(function (result) {\r\n            return (table.source_document_id === result.document_id &&\r\n                table.collection_id === get_1(result, 'result_metadata.collection_id'));\r\n        });\r\n        return !matchingResult;\r\n    });\r\n    return tablesWithoutResults;\r\n};\n\nvar defaultMessages$4 = {\r\n    collectionLabel: 'Collection:',\r\n    viewExcerptInDocumentButtonText: 'View passage in document',\r\n    viewTableInDocumentButtonText: 'View table in document',\r\n    tablesOnlyToggleLabelText: 'Show table results only',\r\n    spellingSuggestionsPrefix: 'Did you mean:',\r\n    emptyResultContentBodyText: 'Excerpt unavailable.',\r\n    noResultsFoundText: 'There were no results found',\r\n    elementTableLabel: 'Table snippet extracted from {documentName}'\r\n};\n\nvar DEFAULT_LOADING_COUNT = 3;\r\nvar SearchResults = function (_a) {\r\n    var resultLinkField = _a.resultLinkField, resultLinkTemplate = _a.resultLinkTemplate, resultTitleField = _a.resultTitleField, bodyField = _a.bodyField, _b = _a.dangerouslyRenderHtml, dangerouslyRenderHtml = _b === void 0 ? false : _b, usePassages = _a.usePassages, passageLength = _a.passageLength, passageTextClassName = _a.passageTextClassName, showTablesOnlyToggle = _a.showTablesOnlyToggle, _c = _a.showTablesOnly, showTablesOnly = _c === void 0 ? false : _c, _d = _a.messages, messages = _d === void 0 ? defaultMessages$4 : _d, onSelectResult = _a.onSelectResult, onChange = _a.onChange;\r\n    var mergedMessages = __assign(__assign({}, defaultMessages$4), messages);\r\n    var _e = useContext(SearchContext), _f = _e.searchResponseStore, searchResponse = _f.data, isLoading = _f.isLoading, parameters = _f.parameters, collectionsResults = _e.collectionsResults, componentSettings = _e.componentSettings;\r\n    var _g = useState(showTablesOnly), showTablesOnlyResults = _g[0], setShowTablesOnlyResults = _g[1];\r\n    var _h = useState(false), hasFetchedDocuments = _h[0], setHasFetchedDocuments = _h[1];\r\n    var displaySettings = getDisplaySettings({ resultTitleField: resultTitleField, bodyField: bodyField, usePassages: usePassages }, componentSettings);\r\n    var _j = useContext(SearchApi), setSearchParameters = _j.setSearchParameters, fetchDocuments = _j.fetchDocuments;\r\n    var matchingResults = (searchResponse && searchResponse.matching_results) || 0;\r\n    var results = (searchResponse && searchResponse.results) || [];\r\n    var tableResults = (searchResponse && searchResponse.table_results) || [];\r\n    var emptySearch = searchResponse ? mergedMessages.noResultsFoundText : '';\r\n    var hasTables = tableResults && tableResults.length > 0;\r\n    var hasMatchingResults = matchingResults && matchingResults > 0;\r\n    var resultsFound = showTablesOnlyResults ? hasTables : hasMatchingResults;\r\n    var _k = useState(typeof showTablesOnlyToggle === 'undefined' ? hasTables : showTablesOnlyToggle), showTablesOnlyToggleState = _k[0], setShowTablesOnlyToggleState = _k[1];\r\n    useEffect(function () {\r\n        if (passageLength) {\r\n            setSearchParameters(function (currentSearchParameters) {\r\n                return __assign(__assign({}, currentSearchParameters), { passages: {\r\n                        characters: passageLength,\r\n                        enabled: true\r\n                    } });\r\n            });\r\n        }\r\n    }, [passageLength, setSearchParameters]);\r\n    useEffect(function () {\r\n        setShowTablesOnlyResults(showTablesOnly);\r\n    }, [showTablesOnly]);\r\n    useEffect(function () {\r\n        setHasFetchedDocuments(false);\r\n    }, [parameters.naturalLanguageQuery]);\r\n    useEffect(function () {\r\n        setShowTablesOnlyToggleState(typeof showTablesOnlyToggle === 'undefined' ? hasTables : showTablesOnlyToggle);\r\n    }, [showTablesOnlyToggle, hasTables]);\r\n    // tablesWithoutResults are the tables in our searchResponse with no corresponding QueryResult\r\n    useDeepCompareEffect(function () {\r\n        var tableResults = (searchResponse && searchResponse.table_results) || [];\r\n        var results = (searchResponse && searchResponse.results) || [];\r\n        var tablesWithoutResults = findTablesWithoutResults(tableResults, results);\r\n        if (!hasFetchedDocuments && tablesWithoutResults && tablesWithoutResults.length) {\r\n            var filterString = 'document_id::' + tablesWithoutResults.map(function (table) { return table.source_document_id; }).join('|');\r\n            fetchDocuments(filterString, searchResponse);\r\n            setHasFetchedDocuments(true);\r\n        }\r\n    }, [searchResponse, fetchDocuments, hasFetchedDocuments]);\r\n    var skeletons = useMemo(function () {\r\n        var searchResultLoadingClasses = [searchResultClass, searchResultLoadingClass];\r\n        var numberOfSkeletons = Math.min(parameters.count || 10, DEFAULT_LOADING_COUNT);\r\n        var size = Array.from(Array(numberOfSkeletons).keys());\r\n        return size.map(function (number) {\r\n            return (React$g__default.createElement(\"div\", { \"data-testid\": \"skeleton_text\", key: number.toString(), className: searchResultLoadingClasses.join(' ') },\r\n                React$g__default.createElement(SkeletonText, { paragraph: true, width: '85%' })));\r\n        });\r\n    }, [parameters.count]);\r\n    return (React$g__default.createElement(\"div\", { className: baseClass$1 },\r\n        React$g__default.createElement(\"div\", { className: searchResultsHeaderClass, \"data-testid\": \"search_results_header\" },\r\n            React$g__default.createElement(SpellingSuggestion, { spellingSuggestionPrefix: mergedMessages.spellingSuggestionsPrefix, onChange: onChange }),\r\n            React$g__default.createElement(TablesOnlyToggle, { setShowTablesOnlyResults: setShowTablesOnlyResults, showTablesOnlyToggle: showTablesOnlyToggleState, showTablesOnlyResults: showTablesOnlyResults, messages: mergedMessages })),\r\n        isLoading ? (skeletons) : resultsFound ? (React$g__default.createElement(\"div\", { className: searchResultsListClass }, showTablesOnlyResults\r\n            ? tableResults.map(function (table) {\r\n                var collectionName = findCollectionName(collectionsResults, table);\r\n                var result = results.find(function (result) { return result.document_id === table.source_document_id; });\r\n                return (React$g__default.createElement(Result, { key: table.collection_id + \"_\" + table.table_id, bodyField: displaySettings.bodyField, collectionName: collectionName, result: result, resultLinkField: resultLinkField, resultLinkTemplate: resultLinkTemplate, resultTitleField: displaySettings.resultTitleField, showTablesOnlyResults: showTablesOnlyResults, table: table, messages: mergedMessages, onSelectResult: onSelectResult }));\r\n            })\r\n            : results.map(function (result) {\r\n                var documentTableResult = tableResults.find(function (tableResult) {\r\n                    return tableResult.source_document_id === result.document_id;\r\n                });\r\n                var collectionName = findCollectionName(collectionsResults, result);\r\n                return (React$g__default.createElement(Result, { key: get_1(result, 'result_metadata.collection_id') + \"_\" + result.document_id, bodyField: displaySettings.bodyField, collectionName: collectionName, passageTextClassName: passageTextClassName, result: result, resultLinkField: resultLinkField, resultLinkTemplate: resultLinkTemplate, resultTitleField: displaySettings.resultTitleField, table: documentTableResult, usePassages: displaySettings.usePassages, dangerouslyRenderHtml: dangerouslyRenderHtml, messages: mergedMessages, onSelectResult: onSelectResult }));\r\n            }))) : (emptySearch && React$g__default.createElement(\"div\", { className: searchResultClass }, emptySearch))));\r\n};\r\nvar SearchResults$1 = commonjs_2(SearchResults, FallbackComponent('SearchResults'), onErrorCallback);\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE$2 = 200;\n\n/**\n * The base implementation of methods like `_.difference` without support\n * for excluding multiple arrays or iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Array} values The values to exclude.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of filtered values.\n */\nfunction baseDifference(array, values, iteratee, comparator) {\n  var index = -1,\n      includes = _arrayIncludes,\n      isCommon = true,\n      length = array.length,\n      result = [],\n      valuesLength = values.length;\n\n  if (!length) {\n    return result;\n  }\n  if (iteratee) {\n    values = _arrayMap(values, _baseUnary(iteratee));\n  }\n  if (comparator) {\n    includes = _arrayIncludesWith;\n    isCommon = false;\n  }\n  else if (values.length >= LARGE_ARRAY_SIZE$2) {\n    includes = _cacheHas;\n    isCommon = false;\n    values = new _SetCache(values);\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee == null ? value : iteratee(value);\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var valuesIndex = valuesLength;\n      while (valuesIndex--) {\n        if (values[valuesIndex] === computed) {\n          continue outer;\n        }\n      }\n      result.push(value);\n    }\n    else if (!includes(values, computed, comparator)) {\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nvar _baseDifference = baseDifference;\n\n/**\n * Creates an array of `array` values not included in the other given arrays\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons. The order and references of result values are\n * determined by the first array.\n *\n * **Note:** Unlike `_.pullAll`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {...Array} [values] The values to exclude.\n * @returns {Array} Returns the new array of filtered values.\n * @see _.without, _.xor\n * @example\n *\n * _.difference([2, 1], [2, 3]);\n * // => [1]\n */\nvar difference = _baseRest(function(array, values) {\n  return isArrayLikeObject_1(array)\n    ? _baseDifference(array, _baseFlatten(values, 1, isArrayLikeObject_1, true))\n    : [];\n});\n\nvar difference_1 = difference;\n\n/**\n * The base implementation of `_.slice` without an iteratee call guard.\n *\n * @private\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseSlice(array, start, end) {\n  var index = -1,\n      length = array.length;\n\n  if (start < 0) {\n    start = -start > length ? 0 : (length + start);\n  }\n  end = end > length ? length : end;\n  if (end < 0) {\n    end += length;\n  }\n  length = start > end ? 0 : ((end - start) >>> 0);\n  start >>>= 0;\n\n  var result = Array(length);\n  while (++index < length) {\n    result[index] = array[index + start];\n  }\n  return result;\n}\n\nvar _baseSlice = baseSlice;\n\n/**\n * Casts `array` to a slice if it's needed.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {number} start The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the cast slice.\n */\nfunction castSlice(array, start, end) {\n  var length = array.length;\n  end = end === undefined ? length : end;\n  return (!start && end >= length) ? array : _baseSlice(array, start, end);\n}\n\nvar _castSlice = castSlice;\n\n/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsZWJ = '\\\\u200d';\n\n/** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\nvar reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboRange + rsVarRange + ']');\n\n/**\n * Checks if `string` contains Unicode symbols.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n */\nfunction hasUnicode(string) {\n  return reHasUnicode.test(string);\n}\n\nvar _hasUnicode = hasUnicode;\n\n/**\n * Converts an ASCII `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction asciiToArray(string) {\n  return string.split('');\n}\n\nvar _asciiToArray = asciiToArray;\n\n/** Used to compose unicode character classes. */\nvar rsAstralRange$1 = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange$1 = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange$1 = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange$1 = '\\\\u20d0-\\\\u20ff',\n    rsComboRange$1 = rsComboMarksRange$1 + reComboHalfMarksRange$1 + rsComboSymbolsRange$1,\n    rsVarRange$1 = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsAstral = '[' + rsAstralRange$1 + ']',\n    rsCombo = '[' + rsComboRange$1 + ']',\n    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange$1 + ']',\n    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n    rsZWJ$1 = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange$1 + ']?',\n    rsOptJoin = '(?:' + rsZWJ$1 + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n/** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\nvar reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n/**\n * Converts a Unicode `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction unicodeToArray(string) {\n  return string.match(reUnicode) || [];\n}\n\nvar _unicodeToArray = unicodeToArray;\n\n/**\n * Converts `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction stringToArray(string) {\n  return _hasUnicode(string)\n    ? _unicodeToArray(string)\n    : _asciiToArray(string);\n}\n\nvar _stringToArray = stringToArray;\n\n/**\n * Creates a function like `_.lowerFirst`.\n *\n * @private\n * @param {string} methodName The name of the `String` case method to use.\n * @returns {Function} Returns the new case function.\n */\nfunction createCaseFirst(methodName) {\n  return function(string) {\n    string = toString_1(string);\n\n    var strSymbols = _hasUnicode(string)\n      ? _stringToArray(string)\n      : undefined;\n\n    var chr = strSymbols\n      ? strSymbols[0]\n      : string.charAt(0);\n\n    var trailing = strSymbols\n      ? _castSlice(strSymbols, 1).join('')\n      : string.slice(1);\n\n    return chr[methodName]() + trailing;\n  };\n}\n\nvar _createCaseFirst = createCaseFirst;\n\n/**\n * Converts the first character of `string` to upper case.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.upperFirst('fred');\n * // => 'Fred'\n *\n * _.upperFirst('FRED');\n * // => 'FRED'\n */\nvar upperFirst = _createCaseFirst('toUpperCase');\n\nvar upperFirst_1 = upperFirst;\n\n/**\n * Converts the first character of `string` to upper case and the remaining\n * to lower case.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to capitalize.\n * @returns {string} Returns the capitalized string.\n * @example\n *\n * _.capitalize('FRED');\n * // => 'Fred'\n */\nfunction capitalize(string) {\n  return upperFirst_1(toString_1(string).toLowerCase());\n}\n\nvar capitalize_1 = capitalize;\n\nvar classnames = createCommonjsModule(function (module) {\n/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif ( module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n});\n\n// display name mappings for values within documents (contracts, invoices and purchase orders)\r\nvar documentDisplayNames = {\r\n    amount: 'Amount',\r\n    bill_to: 'Bill to',\r\n    buyers: 'Buyer',\r\n    contract_amounts: 'Contract amounts',\r\n    contract_terms: 'Contract terms',\r\n    contract_types: 'Contract types',\r\n    currencies: 'Currency',\r\n    currency: 'Currency',\r\n    due_dates: 'Due date',\r\n    effective_dates: 'Effective dates',\r\n    invoice_dates: 'Invoice date',\r\n    invoice_numbers: 'Invoice number',\r\n    invoice_parts: 'Invoice parts',\r\n    invoice_to: 'Invoice to',\r\n    item_description: 'Item description',\r\n    line_items: 'Line item',\r\n    part_description: 'Part description',\r\n    payment_terms: 'Payment terms',\r\n    purchase_order_dates: 'Purchase order date',\r\n    purchase_order_numbers: 'Purchase order number',\r\n    quantity_ordered: 'Quantity',\r\n    ship_to: 'Ship to',\r\n    supplier_ids: 'Supplier id',\r\n    suppliers: 'Suppliers',\r\n    termination_dates: 'Termination dates',\r\n    total_amounts: 'Total amount',\r\n    totals_due: 'Total due',\r\n    unit_price: 'Unit price'\r\n};\n\nvar defaultMessages$5 = {\r\n    noneLabel: 'None',\r\n    detailsTitle: 'Details',\r\n    noneSelectedMessage: 'Nothing selected'\r\n};\n\nvar Details = function (_a) {\r\n    var title = _a.title, items = _a.items, selectedLink = _a.selectedLink, _b = _a.messages, messages = _b === void 0 ? defaultMessages$5 : _b, onClick = _a.onClick;\r\n    var renderItems = function () {\r\n        return (React$g__default.createElement(\"ul\", null, items.map(function (item) {\r\n            return item.link === true\r\n                ? renderLinks(item, onClick, selectedLink, title)\r\n                : renderContent(item);\r\n        })));\r\n    };\r\n    return (React$g__default.createElement(\"div\", { className: \"section\", \"data-testid\": 'details-pane-' + title },\r\n        React$g__default.createElement(\"h3\", { className: \"sectionHeader\" }, capitalize_1(title)),\r\n        items && items.length > 0 ? renderItems() : messages.noneLabel));\r\n};\r\nfunction renderLinks(_a, onClick, selectedLink, sectionTitle) {\r\n    var type = _a.type, label = _a.label, value = _a.value;\r\n    return (React$g__default.createElement(\"li\", { key: type, className: \"content\" },\r\n        value && React$g__default.createElement(\"div\", { className: \"display-name\" }, documentDisplayNames[type]),\r\n        React$g__default.createElement(Link, { className: classnames({ selected: selectedLink === type }), href: \"#\", onClick: function (evt) {\r\n                evt.preventDefault();\r\n                onClick({ sectionTitle: sectionTitle, type: type });\r\n            } }, value && value.label ? value.label : label)));\r\n}\r\nfunction renderContent(item) {\r\n    return (React$g__default.createElement(\"li\", { className: \"content\", key: item.label || item }, renderText(item)));\r\n}\r\nfunction renderText(item) {\r\n    if (item.label) {\r\n        return item.label;\r\n    }\r\n    return documentDisplayNames[item] || item;\r\n}\n\nvar base$1 = settings.prefix + \"--ci-doc-details\";\r\nvar DetailsPane = function (_a) {\r\n    var items = _a.items, selectedLink = _a.selectedLink, _b = _a.messages, messages = _b === void 0 ? defaultMessages$5 : _b, onActiveLinkChange = _a.onActiveLinkChange;\r\n    return (React$g__default.createElement(\"div\", { className: base$1, \"data-testid\": \"details-pane\" },\r\n        React$g__default.createElement(\"h2\", { className: \"title\", id: \"documentDetailsId\" }, messages.detailsTitle),\r\n        items.length > 0 ? (items.map(function (_a) {\r\n            var heading = _a.heading, items = _a.items;\r\n            return (React$g__default.createElement(Details, { title: heading, items: items, onClick: onActiveLinkChange, key: heading, selectedLink: selectedLink, messages: messages }));\r\n        })) : (React$g__default.createElement(\"div\", { className: \"nothingSelected\" }, messages.noneSelectedMessage))));\r\n};\n\n/**\r\n * Checks if the given filter is empty\r\n *\r\n * @param {Object} filter the filter to check for emptiness\r\n * @returns true if the filter is empty\r\n */\r\nfunction isFilterEmpty(filter) {\r\n    return !Object.values(filter).some(function (labelList) { return labelList.length !== 0; });\r\n}\r\n/**\r\n * Checks if the given filter contains the given filter part\r\n *\r\n * @param {Object} filter the filter\r\n * @param {string} groupId\r\n * @param {string} optionId\r\n * @returns true if the filter is empty\r\n */\r\nfunction filterContains(filter, groupId, optionId) {\r\n    return !!filter[groupId] && filter[groupId].includes(optionId);\r\n}\r\nfunction updateFilter(filter, _a) {\r\n    var _b;\r\n    var type = _a.type, _c = _a.checked, checked = _c === void 0 ? true : _c, groupId = _a.groupId, optionId = _a.optionId;\r\n    var updatedList = [];\r\n    if (type === 'checkbox' && filter[groupId]) {\r\n        updatedList.push.apply(updatedList, filter[groupId]);\r\n    }\r\n    if (checked) {\r\n        updatedList.push(optionId);\r\n    }\r\n    else {\r\n        var index = updatedList.indexOf(optionId);\r\n        if (index > -1) {\r\n            updatedList.splice(index, 1);\r\n        }\r\n    }\r\n    return __assign(__assign({}, filter), (_b = {}, _b[groupId] = updatedList, _b));\r\n}\n\n// display name mappings for invoices and purchase orders\r\nvar displayNames = {\r\n    amount: 'Amount',\r\n    bill_to: 'Bill to',\r\n    buyers: 'Buyer',\r\n    currencies: 'Currency',\r\n    currency: 'Currency',\r\n    due_dates: 'Due date',\r\n    invoice_dates: 'Invoice date',\r\n    invoice_numbers: 'Invoice number',\r\n    invoice_parts: 'Invoice parts',\r\n    invoice_to: 'Invoice to',\r\n    item_description: 'Item description',\r\n    line_items: 'Line item',\r\n    part_description: 'Part description',\r\n    payment_terms: 'Payment terms',\r\n    purchase_order_dates: 'Purchase order date',\r\n    purchase_order_numbers: 'Purchase order number',\r\n    quantity_ordered: 'Quantity',\r\n    ship_to: 'Ship to',\r\n    supplier_ids: 'Supplier id',\r\n    suppliers: 'Suppliers',\r\n    total_amounts: 'Total amount',\r\n    totals_due: 'Total due',\r\n    unit_price: 'Unit price'\r\n};\n\nvar defaultMessages$6 = {\r\n    filterTitle: 'Select labels to filter elements',\r\n    resetFilterLabel: 'Reset filters'\r\n};\n\nvar base$2 = settings.prefix + \"--ci-doc-filter\";\r\nvar inputTagTypes = {\r\n    checkbox: Checkbox,\r\n    radio: RadioButton\r\n};\r\nvar FilterPanel = function (_a) {\r\n    var className = _a.className, filter = _a.filter, filterGroups = _a.filterGroups, _b = _a.messages, messages = _b === void 0 ? defaultMessages$6 : _b, onFilterChange = _a.onFilterChange, onFilterClear = _a.onFilterClear;\r\n    var loading = !filter || !filterGroups || filterGroups.length === 0;\r\n    return (React$g__default.createElement(\"div\", { className: classnames(base$2, className, {\r\n            skeletons: loading\r\n        }), \"data-testid\": \"CIDocument_filterPanel\" }, loading ? (React$g__default.createElement(SkeletonText, { paragraph: true, lineCount: 6 })) : (React$g__default.createElement(\"div\", null,\r\n        React$g__default.createElement(\"div\", { className: \"filterTitle\" }, messages.filterTitle),\r\n        React$g__default.createElement(Button, { className: \"resetButton\", kind: \"ghost\", size: \"small\", onClick: onFilterClear, disabled: filter && isFilterEmpty(filter) }, messages.resetFilterLabel),\r\n        React$g__default.createElement(\"div\", { className: \"groups\" }, filterGroups &&\r\n            filterGroups.map(function (group) { return (React$g__default.createElement(\"div\", { key: group.id, className: \"group\", \"aria-label\": group.title, role: \"group\" },\r\n                React$g__default.createElement(\"h3\", { className: \"group-title\" }, group.title),\r\n                group.optionsList &&\r\n                    group.optionsList.map(function (_a) {\r\n                        var id = _a.id, count = _a.count, displayName = _a.displayName;\r\n                        var InputTag = inputTagTypes[group.type];\r\n                        var labelText = (React$g__default.createElement(React$g__default.Fragment, null,\r\n                            displayNames[displayName] || displayName,\r\n                            !!count && React$g__default.createElement(\"span\", { className: \"count\" },\r\n                                \"(\",\r\n                                count,\r\n                                \")\")));\r\n                        return (InputTag && (React$g__default.createElement(InputTag, { key: group.id + \"-\" + id, id: group.id + \"-\" + id, className: \"group-option input\", labelText: labelText, name: group.id, disabled: !count, checked: filter && filterContains(filter, group.id, id), onChange: handleChange(id, group.id, group.type, onFilterChange) })));\r\n                    }))); }))))));\r\n};\r\nfunction handleChange(id, name, type, onFilterChange) {\r\n    if (onFilterChange) {\r\n        return function (value) {\r\n            // value is string for radio buttons, boolean for checkbox\r\n            // Always send true for radio buttons; otherwise, send along checkbox boolean\r\n            var checked = typeof value === 'string' || value;\r\n            onFilterChange({\r\n                optionId: id,\r\n                groupId: name,\r\n                type: type,\r\n                checked: checked\r\n            });\r\n        };\r\n    }\r\n    return undefined;\r\n}\n\nfunction _extends$2() { _extends$2 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$2.apply(this, arguments); }\n\nfunction _objectWithoutProperties$3(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose$3(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose$3(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nvar _ref2$c = /*#__PURE__*/React$g__default.createElement(\"g\", {\n  fill: \"#34BC6E\",\n  fillRule: \"nonzero\"\n}, /*#__PURE__*/React$g__default.createElement(\"circle\", {\n  cx: 3.5,\n  cy: 3.5,\n  r: 2.5\n}), /*#__PURE__*/React$g__default.createElement(\"circle\", {\n  cx: 10.5,\n  cy: 3.5,\n  r: 2.5\n}), /*#__PURE__*/React$g__default.createElement(\"circle\", {\n  cx: 17.5,\n  cy: 3.5,\n  r: 2.5\n}));\n\nvar SvgConfidenceHigh = function SvgConfidenceHigh(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties$3(_ref, [\"svgRef\"]);\n\n  return /*#__PURE__*/React$g__default.createElement(\"svg\", _extends$2({\n    width: 21,\n    height: 7,\n    ref: svgRef\n  }, props), _ref2$c);\n};\n\nvar ForwardRef$2 = /*#__PURE__*/React$g__default.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React$g__default.createElement(SvgConfidenceHigh, _extends$2({\n    svgRef: ref\n  }, props));\n});\n\nfunction _extends$3() { _extends$3 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$3.apply(this, arguments); }\n\nfunction _objectWithoutProperties$4(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose$4(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose$4(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nvar _ref2$d = /*#__PURE__*/React$g__default.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"nonzero\"\n}, /*#__PURE__*/React$g__default.createElement(\"circle\", {\n  cx: 3.5,\n  cy: 3.5,\n  r: 2.5,\n  fill: \"#FED500\"\n}), /*#__PURE__*/React$g__default.createElement(\"circle\", {\n  cx: 10.5,\n  cy: 3.5,\n  r: 2.5,\n  fill: \"#FED500\"\n}), /*#__PURE__*/React$g__default.createElement(\"circle\", {\n  cx: 17.5,\n  cy: 3.5,\n  r: 2.5,\n  fill: \"#C0BFC0\"\n}));\n\nvar SvgConfidenceMedium = function SvgConfidenceMedium(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties$4(_ref, [\"svgRef\"]);\n\n  return /*#__PURE__*/React$g__default.createElement(\"svg\", _extends$3({\n    width: 21,\n    height: 7,\n    ref: svgRef\n  }, props), _ref2$d);\n};\n\nvar ForwardRef$3 = /*#__PURE__*/React$g__default.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React$g__default.createElement(SvgConfidenceMedium, _extends$3({\n    svgRef: ref\n  }, props));\n});\n\nfunction _extends$4() { _extends$4 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$4.apply(this, arguments); }\n\nfunction _objectWithoutProperties$5(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose$5(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose$5(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nvar _ref2$e = /*#__PURE__*/React$g__default.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"nonzero\"\n}, /*#__PURE__*/React$g__default.createElement(\"circle\", {\n  cx: 3.5,\n  cy: 3.5,\n  r: 2.5,\n  fill: \"#E62325\"\n}), /*#__PURE__*/React$g__default.createElement(\"circle\", {\n  cx: 10.5,\n  cy: 3.5,\n  r: 2.5,\n  fill: \"#C0BFC0\"\n}), /*#__PURE__*/React$g__default.createElement(\"circle\", {\n  cx: 17.5,\n  cy: 3.5,\n  r: 2.5,\n  fill: \"#C0BFC0\"\n}));\n\nvar SvgConfidenceLow = function SvgConfidenceLow(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties$5(_ref, [\"svgRef\"]);\n\n  return /*#__PURE__*/React$g__default.createElement(\"svg\", _extends$4({\n    width: 21,\n    height: 7,\n    ref: svgRef\n  }, props), _ref2$e);\n};\n\nvar ForwardRef$4 = /*#__PURE__*/React$g__default.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React$g__default.createElement(SvgConfidenceLow, _extends$4({\n    svgRef: ref\n  }, props));\n});\n\nvar MetadataRow = function (_a) {\r\n    var metadata = _a.metadata, activeMetadataId = _a.activeMetadataId, _b = _a.contactsLabel, contactsLabel = _b === void 0 ? 'Contacts' : _b, _c = _a.partiesLabel, partiesLabel = _c === void 0 ? 'Parties' : _c, _d = _a.confidenceLabel, confidenceLabel = _d === void 0 ? 'Confidence' : _d, _e = _a.highConfidenceTooltipText, highConfidenceTooltipText = _e === void 0 ? 'High confidence: Watson is very confident that the identified data is correct.' : _e, _f = _a.mediumConfidenceTooltipText, mediumConfidenceTooltipText = _f === void 0 ? 'Medium confidence: Watson is somewhat confident that the identified data is correct.' : _f, _g = _a.lowConfidenceTooltipText, lowConfidenceTooltipText = _g === void 0 ? 'Low confidence: Watson is unsure if the identified data is correct.' : _g, onActiveMetadataChange = _a.onActiveMetadataChange;\r\n    var metadataType = metadata.metadataType, data = metadata.data;\r\n    var headings = {\r\n        contacts: contactsLabel,\r\n        parties: partiesLabel,\r\n        contract_amounts: 'Contract amounts',\r\n        effective_dates: 'Effective dates',\r\n        termination_dates: 'Termination dates',\r\n        contract_types: 'Contract types',\r\n        contract_terms: 'Contract terms',\r\n        payment_terms: 'Payment terms'\r\n    };\r\n    var confidenceLevel = {\r\n        High: {\r\n            icon: ForwardRef$2,\r\n            description: highConfidenceTooltipText\r\n        },\r\n        Medium: {\r\n            icon: ForwardRef$3,\r\n            description: mediumConfidenceTooltipText\r\n        },\r\n        Low: {\r\n            icon: ForwardRef$4,\r\n            description: lowConfidenceTooltipText\r\n        }\r\n    };\r\n    return (React$g__default.createElement(\"div\", { className: \"group\" },\r\n        React$g__default.createElement(\"h3\", { className: \"group-title\" },\r\n            headings[metadataType],\r\n            \" \"),\r\n        React$g__default.createElement(\"ul\", null, data.map(function (dt) {\r\n            var metadataId = getId(dt);\r\n            var metadataTypeId = getMetadataTypeId(metadataId, metadataType);\r\n            return (React$g__default.createElement(\"li\", { key: metadataTypeId },\r\n                React$g__default.createElement(Tooltip, { direction: \"right\", iconDescription: confidenceLabel, renderIcon: confidenceLevel[dt.confidence_level].icon, tabIndex: 0, size: \"small\" }, confidenceLevel[dt.confidence_level].description),\r\n                React$g__default.createElement(Link, { className: classnames({\r\n                        selected: getMetadataTypeId(activeMetadataId, metadataType) === metadataTypeId\r\n                    }), href: \"#\", onClick: function (evt) {\r\n                        onLinkClick(evt, metadataId, metadataType, onActiveMetadataChange, dt);\r\n                    } }, dt.text_normalized || dt.text)));\r\n        }))));\r\n};\r\nfunction onLinkClick(evt, metadataId, metadataType, onActiveMetadataChange, data) {\r\n    evt.preventDefault();\r\n    data.metadataType = metadataType;\r\n    onActiveMetadataChange({ metadataId: metadataId, metadataType: metadataType, data: [data] });\r\n}\r\nfunction getMetadataTypeId(id, metadataType) {\r\n    return id ? id + \"_\" + metadataType : '';\r\n}\n\nvar HIDDEN_ROLES = ['Unknown'];\r\nvar PartyRow = function (_a) {\r\n    var party = _a.party, activeMetadataId = _a.activeMetadataId, _b = _a.addressesHeading, addressesHeading = _b === void 0 ? 'Addresses' : _b, _c = _a.contactsHeading, contactsHeading = _c === void 0 ? 'Contacts' : _c, onActivePartyChange = _a.onActivePartyChange;\r\n    return (React$g__default.createElement(React$g__default.Fragment, null,\r\n        party.mentions ? (React$g__default.createElement(Link, { className: classnames('link', {\r\n                selected: party.mentions.some(function (mention) { return getId(mention) === activeMetadataId; })\r\n            }), onClick: function (evt) {\r\n                onLinkClick$1(evt, party.mentions, onActivePartyChange);\r\n            }, href: \"#\" },\r\n            getNameRoleDisplayString({\r\n                name: party.party,\r\n                role: party.role\r\n            }),\r\n            \"\\u00A0(\",\r\n            party.mentions.length,\r\n            \")\")) : (React$g__default.createElement(\"p\", null, getNameRoleDisplayString({\r\n            name: party.party,\r\n            role: party.role\r\n        }))),\r\n        React$g__default.createElement(\"div\", null,\r\n            party.addresses.length > 0 && (React$g__default.createElement(\"div\", null,\r\n                React$g__default.createElement(\"h3\", null, addressesHeading),\r\n                React$g__default.createElement(\"ul\", null, party.addresses.map(function (address) {\r\n                    return (React$g__default.createElement(\"li\", { key: getId(address) },\r\n                        React$g__default.createElement(Link, { className: classnames('link', {\r\n                                selected: party.addresses.some(function (adrs) { return getId(adrs) === activeMetadataId; })\r\n                            }), href: \"#\", onClick: function (evt) {\r\n                                onLinkClick$1(evt, party.addresses, onActivePartyChange);\r\n                            } }, address.text)));\r\n                })))),\r\n            party.contacts.length > 0 && (React$g__default.createElement(\"div\", null,\r\n                React$g__default.createElement(\"h3\", null, contactsHeading),\r\n                React$g__default.createElement(\"ul\", null, party.contacts.map(function (contact) { return (React$g__default.createElement(\"li\", { key: contact.name + \"-\" + contact.role }, getNameRoleDisplayString(contact))); })))))));\r\n};\r\nfunction getNameRoleDisplayString(_a) {\r\n    var name = _a.name, role = _a.role;\r\n    if (role && !HIDDEN_ROLES.includes(role)) {\r\n        return name + \" (\" + role + \")\";\r\n    }\r\n    return name;\r\n}\r\nfunction onLinkClick$1(evt, items, onActivePartyChange) {\r\n    evt.preventDefault();\r\n    onActivePartyChange(items);\r\n}\n\nvar defaultMessages$7 = {\r\n    partiesHeading: 'Parties'\r\n};\n\nvar MetadataPane = function (_a) {\r\n    var _b = _a.metadata, metadata = _b === void 0 ? [] : _b, _c = _a.parties, parties = _c === void 0 ? [] : _c, activeMetadataId = _a.activeMetadataId, _d = _a.messages, messages = _d === void 0 ? defaultMessages$7 : _d, onActiveMetadataChange = _a.onActiveMetadataChange, onActivePartyChange = _a.onActivePartyChange;\r\n    var filteredParties = filterParties(parties);\r\n    var base = settings.prefix + \"--ci-doc-metadata\";\r\n    return (React$g__default.createElement(\"div\", { className: base, \"data-testid\": \"metadata-pane\" },\r\n        React$g__default.createElement(\"div\", { className: \"section\" }, metadata.map(function (data, index) { return (React$g__default.createElement(MetadataRow, { key: index, metadata: data, activeMetadataId: activeMetadataId, onActiveMetadataChange: onActiveMetadataChange })); })),\r\n        React$g__default.createElement(\"div\", { className: \"section\" },\r\n            React$g__default.createElement(\"div\", { className: \"group\" },\r\n                React$g__default.createElement(\"h3\", { className: \"group-title\" }, messages.partiesHeading),\r\n                React$g__default.createElement(\"ul\", null, filteredParties.map(function (party, index) { return (React$g__default.createElement(\"li\", { key: index },\r\n                    React$g__default.createElement(PartyRow, { party: party, activeMetadataId: activeMetadataId, onActivePartyChange: onActivePartyChange }))); }))))));\r\n};\r\nfunction showParty(originalParty) {\r\n    var importance = originalParty.importance, addresses = originalParty.addresses, contacts = originalParty.contacts, role = originalParty.role, party = originalParty.party;\r\n    return (importance === 'Primary' ||\r\n        addresses.length > 0 ||\r\n        contacts.length > 0 ||\r\n        (!!role && role.toLowerCase() !== 'unknown' && role.toLowerCase() !== party.toLowerCase()));\r\n}\r\nfunction filterParties(parties) {\r\n    if (parties === void 0) { parties = []; }\r\n    return parties.filter(function (party) { return showParty(party); });\r\n}\n\nfunction _interopDefault$c (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\n\n\n\nvar React$c = _interopDefault$c(React$g__default);\n\nvar _ref2$f =\n/*#__PURE__*/\n\n/*#__PURE__*/\nReact$c.createElement(\"path\", {\n  d: \"M5 8L10 3 10.7 3.7 6.4 8 10.7 12.3 10 13z\"\n});\n\nvar ChevronLeft16 = /*#__PURE__*/React$c.forwardRef(function ChevronLeft16(_ref, ref) {\n  var children = _ref.children,\n      rest = IconE8f71a9c._objectWithoutProperties(_ref, [\"children\"]);\n\n  return /*#__PURE__*/React$c.createElement(IconE8f71a9c.Icon, IconE8f71a9c._extends({\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"currentColor\",\n    ref: ref\n  }, rest), _ref2$f, children);\n});\n\nvar _16$6 = ChevronLeft16;\n\nfunction _interopDefault$d (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\n\n\n\nvar React$d = _interopDefault$d(React$g__default);\n\nvar _ref2$g =\n/*#__PURE__*/\n\n/*#__PURE__*/\nReact$d.createElement(\"path\", {\n  d: \"M11 8L6 13 5.3 12.3 9.6 8 5.3 3.7 6 3z\"\n});\n\nvar ChevronRight16 = /*#__PURE__*/React$d.forwardRef(function ChevronRight16(_ref, ref) {\n  var children = _ref.children,\n      rest = IconE8f71a9c._objectWithoutProperties(_ref, [\"children\"]);\n\n  return /*#__PURE__*/React$d.createElement(IconE8f71a9c.Icon, IconE8f71a9c._extends({\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"currentColor\",\n    ref: ref\n  }, rest), _ref2$g, children);\n});\n\nvar _16$7 = ChevronRight16;\n\nvar defaultMessages$8 = {\r\n    previousLabel: 'Previous',\r\n    nextLabel: 'Next',\r\n    navigation: 'Highlighted items navigation',\r\n    counterPattern: '{index} / {max}'\r\n};\n\nvar NavigationToolbar = function (_a) {\r\n    var className = _a.className, _b = _a.index, index = _b === void 0 ? 0 : _b, max = _a.max, _c = _a.messages, messages = _c === void 0 ? defaultMessages$8 : _c, onChange = _a.onChange;\r\n    var base = settings.prefix + \"--ci-doc-toolbar\";\r\n    return (React$g__default.createElement(\"nav\", { className: classnames(base, className), \"aria-label\": messages.navigation },\r\n        React$g__default.createElement(Button, { className: \"button\", title: messages.previousLabel, kind: \"ghost\", size: \"small\", renderIcon: _16$6, \"aria-label\": messages.previousLabel, iconDescription: messages.previousLabel, onClick: handleChange$1(onChange, index, max, -1), \"data-testid\": \"NavigationToolbar_previous\" }),\r\n        React$g__default.createElement(\"span\", { className: \"text\", \"data-testid\": \"NavigationToolbar_counter\" }, messages\r\n            .counterPattern.replace('{index}', index > 0 ? String(index) : '-')\r\n            .replace('{max}', String(max))),\r\n        React$g__default.createElement(Button, { className: \"button\", title: messages.nextLabel, kind: \"ghost\", size: \"small\", \"aria-label\": messages.nextLabel, renderIcon: _16$7, iconDescription: messages.nextLabel, onClick: handleChange$1(onChange, index, max, 1), \"data-testid\": \"NavigationToolbar_next\" })));\r\n};\r\nfunction handleChange$1(onChange, index, max, change) {\r\n    return function () {\r\n        // If the previous button is pressed when there is no index, set index to max.\r\n        // Otherwise, set the index to the current index + or - 1, looping from 1 to max or max to 1 as needed\r\n        var isBelowMin = index <= 0 && change < 0;\r\n        var newIndex = isBelowMin ? max : ((max + (index - 1) + change) % max) + 1;\r\n        onChange(newIndex);\r\n    };\r\n}\n\n/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing. The function also has a property 'clear' \n * that is a function which will clear the timer to prevent previously scheduled executions. \n *\n * @source underscore.js\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n * @param {Function} function to wrap\n * @param {Number} timeout in ms (`100`)\n * @param {Boolean} whether to execute at the beginning (`false`)\n * @api public\n */\nfunction debounce(func, wait, immediate){\n  var timeout, args, context, timestamp, result;\n  if (null == wait) wait = 100;\n\n  function later() {\n    var last = Date.now() - timestamp;\n\n    if (last < wait && last >= 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n      if (!immediate) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n    }\n  }\n  var debounced = function(){\n    context = this;\n    args = arguments;\n    timestamp = Date.now();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n\n  debounced.clear = function() {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n  \n  debounced.flush = function() {\n    if (timeout) {\n      result = func.apply(context, args);\n      context = args = null;\n      \n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n\n  return debounced;\n}\n// Adds compatibility for ES modules\ndebounce.debounce = debounce;\n\nvar debounce_1 = debounce;\n\n/**\r\n * A collection of shims that provide minimal functionality of the ES6 collections.\r\n *\r\n * These implementations are not meant to be used outside of the ResizeObserver\r\n * modules as they cover only a limited range of use cases.\r\n */\r\n/* eslint-disable require-jsdoc, valid-jsdoc */\r\nvar MapShim = (function () {\r\n    if (typeof Map !== 'undefined') {\r\n        return Map;\r\n    }\r\n    /**\r\n     * Returns index in provided array that matches the specified key.\r\n     *\r\n     * @param {Array<Array>} arr\r\n     * @param {*} key\r\n     * @returns {number}\r\n     */\r\n    function getIndex(arr, key) {\r\n        var result = -1;\r\n        arr.some(function (entry, index) {\r\n            if (entry[0] === key) {\r\n                result = index;\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n        return result;\r\n    }\r\n    return /** @class */ (function () {\r\n        function class_1() {\r\n            this.__entries__ = [];\r\n        }\r\n        Object.defineProperty(class_1.prototype, \"size\", {\r\n            /**\r\n             * @returns {boolean}\r\n             */\r\n            get: function () {\r\n                return this.__entries__.length;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        /**\r\n         * @param {*} key\r\n         * @returns {*}\r\n         */\r\n        class_1.prototype.get = function (key) {\r\n            var index = getIndex(this.__entries__, key);\r\n            var entry = this.__entries__[index];\r\n            return entry && entry[1];\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @param {*} value\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.set = function (key, value) {\r\n            var index = getIndex(this.__entries__, key);\r\n            if (~index) {\r\n                this.__entries__[index][1] = value;\r\n            }\r\n            else {\r\n                this.__entries__.push([key, value]);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.delete = function (key) {\r\n            var entries = this.__entries__;\r\n            var index = getIndex(entries, key);\r\n            if (~index) {\r\n                entries.splice(index, 1);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.has = function (key) {\r\n            return !!~getIndex(this.__entries__, key);\r\n        };\r\n        /**\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.clear = function () {\r\n            this.__entries__.splice(0);\r\n        };\r\n        /**\r\n         * @param {Function} callback\r\n         * @param {*} [ctx=null]\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.forEach = function (callback, ctx) {\r\n            if (ctx === void 0) { ctx = null; }\r\n            for (var _i = 0, _a = this.__entries__; _i < _a.length; _i++) {\r\n                var entry = _a[_i];\r\n                callback.call(ctx, entry[1], entry[0]);\r\n            }\r\n        };\r\n        return class_1;\r\n    }());\r\n})();\n\n/**\r\n * Detects whether window and document objects are available in current environment.\r\n */\r\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && window.document === document;\n\n// Returns global object of a current environment.\r\nvar global$1 = (function () {\r\n    if (typeof global !== 'undefined' && global.Math === Math) {\r\n        return global;\r\n    }\r\n    if (typeof self !== 'undefined' && self.Math === Math) {\r\n        return self;\r\n    }\r\n    if (typeof window !== 'undefined' && window.Math === Math) {\r\n        return window;\r\n    }\r\n    // eslint-disable-next-line no-new-func\r\n    return Function('return this')();\r\n})();\n\n/**\r\n * A shim for the requestAnimationFrame which falls back to the setTimeout if\r\n * first one is not supported.\r\n *\r\n * @returns {number} Requests' identifier.\r\n */\r\nvar requestAnimationFrame$1 = (function () {\r\n    if (typeof requestAnimationFrame === 'function') {\r\n        // It's required to use a bounded function because IE sometimes throws\r\n        // an \"Invalid calling object\" error if rAF is invoked without the global\r\n        // object on the left hand side.\r\n        return requestAnimationFrame.bind(global$1);\r\n    }\r\n    return function (callback) { return setTimeout(function () { return callback(Date.now()); }, 1000 / 60); };\r\n})();\n\n// Defines minimum timeout before adding a trailing call.\r\nvar trailingTimeout = 2;\r\n/**\r\n * Creates a wrapper function which ensures that provided callback will be\r\n * invoked only once during the specified delay period.\r\n *\r\n * @param {Function} callback - Function to be invoked after the delay period.\r\n * @param {number} delay - Delay after which to invoke callback.\r\n * @returns {Function}\r\n */\r\nfunction throttle (callback, delay) {\r\n    var leadingCall = false, trailingCall = false, lastCallTime = 0;\r\n    /**\r\n     * Invokes the original callback function and schedules new invocation if\r\n     * the \"proxy\" was called during current request.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function resolvePending() {\r\n        if (leadingCall) {\r\n            leadingCall = false;\r\n            callback();\r\n        }\r\n        if (trailingCall) {\r\n            proxy();\r\n        }\r\n    }\r\n    /**\r\n     * Callback invoked after the specified delay. It will further postpone\r\n     * invocation of the original function delegating it to the\r\n     * requestAnimationFrame.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function timeoutCallback() {\r\n        requestAnimationFrame$1(resolvePending);\r\n    }\r\n    /**\r\n     * Schedules invocation of the original function.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function proxy() {\r\n        var timeStamp = Date.now();\r\n        if (leadingCall) {\r\n            // Reject immediately following calls.\r\n            if (timeStamp - lastCallTime < trailingTimeout) {\r\n                return;\r\n            }\r\n            // Schedule new call to be in invoked when the pending one is resolved.\r\n            // This is important for \"transitions\" which never actually start\r\n            // immediately so there is a chance that we might miss one if change\r\n            // happens amids the pending invocation.\r\n            trailingCall = true;\r\n        }\r\n        else {\r\n            leadingCall = true;\r\n            trailingCall = false;\r\n            setTimeout(timeoutCallback, delay);\r\n        }\r\n        lastCallTime = timeStamp;\r\n    }\r\n    return proxy;\r\n}\n\n// Minimum delay before invoking the update of observers.\r\nvar REFRESH_DELAY = 20;\r\n// A list of substrings of CSS properties used to find transition events that\r\n// might affect dimensions of observed elements.\r\nvar transitionKeys = ['top', 'right', 'bottom', 'left', 'width', 'height', 'size', 'weight'];\r\n// Check if MutationObserver is available.\r\nvar mutationObserverSupported = typeof MutationObserver !== 'undefined';\r\n/**\r\n * Singleton controller class which handles updates of ResizeObserver instances.\r\n */\r\nvar ResizeObserverController = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserverController.\r\n     *\r\n     * @private\r\n     */\r\n    function ResizeObserverController() {\r\n        /**\r\n         * Indicates whether DOM listeners have been added.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.connected_ = false;\r\n        /**\r\n         * Tells that controller has subscribed for Mutation Events.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.mutationEventsAdded_ = false;\r\n        /**\r\n         * Keeps reference to the instance of MutationObserver.\r\n         *\r\n         * @private {MutationObserver}\r\n         */\r\n        this.mutationsObserver_ = null;\r\n        /**\r\n         * A list of connected observers.\r\n         *\r\n         * @private {Array<ResizeObserverSPI>}\r\n         */\r\n        this.observers_ = [];\r\n        this.onTransitionEnd_ = this.onTransitionEnd_.bind(this);\r\n        this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);\r\n    }\r\n    /**\r\n     * Adds observer to observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be added.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.addObserver = function (observer) {\r\n        if (!~this.observers_.indexOf(observer)) {\r\n            this.observers_.push(observer);\r\n        }\r\n        // Add listeners if they haven't been added yet.\r\n        if (!this.connected_) {\r\n            this.connect_();\r\n        }\r\n    };\r\n    /**\r\n     * Removes observer from observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be removed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.removeObserver = function (observer) {\r\n        var observers = this.observers_;\r\n        var index = observers.indexOf(observer);\r\n        // Remove observer if it's present in registry.\r\n        if (~index) {\r\n            observers.splice(index, 1);\r\n        }\r\n        // Remove listeners if controller has no connected observers.\r\n        if (!observers.length && this.connected_) {\r\n            this.disconnect_();\r\n        }\r\n    };\r\n    /**\r\n     * Invokes the update of observers. It will continue running updates insofar\r\n     * it detects changes.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.refresh = function () {\r\n        var changesDetected = this.updateObservers_();\r\n        // Continue running updates if changes have been detected as there might\r\n        // be future ones caused by CSS transitions.\r\n        if (changesDetected) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Updates every observer from observers list and notifies them of queued\r\n     * entries.\r\n     *\r\n     * @private\r\n     * @returns {boolean} Returns \"true\" if any observer has detected changes in\r\n     *      dimensions of it's elements.\r\n     */\r\n    ResizeObserverController.prototype.updateObservers_ = function () {\r\n        // Collect observers that have active observations.\r\n        var activeObservers = this.observers_.filter(function (observer) {\r\n            return observer.gatherActive(), observer.hasActive();\r\n        });\r\n        // Deliver notifications in a separate cycle in order to avoid any\r\n        // collisions between observers, e.g. when multiple instances of\r\n        // ResizeObserver are tracking the same element and the callback of one\r\n        // of them changes content dimensions of the observed target. Sometimes\r\n        // this may result in notifications being blocked for the rest of observers.\r\n        activeObservers.forEach(function (observer) { return observer.broadcastActive(); });\r\n        return activeObservers.length > 0;\r\n    };\r\n    /**\r\n     * Initializes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.connect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already added.\r\n        if (!isBrowser || this.connected_) {\r\n            return;\r\n        }\r\n        // Subscription to the \"Transitionend\" event is used as a workaround for\r\n        // delayed transitions. This way it's possible to capture at least the\r\n        // final state of an element.\r\n        document.addEventListener('transitionend', this.onTransitionEnd_);\r\n        window.addEventListener('resize', this.refresh);\r\n        if (mutationObserverSupported) {\r\n            this.mutationsObserver_ = new MutationObserver(this.refresh);\r\n            this.mutationsObserver_.observe(document, {\r\n                attributes: true,\r\n                childList: true,\r\n                characterData: true,\r\n                subtree: true\r\n            });\r\n        }\r\n        else {\r\n            document.addEventListener('DOMSubtreeModified', this.refresh);\r\n            this.mutationEventsAdded_ = true;\r\n        }\r\n        this.connected_ = true;\r\n    };\r\n    /**\r\n     * Removes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.disconnect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already removed.\r\n        if (!isBrowser || !this.connected_) {\r\n            return;\r\n        }\r\n        document.removeEventListener('transitionend', this.onTransitionEnd_);\r\n        window.removeEventListener('resize', this.refresh);\r\n        if (this.mutationsObserver_) {\r\n            this.mutationsObserver_.disconnect();\r\n        }\r\n        if (this.mutationEventsAdded_) {\r\n            document.removeEventListener('DOMSubtreeModified', this.refresh);\r\n        }\r\n        this.mutationsObserver_ = null;\r\n        this.mutationEventsAdded_ = false;\r\n        this.connected_ = false;\r\n    };\r\n    /**\r\n     * \"Transitionend\" event handler.\r\n     *\r\n     * @private\r\n     * @param {TransitionEvent} event\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.onTransitionEnd_ = function (_a) {\r\n        var _b = _a.propertyName, propertyName = _b === void 0 ? '' : _b;\r\n        // Detect whether transition may affect dimensions of an element.\r\n        var isReflowProperty = transitionKeys.some(function (key) {\r\n            return !!~propertyName.indexOf(key);\r\n        });\r\n        if (isReflowProperty) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Returns instance of the ResizeObserverController.\r\n     *\r\n     * @returns {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.getInstance = function () {\r\n        if (!this.instance_) {\r\n            this.instance_ = new ResizeObserverController();\r\n        }\r\n        return this.instance_;\r\n    };\r\n    /**\r\n     * Holds reference to the controller's instance.\r\n     *\r\n     * @private {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.instance_ = null;\r\n    return ResizeObserverController;\r\n}());\n\n/**\r\n * Defines non-writable/enumerable properties of the provided target object.\r\n *\r\n * @param {Object} target - Object for which to define properties.\r\n * @param {Object} props - Properties to be defined.\r\n * @returns {Object} Target object.\r\n */\r\nvar defineConfigurable = (function (target, props) {\r\n    for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\r\n        var key = _a[_i];\r\n        Object.defineProperty(target, key, {\r\n            value: props[key],\r\n            enumerable: false,\r\n            writable: false,\r\n            configurable: true\r\n        });\r\n    }\r\n    return target;\r\n});\n\n/**\r\n * Returns the global object associated with provided element.\r\n *\r\n * @param {Object} target\r\n * @returns {Object}\r\n */\r\nvar getWindowOf = (function (target) {\r\n    // Assume that the element is an instance of Node, which means that it\r\n    // has the \"ownerDocument\" property from which we can retrieve a\r\n    // corresponding global object.\r\n    var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView;\r\n    // Return the local global object if it's not possible extract one from\r\n    // provided element.\r\n    return ownerGlobal || global$1;\r\n});\n\n// Placeholder of an empty content rectangle.\r\nvar emptyRect = createRectInit(0, 0, 0, 0);\r\n/**\r\n * Converts provided string to a number.\r\n *\r\n * @param {number|string} value\r\n * @returns {number}\r\n */\r\nfunction toFloat(value) {\r\n    return parseFloat(value) || 0;\r\n}\r\n/**\r\n * Extracts borders size from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @param {...string} positions - Borders positions (top, right, ...)\r\n * @returns {number}\r\n */\r\nfunction getBordersSize(styles) {\r\n    var positions = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        positions[_i - 1] = arguments[_i];\r\n    }\r\n    return positions.reduce(function (size, position) {\r\n        var value = styles['border-' + position + '-width'];\r\n        return size + toFloat(value);\r\n    }, 0);\r\n}\r\n/**\r\n * Extracts paddings sizes from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @returns {Object} Paddings box.\r\n */\r\nfunction getPaddings(styles) {\r\n    var positions = ['top', 'right', 'bottom', 'left'];\r\n    var paddings = {};\r\n    for (var _i = 0, positions_1 = positions; _i < positions_1.length; _i++) {\r\n        var position = positions_1[_i];\r\n        var value = styles['padding-' + position];\r\n        paddings[position] = toFloat(value);\r\n    }\r\n    return paddings;\r\n}\r\n/**\r\n * Calculates content rectangle of provided SVG element.\r\n *\r\n * @param {SVGGraphicsElement} target - Element content rectangle of which needs\r\n *      to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getSVGContentRect(target) {\r\n    var bbox = target.getBBox();\r\n    return createRectInit(0, 0, bbox.width, bbox.height);\r\n}\r\n/**\r\n * Calculates content rectangle of provided HTMLElement.\r\n *\r\n * @param {HTMLElement} target - Element for which to calculate the content rectangle.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getHTMLElementContentRect(target) {\r\n    // Client width & height properties can't be\r\n    // used exclusively as they provide rounded values.\r\n    var clientWidth = target.clientWidth, clientHeight = target.clientHeight;\r\n    // By this condition we can catch all non-replaced inline, hidden and\r\n    // detached elements. Though elements with width & height properties less\r\n    // than 0.5 will be discarded as well.\r\n    //\r\n    // Without it we would need to implement separate methods for each of\r\n    // those cases and it's not possible to perform a precise and performance\r\n    // effective test for hidden elements. E.g. even jQuery's ':visible' filter\r\n    // gives wrong results for elements with width & height less than 0.5.\r\n    if (!clientWidth && !clientHeight) {\r\n        return emptyRect;\r\n    }\r\n    var styles = getWindowOf(target).getComputedStyle(target);\r\n    var paddings = getPaddings(styles);\r\n    var horizPad = paddings.left + paddings.right;\r\n    var vertPad = paddings.top + paddings.bottom;\r\n    // Computed styles of width & height are being used because they are the\r\n    // only dimensions available to JS that contain non-rounded values. It could\r\n    // be possible to utilize the getBoundingClientRect if only it's data wasn't\r\n    // affected by CSS transformations let alone paddings, borders and scroll bars.\r\n    var width = toFloat(styles.width), height = toFloat(styles.height);\r\n    // Width & height include paddings and borders when the 'border-box' box\r\n    // model is applied (except for IE).\r\n    if (styles.boxSizing === 'border-box') {\r\n        // Following conditions are required to handle Internet Explorer which\r\n        // doesn't include paddings and borders to computed CSS dimensions.\r\n        //\r\n        // We can say that if CSS dimensions + paddings are equal to the \"client\"\r\n        // properties then it's either IE, and thus we don't need to subtract\r\n        // anything, or an element merely doesn't have paddings/borders styles.\r\n        if (Math.round(width + horizPad) !== clientWidth) {\r\n            width -= getBordersSize(styles, 'left', 'right') + horizPad;\r\n        }\r\n        if (Math.round(height + vertPad) !== clientHeight) {\r\n            height -= getBordersSize(styles, 'top', 'bottom') + vertPad;\r\n        }\r\n    }\r\n    // Following steps can't be applied to the document's root element as its\r\n    // client[Width/Height] properties represent viewport area of the window.\r\n    // Besides, it's as well not necessary as the <html> itself neither has\r\n    // rendered scroll bars nor it can be clipped.\r\n    if (!isDocumentElement(target)) {\r\n        // In some browsers (only in Firefox, actually) CSS width & height\r\n        // include scroll bars size which can be removed at this step as scroll\r\n        // bars are the only difference between rounded dimensions + paddings\r\n        // and \"client\" properties, though that is not always true in Chrome.\r\n        var vertScrollbar = Math.round(width + horizPad) - clientWidth;\r\n        var horizScrollbar = Math.round(height + vertPad) - clientHeight;\r\n        // Chrome has a rather weird rounding of \"client\" properties.\r\n        // E.g. for an element with content width of 314.2px it sometimes gives\r\n        // the client width of 315px and for the width of 314.7px it may give\r\n        // 314px. And it doesn't happen all the time. So just ignore this delta\r\n        // as a non-relevant.\r\n        if (Math.abs(vertScrollbar) !== 1) {\r\n            width -= vertScrollbar;\r\n        }\r\n        if (Math.abs(horizScrollbar) !== 1) {\r\n            height -= horizScrollbar;\r\n        }\r\n    }\r\n    return createRectInit(paddings.left, paddings.top, width, height);\r\n}\r\n/**\r\n * Checks whether provided element is an instance of the SVGGraphicsElement.\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nvar isSVGGraphicsElement = (function () {\r\n    // Some browsers, namely IE and Edge, don't have the SVGGraphicsElement\r\n    // interface.\r\n    if (typeof SVGGraphicsElement !== 'undefined') {\r\n        return function (target) { return target instanceof getWindowOf(target).SVGGraphicsElement; };\r\n    }\r\n    // If it's so, then check that element is at least an instance of the\r\n    // SVGElement and that it has the \"getBBox\" method.\r\n    // eslint-disable-next-line no-extra-parens\r\n    return function (target) { return (target instanceof getWindowOf(target).SVGElement &&\r\n        typeof target.getBBox === 'function'); };\r\n})();\r\n/**\r\n * Checks whether provided element is a document element (<html>).\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nfunction isDocumentElement(target) {\r\n    return target === getWindowOf(target).document.documentElement;\r\n}\r\n/**\r\n * Calculates an appropriate content rectangle for provided html or svg element.\r\n *\r\n * @param {Element} target - Element content rectangle of which needs to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getContentRect(target) {\r\n    if (!isBrowser) {\r\n        return emptyRect;\r\n    }\r\n    if (isSVGGraphicsElement(target)) {\r\n        return getSVGContentRect(target);\r\n    }\r\n    return getHTMLElementContentRect(target);\r\n}\r\n/**\r\n * Creates rectangle with an interface of the DOMRectReadOnly.\r\n * Spec: https://drafts.fxtf.org/geometry/#domrectreadonly\r\n *\r\n * @param {DOMRectInit} rectInit - Object with rectangle's x/y coordinates and dimensions.\r\n * @returns {DOMRectReadOnly}\r\n */\r\nfunction createReadOnlyRect(_a) {\r\n    var x = _a.x, y = _a.y, width = _a.width, height = _a.height;\r\n    // If DOMRectReadOnly is available use it as a prototype for the rectangle.\r\n    var Constr = typeof DOMRectReadOnly !== 'undefined' ? DOMRectReadOnly : Object;\r\n    var rect = Object.create(Constr.prototype);\r\n    // Rectangle's properties are not writable and non-enumerable.\r\n    defineConfigurable(rect, {\r\n        x: x, y: y, width: width, height: height,\r\n        top: y,\r\n        right: x + width,\r\n        bottom: height + y,\r\n        left: x\r\n    });\r\n    return rect;\r\n}\r\n/**\r\n * Creates DOMRectInit object based on the provided dimensions and the x/y coordinates.\r\n * Spec: https://drafts.fxtf.org/geometry/#dictdef-domrectinit\r\n *\r\n * @param {number} x - X coordinate.\r\n * @param {number} y - Y coordinate.\r\n * @param {number} width - Rectangle's width.\r\n * @param {number} height - Rectangle's height.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction createRectInit(x, y, width, height) {\r\n    return { x: x, y: y, width: width, height: height };\r\n}\n\n/**\r\n * Class that is responsible for computations of the content rectangle of\r\n * provided DOM element and for keeping track of it's changes.\r\n */\r\nvar ResizeObservation = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObservation.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     */\r\n    function ResizeObservation(target) {\r\n        /**\r\n         * Broadcasted width of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastWidth = 0;\r\n        /**\r\n         * Broadcasted height of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastHeight = 0;\r\n        /**\r\n         * Reference to the last observed content rectangle.\r\n         *\r\n         * @private {DOMRectInit}\r\n         */\r\n        this.contentRect_ = createRectInit(0, 0, 0, 0);\r\n        this.target = target;\r\n    }\r\n    /**\r\n     * Updates content rectangle and tells whether it's width or height properties\r\n     * have changed since the last broadcast.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObservation.prototype.isActive = function () {\r\n        var rect = getContentRect(this.target);\r\n        this.contentRect_ = rect;\r\n        return (rect.width !== this.broadcastWidth ||\r\n            rect.height !== this.broadcastHeight);\r\n    };\r\n    /**\r\n     * Updates 'broadcastWidth' and 'broadcastHeight' properties with a data\r\n     * from the corresponding properties of the last observed content rectangle.\r\n     *\r\n     * @returns {DOMRectInit} Last observed content rectangle.\r\n     */\r\n    ResizeObservation.prototype.broadcastRect = function () {\r\n        var rect = this.contentRect_;\r\n        this.broadcastWidth = rect.width;\r\n        this.broadcastHeight = rect.height;\r\n        return rect;\r\n    };\r\n    return ResizeObservation;\r\n}());\n\nvar ResizeObserverEntry = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObserverEntry.\r\n     *\r\n     * @param {Element} target - Element that is being observed.\r\n     * @param {DOMRectInit} rectInit - Data of the element's content rectangle.\r\n     */\r\n    function ResizeObserverEntry(target, rectInit) {\r\n        var contentRect = createReadOnlyRect(rectInit);\r\n        // According to the specification following properties are not writable\r\n        // and are also not enumerable in the native implementation.\r\n        //\r\n        // Property accessors are not being used as they'd require to define a\r\n        // private WeakMap storage which may cause memory leaks in browsers that\r\n        // don't support this type of collections.\r\n        defineConfigurable(this, { target: target, contentRect: contentRect });\r\n    }\r\n    return ResizeObserverEntry;\r\n}());\n\nvar ResizeObserverSPI = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback function that is invoked\r\n     *      when one of the observed elements changes it's content dimensions.\r\n     * @param {ResizeObserverController} controller - Controller instance which\r\n     *      is responsible for the updates of observer.\r\n     * @param {ResizeObserver} callbackCtx - Reference to the public\r\n     *      ResizeObserver instance which will be passed to callback function.\r\n     */\r\n    function ResizeObserverSPI(callback, controller, callbackCtx) {\r\n        /**\r\n         * Collection of resize observations that have detected changes in dimensions\r\n         * of elements.\r\n         *\r\n         * @private {Array<ResizeObservation>}\r\n         */\r\n        this.activeObservations_ = [];\r\n        /**\r\n         * Registry of the ResizeObservation instances.\r\n         *\r\n         * @private {Map<Element, ResizeObservation>}\r\n         */\r\n        this.observations_ = new MapShim();\r\n        if (typeof callback !== 'function') {\r\n            throw new TypeError('The callback provided as parameter 1 is not a function.');\r\n        }\r\n        this.callback_ = callback;\r\n        this.controller_ = controller;\r\n        this.callbackCtx_ = callbackCtx;\r\n    }\r\n    /**\r\n     * Starts observing provided element.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.observe = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is already being observed.\r\n        if (observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.set(target, new ResizeObservation(target));\r\n        this.controller_.addObserver(this);\r\n        // Force the update of observations.\r\n        this.controller_.refresh();\r\n    };\r\n    /**\r\n     * Stops observing provided element.\r\n     *\r\n     * @param {Element} target - Element to stop observing.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.unobserve = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is not being observed.\r\n        if (!observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.delete(target);\r\n        if (!observations.size) {\r\n            this.controller_.removeObserver(this);\r\n        }\r\n    };\r\n    /**\r\n     * Stops observing all elements.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.disconnect = function () {\r\n        this.clearActive();\r\n        this.observations_.clear();\r\n        this.controller_.removeObserver(this);\r\n    };\r\n    /**\r\n     * Collects observation instances the associated element of which has changed\r\n     * it's content rectangle.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.gatherActive = function () {\r\n        var _this = this;\r\n        this.clearActive();\r\n        this.observations_.forEach(function (observation) {\r\n            if (observation.isActive()) {\r\n                _this.activeObservations_.push(observation);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Invokes initial callback function with a list of ResizeObserverEntry\r\n     * instances collected from active resize observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.broadcastActive = function () {\r\n        // Do nothing if observer doesn't have active observations.\r\n        if (!this.hasActive()) {\r\n            return;\r\n        }\r\n        var ctx = this.callbackCtx_;\r\n        // Create ResizeObserverEntry instance for every active observation.\r\n        var entries = this.activeObservations_.map(function (observation) {\r\n            return new ResizeObserverEntry(observation.target, observation.broadcastRect());\r\n        });\r\n        this.callback_.call(ctx, entries, ctx);\r\n        this.clearActive();\r\n    };\r\n    /**\r\n     * Clears the collection of active observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.clearActive = function () {\r\n        this.activeObservations_.splice(0);\r\n    };\r\n    /**\r\n     * Tells whether observer has active observations.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObserverSPI.prototype.hasActive = function () {\r\n        return this.activeObservations_.length > 0;\r\n    };\r\n    return ResizeObserverSPI;\r\n}());\n\n// Registry of internal observers. If WeakMap is not available use current shim\r\n// for the Map collection as it has all required methods and because WeakMap\r\n// can't be fully polyfilled anyway.\r\nvar observers = typeof WeakMap !== 'undefined' ? new WeakMap() : new MapShim();\r\n/**\r\n * ResizeObserver API. Encapsulates the ResizeObserver SPI implementation\r\n * exposing only those methods and properties that are defined in the spec.\r\n */\r\nvar ResizeObserver = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback that is invoked when\r\n     *      dimensions of the observed elements change.\r\n     */\r\n    function ResizeObserver(callback) {\r\n        if (!(this instanceof ResizeObserver)) {\r\n            throw new TypeError('Cannot call a class as a function.');\r\n        }\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        var controller = ResizeObserverController.getInstance();\r\n        var observer = new ResizeObserverSPI(callback, controller, this);\r\n        observers.set(this, observer);\r\n    }\r\n    return ResizeObserver;\r\n}());\r\n// Expose public methods of ResizeObserver.\r\n[\r\n    'observe',\r\n    'unobserve',\r\n    'disconnect'\r\n].forEach(function (method) {\r\n    ResizeObserver.prototype[method] = function () {\r\n        var _a;\r\n        return (_a = observers.get(this))[method].apply(_a, arguments);\r\n    };\r\n});\n\nvar index = (function () {\r\n    // Export existing implementation if available.\r\n    if (typeof global$1.ResizeObserver !== 'undefined') {\r\n        return global$1.ResizeObserver;\r\n    }\r\n    return ResizeObserver;\r\n})();\n\nvar rafSchd = function rafSchd(fn) {\n  var lastArgs = [];\n  var frameId = null;\n\n  var wrapperFn = function wrapperFn() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    lastArgs = args;\n\n    if (frameId) {\n      return;\n    }\n\n    frameId = requestAnimationFrame(function () {\n      frameId = null;\n      fn.apply(void 0, lastArgs);\n    });\n  };\n\n  wrapperFn.cancel = function () {\n    if (!frameId) {\n      return;\n    }\n\n    cancelAnimationFrame(frameId);\n    frameId = null;\n  };\n\n  return wrapperFn;\n};\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return _root.Date.now();\n};\n\nvar now_1 = now;\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT$1 = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax$2 = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce$1(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT$1);\n  }\n  wait = toNumber_1(wait) || 0;\n  if (isObject_1(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax$2(toNumber_1(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now_1();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now_1());\n  }\n\n  function debounced() {\n    var time = now_1(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nvar debounce_1$1 = debounce$1;\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT$2 = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle$1(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT$2);\n  }\n  if (isObject_1(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce_1$1(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\nvar throttle_1 = throttle$1;\n\nvar utils = createCommonjsModule(function (module, exports) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isDOMElement = exports.isSSR = exports.isFunction = exports.getHandle = exports.listHandle = void 0;\n\nvar _debounce = _interopRequireDefault(debounce_1$1);\n\nvar _throttle = _interopRequireDefault(throttle_1);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar listHandle = {\n  debounce: _debounce[\"default\"],\n  throttle: _throttle[\"default\"]\n};\nexports.listHandle = listHandle;\n\nvar getHandle = function getHandle(type) {\n  return listHandle[type];\n};\n\nexports.getHandle = getHandle;\n\nvar isFunction = function isFunction(fn) {\n  return typeof fn === 'function';\n};\n\nexports.isFunction = isFunction;\n\nvar isSSR = function isSSR() {\n  return typeof window === 'undefined';\n};\n\nexports.isSSR = isSSR;\n\nvar isDOMElement = function isDOMElement(element) {\n  return element instanceof Element || element instanceof HTMLDocument;\n};\n\nexports.isDOMElement = isDOMElement;\n});\n\nunwrapExports(utils);\nvar utils_1 = utils.isDOMElement;\nvar utils_2 = utils.isSSR;\nvar utils_3 = utils.isFunction;\nvar utils_4 = utils.getHandle;\nvar utils_5 = utils.listHandle;\n\nvar ChildWrapper_1 = createCommonjsModule(function (module, exports) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\n\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar ChildWrapper = /*#__PURE__*/function (_PureComponent) {\n  _inherits(ChildWrapper, _PureComponent);\n\n  var _super = _createSuper(ChildWrapper);\n\n  function ChildWrapper() {\n    _classCallCheck(this, ChildWrapper);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(ChildWrapper, [{\n    key: \"render\",\n    value: function render() {\n      // eslint-disable-next-line react/prop-types\n      return this.props.children;\n    }\n  }]);\n\n  return ChildWrapper;\n}(React$g__default.PureComponent);\n\nvar _default = ChildWrapper;\nexports[\"default\"] = _default;\n});\n\nunwrapExports(ChildWrapper_1);\n\nvar ResizeDetector_1 = createCommonjsModule(function (module, exports) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireWildcard(React$g__default);\n\n\n\nvar _resizeObserverPolyfill = _interopRequireDefault(index);\n\nvar _rafSchd = _interopRequireDefault(rafSchd);\n\n\n\n\n\nvar _ChildWrapper = _interopRequireDefault(ChildWrapper_1);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar ResizeDetector = /*#__PURE__*/function (_PureComponent) {\n  _inherits(ResizeDetector, _PureComponent);\n\n  var _super = _createSuper(ResizeDetector);\n\n  function ResizeDetector(props) {\n    var _this;\n\n    _classCallCheck(this, ResizeDetector);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"cancelHandler\", function () {\n      if (_this.resizeHandler && _this.resizeHandler.cancel) {\n        // cancel debounced handler\n        _this.resizeHandler.cancel();\n\n        _this.resizeHandler = null;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"rafClean\", function () {\n      if (_this.raf && _this.raf.cancel) {\n        _this.raf.cancel();\n\n        _this.raf = null;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"toggleObserver\", function (type) {\n      var element = _this.getElement();\n\n      if (!element || !_this.resizeObserver[type]) return;\n\n      _this.resizeObserver[type](element);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getElement\", function () {\n      var _this$props = _this.props,\n          querySelector = _this$props.querySelector,\n          targetDomEl = _this$props.targetDomEl;\n      if ((0, utils.isSSR)()) return undefined;\n      if (querySelector) return document.querySelector(querySelector);\n      if (targetDomEl && (0, utils.isDOMElement)(targetDomEl)) return targetDomEl; // eslint-disable-next-line react/no-find-dom-node\n\n      var currentElement = _this.element && (0, reactDom.findDOMNode)(_this.element);\n      if (!currentElement) return undefined;\n      return currentElement.parentElement;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"createUpdater\", function () {\n      _this.rafClean();\n\n      _this.raf = (0, _rafSchd[\"default\"])(function (_ref) {\n        var width = _ref.width,\n            height = _ref.height;\n        var onResize = _this.props.onResize;\n\n        if ((0, utils.isFunction)(onResize)) {\n          onResize(width, height);\n        }\n\n        _this.setState({\n          width: width,\n          height: height\n        });\n      });\n      return _this.raf;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"createResizeHandler\", function (entries) {\n      var _this$state = _this.state,\n          widthCurrent = _this$state.width,\n          heightCurrent = _this$state.height;\n      var _this$props2 = _this.props,\n          handleWidth = _this$props2.handleWidth,\n          handleHeight = _this$props2.handleHeight;\n      if (!handleWidth && !handleHeight) return;\n\n      var updater = _this.createUpdater();\n\n      entries.forEach(function (entry) {\n        var _ref2 = entry && entry.contentRect || {},\n            width = _ref2.width,\n            height = _ref2.height;\n\n        var isWidthChanged = handleWidth && widthCurrent !== width;\n        var isHeightChanged = handleHeight && heightCurrent !== height;\n        var isSizeChanged = isWidthChanged || isHeightChanged;\n        var shouldSetSize = !_this.skipOnMount && isSizeChanged && !(0, utils.isSSR)();\n\n        if (shouldSetSize) {\n          updater({\n            width: width,\n            height: height\n          });\n        }\n\n        _this.skipOnMount = false;\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onRef\", function (el) {\n      _this.element = el;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getRenderType\", function () {\n      var _this$props3 = _this.props,\n          render = _this$props3.render,\n          children = _this$props3.children;\n\n      if ((0, utils.isFunction)(render)) {\n        return 'renderProp';\n      }\n\n      if ((0, utils.isFunction)(children)) {\n        return 'childFunction';\n      }\n\n      if ((0, _react.isValidElement)(children)) {\n        return 'child';\n      }\n\n      if (Array.isArray(children)) {\n        return 'childArray';\n      }\n\n      return 'parent';\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getTargetComponent\", function () {\n      var _this$props4 = _this.props,\n          render = _this$props4.render,\n          children = _this$props4.children,\n          nodeType = _this$props4.nodeType;\n      var _this$state2 = _this.state,\n          width = _this$state2.width,\n          height = _this$state2.height;\n      var childProps = {\n        width: width,\n        height: height\n      };\n\n      var renderType = _this.getRenderType();\n\n      switch (renderType) {\n        case 'renderProp':\n          return (0, _react.cloneElement)(render(childProps), {\n            key: 'resize-detector'\n          });\n\n        case 'childFunction':\n          return (0, _react.cloneElement)(children(childProps));\n\n        case 'child':\n          return (0, _react.cloneElement)(children, childProps);\n\n        case 'childArray':\n          return children.map(function (el) {\n            return !!el && (0, _react.cloneElement)(el, childProps);\n          });\n\n        default:\n          return (0, _react.createElement)(nodeType);\n      }\n    });\n\n    var skipOnMount = props.skipOnMount,\n        refreshMode = props.refreshMode,\n        refreshRate = props.refreshRate,\n        refreshOptions = props.refreshOptions;\n    _this.state = {\n      width: undefined,\n      height: undefined\n    };\n    _this.skipOnMount = skipOnMount;\n    _this.raf = null;\n    _this.element = null;\n    _this.unmounted = false;\n    var handle = (0, utils.getHandle)(refreshMode);\n    _this.resizeHandler = handle ? handle(_this.createResizeHandler, refreshRate, refreshOptions) : _this.createResizeHandler;\n    _this.resizeObserver = new _resizeObserverPolyfill[\"default\"](_this.resizeHandler);\n    return _this;\n  }\n\n  _createClass(ResizeDetector, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.toggleObserver('observe');\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.toggleObserver('unobserve');\n      this.rafClean();\n      this.cancelHandler();\n      this.unmounted = true;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/_react[\"default\"].createElement(_ChildWrapper[\"default\"], {\n        ref: this.onRef\n      }, this.getTargetComponent());\n    }\n  }]);\n\n  return ResizeDetector;\n}(_react.PureComponent);\n\nResizeDetector.propTypes = {\n  handleWidth: propTypes.bool,\n  handleHeight: propTypes.bool,\n  skipOnMount: propTypes.bool,\n  refreshRate: propTypes.number,\n  refreshMode: propTypes.string,\n  refreshOptions: (0, propTypes.shape)({\n    leading: propTypes.bool,\n    trailing: propTypes.bool\n  }),\n  querySelector: propTypes.string,\n  targetDomEl: propTypes.any,\n  // eslint-disable-line react/forbid-prop-types\n  onResize: propTypes.func,\n  render: propTypes.func,\n  children: propTypes.any,\n  // eslint-disable-line react/forbid-prop-types\n  nodeType: propTypes.node\n};\nResizeDetector.defaultProps = {\n  handleWidth: false,\n  handleHeight: false,\n  skipOnMount: false,\n  refreshRate: 1000,\n  refreshMode: undefined,\n  refreshOptions: undefined,\n  querySelector: null,\n  targetDomEl: null,\n  onResize: null,\n  render: undefined,\n  children: null,\n  nodeType: 'div'\n};\nvar _default = ResizeDetector;\nexports[\"default\"] = _default;\n});\n\nunwrapExports(ResizeDetector_1);\n\nvar withResizeDetector_1 = createCommonjsModule(function (module, exports) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireWildcard(React$g__default);\n\nvar _ResizeDetector = _interopRequireDefault(ResizeDetector_1);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar withResizeDetector = function withResizeDetector(WrappedComponent) {\n  var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    handleWidth: true,\n    handleHeight: true\n  };\n  return (\n    /*#__PURE__*/\n    // eslint-disable-next-line\n    function (_Component) {\n      _inherits(ResizeDetectorHOC, _Component);\n\n      var _super = _createSuper(ResizeDetectorHOC);\n\n      function ResizeDetectorHOC() {\n        _classCallCheck(this, ResizeDetectorHOC);\n\n        return _super.apply(this, arguments);\n      }\n\n      _createClass(ResizeDetectorHOC, [{\n        key: \"render\",\n        value: function render() {\n          return /*#__PURE__*/_react[\"default\"].createElement(_ResizeDetector[\"default\"], props, /*#__PURE__*/_react[\"default\"].createElement(WrappedComponent, this.props));\n        }\n      }]);\n\n      return ResizeDetectorHOC;\n    }(_react.Component)\n  );\n};\n\nvar _default = withResizeDetector;\nexports[\"default\"] = _default;\n});\n\nunwrapExports(withResizeDetector_1);\n\nvar lib$6 = createCommonjsModule(function (module, exports) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"withResizeDetector\", {\n  enumerable: true,\n  get: function get() {\n    return _withResizeDetector[\"default\"];\n  }\n});\nexports[\"default\"] = void 0;\n\nvar _ResizeDetector = _interopRequireDefault(ResizeDetector_1);\n\nvar _withResizeDetector = _interopRequireDefault(withResizeDetector_1);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar _default = _ResizeDetector[\"default\"];\nexports[\"default\"] = _default;\n});\n\nvar ReactResizeDetector = unwrapExports(lib$6);\nvar lib_1$4 = lib$6.withResizeDetector;\n\nfunction elementFromPoint(x, y, className) {\r\n    return document.elementsFromPoint(x, y).find(function (elem) { return elem.classList.contains(className); });\r\n}\r\n// Edge uses a non-standard name; also returns NodeList instead of array\r\nfunction elementFromPointMs(x, y, className) {\r\n    return Array.from(document.msElementsFromPoint(x, y)).find(function (elem) {\r\n        return elem.classList.contains(className);\r\n    });\r\n}\r\n// fallback for older browsers which don't support `document.elementsFromPoint` (note the plural)\r\nfunction elementFromPointFallback(x, y, className, stopElem) {\r\n    var els = [];\r\n    var elem;\r\n    // eslint-disable-next-line no-cond-assign\r\n    while ((elem = document.elementFromPoint(x, y)) && elem !== null) {\r\n        // if we found a field rect or if we've made it back to our container node, stop looping\r\n        if (elem.classList.contains(className)) {\r\n            break;\r\n        }\r\n        if (elem === stopElem) {\r\n            elem = null;\r\n            break;\r\n        }\r\n        // else, set current elem to ignore pointer events and check next layer\r\n        els.push(elem);\r\n        elem.style.pointerEvents = 'none';\r\n    }\r\n    // reset pointer events\r\n    els.forEach(function (el) { return (el.style.pointerEvents = 'none'); });\r\n    return elem;\r\n}\r\n// @ts-expect-error function is not always defined\r\nvar exportFn = document.elementsFromPoint\r\n    ? elementFromPoint\r\n    : // @ts-expect-error function is not always defined\r\n        document.msElementsFromPoint\r\n            ? elementFromPointMs\r\n            : elementFromPointFallback;\n\n/**\r\n * A section of a CI (HTML) document. Rendered as a row within a virtual\r\n * \"infinite\" list.\r\n */\r\nvar baseClassName$1 = settings.prefix + \"--ci-doc-section\";\r\nvar Section = function (_a) {\r\n    var section = _a.section, onFieldClick = _a.onFieldClick;\r\n    var html = section.html;\r\n    var _b = useState(null), hoveredField = _b[0], setHoveredField = _b[1];\r\n    var sectionNode = useRef(null);\r\n    var contentNode = useRef(null);\r\n    var fieldsNode = useRef(null);\r\n    var createSectionFields = function () {\r\n        try {\r\n            renderSectionFields(section, sectionNode.current, contentNode.current, fieldsNode.current);\r\n        }\r\n        catch (err) {\r\n            // eslint-disable-next-line no-console\r\n            console.error('Failed to create section fields:', err);\r\n        }\r\n    };\r\n    useEffect(function () {\r\n        createSectionFields();\r\n        // Run every time this section changes\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [section]);\r\n    var resizeFn = debounce_1(createSectionFields, 100);\r\n    return (\r\n    // TODO Need to think about how to properly handle keyboard events within\r\n    // a section, where there may be multiple selectable \"elements\" that need\r\n    // to be handled individually.\r\n    // eslint-disable-next-line jsx-a11y/click-events-have-key-events, jsx-a11y/no-static-element-interactions\r\n    React$g__default.createElement(\"div\", { className: classnames(\"\" + baseClassName$1, { hasTable: hasTable(html) }), ref: sectionNode, onMouseMove: mouseMoveListener(hoveredField, setHoveredField), onMouseLeave: mouseLeaveListener(hoveredField, setHoveredField), onClick: mouseClickListener(onFieldClick) },\r\n        React$g__default.createElement(\"div\", { className: \"fields\", ref: fieldsNode }),\r\n        React$g__default.createElement(\"div\", { className: \"content htmlReset htmlOverride\", ref: contentNode, dangerouslySetInnerHTML: { __html: html } }),\r\n        React$g__default.createElement(ReactResizeDetector, { handleWidth: true, handleHeight: true, onResize: resizeFn })));\r\n};\r\nfunction mouseMoveListener(hoveredField, setHoveredField) {\r\n    return function _mouseMoveListener(event) {\r\n        var fieldRect = exportFn(event.clientX, event.clientY, 'field--rect', event.currentTarget);\r\n        if (!fieldRect) {\r\n            if (hoveredField) {\r\n                hoveredField.classList.remove('hover');\r\n                setHoveredField(null);\r\n                document.body.style.cursor = 'initial';\r\n            }\r\n            return;\r\n        }\r\n        var fieldNode = fieldRect.closest('.field');\r\n        if (hoveredField !== fieldNode) {\r\n            if (hoveredField) {\r\n                hoveredField.classList.remove('hover');\r\n            }\r\n            setHoveredField(fieldNode);\r\n            if (fieldNode) {\r\n                fieldNode.classList.add('hover');\r\n            }\r\n            document.body.style.cursor = 'pointer';\r\n        }\r\n    };\r\n}\r\nfunction mouseLeaveListener(hoveredField, setHoveredField) {\r\n    return function _mouseLeaveListener() {\r\n        if (hoveredField) {\r\n            hoveredField.classList.remove('hover');\r\n            setHoveredField(null);\r\n            document.body.style.cursor = 'initial';\r\n        }\r\n    };\r\n}\r\nfunction mouseClickListener(onFieldClick) {\r\n    if (onFieldClick) {\r\n        return function _mouseClickListener(event) {\r\n            var fieldRect = exportFn(event.clientX, event.clientY, 'field--rect', event.currentTarget);\r\n            if (fieldRect) {\r\n                var fieldNode = fieldRect.closest('.field');\r\n                if (fieldNode) {\r\n                    onFieldClick({\r\n                        type: fieldNode.dataset.fieldType,\r\n                        id: fieldNode.dataset.fieldId\r\n                    });\r\n                }\r\n            }\r\n        };\r\n    }\r\n    return;\r\n}\r\nfunction renderSectionFields(section, sectionNode, contentNode, fieldsNode) {\r\n    if (!sectionNode || !contentNode || !fieldsNode) {\r\n        return;\r\n    }\r\n    // Clear out any existing field nodes (from previous creations)\r\n    clearNodeChildren(fieldsNode);\r\n    if (!section.enrichments) {\r\n        return;\r\n    }\r\n    // Keep track of the last begin index and sort the enrichments array by begin\r\n    // This brings the function down from O(m * n) to O(m + n)\r\n    section.enrichments.sort(function (a, b) {\r\n        // Sort based on begin, and then by end (if begins are equal)\r\n        return a.location.begin !== b.location.begin\r\n            ? a.location.begin - b.location.begin\r\n            : a.location.end - b.location.end;\r\n    });\r\n    var sectionRect = sectionNode.getBoundingClientRect();\r\n    // Store all changes in fragment then add them at the end (to prevent unnecessary reflow)\r\n    var fragment = document.createDocumentFragment();\r\n    for (var _i = 0, _a = section.enrichments; _i < _a.length; _i++) {\r\n        var field = _a[_i];\r\n        var fieldType = field.__type;\r\n        var _b = field.location, begin = _b.begin, end = _b.end;\r\n        var offsets = findOffsetInDOM(contentNode, begin, end);\r\n        createFieldRects(__assign({ fragment: fragment, parentRect: sectionRect, fieldType: fieldType, fieldId: getId(field) }, offsets));\r\n    }\r\n    fieldsNode.appendChild(fragment);\r\n}\r\nfunction hasTable(html) {\r\n    return html.toLowerCase().includes('<table');\r\n}\n\nvar _global = createCommonjsModule(function (module) {\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n});\n\nvar _core = createCommonjsModule(function (module) {\nvar core = module.exports = { version: '2.6.12' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n});\nvar _core_1 = _core.version;\n\nvar _aFunction = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n\n// optional / simple context binding\n\nvar _ctx = function (fn, that, length) {\n  _aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n\nvar _isObject = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n\nvar _anObject = function (it) {\n  if (!_isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n\nvar _fails = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n\n// Thank's IE8 for his funny defineProperty\nvar _descriptors = !_fails(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n\nvar document$1 = _global.document;\n// typeof document.createElement is 'object' in old IE\nvar is = _isObject(document$1) && _isObject(document$1.createElement);\nvar _domCreate = function (it) {\n  return is ? document$1.createElement(it) : {};\n};\n\nvar _ie8DomDefine = !_descriptors && !_fails(function () {\n  return Object.defineProperty(_domCreate('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n\n// 7.1.1 ToPrimitive(input [, PreferredType])\n\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nvar _toPrimitive = function (it, S) {\n  if (!_isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !_isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !_isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !_isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n\nvar dP = Object.defineProperty;\n\nvar f$1 = _descriptors ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  _anObject(O);\n  P = _toPrimitive(P, true);\n  _anObject(Attributes);\n  if (_ie8DomDefine) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n\nvar _objectDp = {\n\tf: f$1\n};\n\nvar _propertyDesc = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n\nvar _hide = _descriptors ? function (object, key, value) {\n  return _objectDp.f(object, key, _propertyDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n\nvar hasOwnProperty$d = {}.hasOwnProperty;\nvar _has = function (it, key) {\n  return hasOwnProperty$d.call(it, key);\n};\n\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var IS_WRAP = type & $export.W;\n  var exports = IS_GLOBAL ? _core : _core[name] || (_core[name] = {});\n  var expProto = exports[PROTOTYPE];\n  var target = IS_GLOBAL ? _global : IS_STATIC ? _global[name] : (_global[name] || {})[PROTOTYPE];\n  var key, own, out;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if (own && _has(exports, key)) continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? _ctx(out, _global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function (C) {\n      var F = function (a, b, c) {\n        if (this instanceof C) {\n          switch (arguments.length) {\n            case 0: return new C();\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? _ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if (IS_PROTO) {\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if (type & $export.R && expProto && !expProto[key]) _hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nvar _export = $export;\n\nvar toString$2 = {}.toString;\n\nvar _cof = function (it) {\n  return toString$2.call(it).slice(8, -1);\n};\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\n\n// eslint-disable-next-line no-prototype-builtins\nvar _iobject = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return _cof(it) == 'String' ? it.split('') : Object(it);\n};\n\n// 7.2.1 RequireObjectCoercible(argument)\nvar _defined = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n\n// to indexed object, toObject with fallback for non-array-like ES3 strings\n\n\nvar _toIobject = function (it) {\n  return _iobject(_defined(it));\n};\n\n// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nvar _toInteger = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n\n// 7.1.15 ToLength\n\nvar min = Math.min;\nvar _toLength = function (it) {\n  return it > 0 ? min(_toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n\nvar max = Math.max;\nvar min$1 = Math.min;\nvar _toAbsoluteIndex = function (index, length) {\n  index = _toInteger(index);\n  return index < 0 ? max(index + length, 0) : min$1(index, length);\n};\n\n// false -> Array#indexOf\n// true  -> Array#includes\n\n\n\nvar _arrayIncludes$1 = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = _toIobject($this);\n    var length = _toLength(O.length);\n    var index = _toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nvar _library = true;\n\nvar _shared = createCommonjsModule(function (module) {\nvar SHARED = '__core-js_shared__';\nvar store = _global[SHARED] || (_global[SHARED] = {});\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: _core.version,\n  mode:  'pure' ,\n  copyright: '© 2020 Denis Pushkarev (zloirock.ru)'\n});\n});\n\nvar id = 0;\nvar px = Math.random();\nvar _uid = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n\nvar shared = _shared('keys');\n\nvar _sharedKey = function (key) {\n  return shared[key] || (shared[key] = _uid(key));\n};\n\nvar arrayIndexOf = _arrayIncludes$1(false);\nvar IE_PROTO = _sharedKey('IE_PROTO');\n\nvar _objectKeysInternal = function (object, names) {\n  var O = _toIobject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) _has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (_has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n\n// IE 8- don't enum bug keys\nvar _enumBugKeys = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n\n// 19.1.2.14 / 15.2.3.14 Object.keys(O)\n\n\n\nvar _objectKeys = Object.keys || function keys(O) {\n  return _objectKeysInternal(O, _enumBugKeys);\n};\n\nvar f$2 = Object.getOwnPropertySymbols;\n\nvar _objectGops = {\n\tf: f$2\n};\n\nvar f$3 = {}.propertyIsEnumerable;\n\nvar _objectPie = {\n\tf: f$3\n};\n\n// 7.1.13 ToObject(argument)\n\nvar _toObject = function (it) {\n  return Object(_defined(it));\n};\n\n// 19.1.2.1 Object.assign(target, source, ...)\n\n\n\n\n\n\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nvar _objectAssign = !$assign || _fails(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = _toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = _objectGops.f;\n  var isEnum = _objectPie.f;\n  while (aLen > index) {\n    var S = _iobject(arguments[index++]);\n    var keys = getSymbols ? _objectKeys(S).concat(getSymbols(S)) : _objectKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!_descriptors || isEnum.call(S, key)) T[key] = S[key];\n    }\n  } return T;\n} : $assign;\n\n// 19.1.3.1 Object.assign(target, source)\n\n\n_export(_export.S + _export.F, 'Object', { assign: _objectAssign });\n\nvar assign = _core.Object.assign;\n\nvar assign$1 = createCommonjsModule(function (module) {\nmodule.exports = { \"default\": assign, __esModule: true };\n});\n\nvar _Object$assign = unwrapExports(assign$1);\n\nvar _extends$5 = createCommonjsModule(function (module, exports) {\n\nexports.__esModule = true;\n\n\n\nvar _assign2 = _interopRequireDefault(assign$1);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _assign2.default || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n});\n\nvar _extends$6 = unwrapExports(_extends$5);\n\n// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\n\n\nvar IE_PROTO$1 = _sharedKey('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nvar _objectGpo = Object.getPrototypeOf || function (O) {\n  O = _toObject(O);\n  if (_has(O, IE_PROTO$1)) return O[IE_PROTO$1];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n\n// most Object methods by ES6 should accept primitives\n\n\n\nvar _objectSap = function (KEY, exec) {\n  var fn = (_core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  _export(_export.S + _export.F * _fails(function () { fn(1); }), 'Object', exp);\n};\n\n// 19.1.2.9 Object.getPrototypeOf(O)\n\n\n\n_objectSap('getPrototypeOf', function () {\n  return function getPrototypeOf(it) {\n    return _objectGpo(_toObject(it));\n  };\n});\n\nvar getPrototypeOf = _core.Object.getPrototypeOf;\n\nvar getPrototypeOf$1 = createCommonjsModule(function (module) {\nmodule.exports = { \"default\": getPrototypeOf, __esModule: true };\n});\n\nvar _Object$getPrototypeOf = unwrapExports(getPrototypeOf$1);\n\nvar classCallCheck = createCommonjsModule(function (module, exports) {\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n});\n\nvar _classCallCheck = unwrapExports(classCallCheck);\n\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n_export(_export.S + _export.F * !_descriptors, 'Object', { defineProperty: _objectDp.f });\n\nvar $Object = _core.Object;\nvar defineProperty$1 = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n\nvar defineProperty$2 = createCommonjsModule(function (module) {\nmodule.exports = { \"default\": defineProperty$1, __esModule: true };\n});\n\nunwrapExports(defineProperty$2);\n\nvar createClass = createCommonjsModule(function (module, exports) {\n\nexports.__esModule = true;\n\n\n\nvar _defineProperty2 = _interopRequireDefault(defineProperty$2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n});\n\nvar _createClass = unwrapExports(createClass);\n\n// true  -> String#at\n// false -> String#codePointAt\nvar _stringAt = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(_defined(that));\n    var i = _toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n\nvar _redefine = _hide;\n\nvar _iterators = {};\n\nvar _objectDps = _descriptors ? Object.defineProperties : function defineProperties(O, Properties) {\n  _anObject(O);\n  var keys = _objectKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) _objectDp.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n\nvar document$2 = _global.document;\nvar _html = document$2 && document$2.documentElement;\n\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n\n\n\nvar IE_PROTO$2 = _sharedKey('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE$1 = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = _domCreate('iframe');\n  var i = _enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  _html.appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE$1][_enumBugKeys[i]];\n  return createDict();\n};\n\nvar _objectCreate = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE$1] = _anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE$1] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO$2] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : _objectDps(result, Properties);\n};\n\nvar _wks = createCommonjsModule(function (module) {\nvar store = _shared('wks');\n\nvar Symbol = _global.Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : _uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n});\n\nvar def = _objectDp.f;\n\nvar TAG = _wks('toStringTag');\n\nvar _setToStringTag = function (it, tag, stat) {\n  if (it && !_has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\n_hide(IteratorPrototype, _wks('iterator'), function () { return this; });\n\nvar _iterCreate = function (Constructor, NAME, next) {\n  Constructor.prototype = _objectCreate(IteratorPrototype, { next: _propertyDesc(1, next) });\n  _setToStringTag(Constructor, NAME + ' Iterator');\n};\n\nvar ITERATOR = _wks('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nvar _iterDefine = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  _iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = _objectGpo($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      _setToStringTag(IteratorPrototype, TAG, true);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if (( FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    _hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  _iterators[NAME] = $default;\n  _iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) _redefine(proto, key, methods[key]);\n    } else _export(_export.P + _export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n\nvar $at = _stringAt(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\n_iterDefine(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n\nvar _iterStep = function (done, value) {\n  return { value: value, done: !!done };\n};\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nvar es6_array_iterator = _iterDefine(Array, 'Array', function (iterated, kind) {\n  this._t = _toIobject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return _iterStep(1);\n  }\n  if (kind == 'keys') return _iterStep(0, index);\n  if (kind == 'values') return _iterStep(0, O[index]);\n  return _iterStep(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\n_iterators.Arguments = _iterators.Array;\n\nvar TO_STRING_TAG = _wks('toStringTag');\n\nvar DOMIterables = ('CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,' +\n  'DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,' +\n  'MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,' +\n  'SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,' +\n  'TextTrackList,TouchList').split(',');\n\nfor (var i$1 = 0; i$1 < DOMIterables.length; i$1++) {\n  var NAME = DOMIterables[i$1];\n  var Collection = _global[NAME];\n  var proto = Collection && Collection.prototype;\n  if (proto && !proto[TO_STRING_TAG]) _hide(proto, TO_STRING_TAG, NAME);\n  _iterators[NAME] = _iterators.Array;\n}\n\nvar f$4 = _wks;\n\nvar _wksExt = {\n\tf: f$4\n};\n\nvar iterator = _wksExt.f('iterator');\n\nvar iterator$1 = createCommonjsModule(function (module) {\nmodule.exports = { \"default\": iterator, __esModule: true };\n});\n\nunwrapExports(iterator$1);\n\nvar _meta = createCommonjsModule(function (module) {\nvar META = _uid('meta');\n\n\nvar setDesc = _objectDp.f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !_fails(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!_isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!_has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!_has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !_has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n});\nvar _meta_1 = _meta.KEY;\nvar _meta_2 = _meta.NEED;\nvar _meta_3 = _meta.fastKey;\nvar _meta_4 = _meta.getWeak;\nvar _meta_5 = _meta.onFreeze;\n\nvar defineProperty$3 = _objectDp.f;\nvar _wksDefine = function (name) {\n  var $Symbol = _core.Symbol || (_core.Symbol =  {} );\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty$3($Symbol, name, { value: _wksExt.f(name) });\n};\n\n// all enumerable object keys, includes symbols\n\n\n\nvar _enumKeys = function (it) {\n  var result = _objectKeys(it);\n  var getSymbols = _objectGops.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = _objectPie.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n\n// 7.2.2 IsArray(argument)\n\nvar _isArray = Array.isArray || function isArray(arg) {\n  return _cof(arg) == 'Array';\n};\n\n// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\n\nvar hiddenKeys = _enumBugKeys.concat('length', 'prototype');\n\nvar f$5 = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return _objectKeysInternal(O, hiddenKeys);\n};\n\nvar _objectGopn = {\n\tf: f$5\n};\n\n// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\n\nvar gOPN = _objectGopn.f;\nvar toString$3 = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nvar f$6 = function getOwnPropertyNames(it) {\n  return windowNames && toString$3.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(_toIobject(it));\n};\n\nvar _objectGopnExt = {\n\tf: f$6\n};\n\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nvar f$7 = _descriptors ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = _toIobject(O);\n  P = _toPrimitive(P, true);\n  if (_ie8DomDefine) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (_has(O, P)) return _propertyDesc(!_objectPie.f.call(O, P), O[P]);\n};\n\nvar _objectGopd = {\n\tf: f$7\n};\n\n// ECMAScript 6 symbols shim\n\n\n\n\n\nvar META = _meta.KEY;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar gOPD$1 = _objectGopd.f;\nvar dP$1 = _objectDp.f;\nvar gOPN$1 = _objectGopnExt.f;\nvar $Symbol = _global.Symbol;\nvar $JSON = _global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE$2 = 'prototype';\nvar HIDDEN = _wks('_hidden');\nvar TO_PRIMITIVE = _wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = _shared('symbol-registry');\nvar AllSymbols = _shared('symbols');\nvar OPSymbols = _shared('op-symbols');\nvar ObjectProto$1 = Object[PROTOTYPE$2];\nvar USE_NATIVE = typeof $Symbol == 'function' && !!_objectGops.f;\nvar QObject = _global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE$2] || !QObject[PROTOTYPE$2].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = _descriptors && _fails(function () {\n  return _objectCreate(dP$1({}, 'a', {\n    get: function () { return dP$1(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD$1(ObjectProto$1, key);\n  if (protoDesc) delete ObjectProto$1[key];\n  dP$1(it, key, D);\n  if (protoDesc && it !== ObjectProto$1) dP$1(ObjectProto$1, key, protoDesc);\n} : dP$1;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _objectCreate($Symbol[PROTOTYPE$2]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol$1 = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto$1) $defineProperty(OPSymbols, key, D);\n  _anObject(it);\n  key = _toPrimitive(key, true);\n  _anObject(D);\n  if (_has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!_has(it, HIDDEN)) dP$1(it, HIDDEN, _propertyDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (_has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _objectCreate(D, { enumerable: _propertyDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP$1(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  _anObject(it);\n  var keys = _enumKeys(P = _toIobject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _objectCreate(it) : $defineProperties(_objectCreate(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = _toPrimitive(key, true));\n  if (this === ObjectProto$1 && _has(AllSymbols, key) && !_has(OPSymbols, key)) return false;\n  return E || !_has(this, key) || !_has(AllSymbols, key) || _has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = _toIobject(it);\n  key = _toPrimitive(key, true);\n  if (it === ObjectProto$1 && _has(AllSymbols, key) && !_has(OPSymbols, key)) return;\n  var D = gOPD$1(it, key);\n  if (D && _has(AllSymbols, key) && !(_has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN$1(_toIobject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!_has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto$1;\n  var names = gOPN$1(IS_OP ? OPSymbols : _toIobject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (_has(AllSymbols, key = names[i++]) && (IS_OP ? _has(ObjectProto$1, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = _uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto$1) $set.call(OPSymbols, value);\n      if (_has(this, HIDDEN) && _has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, _propertyDesc(1, value));\n    };\n    if (_descriptors && setter) setSymbolDesc(ObjectProto$1, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  _redefine($Symbol[PROTOTYPE$2], 'toString', function toString() {\n    return this._k;\n  });\n\n  _objectGopd.f = $getOwnPropertyDescriptor;\n  _objectDp.f = $defineProperty;\n  _objectGopn.f = _objectGopnExt.f = $getOwnPropertyNames;\n  _objectPie.f = $propertyIsEnumerable;\n  _objectGops.f = $getOwnPropertySymbols;\n\n  if (_descriptors && !_library) {\n    _redefine(ObjectProto$1, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  _wksExt.f = function (name) {\n    return wrap(_wks(name));\n  };\n}\n\n_export(_export.G + _export.W + _export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)_wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = _objectKeys(_wks.store), k$1 = 0; wellKnownSymbols.length > k$1;) _wksDefine(wellKnownSymbols[k$1++]);\n\n_export(_export.S + _export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return _has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol$1(sym)) throw TypeError(sym + ' is not a symbol!');\n    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n_export(_export.S + _export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\nvar FAILS_ON_PRIMITIVES = _fails(function () { _objectGops.f(1); });\n\n_export(_export.S + _export.F * FAILS_ON_PRIMITIVES, 'Object', {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    return _objectGops.f(_toObject(it));\n  }\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && _export(_export.S + _export.F * (!USE_NATIVE || _fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    $replacer = replacer = args[1];\n    if (!_isObject(replacer) && it === undefined || isSymbol$1(it)) return; // IE8 returns string on undefined\n    if (!_isArray(replacer)) replacer = function (key, value) {\n      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n      if (!isSymbol$1(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE$2][TO_PRIMITIVE] || _hide($Symbol[PROTOTYPE$2], TO_PRIMITIVE, $Symbol[PROTOTYPE$2].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\n_setToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\n_setToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\n_setToStringTag(_global.JSON, 'JSON', true);\n\n_wksDefine('asyncIterator');\n\n_wksDefine('observable');\n\nvar symbol = _core.Symbol;\n\nvar symbol$1 = createCommonjsModule(function (module) {\nmodule.exports = { \"default\": symbol, __esModule: true };\n});\n\nunwrapExports(symbol$1);\n\nvar _typeof_1 = createCommonjsModule(function (module, exports) {\n\nexports.__esModule = true;\n\n\n\nvar _iterator2 = _interopRequireDefault(iterator$1);\n\n\n\nvar _symbol2 = _interopRequireDefault(symbol$1);\n\nvar _typeof = typeof _symbol2.default === \"function\" && typeof _iterator2.default === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = typeof _symbol2.default === \"function\" && _typeof(_iterator2.default) === \"symbol\" ? function (obj) {\n  return typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n} : function (obj) {\n  return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n};\n});\n\nunwrapExports(_typeof_1);\n\nvar possibleConstructorReturn = createCommonjsModule(function (module, exports) {\n\nexports.__esModule = true;\n\n\n\nvar _typeof3 = _interopRequireDefault(_typeof_1);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && ((typeof call === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(call)) === \"object\" || typeof call === \"function\") ? call : self;\n};\n});\n\nvar _possibleConstructorReturn = unwrapExports(possibleConstructorReturn);\n\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\n\n\nvar check = function (O, proto) {\n  _anObject(O);\n  if (!_isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nvar _setProto = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = _ctx(Function.call, _objectGopd.f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n\n// 19.1.3.19 Object.setPrototypeOf(O, proto)\n\n_export(_export.S, 'Object', { setPrototypeOf: _setProto.set });\n\nvar setPrototypeOf = _core.Object.setPrototypeOf;\n\nvar setPrototypeOf$1 = createCommonjsModule(function (module) {\nmodule.exports = { \"default\": setPrototypeOf, __esModule: true };\n});\n\nunwrapExports(setPrototypeOf$1);\n\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n_export(_export.S, 'Object', { create: _objectCreate });\n\nvar $Object$1 = _core.Object;\nvar create = function create(P, D) {\n  return $Object$1.create(P, D);\n};\n\nvar create$1 = createCommonjsModule(function (module) {\nmodule.exports = { \"default\": create, __esModule: true };\n});\n\nunwrapExports(create$1);\n\nvar inherits = createCommonjsModule(function (module, exports) {\n\nexports.__esModule = true;\n\n\n\nvar _setPrototypeOf2 = _interopRequireDefault(setPrototypeOf$1);\n\n\n\nvar _create2 = _interopRequireDefault(create$1);\n\n\n\nvar _typeof3 = _interopRequireDefault(_typeof_1);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + (typeof superClass === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(superClass)));\n  }\n\n  subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;\n};\n});\n\nvar _inherits = unwrapExports(inherits);\n\n/**\n * Detect Element Resize.\n * https://github.com/sdecima/javascript-detect-element-resize\n * Sebastian Decima\n *\n * Forked from version 0.5.3; includes the following modifications:\n * 1) Guard against unsafe 'window' and 'document' references (to support SSR).\n * 2) Defer initialization code via a top-level function wrapper (to support SSR).\n * 3) Avoid unnecessary reflows by not measuring size for scroll events bubbling from children.\n * 4) Add nonce for style element.\n **/\n\nfunction createDetectElementResize(nonce) {\n  // Check `document` and `window` in case of server-side rendering\n  var _window;\n  if (typeof window !== 'undefined') {\n    _window = window;\n  } else if (typeof self !== 'undefined') {\n    _window = self;\n  } else {\n    _window = global;\n  }\n\n  var attachEvent = typeof document !== 'undefined' && document.attachEvent;\n\n  if (!attachEvent) {\n    var requestFrame = function () {\n      var raf = _window.requestAnimationFrame || _window.mozRequestAnimationFrame || _window.webkitRequestAnimationFrame || function (fn) {\n        return _window.setTimeout(fn, 20);\n      };\n      return function (fn) {\n        return raf(fn);\n      };\n    }();\n\n    var cancelFrame = function () {\n      var cancel = _window.cancelAnimationFrame || _window.mozCancelAnimationFrame || _window.webkitCancelAnimationFrame || _window.clearTimeout;\n      return function (id) {\n        return cancel(id);\n      };\n    }();\n\n    var resetTriggers = function resetTriggers(element) {\n      var triggers = element.__resizeTriggers__,\n          expand = triggers.firstElementChild,\n          contract = triggers.lastElementChild,\n          expandChild = expand.firstElementChild;\n      contract.scrollLeft = contract.scrollWidth;\n      contract.scrollTop = contract.scrollHeight;\n      expandChild.style.width = expand.offsetWidth + 1 + 'px';\n      expandChild.style.height = expand.offsetHeight + 1 + 'px';\n      expand.scrollLeft = expand.scrollWidth;\n      expand.scrollTop = expand.scrollHeight;\n    };\n\n    var checkTriggers = function checkTriggers(element) {\n      return element.offsetWidth != element.__resizeLast__.width || element.offsetHeight != element.__resizeLast__.height;\n    };\n\n    var scrollListener = function scrollListener(e) {\n      // Don't measure (which forces) reflow for scrolls that happen inside of children!\n      if (e.target.className && typeof e.target.className.indexOf === 'function' && e.target.className.indexOf('contract-trigger') < 0 && e.target.className.indexOf('expand-trigger') < 0) {\n        return;\n      }\n\n      var element = this;\n      resetTriggers(this);\n      if (this.__resizeRAF__) {\n        cancelFrame(this.__resizeRAF__);\n      }\n      this.__resizeRAF__ = requestFrame(function () {\n        if (checkTriggers(element)) {\n          element.__resizeLast__.width = element.offsetWidth;\n          element.__resizeLast__.height = element.offsetHeight;\n          element.__resizeListeners__.forEach(function (fn) {\n            fn.call(element, e);\n          });\n        }\n      });\n    };\n\n    /* Detect CSS Animations support to detect element display/re-attach */\n    var animation = false,\n        keyframeprefix = '',\n        animationstartevent = 'animationstart',\n        domPrefixes = 'Webkit Moz O ms'.split(' '),\n        startEvents = 'webkitAnimationStart animationstart oAnimationStart MSAnimationStart'.split(' '),\n        pfx = '';\n    {\n      var elm = document.createElement('fakeelement');\n      if (elm.style.animationName !== undefined) {\n        animation = true;\n      }\n\n      if (animation === false) {\n        for (var i = 0; i < domPrefixes.length; i++) {\n          if (elm.style[domPrefixes[i] + 'AnimationName'] !== undefined) {\n            pfx = domPrefixes[i];\n            keyframeprefix = '-' + pfx.toLowerCase() + '-';\n            animationstartevent = startEvents[i];\n            animation = true;\n            break;\n          }\n        }\n      }\n    }\n\n    var animationName = 'resizeanim';\n    var animationKeyframes = '@' + keyframeprefix + 'keyframes ' + animationName + ' { from { opacity: 0; } to { opacity: 0; } } ';\n    var animationStyle = keyframeprefix + 'animation: 1ms ' + animationName + '; ';\n  }\n\n  var createStyles = function createStyles(doc) {\n    if (!doc.getElementById('detectElementResize')) {\n      //opacity:0 works around a chrome bug https://code.google.com/p/chromium/issues/detail?id=286360\n      var css = (animationKeyframes ? animationKeyframes : '') + '.resize-triggers { ' + (animationStyle ? animationStyle : '') + 'visibility: hidden; opacity: 0; } ' + '.resize-triggers, .resize-triggers > div, .contract-trigger:before { content: \" \"; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',\n          head = doc.head || doc.getElementsByTagName('head')[0],\n          style = doc.createElement('style');\n\n      style.id = 'detectElementResize';\n      style.type = 'text/css';\n\n      if (nonce != null) {\n        style.setAttribute('nonce', nonce);\n      }\n\n      if (style.styleSheet) {\n        style.styleSheet.cssText = css;\n      } else {\n        style.appendChild(doc.createTextNode(css));\n      }\n\n      head.appendChild(style);\n    }\n  };\n\n  var addResizeListener = function addResizeListener(element, fn) {\n    if (attachEvent) {\n      element.attachEvent('onresize', fn);\n    } else {\n      if (!element.__resizeTriggers__) {\n        var doc = element.ownerDocument;\n        var elementStyle = _window.getComputedStyle(element);\n        if (elementStyle && elementStyle.position == 'static') {\n          element.style.position = 'relative';\n        }\n        createStyles(doc);\n        element.__resizeLast__ = {};\n        element.__resizeListeners__ = [];\n        (element.__resizeTriggers__ = doc.createElement('div')).className = 'resize-triggers';\n        element.__resizeTriggers__.innerHTML = '<div class=\"expand-trigger\"><div></div></div>' + '<div class=\"contract-trigger\"></div>';\n        element.appendChild(element.__resizeTriggers__);\n        resetTriggers(element);\n        element.addEventListener('scroll', scrollListener, true);\n\n        /* Listen for a css animation to detect element display/re-attach */\n        if (animationstartevent) {\n          element.__resizeTriggers__.__animationListener__ = function animationListener(e) {\n            if (e.animationName == animationName) {\n              resetTriggers(element);\n            }\n          };\n          element.__resizeTriggers__.addEventListener(animationstartevent, element.__resizeTriggers__.__animationListener__);\n        }\n      }\n      element.__resizeListeners__.push(fn);\n    }\n  };\n\n  var removeResizeListener = function removeResizeListener(element, fn) {\n    if (attachEvent) {\n      element.detachEvent('onresize', fn);\n    } else {\n      element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(fn), 1);\n      if (!element.__resizeListeners__.length) {\n        element.removeEventListener('scroll', scrollListener, true);\n        if (element.__resizeTriggers__.__animationListener__) {\n          element.__resizeTriggers__.removeEventListener(animationstartevent, element.__resizeTriggers__.__animationListener__);\n          element.__resizeTriggers__.__animationListener__ = null;\n        }\n        try {\n          element.__resizeTriggers__ = !element.removeChild(element.__resizeTriggers__);\n        } catch (e) {\n          // Preact compat; see developit/preact-compat/issues/228\n        }\n      }\n    }\n  };\n\n  return {\n    addResizeListener: addResizeListener,\n    removeResizeListener: removeResizeListener\n  };\n}\n\nvar AutoSizer = function (_React$PureComponent) {\n  _inherits(AutoSizer, _React$PureComponent);\n\n  function AutoSizer() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, AutoSizer);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = AutoSizer.__proto__ || _Object$getPrototypeOf(AutoSizer)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      height: _this.props.defaultHeight || 0,\n      width: _this.props.defaultWidth || 0\n    }, _this._onResize = function () {\n      var _this$props = _this.props,\n          disableHeight = _this$props.disableHeight,\n          disableWidth = _this$props.disableWidth,\n          onResize = _this$props.onResize;\n\n\n      if (_this._parentNode) {\n        // Guard against AutoSizer component being removed from the DOM immediately after being added.\n        // This can result in invalid style values which can result in NaN values if we don't handle them.\n        // See issue #150 for more context.\n\n        var _height = _this._parentNode.offsetHeight || 0;\n        var _width = _this._parentNode.offsetWidth || 0;\n\n        var _style = window.getComputedStyle(_this._parentNode) || {};\n        var paddingLeft = parseInt(_style.paddingLeft, 10) || 0;\n        var paddingRight = parseInt(_style.paddingRight, 10) || 0;\n        var paddingTop = parseInt(_style.paddingTop, 10) || 0;\n        var paddingBottom = parseInt(_style.paddingBottom, 10) || 0;\n\n        var newHeight = _height - paddingTop - paddingBottom;\n        var newWidth = _width - paddingLeft - paddingRight;\n\n        if (!disableHeight && _this.state.height !== newHeight || !disableWidth && _this.state.width !== newWidth) {\n          _this.setState({\n            height: _height - paddingTop - paddingBottom,\n            width: _width - paddingLeft - paddingRight\n          });\n\n          onResize({ height: _height, width: _width });\n        }\n      }\n    }, _this._setRef = function (autoSizer) {\n      _this._autoSizer = autoSizer;\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(AutoSizer, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var nonce = this.props.nonce;\n\n      if (this._autoSizer && this._autoSizer.parentNode && this._autoSizer.parentNode.ownerDocument && this._autoSizer.parentNode.ownerDocument.defaultView && this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement) {\n        // Delay access of parentNode until mount.\n        // This handles edge-cases where the component has already been unmounted before its ref has been set,\n        // As well as libraries like react-lite which have a slightly different lifecycle.\n        this._parentNode = this._autoSizer.parentNode;\n\n        // Defer requiring resize handler in order to support server-side rendering.\n        // See issue #41\n        this._detectElementResize = createDetectElementResize(nonce);\n        this._detectElementResize.addResizeListener(this._parentNode, this._onResize);\n\n        this._onResize();\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this._detectElementResize && this._parentNode) {\n        this._detectElementResize.removeResizeListener(this._parentNode, this._onResize);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          children = _props.children,\n          className = _props.className,\n          disableHeight = _props.disableHeight,\n          disableWidth = _props.disableWidth,\n          style = _props.style;\n      var _state = this.state,\n          height = _state.height,\n          width = _state.width;\n\n      // Outer div should not force width/height since that may prevent containers from shrinking.\n      // Inner component should overflow and use calculated width/height.\n      // See issue #68 for more information.\n\n      var outerStyle = { overflow: 'visible' };\n      var childParams = {};\n\n      if (!disableHeight) {\n        outerStyle.height = 0;\n        childParams.height = height;\n      }\n\n      if (!disableWidth) {\n        outerStyle.width = 0;\n        childParams.width = width;\n      }\n\n      /**\n       * TODO: Avoid rendering children before the initial measurements have been collected.\n       * At best this would just be wasting cycles.\n       * Add this check into version 10 though as it could break too many ref callbacks in version 9.\n       * Note that if default width/height props were provided this would still work with SSR.\n      if (\n        height !== 0 &&\n        width !== 0\n      ) {\n        child = children({ height, width })\n      }\n      */\n\n      return createElement(\n        'div',\n        {\n          className: className,\n          ref: this._setRef,\n          style: _extends$6({}, outerStyle, style) },\n        children(childParams)\n      );\n    }\n  }]);\n\n  return AutoSizer;\n}(PureComponent);\n\nAutoSizer.defaultProps = {\n  onResize: function onResize() {},\n  disableHeight: false,\n  disableWidth: false,\n  style: {}\n};\nAutoSizer.propTypes = process.env.NODE_ENV === 'production' ? null : {\n  /** Function responsible for rendering children.*/\n  children: propTypes.func.isRequired,\n\n\n  /** Optional custom CSS class name to attach to root AutoSizer element.  */\n  className: propTypes.string,\n\n\n  /** Default height to use for initial render; useful for SSR */\n  defaultHeight: propTypes.number,\n\n\n  /** Default width to use for initial render; useful for SSR */\n  defaultWidth: propTypes.number,\n\n\n  /** Disable dynamic :height property */\n  disableHeight: propTypes.bool.isRequired,\n\n\n  /** Disable dynamic :width property */\n  disableWidth: propTypes.bool.isRequired,\n\n\n  /** Nonce of the inlined stylesheet for Content Security Policy */\n  nonce: propTypes.string,\n\n\n  /** Callback to be invoked on-resize */\n  onResize: propTypes.func.isRequired,\n\n\n  /** Optional inline style */\n  style: propTypes.object\n};\n\nvar bpfrpt_proptype_CellMeasureCache = process.env.NODE_ENV === 'production' ? null : {\n  hasFixedWidth: propTypes.func.isRequired,\n  hasFixedHeight: propTypes.func.isRequired,\n  has: propTypes.func.isRequired,\n  set: propTypes.func.isRequired,\n  getHeight: propTypes.func.isRequired,\n  getWidth: propTypes.func.isRequired\n};\n\n/**\n * Wraps a cell and measures its rendered content.\n * Measurements are stored in a per-cell cache.\n * Cached-content is not be re-measured.\n */\nvar CellMeasurer = function (_React$PureComponent) {\n  _inherits(CellMeasurer, _React$PureComponent);\n\n  function CellMeasurer() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, CellMeasurer);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = CellMeasurer.__proto__ || _Object$getPrototypeOf(CellMeasurer)).call.apply(_ref, [this].concat(args))), _this), _this._measure = function () {\n      var _this$props = _this.props,\n          cache = _this$props.cache,\n          _this$props$columnInd = _this$props.columnIndex,\n          columnIndex = _this$props$columnInd === undefined ? 0 : _this$props$columnInd,\n          parent = _this$props.parent,\n          _this$props$rowIndex = _this$props.rowIndex,\n          rowIndex = _this$props$rowIndex === undefined ? _this.props.index || 0 : _this$props$rowIndex;\n\n      var _this$_getCellMeasure = _this._getCellMeasurements(),\n          height = _this$_getCellMeasure.height,\n          width = _this$_getCellMeasure.width;\n\n      if (height !== cache.getHeight(rowIndex, columnIndex) || width !== cache.getWidth(rowIndex, columnIndex)) {\n        cache.set(rowIndex, columnIndex, width, height);\n\n        if (parent && typeof parent.recomputeGridSize === 'function') {\n          parent.recomputeGridSize({\n            columnIndex: columnIndex,\n            rowIndex: rowIndex\n          });\n        }\n      }\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(CellMeasurer, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this._maybeMeasureCell();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      this._maybeMeasureCell();\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var children = this.props.children;\n\n\n      return typeof children === 'function' ? children({ measure: this._measure }) : children;\n    }\n  }, {\n    key: '_getCellMeasurements',\n    value: function _getCellMeasurements() {\n      var cache = this.props.cache;\n\n\n      var node = findDOMNode(this);\n\n      // TODO Check for a bad combination of fixedWidth and missing numeric width or vice versa with height\n\n      if (node && node.ownerDocument && node.ownerDocument.defaultView && node instanceof node.ownerDocument.defaultView.HTMLElement) {\n        var styleWidth = node.style.width;\n        var styleHeight = node.style.height;\n\n        // If we are re-measuring a cell that has already been measured,\n        // It will have a hard-coded width/height from the previous measurement.\n        // The fact that we are measuring indicates this measurement is probably stale,\n        // So explicitly clear it out (eg set to \"auto\") so we can recalculate.\n        // See issue #593 for more info.\n        // Even if we are measuring initially- if we're inside of a MultiGrid component,\n        // Explicitly clear width/height before measuring to avoid being tainted by another Grid.\n        // eg top/left Grid renders before bottom/right Grid\n        // Since the CellMeasurerCache is shared between them this taints derived cell size values.\n        if (!cache.hasFixedWidth()) {\n          node.style.width = 'auto';\n        }\n        if (!cache.hasFixedHeight()) {\n          node.style.height = 'auto';\n        }\n\n        var height = Math.ceil(node.offsetHeight);\n        var width = Math.ceil(node.offsetWidth);\n\n        // Reset after measuring to avoid breaking styles; see #660\n        if (styleWidth) {\n          node.style.width = styleWidth;\n        }\n        if (styleHeight) {\n          node.style.height = styleHeight;\n        }\n\n        return { height: height, width: width };\n      } else {\n        return { height: 0, width: 0 };\n      }\n    }\n  }, {\n    key: '_maybeMeasureCell',\n    value: function _maybeMeasureCell() {\n      var _props = this.props,\n          cache = _props.cache,\n          _props$columnIndex = _props.columnIndex,\n          columnIndex = _props$columnIndex === undefined ? 0 : _props$columnIndex,\n          parent = _props.parent,\n          _props$rowIndex = _props.rowIndex,\n          rowIndex = _props$rowIndex === undefined ? this.props.index || 0 : _props$rowIndex;\n\n\n      if (!cache.has(rowIndex, columnIndex)) {\n        var _getCellMeasurements2 = this._getCellMeasurements(),\n            height = _getCellMeasurements2.height,\n            width = _getCellMeasurements2.width;\n\n        cache.set(rowIndex, columnIndex, width, height);\n\n        // If size has changed, let Grid know to re-render.\n        if (parent && typeof parent.invalidateCellSizeAfterRender === 'function') {\n          parent.invalidateCellSizeAfterRender({\n            columnIndex: columnIndex,\n            rowIndex: rowIndex\n          });\n        }\n      }\n    }\n  }]);\n\n  return CellMeasurer;\n}(PureComponent);\n\n// Used for DEV mode warning check\n\n\nCellMeasurer.__internalCellMeasurerFlag = false;\nCellMeasurer.propTypes = process.env.NODE_ENV === 'production' ? null : {\n  cache: function cache() {\n    return (typeof bpfrpt_proptype_CellMeasureCache === 'function' ? bpfrpt_proptype_CellMeasureCache.isRequired ? bpfrpt_proptype_CellMeasureCache.isRequired : bpfrpt_proptype_CellMeasureCache : propTypes.shape(bpfrpt_proptype_CellMeasureCache).isRequired).apply(this, arguments);\n  },\n  children: propTypes.oneOfType([propTypes.func, propTypes.node]).isRequired,\n  columnIndex: propTypes.number,\n  index: propTypes.number,\n  parent: propTypes.shape({\n    invalidateCellSizeAfterRender: propTypes.func,\n    recomputeGridSize: propTypes.func\n  }).isRequired,\n  rowIndex: propTypes.number\n};\nif (process.env.NODE_ENV !== 'production') {\n  CellMeasurer.__internalCellMeasurerFlag = true;\n}\n\nvar DEFAULT_HEIGHT = 30;\n\nvar DEFAULT_WIDTH = 100;\n\n// Enables more intelligent mapping of a given column and row index to an item ID.\n// This prevents a cell cache from being invalidated when its parent collection is modified.\n\n/**\n * Caches measurements for a given cell.\n */\nvar CellMeasurerCache = function () {\n  function CellMeasurerCache() {\n    var _this = this;\n\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, CellMeasurerCache);\n\n    this._cellHeightCache = {};\n    this._cellWidthCache = {};\n    this._columnWidthCache = {};\n    this._rowHeightCache = {};\n    this._columnCount = 0;\n    this._rowCount = 0;\n\n    this.columnWidth = function (_ref) {\n      var index = _ref.index;\n\n      var key = _this._keyMapper(0, index);\n\n      return _this._columnWidthCache.hasOwnProperty(key) ? _this._columnWidthCache[key] : _this._defaultWidth;\n    };\n\n    this.rowHeight = function (_ref2) {\n      var index = _ref2.index;\n\n      var key = _this._keyMapper(index, 0);\n\n      return _this._rowHeightCache.hasOwnProperty(key) ? _this._rowHeightCache[key] : _this._defaultHeight;\n    };\n\n    var defaultHeight = params.defaultHeight,\n        defaultWidth = params.defaultWidth,\n        fixedHeight = params.fixedHeight,\n        fixedWidth = params.fixedWidth,\n        keyMapper = params.keyMapper,\n        minHeight = params.minHeight,\n        minWidth = params.minWidth;\n\n\n    this._hasFixedHeight = fixedHeight === true;\n    this._hasFixedWidth = fixedWidth === true;\n    this._minHeight = minHeight || 0;\n    this._minWidth = minWidth || 0;\n    this._keyMapper = keyMapper || defaultKeyMapper;\n\n    this._defaultHeight = Math.max(this._minHeight, typeof defaultHeight === 'number' ? defaultHeight : DEFAULT_HEIGHT);\n    this._defaultWidth = Math.max(this._minWidth, typeof defaultWidth === 'number' ? defaultWidth : DEFAULT_WIDTH);\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (this._hasFixedHeight === false && this._hasFixedWidth === false) {\n        console.warn(\"CellMeasurerCache should only measure a cell's width or height. \" + 'You have configured CellMeasurerCache to measure both. ' + 'This will result in poor performance.');\n      }\n\n      if (this._hasFixedHeight === false && this._defaultHeight === 0) {\n        console.warn('Fixed height CellMeasurerCache should specify a :defaultHeight greater than 0. ' + 'Failing to do so will lead to unnecessary layout and poor performance.');\n      }\n\n      if (this._hasFixedWidth === false && this._defaultWidth === 0) {\n        console.warn('Fixed width CellMeasurerCache should specify a :defaultWidth greater than 0. ' + 'Failing to do so will lead to unnecessary layout and poor performance.');\n      }\n    }\n  }\n\n  _createClass(CellMeasurerCache, [{\n    key: 'clear',\n    value: function clear(rowIndex) {\n      var columnIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      var key = this._keyMapper(rowIndex, columnIndex);\n\n      delete this._cellHeightCache[key];\n      delete this._cellWidthCache[key];\n\n      this._updateCachedColumnAndRowSizes(rowIndex, columnIndex);\n    }\n  }, {\n    key: 'clearAll',\n    value: function clearAll() {\n      this._cellHeightCache = {};\n      this._cellWidthCache = {};\n      this._columnWidthCache = {};\n      this._rowHeightCache = {};\n      this._rowCount = 0;\n      this._columnCount = 0;\n    }\n  }, {\n    key: 'hasFixedHeight',\n    value: function hasFixedHeight() {\n      return this._hasFixedHeight;\n    }\n  }, {\n    key: 'hasFixedWidth',\n    value: function hasFixedWidth() {\n      return this._hasFixedWidth;\n    }\n  }, {\n    key: 'getHeight',\n    value: function getHeight(rowIndex) {\n      var columnIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      if (this._hasFixedHeight) {\n        return this._defaultHeight;\n      } else {\n        var _key = this._keyMapper(rowIndex, columnIndex);\n\n        return this._cellHeightCache.hasOwnProperty(_key) ? Math.max(this._minHeight, this._cellHeightCache[_key]) : this._defaultHeight;\n      }\n    }\n  }, {\n    key: 'getWidth',\n    value: function getWidth(rowIndex) {\n      var columnIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      if (this._hasFixedWidth) {\n        return this._defaultWidth;\n      } else {\n        var _key2 = this._keyMapper(rowIndex, columnIndex);\n\n        return this._cellWidthCache.hasOwnProperty(_key2) ? Math.max(this._minWidth, this._cellWidthCache[_key2]) : this._defaultWidth;\n      }\n    }\n  }, {\n    key: 'has',\n    value: function has(rowIndex) {\n      var columnIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      var key = this._keyMapper(rowIndex, columnIndex);\n\n      return this._cellHeightCache.hasOwnProperty(key);\n    }\n  }, {\n    key: 'set',\n    value: function set(rowIndex, columnIndex, width, height) {\n      var key = this._keyMapper(rowIndex, columnIndex);\n\n      if (columnIndex >= this._columnCount) {\n        this._columnCount = columnIndex + 1;\n      }\n      if (rowIndex >= this._rowCount) {\n        this._rowCount = rowIndex + 1;\n      }\n\n      // Size is cached per cell so we don't have to re-measure if cells are re-ordered.\n      this._cellHeightCache[key] = height;\n      this._cellWidthCache[key] = width;\n\n      this._updateCachedColumnAndRowSizes(rowIndex, columnIndex);\n    }\n  }, {\n    key: '_updateCachedColumnAndRowSizes',\n    value: function _updateCachedColumnAndRowSizes(rowIndex, columnIndex) {\n      // :columnWidth and :rowHeight are derived based on all cells in a column/row.\n      // Pre-cache these derived values for faster lookup later.\n      // Reads are expected to occur more frequently than writes in this case.\n      // Only update non-fixed dimensions though to avoid doing unnecessary work.\n      if (!this._hasFixedWidth) {\n        var columnWidth = 0;\n        for (var i = 0; i < this._rowCount; i++) {\n          columnWidth = Math.max(columnWidth, this.getWidth(i, columnIndex));\n        }\n        var columnKey = this._keyMapper(0, columnIndex);\n        this._columnWidthCache[columnKey] = columnWidth;\n      }\n      if (!this._hasFixedHeight) {\n        var rowHeight = 0;\n        for (var _i = 0; _i < this._columnCount; _i++) {\n          rowHeight = Math.max(rowHeight, this.getHeight(rowIndex, _i));\n        }\n        var rowKey = this._keyMapper(rowIndex, 0);\n        this._rowHeightCache[rowKey] = rowHeight;\n      }\n    }\n  }, {\n    key: 'defaultHeight',\n    get: function get() {\n      return this._defaultHeight;\n    }\n  }, {\n    key: 'defaultWidth',\n    get: function get() {\n      return this._defaultWidth;\n    }\n  }]);\n\n  return CellMeasurerCache;\n}();\n\n\nfunction defaultKeyMapper(rowIndex, columnIndex) {\n  return rowIndex + '-' + columnIndex;\n}\n\n// 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n\nvar $getOwnPropertyDescriptor$1 = _objectGopd.f;\n\n_objectSap('getOwnPropertyDescriptor', function () {\n  return function getOwnPropertyDescriptor(it, key) {\n    return $getOwnPropertyDescriptor$1(_toIobject(it), key);\n  };\n});\n\nvar $Object$2 = _core.Object;\nvar getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  return $Object$2.getOwnPropertyDescriptor(it, key);\n};\n\nvar getOwnPropertyDescriptor$1 = createCommonjsModule(function (module) {\nmodule.exports = { \"default\": getOwnPropertyDescriptor, __esModule: true };\n});\n\nvar _Object$getOwnPropertyDescriptor = unwrapExports(getOwnPropertyDescriptor$1);\n\nfunction toVal(mix) {\n\tvar k, y, str='';\n\n\tif (typeof mix === 'string' || typeof mix === 'number') {\n\t\tstr += mix;\n\t} else if (typeof mix === 'object') {\n\t\tif (Array.isArray(mix)) {\n\t\t\tfor (k=0; k < mix.length; k++) {\n\t\t\t\tif (mix[k]) {\n\t\t\t\t\tif (y = toVal(mix[k])) {\n\t\t\t\t\t\tstr && (str += ' ');\n\t\t\t\t\t\tstr += y;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tfor (k in mix) {\n\t\t\t\tif (mix[k]) {\n\t\t\t\t\tstr && (str += ' ');\n\t\t\t\t\tstr += k;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn str;\n}\n\nfunction clsx () {\n\tvar i=0, tmp, x, str='';\n\twhile (i < arguments.length) {\n\t\tif (tmp = arguments[i++]) {\n\t\t\tif (x = toVal(tmp)) {\n\t\t\t\tstr && (str += ' ');\n\t\t\t\tstr += x;\n\t\t\t}\n\t\t}\n\t}\n\treturn str;\n}\n\nfunction calculateSizeAndPositionDataAndUpdateScrollOffset(_ref) {\n  var cellCount = _ref.cellCount,\n      cellSize = _ref.cellSize,\n      computeMetadataCallback = _ref.computeMetadataCallback,\n      computeMetadataCallbackProps = _ref.computeMetadataCallbackProps,\n      nextCellsCount = _ref.nextCellsCount,\n      nextCellSize = _ref.nextCellSize,\n      nextScrollToIndex = _ref.nextScrollToIndex,\n      scrollToIndex = _ref.scrollToIndex,\n      updateScrollOffsetForScrollToIndex = _ref.updateScrollOffsetForScrollToIndex;\n\n  // Don't compare cell sizes if they are functions because inline functions would cause infinite loops.\n  // In that event users should use the manual recompute methods to inform of changes.\n  if (cellCount !== nextCellsCount || (typeof cellSize === 'number' || typeof nextCellSize === 'number') && cellSize !== nextCellSize) {\n    computeMetadataCallback(computeMetadataCallbackProps);\n\n    // Updated cell metadata may have hidden the previous scrolled-to item.\n    // In this case we should also update the scrollTop to ensure it stays visible.\n    if (scrollToIndex >= 0 && scrollToIndex === nextScrollToIndex) {\n      updateScrollOffsetForScrollToIndex();\n    }\n  }\n}\n\n/**\n * Helper method that determines when to recalculate row or column metadata.\n */\n\nvar objectWithoutProperties = createCommonjsModule(function (module, exports) {\n\nexports.__esModule = true;\n\nexports.default = function (obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n};\n});\n\nvar _objectWithoutProperties$6 = unwrapExports(objectWithoutProperties);\n\nvar linearLayoutVector = LinearLayoutVector;\n\nLinearLayoutVector.prototype.getLength = getLength;\nLinearLayoutVector.prototype.setLength = setLength;\nLinearLayoutVector.prototype.getDefaultSize = getDefaultSize;\nLinearLayoutVector.prototype.setDefaultSize = setDefaultSize;\nLinearLayoutVector.prototype.getAxisOffset = getAxisOffset;\nLinearLayoutVector.prototype.setAxisOffset = setAxisOffset;\nLinearLayoutVector.prototype.getGap = getGap;\nLinearLayoutVector.prototype.setGap = setGap;\nLinearLayoutVector.prototype.getItemSize = getItemSize;\nLinearLayoutVector.prototype.setItemSize = setItemSize;\nLinearLayoutVector.prototype.insert = insert;\nLinearLayoutVector.prototype.remove = remove;\nLinearLayoutVector.prototype.start = start;\nLinearLayoutVector.prototype.end = end;\nLinearLayoutVector.prototype.indexOf = indexOf;\nLinearLayoutVector.prototype.clear = clear;\nLinearLayoutVector.prototype.toString = toString$4;\n\n/**\n * A sparse array of sizes that represent items in a dimension.\n *\n * Provides efficient support for finding the cumulative distance to\n * the start/end of an item along the axis, and similarly for finding the\n * index of the item at a particular distance.\n *\n * Default size is used for items whose size hasn't been specified.\n */\nfunction LinearLayoutVector(block_size) {\n\n    if(block_size === undefined) {\n        block_size = 128;\n    }\n\n    // Assumption: vector elements (sizes) will typically be set in\n    // small ranges that reflect localized scrolling.  Allocate vector\n    // elements in blocks of block_size, which must be a power of 2.\n    // block_shift is the power of 2 and block_mask masks off as many\n    // low order bits.  The block_table contains all of the allocated\n    // blocks and has length/block_size elements which are allocated lazily.\n    var pow = (Math.log(block_size) / Math.log(2)) | 0,\n        size = Math.pow(2, pow),\n        mask = size - 1;\n\n    this.block_size  = size;\n    this.block_shift = pow;\n    this.block_mask  = mask;\n    this.block_table = [];\n\n    this._defaultSize = 0;\n    this._axisOffset = 0;\n    this._gap = 0;\n\n    // Sorted Vector of intervals for the pending removes, in descending order,\n    // for example [7, 5, 3, 1] for the removes at 7, 6, 5, 3, 2, 1\n    this.removes = null;\n    // Sorted Vector of intervals for the pending inserts, in ascending order,\n    // for example [1, 3, 5, 7] for the inserts at 1, 2, 3, 5, 6, 7\n    this.inserts = null;\n\n    this._length = 0;\n    // What the length will be after any pending changes are flushed.\n    this._pendingLength = -1;\n}\n\n/**\n * The number of item size valued elements.\n *\n * @default 0\n */\nfunction getLength() {\n    return this._pendingLength === -1 ? this._length : this._pendingLength;\n}\n\n/**\n * @private\n * Grows or truncates the vector to be the specified newLength.\n * When truncating, releases empty blocks and sets to NaN any values\n * in the last block beyond the newLength.\n */\nfunction setLength(newLength) {\n    flushPendingChanges.call(this);\n\n    if(newLength < this._length) {\n        // Clear any remaining non-NaN values in the last block\n        var blockIndex = newLength >> this.block_shift;\n        var endIndex = Math.min(blockIndex * this.block_size + this.block_size, this._length) - 1;\n        clearInterval.call(this, newLength, endIndex);\n    }\n\n    this._length = newLength;\n\n    // update the table\n    var partialBlock = ((this._length & this.block_mask) === 0) ? 0 : 1;\n    this.block_table.length = (this._length >> this.block_shift) + partialBlock;\n}\n\n//----------------------------------\n//  defaultSize\n//----------------------------------\n\n/**\n * The size of items whose size was not specified with setItemSize.\n *\n * @default 0\n */\nfunction getDefaultSize() {\n    return this._defaultSize;\n}\n\n/**\n * @private\n */\nfunction setDefaultSize(value) {\n    this._defaultSize = value;\n}\n\n//----------------------------------\n//  axisOffset\n//----------------------------------\n\n/**\n * The offset of the first item from the origin in the majorAxis\n * direction. This is useful when implementing padding,\n * in addition to gaps, for virtual layouts.\n *\n * @see #gap\n */\nfunction getAxisOffset() {\n    return this._axisOffset;\n}\n\n/**\n * @private\n */\nfunction setAxisOffset(value) {\n    this._axisOffset = value;\n}\n\n//----------------------------------\n//  gap\n//----------------------------------\n\n/**\n * The distance between items.\n *\n * @default 0\n */\nfunction getGap() {\n    return this._gap;\n}\n\n/**\n * @private\n */\nfunction setGap(value) {\n    this._gap = value;\n}\n\n//--------------------------------------------------------------------------\n//\n//  Methods\n//\n//--------------------------------------------------------------------------\n\n/**\n * Return the size of the item at index.  If no size was ever\n * specified then then the defaultSize is returned.\n *\n * @param index The item's index.\n * @see defaultSize\n */\nfunction getItemSize(index) {\n    flushPendingChanges.call(this);\n\n    var block = this.block_table[index >> this.block_shift];\n    if(block) {\n        var value = block.sizes[index & this.block_mask];\n        return (value !== value) ? this._defaultSize : value;\n    } else {\n        return this._defaultSize;\n    }\n}\n\n/**\n * Set the size of the item at index. If an index is\n * set to <code>NaN</code> then subsequent calls to get\n * will return the defaultSize.\n *\n * @param index The item's index.\n * @param value The item's size.\n * @see defaultSize\n */\nfunction setItemSize(index, value) {\n    flushPendingChanges.call(this);\n\n    if(index >= this.getLength()) {\n        throw new Error(\"Invalid index and all that.\");\n    }\n\n    var blockIndex = index >> this.block_shift;\n    var block = this.block_table[blockIndex];\n    if(!block) {\n        block = this.block_table[blockIndex] = new Block(this.block_size);\n    }\n\n    var sizesIndex = index & this.block_mask;\n    var sizes = block.sizes;\n    var oldValue = sizes[sizesIndex];\n    if(oldValue === value) {\n        return;\n    }\n\n    if(oldValue !== oldValue) {\n        block.defaultCount -= 1;\n        block.sizesSum += value;\n    } else if(value !== value) {\n        block.defaultCount += 1;\n        block.sizesSum -= oldValue;\n    } else {\n        block.sizesSum += value - oldValue;\n    }\n\n    sizes[sizesIndex] = value;\n}\n\n/**\n * Make room for a new item at index by shifting all of the sizes\n * one position to the right, beginning with startIndex.\n *\n * The value at index will be NaN.\n *\n * This is similar to array.splice(index, 0, NaN).\n *\n * @param index The position of the new NaN size item.\n */\nfunction insert(index) {\n    // We don't support interleaved pending inserts and removes\n    if(this.removes) {\n        flushPendingChanges.call(this);\n    }\n\n    if(this.inserts) {\n        // Update the last interval or add a new one?\n        var lastIndex = this.inserts.length - 1;\n        var intervalEnd = this.inserts[lastIndex];\n\n        if(index === intervalEnd + 1) {\n            // Extend the end of the interval\n            this.inserts[lastIndex] = index;\n        } else if(index > intervalEnd) {\n            // New interval\n            this.inserts.push(index);\n            this.inserts.push(index);\n        } else {\n            // We can't support pending inserts that are not ascending\n            flushPendingChanges.call(this);\n        }\n    }\n\n    this._pendingLength = Math.max(this._length, index + 1);\n\n    if(!this.inserts) {\n        this.inserts = [];\n        this.inserts.push(index);\n        this.inserts.push(index);\n    }\n}\n\n/**\n * Remove index by shifting all of the sizes one position to the left,\n * begining with index+1.\n *\n * This is similar to array.splice(index, 1).\n *\n * @param index The position to be removed.\n */\nfunction remove(index) {\n    // We don't support interleaved pending inserts and removes\n    if(this.inserts) {\n        flushPendingChanges.call(this);\n    }\n\n    // length getter takes into account pending inserts/removes but doesn't flush\n    if(index >= this.getLength()) {\n        throw new Error(\"Invalid index and all that.\");\n    }\n\n    if(this.removes) {\n        // Update the last interval or add a new one?\n        var lastIndex = this.removes.length - 1;\n        var intervalStart = this.removes[lastIndex];\n\n        if(index === intervalStart - 1) {\n            // Extend the start of the interval\n            this.removes[lastIndex] = index;\n        } else if(index < intervalStart) {\n            // New interval\n            this.removes.push(index);\n            this.removes.push(index);\n        } else {\n            // We can't support pending removes that are not descending\n            flushPendingChanges.call(this);\n        }\n    }\n\n    this._pendingLength = (this._pendingLength === -1) ? length - 1 : this._pendingLength - 1;\n\n    if(!this.removes) {\n        this.removes = [];\n        this.removes.push(index);\n        this.removes.push(index);\n    }\n}\n\n/**\n * @private\n * Returns true when all sizes in the specified interval for the block are NaN\n */\nfunction isIntervalClear(block, index, count) {\n    var sizes = block.sizes, size;\n    for(count += index; index < count; ++index) {\n        if((size = sizes[index]) === size) {\n            return false;\n        }\n    }\n    return true;\n}\n\n/**\n * @private\n * Copies elements between blocks. Indices relative to the blocks.\n * If srcBlock is null, then it fills the destination with NaNs.\n * The case of srcBlock === dstBlock is also supported.\n * The caller must ensure that count is within range.\n */\nfunction inBlockCopy(dstBlock, dstIndexStart, srcBlock, srcIndexStart, count) {\n    var ascending = dstIndexStart < srcIndexStart;\n\n    var srcIndex = ascending ? srcIndexStart : srcIndexStart + count - 1;\n    var dstIndex = ascending ? dstIndexStart : dstIndexStart + count - 1;\n    var increment = ascending ? +1 : -1;\n\n    var dstSizes = dstBlock.sizes;\n    var srcSizes = srcBlock ? srcBlock.sizes : null;\n    var dstValue = NaN;\n    var srcValue = NaN;\n    var sizesSumDelta = 0; // How much the destination sizesSum will change\n    var defaultCountDelta = 0; // How much the destination defaultCount will change\n\n    while(count > 0) {\n        if(srcSizes) {\n            srcValue = srcSizes[srcIndex];\n        }\n\n        dstValue = dstSizes[dstIndex];\n\n        // Are the values different?\n        if(srcValue !== dstValue) { // Triple '=' to handle NaN comparison\n\n            // Are we removing a default size or a chached size?\n            if(dstValue !== dstValue) {\n                defaultCountDelta--;\n            } else {\n                sizesSumDelta -= dstValue;\n            }\n\n            // Are we adding a default size or a cached size?\n            if(srcValue !== srcValue) {\n                defaultCountDelta++;\n            } else {\n                sizesSumDelta += srcValue;\n            }\n\n            dstSizes[dstIndex] = srcValue;\n        }\n\n        srcIndex += increment;\n        dstIndex += increment;\n        count--;\n    }\n\n    dstBlock.sizesSum += sizesSumDelta;\n    dstBlock.defaultCount += defaultCountDelta;\n}\n\n/**\n * @private\n * Copies 'count' elements from dstIndex to srcIndex.\n * Safe for overlapping source and destination intervals.\n * If any blocks are left full of NaNs, they will be deallcated.\n */\nfunction copyInterval(dstIndex, srcIndex, count) {\n    var ascending = dstIndex < srcIndex;\n    if(!ascending) {\n        dstIndex += count - 1;\n        srcIndex += count - 1;\n    }\n\n    while(count > 0) {\n        // Figure out destination block\n        var dstBlockIndex = dstIndex >> this.block_shift;\n        var dstSizesIndex = dstIndex & this.block_mask;\n        var dstBlock = this.block_table[dstBlockIndex];\n\n        // Figure out source block\n        var srcBlockIndex = srcIndex >> this.block_shift;\n        var srcSizesIndex = srcIndex & this.block_mask;\n        var srcBlock = this.block_table[srcBlockIndex];\n\n        // Figure out number of elements to copy\n        var copyCount = ascending ?\n            Math.min(this.block_size - dstSizesIndex, this.block_size - srcSizesIndex) :\n            1 + Math.min(dstSizesIndex, srcSizesIndex);\n\n        copyCount = Math.min(copyCount, count);\n\n        // Figure out the start index for each block\n        var dstStartIndex = ascending ? dstSizesIndex : dstSizesIndex - copyCount + 1;\n        var srcStartIndex = ascending ? srcSizesIndex : srcSizesIndex - copyCount + 1;\n\n        // Check whether a destination block needs to be allocated.\n        // Allocate only if there are non-default values to be copied from the source.\n        if(srcBlock && !dstBlock && isIntervalClear(srcBlock, srcStartIndex, copyCount)) {\n            dstBlock = new Block(this.block_size);\n            this.block_table[dstBlockIndex] = dstBlock;\n        }\n\n        // Copy to non-null dstBlock, srcBlock can be null\n        if(dstBlock) {\n            inBlockCopy(dstBlock, dstStartIndex, srcBlock, srcStartIndex, copyCount);\n\n            // If this is the last time we're visiting this block, and it contains\n            // only NaNs, then remove it\n            if(dstBlock.defaultCount === this.block_size) {\n                var blockEndReached = ascending ?\n                    (dstStartIndex + copyCount === this.block_size) :\n                    (dstStartIndex === 0);\n                if(blockEndReached || count === copyCount)\n                    this.block_table[dstBlockIndex] = null;\n            }\n        }\n\n        dstIndex += ascending ? copyCount : -copyCount;\n        srcIndex += ascending ? copyCount : -copyCount;\n        count -= copyCount;\n    }\n}\n\n/**\n * @private\n * Sets all elements within the specified interval to NaN (both ends inclusive).\n * Releases empty blocks.\n */\nfunction clearInterval(start, end) {\n    while(start <= end) {\n        // Figure our destination block\n        var blockIndex = start >> this.block_shift;\n        var sizesIndex = start & this.block_mask;\n        var block = this.block_table[blockIndex];\n\n        // Figure out number of elements to clear in this iteration\n        // Make sure we don't clear more items than requested\n        var clearCount = this.block_size - sizesIndex;\n        clearCount = Math.min(clearCount, end - start + 1);\n\n        if(block) {\n            if(clearCount === this.block_size) {\n                this.block_table[blockIndex] = null;\n            } else {\n                // Copying from null source block is equivalent of clearing the destination block\n                inBlockCopy(block, sizesIndex, null /*srcBlock*/, 0, clearCount);\n\n                // If the blockDst contains only default sizes, then remove the block\n                if(block.defaultCount === this.block_size) {\n                    this.block_table[blockIndex] = null;\n                }\n            }\n        }\n\n        start += clearCount;\n    }\n}\n\n/**\n * @private\n * Removes the elements designated by the intervals and truncates\n * the LinearLayoutVector to the new length.\n * 'intervals' is a Vector of descending intervals [7, 5, 3, 1]\n */\nfunction removeIntervals(intervals) {\n    var intervalsCount = intervals.length;\n    if(intervalsCount === 0) {\n        return;\n    }\n\n    // Adding final nextIntervalStart value (see below).\n    intervals.reverse(); // turn into ascending, for example [7, 5, 3, 1] --> [1, 3, 5, 7]\n    intervals.push(this.getLength());\n\n    // Move the elements\n    var dstStart = intervals[0];\n    var srcStart;\n    var count;\n    var i = 0;\n    do {\n        var intervalEnd = intervals[i + 1];\n        var nextIntervalStart = intervals[i + 2];\n        i += 2;\n\n        // Start copy from after the end of current interval\n        srcStart = intervalEnd + 1;\n\n        // copy all elements up to the start of the next interval.\n        count = nextIntervalStart - srcStart;\n\n        copyInterval.call(this, dstStart, srcStart, count);\n        dstStart += count;\n    } while(i < intervalsCount)\n\n    // Truncate the excess elements.\n    this.setLength(dstStart);\n}\n\n/**\n * @private\n * Increases the length and inserts NaN values for the elements designated by the intervals.\n * 'intervals' is a Vector of ascending intervals [1, 3, 5, 7]\n */\nfunction insertIntervals(intervals, newLength) {\n    var intervalsCount = intervals.length;\n    if(intervalsCount === 0) {\n        return;\n    }\n\n    // Allocate enough space for the insertions, all the elements\n    // allocated are NaN by default.\n    var oldLength = this.getLength();\n    this.setLength(newLength);\n\n    var srcEnd = oldLength - 1;\n    var dstEnd = newLength - 1;\n    var i = intervalsCount - 2;\n    while(i >= 0) {\n        // Find current interval\n        var intervalStart = intervals[i];\n        var intervalEnd = intervals[i + 1];\n        i -= 2;\n\n        // Start after the current interval\n        var dstStart = intervalEnd + 1;\n        var copyCount = dstEnd - dstStart + 1;\n        var srcStart = srcEnd - copyCount + 1;\n\n        copyInterval.call(this, dstStart, srcStart, copyCount);\n        dstStart -= copyCount;\n        dstEnd = intervalStart - 1;\n\n        // Fill in with default NaN values after the copy\n        clearInterval.call(this, intervalStart, intervalEnd);\n    }\n}\n\n/**\n * @private\n * Processes any pending removes or pending inserts.\n */\nfunction flushPendingChanges() {\n    var intervals;\n    if(this.removes) {\n        intervals = this.removes;\n        this.removes = null;\n        this._pendingLength = -1;\n        removeIntervals.call(this, intervals);\n    } else if(this.inserts) {\n        intervals = this.inserts;\n        var newLength = this._pendingLength;\n        this.inserts = null;\n        this._pendingLength = -1;\n        insertIntervals.call(this, intervals, newLength);\n    }\n}\n\n/**\n * The cumulative distance to the start of the item at index, including\n * the gaps between items and the axisOffset.\n *\n * The value of start(0) is axisOffset.\n *\n * Equivalent to:\n * <pre>\n * var distance = this.getAxisOffset();\n * for (var i = 0; i &lt; index; i++)\n *     distance += get(i);\n * return distance + (gap * index);\n * </pre>\n *\n * The actual implementation is relatively efficient.\n *\n * @param index The item's index.\n * @see #end\n */\nfunction start(index) {\n\n    flushPendingChanges.call(this);\n\n    if((this._length === 0) || (index === 0)) {\n        return this.getAxisOffset();\n    }\n\n    if(index >= this._length) {\n        throw new Error(\"Invalid index and all that.\");\n    }\n\n    var distance = this.getAxisOffset();\n    var blockIndex = index >> this.block_shift;\n    for(var i = 0; i < blockIndex; i++)\n    {\n        var block = this.block_table[i];\n        distance += block ?\n            block.sizesSum + (block.defaultCount * this._defaultSize) :\n            this.block_size * this._defaultSize;\n    }\n    var lastBlock = this.block_table[blockIndex];\n    var lastBlockOffset = index & ~this.block_mask;\n    var lastBlockLength = index - lastBlockOffset;\n    if(lastBlock) {\n        var sizes = lastBlock.sizes;\n        for(i = 0; i < lastBlockLength; i++) {\n            var size = sizes[i];\n            distance += (size !== size) ? this._defaultSize : size;\n        }\n    } else {\n        distance += this._defaultSize * lastBlockLength;\n    }\n    distance += index * this.getGap();\n    return distance;\n}\n\n/**\n * The cumulative distance to the end of the item at index, including\n * the gaps between items.\n *\n * If <code>index &lt;(length-1)</code> then the value of this\n * function is defined as:\n * <code>start(index) + get(index)</code>.\n *\n * @param index The item's index.\n * @see #start\n */\nfunction end(index) {\n    flushPendingChanges.call(this);\n    return this.start(index) + this.getItemSize(index);\n}\n\n/**\n * Returns the index of the item that overlaps the specified distance.\n *\n * The item at index <code>i</code> overlaps a distance value\n * if <code>start(i) &lt;= distance &lt; end(i)</code>.\n *\n * If no such item exists, -1 is returned.\n */\nfunction indexOf(distance) {\n    flushPendingChanges.call(this);\n    var index = indexOfInternal.call(this, distance);\n    return (index >= this._length) ? -1 : index;\n}\n\nfunction indexOfInternal(distance) {\n\n    if((this._length === 0) || (distance < 0)) {\n        return -1;\n    }\n\n    // The area of the first item includes the axisOffset\n    var curDistance = this.getAxisOffset();\n\n    if(distance < curDistance) {\n        return 0;\n    }\n\n    var index = -1,\n        block = null,\n        blockSize = this.block_size,\n        defaultSize = this._defaultSize,\n        gap = this.getGap(),\n        blockGap = gap * blockSize;\n\n    // Find the block that contains distance and the index of its\n    // first element\n    var blockIndex = -1,\n        blockTable = this.block_table,\n        blockTableLength = blockTable.length;\n\n    for(; ++blockIndex < blockTableLength;) {\n        block = blockTable[blockIndex];\n        var blockDistance = blockGap + (\n            block ?\n                block.sizesSum + (block.defaultCount * defaultSize) :\n                blockSize * defaultSize\n        );\n\n        if((distance === curDistance) || ((distance >= curDistance) && (distance < (curDistance + blockDistance)))) {\n            index = blockIndex << this.block_shift;\n            break;\n        }\n        curDistance += blockDistance;\n    }\n\n    if((index === -1) || (distance === curDistance)) {\n        return index;\n    }\n\n    // At this point index corresponds to the first item in this block\n    if(block) {\n        // Find the item that contains distance and return its index\n        var sizes = block.sizes,\n            n = this.block_size - 1;\n        for(var i = 0; i < n; i++) {\n            var size = sizes[i];\n            curDistance += gap + (size !== size ? this._defaultSize : size);\n            if(curDistance > distance) {\n                return index + i;\n            }\n        }\n        // TBD special-case for the very last index\n        return index + this.block_size - 1;\n    } else {\n        return index + Math.floor(Number(distance - curDistance) / Number(this._defaultSize + gap));\n    }\n}\n\n/**\n * Clear all cached state, reset length to zero.\n */\nfunction clear() {\n    // Discard any pending changes, before setting the length\n    // otherwise the length setter will commit the changes.\n    this.removes = null;\n    this.inserts = null;\n    this._pendingLength = -1;\n\n    this.setLength(0); // clears the this.block_table as well\n}\n\nfunction toString$4() {\n    return \"LinearLayoutVector { \" +\n        \"length: \" + this._length + \", \" +\n        \"size: \" + this.end(this.getLength() -1) + \", \" +\n        \"[blocks: \" + this.block_table.length + \"]\" + \", \" +\n        \"gap: \" + this._gap + \", \" +\n        \"defaultSize: \" + this._defaultSize + \", \" +\n        \"pendingRemoves: \" + (this.removes ? this.removes.length : 0) + \", \" +\n        \"pendingInserts: \" + (this.inserts ? this.inserts.length : 0) +\n        \" }\";\n}\n\n/**\n * @private\n * A LinearLayoutVector block of layout element heights or widths.\n *\n * Total \"distance\" for a Block is: sizesSum + (defaultCount * distanceVector.default).\n */\nfunction Block(block_size) {\n\n    this.sizes = new Array(block_size);\n    this.sizesSum = 0;\n    this.defaultCount = block_size;\n\n    for(var i = -1; ++i < block_size;) {\n        this.sizes[i] = NaN;\n    }\n}\n\nvar bpfrpt_proptype_CellPosition = process.env.NODE_ENV === 'production' ? null : {\n  columnIndex: propTypes.number.isRequired,\n  rowIndex: propTypes.number.isRequired\n};\nvar bpfrpt_proptype_CellRendererParams = process.env.NODE_ENV === 'production' ? null : {\n  columnIndex: propTypes.number.isRequired,\n  isScrolling: propTypes.bool.isRequired,\n  isVisible: propTypes.bool.isRequired,\n  key: propTypes.string.isRequired,\n  parent: propTypes.object.isRequired,\n  rowIndex: propTypes.number.isRequired,\n  style: propTypes.object.isRequired\n};\nvar bpfrpt_proptype_CellRenderer = process.env.NODE_ENV === 'production' ? null : propTypes.func;\nvar bpfrpt_proptype_CellCache = process.env.NODE_ENV === 'production' ? null : propTypes.objectOf(propTypes.node.isRequired);\nvar bpfrpt_proptype_StyleCache = process.env.NODE_ENV === 'production' ? null : propTypes.objectOf(propTypes.object.isRequired);\nvar bpfrpt_proptype_CellRangeRendererParams = process.env.NODE_ENV === 'production' ? null : {\n  cellCache: propTypes.objectOf(propTypes.node.isRequired).isRequired,\n  cellRenderer: propTypes.func.isRequired,\n  columnSizeAndPositionManager: function columnSizeAndPositionManager() {\n    return (typeof ScalingCellSizeAndPositionManager === 'function' ? propTypes.instanceOf(ScalingCellSizeAndPositionManager).isRequired : propTypes.any.isRequired).apply(this, arguments);\n  },\n  columnStartIndex: propTypes.number.isRequired,\n  columnStopIndex: propTypes.number.isRequired,\n  deferredMeasurementCache: propTypes.object,\n  horizontalOffsetAdjustment: propTypes.number.isRequired,\n  isScrolling: propTypes.bool.isRequired,\n  isScrollingOptOut: propTypes.bool.isRequired,\n  parent: propTypes.object.isRequired,\n  rowSizeAndPositionManager: function rowSizeAndPositionManager() {\n    return (typeof ScalingCellSizeAndPositionManager === 'function' ? propTypes.instanceOf(ScalingCellSizeAndPositionManager).isRequired : propTypes.any.isRequired).apply(this, arguments);\n  },\n  rowStartIndex: propTypes.number.isRequired,\n  rowStopIndex: propTypes.number.isRequired,\n  scrollLeft: propTypes.number.isRequired,\n  scrollTop: propTypes.number.isRequired,\n  styleCache: propTypes.objectOf(propTypes.object.isRequired).isRequired,\n  verticalOffsetAdjustment: propTypes.number.isRequired,\n  visibleColumnIndices: propTypes.object.isRequired,\n  visibleRowIndices: propTypes.object.isRequired\n};\nvar bpfrpt_proptype_CellRangeRenderer = process.env.NODE_ENV === 'production' ? null : propTypes.func;\nvar bpfrpt_proptype_CellSizeGetter = process.env.NODE_ENV === 'production' ? null : propTypes.func;\nvar bpfrpt_proptype_CellSize = process.env.NODE_ENV === 'production' ? null : propTypes.oneOfType([propTypes.func, propTypes.number]);\nvar bpfrpt_proptype_NoContentRenderer = process.env.NODE_ENV === 'production' ? null : propTypes.func;\nvar bpfrpt_proptype_Scroll = process.env.NODE_ENV === 'production' ? null : {\n  clientHeight: propTypes.number.isRequired,\n  clientWidth: propTypes.number.isRequired,\n  scrollHeight: propTypes.number.isRequired,\n  scrollLeft: propTypes.number.isRequired,\n  scrollTop: propTypes.number.isRequired,\n  scrollWidth: propTypes.number.isRequired\n};\nvar bpfrpt_proptype_ScrollbarPresenceChange = process.env.NODE_ENV === 'production' ? null : {\n  horizontal: propTypes.bool.isRequired,\n  vertical: propTypes.bool.isRequired,\n  size: propTypes.number.isRequired\n};\nvar bpfrpt_proptype_RenderedSection = process.env.NODE_ENV === 'production' ? null : {\n  columnOverscanStartIndex: propTypes.number.isRequired,\n  columnOverscanStopIndex: propTypes.number.isRequired,\n  columnStartIndex: propTypes.number.isRequired,\n  columnStopIndex: propTypes.number.isRequired,\n  rowOverscanStartIndex: propTypes.number.isRequired,\n  rowOverscanStopIndex: propTypes.number.isRequired,\n  rowStartIndex: propTypes.number.isRequired,\n  rowStopIndex: propTypes.number.isRequired\n};\nvar bpfrpt_proptype_OverscanIndicesGetterParams = process.env.NODE_ENV === 'production' ? null : {\n  // One of SCROLL_DIRECTION_HORIZONTAL or SCROLL_DIRECTION_VERTICAL\n  direction: propTypes.oneOf(['horizontal', 'vertical']).isRequired,\n\n\n  // One of SCROLL_DIRECTION_BACKWARD or SCROLL_DIRECTION_FORWARD\n  scrollDirection: propTypes.oneOf([-1, 1]).isRequired,\n\n\n  // Number of rows or columns in the current axis\n  cellCount: propTypes.number.isRequired,\n\n\n  // Maximum number of cells to over-render in either direction\n  overscanCellsCount: propTypes.number.isRequired,\n\n\n  // Begin of range of visible cells\n  startIndex: propTypes.number.isRequired,\n\n\n  // End of range of visible cells\n  stopIndex: propTypes.number.isRequired\n};\nvar bpfrpt_proptype_OverscanIndices = process.env.NODE_ENV === 'production' ? null : {\n  overscanStartIndex: propTypes.number.isRequired,\n  overscanStopIndex: propTypes.number.isRequired\n};\nvar bpfrpt_proptype_OverscanIndicesGetter = process.env.NODE_ENV === 'production' ? null : propTypes.func;\nvar bpfrpt_proptype_Alignment = process.env.NODE_ENV === 'production' ? null : propTypes.oneOf(['auto', 'end', 'start', 'center']);\nvar bpfrpt_proptype_VisibleCellRange = process.env.NODE_ENV === 'production' ? null : {\n  start: propTypes.number,\n  stop: propTypes.number\n};\n\n/**\n * Just-in-time calculates and caches size and position information for a collection of cells.\n */\n\nvar CellSizeAndPositionManager = function () {\n\n  // Measurements for cells up to this index can be trusted; cells afterward should be estimated.\n  function CellSizeAndPositionManager(_ref) {\n    var cellCount = _ref.cellCount,\n        cellSizeGetter = _ref.cellSizeGetter,\n        estimatedCellSize = _ref.estimatedCellSize;\n\n    _classCallCheck(this, CellSizeAndPositionManager);\n\n    this._lastMeasuredIndex = -1;\n\n    this._cellSizeGetter = cellSizeGetter;\n    this._cellCount = cellCount;\n    this._estimatedCellSize = estimatedCellSize;\n    this._layoutVector = new linearLayoutVector();\n    this._layoutVector.setLength(cellCount);\n    this._layoutVector.setDefaultSize(estimatedCellSize);\n  }\n  // Cache of size and position data for cells, mapped by cell index.\n  // Note that invalid values may exist in this map so only rely on cells up to this._lastMeasuredIndex\n\n\n  _createClass(CellSizeAndPositionManager, [{\n    key: 'areOffsetsAdjusted',\n    value: function areOffsetsAdjusted() {\n      return false;\n    }\n  }, {\n    key: 'configure',\n    value: function configure(_ref2) {\n      var cellCount = _ref2.cellCount,\n          estimatedCellSize = _ref2.estimatedCellSize,\n          cellSizeGetter = _ref2.cellSizeGetter;\n\n      this._cellCount = cellCount;\n      this._estimatedCellSize = estimatedCellSize;\n      this._cellSizeGetter = cellSizeGetter;\n      this._layoutVector.setLength(cellCount);\n      this._layoutVector.setDefaultSize(estimatedCellSize);\n    }\n  }, {\n    key: 'getCellCount',\n    value: function getCellCount() {\n      return this._cellCount;\n    }\n  }, {\n    key: 'getEstimatedCellSize',\n    value: function getEstimatedCellSize() {\n      return this._estimatedCellSize;\n    }\n  }, {\n    key: 'getLastMeasuredIndex',\n    value: function getLastMeasuredIndex() {\n      return this._lastMeasuredIndex;\n    }\n  }, {\n    key: 'getOffsetAdjustment',\n    value: function getOffsetAdjustment() {\n      return 0;\n    }\n\n    /**\n     * This method returns the size and position for the cell at the specified index.\n     * It just-in-time calculates (or used cached values) for cells leading up to the index.\n     */\n\n  }, {\n    key: 'getSizeAndPositionOfCell',\n    value: function getSizeAndPositionOfCell(index) {\n      if (index < 0 || index >= this._cellCount) {\n        throw Error('Requested index ' + index + ' is outside of range 0..' + this._cellCount);\n      }\n      var vector = this._layoutVector;\n      if (index > this._lastMeasuredIndex) {\n        var token = { index: this._lastMeasuredIndex + 1 };\n\n        for (var i = token.index; i <= index; token.index = ++i) {\n          var _size = this._cellSizeGetter(token);\n          // undefined or NaN probably means a logic error in the size getter.\n          // null means we're using CellMeasurer and haven't yet measured a given index.\n          if (_size === undefined || _size !== _size) {\n            throw Error('Invalid size returned for cell ' + i + ' of value ' + _size);\n          } else if (_size !== null) {\n            vector.setItemSize(i, _size);\n          }\n        }\n        this._lastMeasuredIndex = Math.min(index, this._cellCount - 1);\n      }\n\n      return {\n        offset: vector.start(index),\n        size: vector.getItemSize(index)\n      };\n    }\n  }, {\n    key: 'getSizeAndPositionOfLastMeasuredCell',\n    value: function getSizeAndPositionOfLastMeasuredCell() {\n      var index = this._lastMeasuredIndex;\n      if (index <= 0) {\n        return {\n          offset: 0,\n          size: 0\n        };\n      }\n      var vector = this._layoutVector;\n      return {\n        offset: vector.start(index),\n        size: vector.getItemSize(index)\n      };\n    }\n\n    /**\n     * Total size of all cells being measured.\n     * This value will be completely estimated initially.\n     * As cells are measured, the estimate will be updated.\n     */\n\n  }, {\n    key: 'getTotalSize',\n    value: function getTotalSize() {\n      var lastIndex = this._cellCount - 1;\n      return lastIndex >= 0 ? this._layoutVector.end(lastIndex) : 0;\n    }\n\n    /**\n     * Determines a new offset that ensures a certain cell is visible, given the current offset.\n     * If the cell is already visible then the current offset will be returned.\n     * If the current offset is too great or small, it will be adjusted just enough to ensure the specified index is visible.\n     *\n     * @param align Desired alignment within container; one of \"auto\" (default), \"start\", or \"end\"\n     * @param containerSize Size (width or height) of the container viewport\n     * @param currentOffset Container's current (x or y) offset\n     * @param totalSize Total size (width or height) of all cells\n     * @return Offset to use to ensure the specified cell is visible\n     */\n\n  }, {\n    key: 'getUpdatedOffsetForIndex',\n    value: function getUpdatedOffsetForIndex(_ref3) {\n      var _ref3$align = _ref3.align,\n          align = _ref3$align === undefined ? 'auto' : _ref3$align,\n          containerSize = _ref3.containerSize,\n          currentOffset = _ref3.currentOffset,\n          targetIndex = _ref3.targetIndex;\n\n      if (containerSize <= 0) {\n        return 0;\n      }\n\n      var datum = this.getSizeAndPositionOfCell(targetIndex);\n      var maxOffset = datum.offset;\n      var minOffset = maxOffset - containerSize + datum.size;\n\n      var idealOffset = void 0;\n\n      switch (align) {\n        case 'start':\n          idealOffset = maxOffset;\n          break;\n        case 'end':\n          idealOffset = minOffset;\n          break;\n        case 'center':\n          idealOffset = maxOffset - (containerSize - datum.size) / 2;\n          break;\n        default:\n          idealOffset = Math.max(minOffset, Math.min(maxOffset, currentOffset));\n          break;\n      }\n\n      var totalSize = this.getTotalSize();\n\n      return Math.max(0, Math.min(totalSize - containerSize, idealOffset));\n    }\n  }, {\n    key: 'getVisibleCellRange',\n    value: function getVisibleCellRange(params) {\n      if (this.getTotalSize() === 0) {\n        return {};\n      }\n\n      var containerSize = params.containerSize,\n          offset = params.offset;\n\n      var maxOffset = offset + containerSize - 1;\n      return {\n        start: this._findNearestCell(offset),\n        stop: this._findNearestCell(maxOffset)\n      };\n    }\n\n    /**\n     * Clear all cached values for cells after the specified index.\n     * This method should be called for any cell that has changed its size.\n     * It will not immediately perform any calculations; they'll be performed the next time getSizeAndPositionOfCell() is called.\n     */\n\n  }, {\n    key: 'resetCell',\n    value: function resetCell(index) {\n      this._lastMeasuredIndex = Math.min(this._lastMeasuredIndex, index - 1);\n    }\n\n    /**\n     * Searches for the cell (index) nearest the specified offset.\n     *\n     * If no exact match is found the next lowest cell index will be returned.\n     * This allows partially visible cells (with offsets just before/above the fold) to be visible.\n     */\n\n  }, {\n    key: '_findNearestCell',\n    value: function _findNearestCell(offset) {\n      if (isNaN(offset)) {\n        throw Error('Invalid offset ' + offset + ' specified');\n      }\n\n      var vector = this._layoutVector;\n      var lastIndex = this._cellCount - 1;\n      // Our search algorithms find the nearest match at or below the specified offset.\n      // So make sure the offset is at least 0 or no match will be found.\n      var targetOffset = Math.max(0, Math.min(offset, vector.start(lastIndex)));\n      // First interrogate the constant-time lookup table\n      var nearestCellIndex = vector.indexOf(targetOffset);\n\n      // If we haven't yet measured this high, compute sizes for each cell up to the desired offset.\n      while (nearestCellIndex > this._lastMeasuredIndex) {\n        // Measure all the cells up to the one we want to find presently.\n        // Do this before the last-index check to ensure the sparse array\n        // is fully populated.\n        this.getSizeAndPositionOfCell(nearestCellIndex);\n        // No need to search and compare again if we're at the end.\n        if (nearestCellIndex === lastIndex) {\n          return nearestCellIndex;\n        }\n        nearestCellIndex = vector.indexOf(targetOffset);\n        // Guard in case `getSizeAndPositionOfCell` didn't fully measure to\n        // the nearestCellIndex. This might happen scrolling quickly down\n        // and back up on large lists -- possible race with React or DOM?\n        if (nearestCellIndex === -1) {\n          nearestCellIndex = this._lastMeasuredIndex;\n          this._lastMeasuredIndex = nearestCellIndex - 1;\n          targetOffset = Math.max(0, Math.min(offset, vector.start(lastIndex)));\n        }\n      }\n\n      return nearestCellIndex;\n    }\n  }]);\n\n  return CellSizeAndPositionManager;\n}();\n\nvar DEFAULT_MAX_ELEMENT_SIZE = 1500000;\nvar CHROME_MAX_ELEMENT_SIZE = 1.67771e7;\n\nvar isBrowser$1 = function isBrowser() {\n  return typeof window !== 'undefined';\n};\n\nvar isChrome = function isChrome() {\n  return !!window.chrome && !!window.chrome.webstore;\n};\n\nvar getMaxElementSize = function getMaxElementSize() {\n  if (isBrowser$1()) {\n    if (isChrome()) {\n      return CHROME_MAX_ELEMENT_SIZE;\n    }\n  }\n  return DEFAULT_MAX_ELEMENT_SIZE;\n};\n\n/**\n * Browsers have scroll offset limitations (eg Chrome stops scrolling at ~33.5M pixels where as Edge tops out at ~1.5M pixels).\n * After a certain position, the browser won't allow the user to scroll further (even via JavaScript scroll offset adjustments).\n * This util picks a lower ceiling for max size and artificially adjusts positions within to make it transparent for users.\n */\n\n/**\n * Extends CellSizeAndPositionManager and adds scaling behavior for lists that are too large to fit within a browser's native limits.\n */\nvar ScalingCellSizeAndPositionManager = function () {\n  function ScalingCellSizeAndPositionManager(_ref) {\n    var _ref$maxScrollSize = _ref.maxScrollSize,\n        maxScrollSize = _ref$maxScrollSize === undefined ? getMaxElementSize() : _ref$maxScrollSize,\n        params = _objectWithoutProperties$6(_ref, ['maxScrollSize']);\n\n    _classCallCheck(this, ScalingCellSizeAndPositionManager);\n\n    // Favor composition over inheritance to simplify IE10 support\n    this._cellSizeAndPositionManager = new CellSizeAndPositionManager(params);\n    this._maxScrollSize = maxScrollSize;\n  }\n\n  _createClass(ScalingCellSizeAndPositionManager, [{\n    key: 'areOffsetsAdjusted',\n    value: function areOffsetsAdjusted() {\n      return this._cellSizeAndPositionManager.getTotalSize() > this._maxScrollSize;\n    }\n  }, {\n    key: 'configure',\n    value: function configure(params) {\n      this._cellSizeAndPositionManager.configure(params);\n    }\n  }, {\n    key: 'getCellCount',\n    value: function getCellCount() {\n      return this._cellSizeAndPositionManager.getCellCount();\n    }\n  }, {\n    key: 'getEstimatedCellSize',\n    value: function getEstimatedCellSize() {\n      return this._cellSizeAndPositionManager.getEstimatedCellSize();\n    }\n  }, {\n    key: 'getLastMeasuredIndex',\n    value: function getLastMeasuredIndex() {\n      return this._cellSizeAndPositionManager.getLastMeasuredIndex();\n    }\n\n    /**\n     * Number of pixels a cell at the given position (offset) should be shifted in order to fit within the scaled container.\n     * The offset passed to this function is scaled (safe) as well.\n     */\n\n  }, {\n    key: 'getOffsetAdjustment',\n    value: function getOffsetAdjustment(_ref2) {\n      var containerSize = _ref2.containerSize,\n          offset = _ref2.offset;\n\n      var totalSize = this._cellSizeAndPositionManager.getTotalSize();\n      var safeTotalSize = this.getTotalSize();\n      var offsetPercentage = this._getOffsetPercentage({\n        containerSize: containerSize,\n        offset: offset,\n        totalSize: safeTotalSize\n      });\n\n      return Math.round(offsetPercentage * (safeTotalSize - totalSize));\n    }\n  }, {\n    key: 'getSizeAndPositionOfCell',\n    value: function getSizeAndPositionOfCell(index) {\n      return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(index);\n    }\n  }, {\n    key: 'getSizeAndPositionOfLastMeasuredCell',\n    value: function getSizeAndPositionOfLastMeasuredCell() {\n      return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell();\n    }\n\n    /** See CellSizeAndPositionManager#getTotalSize */\n\n  }, {\n    key: 'getTotalSize',\n    value: function getTotalSize() {\n      return Math.min(this._maxScrollSize, this._cellSizeAndPositionManager.getTotalSize());\n    }\n\n    /** See CellSizeAndPositionManager#getUpdatedOffsetForIndex */\n\n  }, {\n    key: 'getUpdatedOffsetForIndex',\n    value: function getUpdatedOffsetForIndex(_ref3) {\n      var _ref3$align = _ref3.align,\n          align = _ref3$align === undefined ? 'auto' : _ref3$align,\n          containerSize = _ref3.containerSize,\n          currentOffset = _ref3.currentOffset,\n          targetIndex = _ref3.targetIndex;\n\n      currentOffset = this._safeOffsetToOffset({\n        containerSize: containerSize,\n        offset: currentOffset\n      });\n\n      var offset = this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({\n        align: align,\n        containerSize: containerSize,\n        currentOffset: currentOffset,\n        targetIndex: targetIndex\n      });\n\n      return this._offsetToSafeOffset({\n        containerSize: containerSize,\n        offset: offset\n      });\n    }\n\n    /** See CellSizeAndPositionManager#getVisibleCellRange */\n\n  }, {\n    key: 'getVisibleCellRange',\n    value: function getVisibleCellRange(_ref4) {\n      var containerSize = _ref4.containerSize,\n          offset = _ref4.offset;\n\n      offset = this._safeOffsetToOffset({\n        containerSize: containerSize,\n        offset: offset\n      });\n\n      return this._cellSizeAndPositionManager.getVisibleCellRange({\n        containerSize: containerSize,\n        offset: offset\n      });\n    }\n  }, {\n    key: 'resetCell',\n    value: function resetCell(index) {\n      this._cellSizeAndPositionManager.resetCell(index);\n    }\n  }, {\n    key: '_getOffsetPercentage',\n    value: function _getOffsetPercentage(_ref5) {\n      var containerSize = _ref5.containerSize,\n          offset = _ref5.offset,\n          totalSize = _ref5.totalSize;\n\n      return totalSize <= containerSize ? 0 : offset / (totalSize - containerSize);\n    }\n  }, {\n    key: '_offsetToSafeOffset',\n    value: function _offsetToSafeOffset(_ref6) {\n      var containerSize = _ref6.containerSize,\n          offset = _ref6.offset;\n\n      var totalSize = this._cellSizeAndPositionManager.getTotalSize();\n      var safeTotalSize = this.getTotalSize();\n\n      if (totalSize === safeTotalSize) {\n        return offset;\n      } else {\n        var offsetPercentage = this._getOffsetPercentage({\n          containerSize: containerSize,\n          offset: offset,\n          totalSize: totalSize\n        });\n\n        return Math.round(offsetPercentage * (safeTotalSize - containerSize));\n      }\n    }\n  }, {\n    key: '_safeOffsetToOffset',\n    value: function _safeOffsetToOffset(_ref7) {\n      var containerSize = _ref7.containerSize,\n          offset = _ref7.offset;\n\n      var totalSize = this._cellSizeAndPositionManager.getTotalSize();\n      var safeTotalSize = this.getTotalSize();\n\n      if (totalSize === safeTotalSize) {\n        return offset;\n      } else {\n        var offsetPercentage = this._getOffsetPercentage({\n          containerSize: containerSize,\n          offset: offset,\n          totalSize: safeTotalSize\n        });\n\n        return Math.round(offsetPercentage * (totalSize - containerSize));\n      }\n    }\n  }]);\n\n  return ScalingCellSizeAndPositionManager;\n}();\n\n// 19.1.2.14 Object.keys(O)\n\n\n\n_objectSap('keys', function () {\n  return function keys(it) {\n    return _objectKeys(_toObject(it));\n  };\n});\n\nvar keys$1 = _core.Object.keys;\n\nvar keys$2 = createCommonjsModule(function (module) {\nmodule.exports = { \"default\": keys$1, __esModule: true };\n});\n\nvar _Object$keys = unwrapExports(keys$2);\n\n/**\n * Helper utility that updates the specified callback whenever any of the specified indices have changed.\n */\nfunction createCallbackMemoizer() {\n  var requireAllKeys = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  var cachedIndices = {};\n\n  return function (_ref) {\n    var callback = _ref.callback,\n        indices = _ref.indices;\n\n    var keys = _Object$keys(indices);\n    var allInitialized = !requireAllKeys || keys.every(function (key) {\n      var value = indices[key];\n      return Array.isArray(value) ? value.length > 0 : value >= 0;\n    });\n    var indexChanged = keys.length !== _Object$keys(cachedIndices).length || keys.some(function (key) {\n      var cachedValue = cachedIndices[key];\n      var value = indices[key];\n\n      return Array.isArray(value) ? cachedValue.join(',') !== value.join(',') : cachedValue !== value;\n    });\n\n    cachedIndices = indices;\n\n    if (allInitialized && indexChanged) {\n      callback(indices);\n    }\n  };\n}\n\nvar SCROLL_DIRECTION_BACKWARD = -1;\n\nvar SCROLL_DIRECTION_FORWARD = 1;\n\n/**\n * Calculates the number of cells to overscan before and after a specified range.\n * This function ensures that overscanning doesn't exceed the available cells.\n */\n\nfunction defaultOverscanIndicesGetter(_ref) {\n  var cellCount = _ref.cellCount,\n      overscanCellsCount = _ref.overscanCellsCount,\n      scrollDirection = _ref.scrollDirection,\n      startIndex = _ref.startIndex,\n      stopIndex = _ref.stopIndex;\n\n  if (scrollDirection === SCROLL_DIRECTION_FORWARD) {\n    return {\n      overscanStartIndex: Math.max(0, startIndex),\n      overscanStopIndex: Math.min(cellCount - 1, stopIndex + overscanCellsCount)\n    };\n  } else {\n    return {\n      overscanStartIndex: Math.max(0, startIndex - overscanCellsCount),\n      overscanStopIndex: Math.min(cellCount - 1, stopIndex)\n    };\n  }\n}\n\n/**\n * Helper function that determines when to update scroll offsets to ensure that a scroll-to-index remains visible.\n * This function also ensures that the scroll ofset isn't past the last column/row of cells.\n */\n\nfunction updateScrollIndexHelper(_ref) {\n  var cellSize = _ref.cellSize,\n      cellSizeAndPositionManager = _ref.cellSizeAndPositionManager,\n      previousCellsCount = _ref.previousCellsCount,\n      previousCellSize = _ref.previousCellSize,\n      previousScrollToAlignment = _ref.previousScrollToAlignment,\n      previousScrollToIndex = _ref.previousScrollToIndex,\n      previousSize = _ref.previousSize,\n      scrollOffset = _ref.scrollOffset,\n      scrollToAlignment = _ref.scrollToAlignment,\n      scrollToIndex = _ref.scrollToIndex,\n      size = _ref.size,\n      sizeJustIncreasedFromZero = _ref.sizeJustIncreasedFromZero,\n      updateScrollIndexCallback = _ref.updateScrollIndexCallback;\n\n  var cellCount = cellSizeAndPositionManager.getCellCount();\n  var hasScrollToIndex = scrollToIndex >= 0 && scrollToIndex < cellCount;\n  var sizeHasChanged = size !== previousSize || sizeJustIncreasedFromZero || !previousCellSize || typeof cellSize === 'number' && cellSize !== previousCellSize;\n\n  // If we have a new scroll target OR if height/row-height has changed,\n  // We should ensure that the scroll target is visible.\n  if (hasScrollToIndex && (sizeHasChanged || scrollToAlignment !== previousScrollToAlignment || scrollToIndex !== previousScrollToIndex)) {\n    updateScrollIndexCallback(scrollToIndex);\n\n    // If we don't have a selected item but list size or number of children have decreased,\n    // Make sure we aren't scrolled too far past the current content.\n  } else if (!hasScrollToIndex && cellCount > 0 && (size < previousSize || cellCount < previousCellsCount)) {\n    // We need to ensure that the current scroll offset is still within the collection's range.\n    // To do this, we don't need to measure everything; CellMeasurer would perform poorly.\n    // Just check to make sure we're still okay.\n    // Only adjust the scroll position if we've scrolled below the last set of rows.\n    if (scrollOffset > cellSizeAndPositionManager.getTotalSize() - size) {\n      updateScrollIndexCallback(cellCount - 1);\n    }\n  }\n}\n\n/**\n * Default implementation of cellRangeRenderer used by Grid.\n * This renderer supports cell-caching while the user is scrolling.\n */\n\nfunction defaultCellRangeRenderer(_ref) {\n  var cellCache = _ref.cellCache,\n      cellRenderer = _ref.cellRenderer,\n      columnSizeAndPositionManager = _ref.columnSizeAndPositionManager,\n      columnStartIndex = _ref.columnStartIndex,\n      columnStopIndex = _ref.columnStopIndex,\n      deferredMeasurementCache = _ref.deferredMeasurementCache,\n      horizontalOffsetAdjustment = _ref.horizontalOffsetAdjustment,\n      isScrolling = _ref.isScrolling,\n      isScrollingOptOut = _ref.isScrollingOptOut,\n      parent = _ref.parent,\n      rowSizeAndPositionManager = _ref.rowSizeAndPositionManager,\n      rowStartIndex = _ref.rowStartIndex,\n      rowStopIndex = _ref.rowStopIndex,\n      styleCache = _ref.styleCache,\n      verticalOffsetAdjustment = _ref.verticalOffsetAdjustment,\n      visibleColumnIndices = _ref.visibleColumnIndices,\n      visibleRowIndices = _ref.visibleRowIndices;\n\n  var renderedCells = [];\n\n  // Browsers have native size limits for elements (eg Chrome 33M pixels, IE 1.5M pixes).\n  // User cannot scroll beyond these size limitations.\n  // In order to work around this, ScalingCellSizeAndPositionManager compresses offsets.\n  // We should never cache styles for compressed offsets though as this can lead to bugs.\n  // See issue #576 for more.\n  var areOffsetsAdjusted = columnSizeAndPositionManager.areOffsetsAdjusted() || rowSizeAndPositionManager.areOffsetsAdjusted();\n\n  var canCacheStyle = !isScrolling && !areOffsetsAdjusted;\n\n  for (var rowIndex = rowStartIndex; rowIndex <= rowStopIndex; rowIndex++) {\n    var rowDatum = rowSizeAndPositionManager.getSizeAndPositionOfCell(rowIndex);\n\n    for (var columnIndex = columnStartIndex; columnIndex <= columnStopIndex; columnIndex++) {\n      var columnDatum = columnSizeAndPositionManager.getSizeAndPositionOfCell(columnIndex);\n      var isVisible = columnIndex >= visibleColumnIndices.start && columnIndex <= visibleColumnIndices.stop && rowIndex >= visibleRowIndices.start && rowIndex <= visibleRowIndices.stop;\n      var key = rowIndex + '-' + columnIndex;\n      var style = void 0;\n\n      // Cache style objects so shallow-compare doesn't re-render unnecessarily.\n      if (canCacheStyle && styleCache[key]) {\n        style = styleCache[key];\n      } else {\n        // In deferred mode, cells will be initially rendered before we know their size.\n        // Don't interfere with CellMeasurer's measurements by setting an invalid size.\n        if (deferredMeasurementCache && !deferredMeasurementCache.has(rowIndex, columnIndex)) {\n          // Position not-yet-measured cells at top/left 0,0,\n          // And give them width/height of 'auto' so they can grow larger than the parent Grid if necessary.\n          // Positioning them further to the right/bottom influences their measured size.\n          style = {\n            height: 'auto',\n            left: 0,\n            position: 'absolute',\n            top: 0,\n            width: 'auto'\n          };\n        } else {\n          style = {\n            height: rowDatum.size,\n            left: columnDatum.offset + horizontalOffsetAdjustment,\n            position: 'absolute',\n            top: rowDatum.offset + verticalOffsetAdjustment,\n            width: columnDatum.size\n          };\n\n          styleCache[key] = style;\n        }\n      }\n\n      var cellRendererParams = {\n        columnIndex: columnIndex,\n        isScrolling: isScrolling,\n        isVisible: isVisible,\n        key: key,\n        parent: parent,\n        rowIndex: rowIndex,\n        style: style\n      };\n\n      var renderedCell = void 0;\n\n      // Avoid re-creating cells while scrolling.\n      // This can lead to the same cell being created many times and can cause performance issues for \"heavy\" cells.\n      // If a scroll is in progress- cache and reuse cells.\n      // This cache will be thrown away once scrolling completes.\n      // However if we are scaling scroll positions and sizes, we should also avoid caching.\n      // This is because the offset changes slightly as scroll position changes and caching leads to stale values.\n      // For more info refer to issue #395\n      //\n      // If isScrollingOptOut is specified, we always cache cells.\n      // For more info refer to issue #1028\n      if ((isScrollingOptOut || isScrolling) && !horizontalOffsetAdjustment && !verticalOffsetAdjustment) {\n        if (!cellCache[key]) {\n          cellCache[key] = cellRenderer(cellRendererParams);\n        }\n\n        renderedCell = cellCache[key];\n\n        // If the user is no longer scrolling, don't cache cells.\n        // This makes dynamic cell content difficult for users and would also lead to a heavier memory footprint.\n      } else {\n        renderedCell = cellRenderer(cellRendererParams);\n      }\n\n      if (renderedCell == null || renderedCell === false) {\n        continue;\n      }\n\n      if (process.env.NODE_ENV !== 'production') {\n        warnAboutMissingStyle(parent, renderedCell);\n      }\n\n      renderedCells.push(renderedCell);\n    }\n  }\n\n  return renderedCells;\n}\n\nfunction warnAboutMissingStyle(parent, renderedCell) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (renderedCell) {\n      // If the direct child is a CellMeasurer, then we should check its child\n      // See issue #611\n      if (renderedCell.type && renderedCell.type.__internalCellMeasurerFlag) {\n        renderedCell = renderedCell.props.children;\n      }\n\n      if (renderedCell && renderedCell.props && renderedCell.props.style === undefined && parent.__warnedAboutMissingStyle !== true) {\n        parent.__warnedAboutMissingStyle = true;\n\n        console.warn('Rendered cell should include style property for positioning.');\n      }\n    }\n  }\n}\n\nvar interopRequireDefault = createCommonjsModule(function (module) {\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;\n});\n\nunwrapExports(interopRequireDefault);\n\nvar inDOM = createCommonjsModule(function (module, exports) {\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _default = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\n\nexports.default = _default;\nmodule.exports = exports[\"default\"];\n});\n\nunwrapExports(inDOM);\n\nvar scrollbarSize_1 = createCommonjsModule(function (module, exports) {\n\n\n\nexports.__esModule = true;\nexports.default = scrollbarSize;\n\nvar _inDOM = interopRequireDefault(inDOM);\n\nvar size;\n\nfunction scrollbarSize(recalc) {\n  if (!size && size !== 0 || recalc) {\n    if (_inDOM.default) {\n      var scrollDiv = document.createElement('div');\n      scrollDiv.style.position = 'absolute';\n      scrollDiv.style.top = '-9999px';\n      scrollDiv.style.width = '50px';\n      scrollDiv.style.height = '50px';\n      scrollDiv.style.overflow = 'scroll';\n      document.body.appendChild(scrollDiv);\n      size = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n      document.body.removeChild(scrollDiv);\n    }\n  }\n\n  return size;\n}\n\nmodule.exports = exports[\"default\"];\n});\n\nvar scrollbarSize = unwrapExports(scrollbarSize_1);\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nfunction componentWillMount() {\n  // Call this.constructor.gDSFP to support sub-classes.\n  var state = this.constructor.getDerivedStateFromProps(this.props, this.state);\n  if (state !== null && state !== undefined) {\n    this.setState(state);\n  }\n}\n\nfunction componentWillReceiveProps(nextProps) {\n  // Call this.constructor.gDSFP to support sub-classes.\n  // Use the setState() updater to ensure state isn't stale in certain edge cases.\n  function updater(prevState) {\n    var state = this.constructor.getDerivedStateFromProps(nextProps, prevState);\n    return state !== null && state !== undefined ? state : null;\n  }\n  // Binding \"this\" is important for shallow renderer support.\n  this.setState(updater.bind(this));\n}\n\nfunction componentWillUpdate(nextProps, nextState) {\n  try {\n    var prevProps = this.props;\n    var prevState = this.state;\n    this.props = nextProps;\n    this.state = nextState;\n    this.__reactInternalSnapshotFlag = true;\n    this.__reactInternalSnapshot = this.getSnapshotBeforeUpdate(\n      prevProps,\n      prevState\n    );\n  } finally {\n    this.props = prevProps;\n    this.state = prevState;\n  }\n}\n\n// React may warn about cWM/cWRP/cWU methods being deprecated.\n// Add a flag to suppress these warnings for this special case.\ncomponentWillMount.__suppressDeprecationWarning = true;\ncomponentWillReceiveProps.__suppressDeprecationWarning = true;\ncomponentWillUpdate.__suppressDeprecationWarning = true;\n\nfunction polyfill(Component) {\n  var prototype = Component.prototype;\n\n  if (!prototype || !prototype.isReactComponent) {\n    throw new Error('Can only polyfill class components');\n  }\n\n  if (\n    typeof Component.getDerivedStateFromProps !== 'function' &&\n    typeof prototype.getSnapshotBeforeUpdate !== 'function'\n  ) {\n    return Component;\n  }\n\n  // If new component APIs are defined, \"unsafe\" lifecycles won't be called.\n  // Error if any of these lifecycles are present,\n  // Because they would work differently between older and newer (16.3+) versions of React.\n  var foundWillMountName = null;\n  var foundWillReceivePropsName = null;\n  var foundWillUpdateName = null;\n  if (typeof prototype.componentWillMount === 'function') {\n    foundWillMountName = 'componentWillMount';\n  } else if (typeof prototype.UNSAFE_componentWillMount === 'function') {\n    foundWillMountName = 'UNSAFE_componentWillMount';\n  }\n  if (typeof prototype.componentWillReceiveProps === 'function') {\n    foundWillReceivePropsName = 'componentWillReceiveProps';\n  } else if (typeof prototype.UNSAFE_componentWillReceiveProps === 'function') {\n    foundWillReceivePropsName = 'UNSAFE_componentWillReceiveProps';\n  }\n  if (typeof prototype.componentWillUpdate === 'function') {\n    foundWillUpdateName = 'componentWillUpdate';\n  } else if (typeof prototype.UNSAFE_componentWillUpdate === 'function') {\n    foundWillUpdateName = 'UNSAFE_componentWillUpdate';\n  }\n  if (\n    foundWillMountName !== null ||\n    foundWillReceivePropsName !== null ||\n    foundWillUpdateName !== null\n  ) {\n    var componentName = Component.displayName || Component.name;\n    var newApiName =\n      typeof Component.getDerivedStateFromProps === 'function'\n        ? 'getDerivedStateFromProps()'\n        : 'getSnapshotBeforeUpdate()';\n\n    throw Error(\n      'Unsafe legacy lifecycles will not be called for components using new component APIs.\\n\\n' +\n        componentName +\n        ' uses ' +\n        newApiName +\n        ' but also contains the following legacy lifecycles:' +\n        (foundWillMountName !== null ? '\\n  ' + foundWillMountName : '') +\n        (foundWillReceivePropsName !== null\n          ? '\\n  ' + foundWillReceivePropsName\n          : '') +\n        (foundWillUpdateName !== null ? '\\n  ' + foundWillUpdateName : '') +\n        '\\n\\nThe above lifecycles should be removed. Learn more about this warning here:\\n' +\n        'https://fb.me/react-async-component-lifecycle-hooks'\n    );\n  }\n\n  // React <= 16.2 does not support static getDerivedStateFromProps.\n  // As a workaround, use cWM and cWRP to invoke the new static lifecycle.\n  // Newer versions of React will ignore these lifecycles if gDSFP exists.\n  if (typeof Component.getDerivedStateFromProps === 'function') {\n    prototype.componentWillMount = componentWillMount;\n    prototype.componentWillReceiveProps = componentWillReceiveProps;\n  }\n\n  // React <= 16.2 does not support getSnapshotBeforeUpdate.\n  // As a workaround, use cWU to invoke the new lifecycle.\n  // Newer versions of React will ignore that lifecycle if gSBU exists.\n  if (typeof prototype.getSnapshotBeforeUpdate === 'function') {\n    if (typeof prototype.componentDidUpdate !== 'function') {\n      throw new Error(\n        'Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype'\n      );\n    }\n\n    prototype.componentWillUpdate = componentWillUpdate;\n\n    var componentDidUpdate = prototype.componentDidUpdate;\n\n    prototype.componentDidUpdate = function componentDidUpdatePolyfill(\n      prevProps,\n      prevState,\n      maybeSnapshot\n    ) {\n      // 16.3+ will not execute our will-update method;\n      // It will pass a snapshot value to did-update though.\n      // Older versions will require our polyfilled will-update value.\n      // We need to handle both cases, but can't just check for the presence of \"maybeSnapshot\",\n      // Because for <= 15.x versions this might be a \"prevContext\" object.\n      // We also can't just check \"__reactInternalSnapshot\",\n      // Because get-snapshot might return a falsy value.\n      // So check for the explicit __reactInternalSnapshotFlag flag to determine behavior.\n      var snapshot = this.__reactInternalSnapshotFlag\n        ? this.__reactInternalSnapshot\n        : maybeSnapshot;\n\n      componentDidUpdate.call(this, prevProps, prevState, snapshot);\n    };\n  }\n\n  return Component;\n}\n\n// getting tag from 19.1.3.6 Object.prototype.toString()\n\nvar TAG$1 = _wks('toStringTag');\n// ES3 wrong here\nvar ARG = _cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nvar _classof = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG$1)) == 'string' ? T\n    // builtinTag case\n    : ARG ? _cof(O)\n    // ES3 arguments fallback\n    : (B = _cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n\nvar _anInstance = function (it, Constructor, name, forbiddenField) {\n  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n\n// call something on iterator step with safe closing on error\n\nvar _iterCall = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(_anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) _anObject(ret.call(iterator));\n    throw e;\n  }\n};\n\n// check on default Array iterator\n\nvar ITERATOR$1 = _wks('iterator');\nvar ArrayProto = Array.prototype;\n\nvar _isArrayIter = function (it) {\n  return it !== undefined && (_iterators.Array === it || ArrayProto[ITERATOR$1] === it);\n};\n\nvar ITERATOR$2 = _wks('iterator');\n\nvar core_getIteratorMethod = _core.getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR$2]\n    || it['@@iterator']\n    || _iterators[_classof(it)];\n};\n\nvar _forOf = createCommonjsModule(function (module) {\nvar BREAK = {};\nvar RETURN = {};\nvar exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {\n  var iterFn = ITERATOR ? function () { return iterable; } : core_getIteratorMethod(iterable);\n  var f = _ctx(fn, that, entries ? 2 : 1);\n  var index = 0;\n  var length, step, iterator, result;\n  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if (_isArrayIter(iterFn)) for (length = _toLength(iterable.length); length > index; index++) {\n    result = entries ? f(_anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if (result === BREAK || result === RETURN) return result;\n  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {\n    result = _iterCall(iterator, f, step.value, entries);\n    if (result === BREAK || result === RETURN) return result;\n  }\n};\nexports.BREAK = BREAK;\nexports.RETURN = RETURN;\n});\n\n// 7.3.20 SpeciesConstructor(O, defaultConstructor)\n\n\nvar SPECIES = _wks('species');\nvar _speciesConstructor = function (O, D) {\n  var C = _anObject(O).constructor;\n  var S;\n  return C === undefined || (S = _anObject(C)[SPECIES]) == undefined ? D : _aFunction(S);\n};\n\n// fast apply, http://jsperf.lnkit.com/fast-apply/5\nvar _invoke = function (fn, args, that) {\n  var un = that === undefined;\n  switch (args.length) {\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return fn.apply(that, args);\n};\n\nvar process$1 = _global.process;\nvar setTask = _global.setImmediate;\nvar clearTask = _global.clearImmediate;\nvar MessageChannel = _global.MessageChannel;\nvar Dispatch = _global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\nvar run = function () {\n  var id = +this;\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function (event) {\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!setTask || !clearTask) {\n  setTask = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      _invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (_cof(process$1) == 'process') {\n    defer = function (id) {\n      process$1.nextTick(_ctx(run, id, 1));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(_ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if (MessageChannel) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = _ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (_global.addEventListener && typeof postMessage == 'function' && !_global.importScripts) {\n    defer = function (id) {\n      _global.postMessage(id + '', '*');\n    };\n    _global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in _domCreate('script')) {\n    defer = function (id) {\n      _html.appendChild(_domCreate('script'))[ONREADYSTATECHANGE] = function () {\n        _html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(_ctx(run, id, 1), 0);\n    };\n  }\n}\nvar _task = {\n  set: setTask,\n  clear: clearTask\n};\n\nvar macrotask = _task.set;\nvar Observer = _global.MutationObserver || _global.WebKitMutationObserver;\nvar process$2 = _global.process;\nvar Promise$2 = _global.Promise;\nvar isNode = _cof(process$2) == 'process';\n\nvar _microtask = function () {\n  var head, last, notify;\n\n  var flush = function () {\n    var parent, fn;\n    if (isNode && (parent = process$2.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (e) {\n        if (head) notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (isNode) {\n    notify = function () {\n      process$2.nextTick(flush);\n    };\n  // browsers with MutationObserver, except iOS Safari - https://github.com/zloirock/core-js/issues/339\n  } else if (Observer && !(_global.navigator && _global.navigator.standalone)) {\n    var toggle = true;\n    var node = document.createTextNode('');\n    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise$2 && Promise$2.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    var promise = Promise$2.resolve(undefined);\n    notify = function () {\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(_global, flush);\n    };\n  }\n\n  return function (fn) {\n    var task = { fn: fn, next: undefined };\n    if (last) last.next = task;\n    if (!head) {\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n\n// 25.4.1.5 NewPromiseCapability(C)\n\n\nfunction PromiseCapability(C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = _aFunction(resolve);\n  this.reject = _aFunction(reject);\n}\n\nvar f$8 = function (C) {\n  return new PromiseCapability(C);\n};\n\nvar _newPromiseCapability = {\n\tf: f$8\n};\n\nvar _perform = function (exec) {\n  try {\n    return { e: false, v: exec() };\n  } catch (e) {\n    return { e: true, v: e };\n  }\n};\n\nvar navigator = _global.navigator;\n\nvar _userAgent = navigator && navigator.userAgent || '';\n\nvar _promiseResolve = function (C, x) {\n  _anObject(C);\n  if (_isObject(x) && x.constructor === C) return x;\n  var promiseCapability = _newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n\nvar _redefineAll = function (target, src, safe) {\n  for (var key in src) {\n    if (safe && target[key]) target[key] = src[key];\n    else _hide(target, key, src[key]);\n  } return target;\n};\n\nvar SPECIES$1 = _wks('species');\n\nvar _setSpecies = function (KEY) {\n  var C = typeof _core[KEY] == 'function' ? _core[KEY] : _global[KEY];\n  if (_descriptors && C && !C[SPECIES$1]) _objectDp.f(C, SPECIES$1, {\n    configurable: true,\n    get: function () { return this; }\n  });\n};\n\nvar ITERATOR$3 = _wks('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR$3]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nvar _iterDetect = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR$3]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR$3] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n\nvar task = _task.set;\nvar microtask = _microtask();\n\n\n\n\nvar PROMISE = 'Promise';\nvar TypeError$1 = _global.TypeError;\nvar process$3 = _global.process;\nvar versions = process$3 && process$3.versions;\nvar v8 = versions && versions.v8 || '';\nvar $Promise = _global[PROMISE];\nvar isNode$1 = _classof(process$3) == 'process';\nvar empty = function () { /* empty */ };\nvar Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;\nvar newPromiseCapability = newGenericPromiseCapability = _newPromiseCapability.f;\n\nvar USE_NATIVE$1 = !!function () {\n  try {\n    // correct subclassing with @@species support\n    var promise = $Promise.resolve(1);\n    var FakePromise = (promise.constructor = {})[_wks('species')] = function (exec) {\n      exec(empty, empty);\n    };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode$1 || typeof PromiseRejectionEvent == 'function')\n      && promise.then(empty) instanceof FakePromise\n      // v8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n      // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n      // we can't detect it synchronously, so just check versions\n      && v8.indexOf('6.6') !== 0\n      && _userAgent.indexOf('Chrome/66') === -1;\n  } catch (e) { /* empty */ }\n}();\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return _isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar notify = function (promise, isReject) {\n  if (promise._n) return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function () {\n    var value = promise._v;\n    var ok = promise._s == 1;\n    var i = 0;\n    var run = function (reaction) {\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (promise._h == 2) onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // may throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError$1('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (e) {\n        if (domain && !exited) domain.exit();\n        reject(e);\n      }\n    };\n    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if (isReject && !promise._h) onUnhandled(promise);\n  });\n};\nvar onUnhandled = function (promise) {\n  task.call(_global, function () {\n    var value = promise._v;\n    var unhandled = isUnhandled(promise);\n    var result, handler, console;\n    if (unhandled) {\n      result = _perform(function () {\n        if (isNode$1) {\n          process$3.emit('unhandledRejection', value, promise);\n        } else if (handler = _global.onunhandledrejection) {\n          handler({ promise: promise, reason: value });\n        } else if ((console = _global.console) && console.error) {\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode$1 || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if (unhandled && result.e) throw result.v;\n  });\n};\nvar isUnhandled = function (promise) {\n  return promise._h !== 1 && (promise._a || promise._c).length === 0;\n};\nvar onHandleUnhandled = function (promise) {\n  task.call(_global, function () {\n    var handler;\n    if (isNode$1) {\n      process$3.emit('rejectionHandled', promise);\n    } else if (handler = _global.onrejectionhandled) {\n      handler({ promise: promise, reason: promise._v });\n    }\n  });\n};\nvar $reject = function (value) {\n  var promise = this;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if (!promise._a) promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function (value) {\n  var promise = this;\n  var then;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if (promise === value) throw TypeError$1(\"Promise can't be resolved itself\");\n    if (then = isThenable(value)) {\n      microtask(function () {\n        var wrapper = { _w: promise, _d: false }; // wrap\n        try {\n          then.call(value, _ctx($resolve, wrapper, 1), _ctx($reject, wrapper, 1));\n        } catch (e) {\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch (e) {\n    $reject.call({ _w: promise, _d: false }, e); // wrap\n  }\n};\n\n// constructor polyfill\nif (!USE_NATIVE$1) {\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor) {\n    _anInstance(this, $Promise, PROMISE, '_h');\n    _aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(_ctx($resolve, this, 1), _ctx($reject, this, 1));\n    } catch (err) {\n      $reject.call(this, err);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = _redefineAll($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected) {\n      var reaction = newPromiseCapability(_speciesConstructor(this, $Promise));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode$1 ? process$3.domain : undefined;\n      this._c.push(reaction);\n      if (this._a) this._a.push(reaction);\n      if (this._s) notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    this.promise = promise;\n    this.resolve = _ctx($resolve, promise, 1);\n    this.reject = _ctx($reject, promise, 1);\n  };\n  _newPromiseCapability.f = newPromiseCapability = function (C) {\n    return C === $Promise || C === Wrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n}\n\n_export(_export.G + _export.W + _export.F * !USE_NATIVE$1, { Promise: $Promise });\n_setToStringTag($Promise, PROMISE);\n_setSpecies(PROMISE);\nWrapper = _core[PROMISE];\n\n// statics\n_export(_export.S + _export.F * !USE_NATIVE$1, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    var $$reject = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n_export(_export.S + _export.F * (_library ), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x) {\n    return _promiseResolve( this === Wrapper ? $Promise : this, x);\n  }\n});\n_export(_export.S + _export.F * !(USE_NATIVE$1 && _iterDetect(function (iter) {\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = _perform(function () {\n      var values = [];\n      var index = 0;\n      var remaining = 1;\n      _forOf(iterable, false, function (promise) {\n        var $index = index++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = _perform(function () {\n      _forOf(iterable, false, function (promise) {\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  }\n});\n\n_export(_export.P + _export.R, 'Promise', { 'finally': function (onFinally) {\n  var C = _speciesConstructor(this, _core.Promise || _global.Promise);\n  var isFunction = typeof onFinally == 'function';\n  return this.then(\n    isFunction ? function (x) {\n      return _promiseResolve(C, onFinally()).then(function () { return x; });\n    } : onFinally,\n    isFunction ? function (e) {\n      return _promiseResolve(C, onFinally()).then(function () { throw e; });\n    } : onFinally\n  );\n} });\n\n// https://github.com/tc39/proposal-promise-try\n\n\n\n\n_export(_export.S, 'Promise', { 'try': function (callbackfn) {\n  var promiseCapability = _newPromiseCapability.f(this);\n  var result = _perform(callbackfn);\n  (result.e ? promiseCapability.reject : promiseCapability.resolve)(result.v);\n  return promiseCapability.promise;\n} });\n\nvar promise = _core.Promise;\n\nvar promise$1 = createCommonjsModule(function (module) {\nmodule.exports = { \"default\": promise, __esModule: true };\n});\n\nvar _Promise$1 = unwrapExports(promise$1);\n\n// Properly handle server-side rendering.\nvar win = void 0;\n\nif (typeof window !== 'undefined') {\n  win = window;\n} else if (typeof self !== 'undefined') {\n  win = self;\n} else {\n  win = {};\n}\n\n// requestAnimationFrame() shim by Paul Irish\n// http://paulirish.com/2011/requestanimationframe-for-smart-animating/\nvar request = win.requestAnimationFrame || win.webkitRequestAnimationFrame || win.mozRequestAnimationFrame || win.oRequestAnimationFrame || win.msRequestAnimationFrame || function (callback) {\n  return win.setTimeout(callback, 1000 / 60);\n};\n\nvar cancel = win.cancelAnimationFrame || win.webkitCancelAnimationFrame || win.mozCancelAnimationFrame || win.oCancelAnimationFrame || win.msCancelAnimationFrame || function (id) {\n  win.clearTimeout(id);\n};\n\nvar raf = request;\nvar caf = cancel;\n\nvar bpfrpt_proptype_AnimationTimeoutId = process.env.NODE_ENV === 'production' ? null : {\n  id: propTypes.number.isRequired\n};\n\n\nvar cancelAnimationTimeout = function cancelAnimationTimeout(frame) {\n  return caf(frame.id);\n};\n\n/**\n * Recursively calls requestAnimationFrame until a specified delay has been met or exceeded.\n * When the delay time has been reached the function you're timing out will be called.\n *\n * Credit: Joe Lambert (https://gist.github.com/joelambert/1002116#file-requesttimeout-js)\n */\nvar requestAnimationTimeout = function requestAnimationTimeout(callback, delay) {\n  var start = void 0;\n  // wait for end of processing current event handler, because event handler may be long\n  _Promise$1.resolve().then(function () {\n    start = Date.now();\n  });\n\n  var timeout = function timeout() {\n    if (Date.now() - start >= delay) {\n      callback.call();\n    } else {\n      frame.id = raf(timeout);\n    }\n  };\n\n  var frame = {\n    id: raf(timeout)\n  };\n\n  return frame;\n};\n\n/**\n * Specifies the number of milliseconds during which to disable pointer events while a scroll is in progress.\n * This improves performance and makes scrolling smoother.\n */\nvar DEFAULT_SCROLLING_RESET_TIME_INTERVAL = 150;\n\n/**\n * Controls whether the Grid updates the DOM element's scrollLeft/scrollTop based on the current state or just observes it.\n * This prevents Grid from interrupting mouse-wheel animations (see issue #2).\n */\nvar SCROLL_POSITION_CHANGE_REASONS = {\n  OBSERVED: 'observed',\n  REQUESTED: 'requested'\n};\n\nvar renderNull = function renderNull() {\n  return null;\n};\n\n/**\n * Renders tabular data with virtualization along the vertical and horizontal axes.\n * Row heights and column widths must be known ahead of time and specified as properties.\n */\nvar Grid = function (_React$PureComponent) {\n  _inherits(Grid, _React$PureComponent);\n\n  // Invokes onSectionRendered callback only when start/stop row or column indices change\n  function Grid(props) {\n    _classCallCheck(this, Grid);\n\n    var _this = _possibleConstructorReturn(this, (Grid.__proto__ || _Object$getPrototypeOf(Grid)).call(this, props));\n\n    _this._onGridRenderedMemoizer = createCallbackMemoizer();\n    _this._onScrollMemoizer = createCallbackMemoizer(false);\n    _this._deferredInvalidateColumnIndex = null;\n    _this._deferredInvalidateRowIndex = null;\n    _this._recomputeScrollLeftFlag = false;\n    _this._recomputeScrollTopFlag = false;\n    _this._horizontalScrollBarSize = 0;\n    _this._verticalScrollBarSize = 0;\n    _this._scrollbarPresenceChanged = false;\n    _this._renderedColumnStartIndex = 0;\n    _this._renderedColumnStopIndex = 0;\n    _this._renderedRowStartIndex = 0;\n    _this._renderedRowStopIndex = 0;\n    _this._styleCache = {};\n    _this._cellCache = {};\n\n    _this._debounceScrollEndedCallback = function () {\n      _this._disablePointerEventsTimeoutId = null;\n      // isScrolling is used to determine if we reset styleCache\n      _this.setState({\n        isScrolling: false,\n        needToResetStyleCache: false\n      });\n    };\n\n    _this._invokeOnGridRenderedHelper = function () {\n      var onSectionRendered = _this.props.onSectionRendered;\n\n\n      _this._onGridRenderedMemoizer({\n        callback: onSectionRendered,\n        indices: {\n          columnOverscanStartIndex: _this._columnStartIndex,\n          columnOverscanStopIndex: _this._columnStopIndex,\n          columnStartIndex: _this._renderedColumnStartIndex,\n          columnStopIndex: _this._renderedColumnStopIndex,\n          rowOverscanStartIndex: _this._rowStartIndex,\n          rowOverscanStopIndex: _this._rowStopIndex,\n          rowStartIndex: _this._renderedRowStartIndex,\n          rowStopIndex: _this._renderedRowStopIndex\n        }\n      });\n    };\n\n    _this._setScrollingContainerRef = function (ref) {\n      _this._scrollingContainer = ref;\n    };\n\n    _this._onScroll = function (event) {\n      // In certain edge-cases React dispatches an onScroll event with an invalid target.scrollLeft / target.scrollTop.\n      // This invalid event can be detected by comparing event.target to this component's scrollable DOM element.\n      // See issue #404 for more information.\n      if (event.target === _this._scrollingContainer) {\n        _this.handleScrollEvent(event.target);\n      }\n    };\n\n    var columnSizeAndPositionManager = new ScalingCellSizeAndPositionManager({\n      cellCount: props.columnCount,\n      cellSizeGetter: function cellSizeGetter(params) {\n        return Grid._wrapSizeGetter(props.columnWidth)(params);\n      },\n      estimatedCellSize: Grid._getEstimatedColumnSize(props)\n    });\n    var rowSizeAndPositionManager = new ScalingCellSizeAndPositionManager({\n      cellCount: props.rowCount,\n      cellSizeGetter: function cellSizeGetter(params) {\n        return Grid._wrapSizeGetter(props.rowHeight)(params);\n      },\n      estimatedCellSize: Grid._getEstimatedRowSize(props)\n    });\n\n    _this.state = {\n      instanceProps: {\n        columnSizeAndPositionManager: columnSizeAndPositionManager,\n        rowSizeAndPositionManager: rowSizeAndPositionManager,\n\n        prevColumnWidth: props.columnWidth,\n        prevRowHeight: props.rowHeight,\n        prevColumnCount: props.columnCount,\n        prevRowCount: props.rowCount,\n        prevIsScrolling: props.isScrolling === true,\n        prevScrollToColumn: props.scrollToColumn,\n        prevScrollToRow: props.scrollToRow,\n        prevScrollLeft: props.scrollLeft,\n        prevScrollTop: props.scrollTop,\n\n        scrollbarSize: 0,\n        scrollbarSizeMeasured: false\n      },\n      isScrolling: false,\n      scrollDirectionHorizontal: SCROLL_DIRECTION_FORWARD,\n      scrollDirectionVertical: SCROLL_DIRECTION_FORWARD,\n      scrollLeft: props.scrollLeft || 0,\n      scrollTop: props.scrollTop || 0,\n      scrollPositionChangeReason: null,\n\n      needToResetStyleCache: false\n    };\n\n    if (props.scrollToRow > 0) {\n      _this._initialScrollTop = _this._getCalculatedScrollTop(props, _this.state);\n    }\n    if (props.scrollToColumn > 0) {\n      _this._initialScrollLeft = _this._getCalculatedScrollLeft(props, _this.state);\n    }\n    return _this;\n  }\n\n  /**\n   * Gets offsets for a given cell and alignment.\n   */\n\n\n  _createClass(Grid, [{\n    key: 'getOffsetForCell',\n    value: function getOffsetForCell() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref$alignment = _ref.alignment,\n          alignment = _ref$alignment === undefined ? this.props.scrollToAlignment : _ref$alignment,\n          _ref$columnIndex = _ref.columnIndex,\n          columnIndex = _ref$columnIndex === undefined ? this.props.scrollToColumn : _ref$columnIndex,\n          _ref$rowIndex = _ref.rowIndex,\n          rowIndex = _ref$rowIndex === undefined ? this.props.scrollToRow : _ref$rowIndex;\n\n      var offsetProps = _extends$6({}, this.props, {\n        scrollToAlignment: alignment,\n        scrollToColumn: columnIndex,\n        scrollToRow: rowIndex\n      });\n\n      return {\n        scrollLeft: this._getCalculatedScrollLeft(offsetProps),\n        scrollTop: this._getCalculatedScrollTop(offsetProps)\n      };\n    }\n\n    /**\n     * Gets estimated total rows' height.\n     */\n\n  }, {\n    key: 'getTotalRowsHeight',\n    value: function getTotalRowsHeight() {\n      return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize();\n    }\n\n    /**\n     * Gets estimated total columns' width.\n     */\n\n  }, {\n    key: 'getTotalColumnsWidth',\n    value: function getTotalColumnsWidth() {\n      return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize();\n    }\n\n    /**\n     * This method handles a scroll event originating from an external scroll control.\n     * It's an advanced method and should probably not be used unless you're implementing a custom scroll-bar solution.\n     */\n\n  }, {\n    key: 'handleScrollEvent',\n    value: function handleScrollEvent(_ref2) {\n      var _ref2$scrollLeft = _ref2.scrollLeft,\n          scrollLeftParam = _ref2$scrollLeft === undefined ? 0 : _ref2$scrollLeft,\n          _ref2$scrollTop = _ref2.scrollTop,\n          scrollTopParam = _ref2$scrollTop === undefined ? 0 : _ref2$scrollTop;\n\n      // On iOS, we can arrive at negative offsets by swiping past the start.\n      // To prevent flicker here, we make playing in the negative offset zone cause nothing to happen.\n      if (scrollTopParam < 0) {\n        return;\n      }\n\n      // Prevent pointer events from interrupting a smooth scroll\n      this._debounceScrollEnded();\n\n      var _props = this.props,\n          autoHeight = _props.autoHeight,\n          autoWidth = _props.autoWidth,\n          height = _props.height,\n          width = _props.width;\n      var instanceProps = this.state.instanceProps;\n\n      // When this component is shrunk drastically, React dispatches a series of back-to-back scroll events,\n      // Gradually converging on a scrollTop that is within the bounds of the new, smaller height.\n      // This causes a series of rapid renders that is slow for long lists.\n      // We can avoid that by doing some simple bounds checking to ensure that scroll offsets never exceed their bounds.\n\n      var scrollbarSize = instanceProps.scrollbarSize;\n      var totalRowsHeight = instanceProps.rowSizeAndPositionManager.getTotalSize();\n      var totalColumnsWidth = instanceProps.columnSizeAndPositionManager.getTotalSize();\n      var scrollLeft = Math.min(Math.max(0, totalColumnsWidth - width + scrollbarSize), scrollLeftParam);\n      var scrollTop = Math.min(Math.max(0, totalRowsHeight - height + scrollbarSize), scrollTopParam);\n\n      // Certain devices (like Apple touchpad) rapid-fire duplicate events.\n      // Don't force a re-render if this is the case.\n      // The mouse may move faster then the animation frame does.\n      // Use requestAnimationFrame to avoid over-updating.\n      if (this.state.scrollLeft !== scrollLeft || this.state.scrollTop !== scrollTop) {\n        // Track scrolling direction so we can more efficiently overscan rows to reduce empty space around the edges while scrolling.\n        // Don't change direction for an axis unless scroll offset has changed.\n        var _scrollDirectionHorizontal = scrollLeft !== this.state.scrollLeft ? scrollLeft > this.state.scrollLeft ? SCROLL_DIRECTION_FORWARD : SCROLL_DIRECTION_BACKWARD : this.state.scrollDirectionHorizontal;\n        var _scrollDirectionVertical = scrollTop !== this.state.scrollTop ? scrollTop > this.state.scrollTop ? SCROLL_DIRECTION_FORWARD : SCROLL_DIRECTION_BACKWARD : this.state.scrollDirectionVertical;\n\n        var newState = {\n          isScrolling: true,\n          scrollDirectionHorizontal: _scrollDirectionHorizontal,\n          scrollDirectionVertical: _scrollDirectionVertical,\n          scrollPositionChangeReason: SCROLL_POSITION_CHANGE_REASONS.OBSERVED\n        };\n\n        if (!autoHeight) {\n          newState.scrollTop = scrollTop;\n        }\n\n        if (!autoWidth) {\n          newState.scrollLeft = scrollLeft;\n        }\n\n        newState.needToResetStyleCache = false;\n        this.setState(newState);\n      }\n\n      this._invokeOnScrollMemoizer({\n        scrollLeft: scrollLeft,\n        scrollTop: scrollTop,\n        totalColumnsWidth: totalColumnsWidth,\n        totalRowsHeight: totalRowsHeight\n      });\n    }\n\n    /**\n     * Invalidate Grid size and recompute visible cells.\n     * This is a deferred wrapper for recomputeGridSize().\n     * It sets a flag to be evaluated on cDM/cDU to avoid unnecessary renders.\n     * This method is intended for advanced use-cases like CellMeasurer.\n     */\n    // @TODO (bvaughn) Add automated test coverage for this.\n\n  }, {\n    key: 'invalidateCellSizeAfterRender',\n    value: function invalidateCellSizeAfterRender(_ref3) {\n      var columnIndex = _ref3.columnIndex,\n          rowIndex = _ref3.rowIndex;\n\n      this._deferredInvalidateColumnIndex = typeof this._deferredInvalidateColumnIndex === 'number' ? Math.min(this._deferredInvalidateColumnIndex, columnIndex) : columnIndex;\n      this._deferredInvalidateRowIndex = typeof this._deferredInvalidateRowIndex === 'number' ? Math.min(this._deferredInvalidateRowIndex, rowIndex) : rowIndex;\n    }\n\n    /**\n     * Pre-measure all columns and rows in a Grid.\n     * Typically cells are only measured as needed and estimated sizes are used for cells that have not yet been measured.\n     * This method ensures that the next call to getTotalSize() returns an exact size (as opposed to just an estimated one).\n     */\n\n  }, {\n    key: 'measureAllCells',\n    value: function measureAllCells() {\n      var _props2 = this.props,\n          columnCount = _props2.columnCount,\n          rowCount = _props2.rowCount;\n      var instanceProps = this.state.instanceProps;\n\n      instanceProps.columnSizeAndPositionManager.getSizeAndPositionOfCell(columnCount - 1);\n      instanceProps.rowSizeAndPositionManager.getSizeAndPositionOfCell(rowCount - 1);\n    }\n\n    /**\n     * Forced recompute of row heights and column widths.\n     * This function should be called if dynamic column or row sizes have changed but nothing else has.\n     * Since Grid only receives :columnCount and :rowCount it has no way of detecting when the underlying data changes.\n     */\n\n  }, {\n    key: 'recomputeGridSize',\n    value: function recomputeGridSize() {\n      var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref4$columnIndex = _ref4.columnIndex,\n          columnIndex = _ref4$columnIndex === undefined ? 0 : _ref4$columnIndex,\n          _ref4$rowIndex = _ref4.rowIndex,\n          rowIndex = _ref4$rowIndex === undefined ? 0 : _ref4$rowIndex;\n\n      var _props3 = this.props,\n          scrollToColumn = _props3.scrollToColumn,\n          scrollToRow = _props3.scrollToRow;\n      var instanceProps = this.state.instanceProps;\n\n\n      instanceProps.columnSizeAndPositionManager.resetCell(columnIndex);\n      instanceProps.rowSizeAndPositionManager.resetCell(rowIndex);\n\n      // Cell sizes may be determined by a function property.\n      // In this case the cDU handler can't know if they changed.\n      // Store this flag to let the next cDU pass know it needs to recompute the scroll offset.\n      this._recomputeScrollLeftFlag = scrollToColumn >= 0 && (this.state.scrollDirectionHorizontal === SCROLL_DIRECTION_FORWARD ? columnIndex <= scrollToColumn : columnIndex >= scrollToColumn);\n      this._recomputeScrollTopFlag = scrollToRow >= 0 && (this.state.scrollDirectionVertical === SCROLL_DIRECTION_FORWARD ? rowIndex <= scrollToRow : rowIndex >= scrollToRow);\n\n      // Clear cell cache in case we are scrolling;\n      // Invalid row heights likely mean invalid cached content as well.\n      this._styleCache = {};\n      this._cellCache = {};\n\n      this.forceUpdate();\n    }\n\n    /**\n     * Ensure column and row are visible.\n     */\n\n  }, {\n    key: 'scrollToCell',\n    value: function scrollToCell(_ref5) {\n      var columnIndex = _ref5.columnIndex,\n          rowIndex = _ref5.rowIndex;\n      var columnCount = this.props.columnCount;\n\n\n      var props = this.props;\n\n      // Don't adjust scroll offset for single-column grids (eg List, Table).\n      // This can cause a funky scroll offset because of the vertical scrollbar width.\n      if (columnCount > 1 && columnIndex !== undefined) {\n        this._updateScrollLeftForScrollToColumn(_extends$6({}, props, {\n          scrollToColumn: columnIndex\n        }));\n      }\n\n      if (rowIndex !== undefined) {\n        this._updateScrollTopForScrollToRow(_extends$6({}, props, {\n          scrollToRow: rowIndex\n        }));\n      }\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _props4 = this.props,\n          getScrollbarSize = _props4.getScrollbarSize,\n          height = _props4.height,\n          scrollLeft = _props4.scrollLeft,\n          scrollToColumn = _props4.scrollToColumn,\n          scrollTop = _props4.scrollTop,\n          scrollToRow = _props4.scrollToRow,\n          width = _props4.width;\n      var instanceProps = this.state.instanceProps;\n\n      // Reset initial offsets to be ignored in browser\n\n      this._initialScrollTop = 0;\n      this._initialScrollLeft = 0;\n\n      // If cell sizes have been invalidated (eg we are using CellMeasurer) then reset cached positions.\n      // We must do this at the start of the method as we may calculate and update scroll position below.\n      this._handleInvalidatedGridSize();\n\n      // If this component was first rendered server-side, scrollbar size will be undefined.\n      // In that event we need to remeasure.\n      if (!instanceProps.scrollbarSizeMeasured) {\n        this.setState(function (prevState) {\n          var stateUpdate = _extends$6({}, prevState, { needToResetStyleCache: false });\n          stateUpdate.instanceProps.scrollbarSize = getScrollbarSize();\n          stateUpdate.instanceProps.scrollbarSizeMeasured = true;\n          return stateUpdate;\n        });\n      }\n\n      if (typeof scrollLeft === 'number' && scrollLeft >= 0 || typeof scrollTop === 'number' && scrollTop >= 0) {\n        var stateUpdate = Grid._getScrollToPositionStateUpdate({\n          prevState: this.state,\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop\n        });\n        if (stateUpdate) {\n          stateUpdate.needToResetStyleCache = false;\n          this.setState(stateUpdate);\n        }\n      }\n\n      // refs don't work in `react-test-renderer`\n      if (this._scrollingContainer) {\n        // setting the ref's scrollLeft and scrollTop.\n        // Somehow in MultiGrid the main grid doesn't trigger a update on mount.\n        if (this._scrollingContainer.scrollLeft !== this.state.scrollLeft) {\n          this._scrollingContainer.scrollLeft = this.state.scrollLeft;\n        }\n        if (this._scrollingContainer.scrollTop !== this.state.scrollTop) {\n          this._scrollingContainer.scrollTop = this.state.scrollTop;\n        }\n      }\n\n      // Don't update scroll offset if the size is 0; we don't render any cells in this case.\n      // Setting a state may cause us to later thing we've updated the offce when we haven't.\n      var sizeIsBiggerThanZero = height > 0 && width > 0;\n      if (scrollToColumn >= 0 && sizeIsBiggerThanZero) {\n        this._updateScrollLeftForScrollToColumn();\n      }\n      if (scrollToRow >= 0 && sizeIsBiggerThanZero) {\n        this._updateScrollTopForScrollToRow();\n      }\n\n      // Update onRowsRendered callback\n      this._invokeOnGridRenderedHelper();\n\n      // Initialize onScroll callback\n      this._invokeOnScrollMemoizer({\n        scrollLeft: scrollLeft || 0,\n        scrollTop: scrollTop || 0,\n        totalColumnsWidth: instanceProps.columnSizeAndPositionManager.getTotalSize(),\n        totalRowsHeight: instanceProps.rowSizeAndPositionManager.getTotalSize()\n      });\n\n      this._maybeCallOnScrollbarPresenceChange();\n    }\n\n    /**\n     * @private\n     * This method updates scrollLeft/scrollTop in state for the following conditions:\n     * 1) New scroll-to-cell props have been set\n     */\n\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps, prevState) {\n      var _this2 = this;\n\n      var _props5 = this.props,\n          autoHeight = _props5.autoHeight,\n          autoWidth = _props5.autoWidth,\n          columnCount = _props5.columnCount,\n          height = _props5.height,\n          rowCount = _props5.rowCount,\n          scrollToAlignment = _props5.scrollToAlignment,\n          scrollToColumn = _props5.scrollToColumn,\n          scrollToRow = _props5.scrollToRow,\n          width = _props5.width;\n      var _state = this.state,\n          scrollLeft = _state.scrollLeft,\n          scrollPositionChangeReason = _state.scrollPositionChangeReason,\n          scrollTop = _state.scrollTop,\n          instanceProps = _state.instanceProps;\n      // If cell sizes have been invalidated (eg we are using CellMeasurer) then reset cached positions.\n      // We must do this at the start of the method as we may calculate and update scroll position below.\n\n      this._handleInvalidatedGridSize();\n\n      // Handle edge case where column or row count has only just increased over 0.\n      // In this case we may have to restore a previously-specified scroll offset.\n      // For more info see bvaughn/react-virtualized/issues/218\n      var columnOrRowCountJustIncreasedFromZero = columnCount > 0 && prevProps.columnCount === 0 || rowCount > 0 && prevProps.rowCount === 0;\n\n      // Make sure requested changes to :scrollLeft or :scrollTop get applied.\n      // Assigning to scrollLeft/scrollTop tells the browser to interrupt any running scroll animations,\n      // And to discard any pending async changes to the scroll position that may have happened in the meantime (e.g. on a separate scrolling thread).\n      // So we only set these when we require an adjustment of the scroll position.\n      // See issue #2 for more information.\n      if (scrollPositionChangeReason === SCROLL_POSITION_CHANGE_REASONS.REQUESTED) {\n        // @TRICKY :autoHeight and :autoWidth properties instructs Grid to leave :scrollTop and :scrollLeft management to an external HOC (eg WindowScroller).\n        // In this case we should avoid checking scrollingContainer.scrollTop and scrollingContainer.scrollLeft since it forces layout/flow.\n        if (!autoWidth && scrollLeft >= 0 && (scrollLeft !== this._scrollingContainer.scrollLeft || columnOrRowCountJustIncreasedFromZero)) {\n          this._scrollingContainer.scrollLeft = scrollLeft;\n        }\n        if (!autoHeight && scrollTop >= 0 && (scrollTop !== this._scrollingContainer.scrollTop || columnOrRowCountJustIncreasedFromZero)) {\n          this._scrollingContainer.scrollTop = scrollTop;\n        }\n      }\n\n      // Special case where the previous size was 0:\n      // In this case we don't show any windowed cells at all.\n      // So we should always recalculate offset afterwards.\n      var sizeJustIncreasedFromZero = (prevProps.width === 0 || prevProps.height === 0) && height > 0 && width > 0;\n\n      // Update scroll offsets if the current :scrollToColumn or :scrollToRow values requires it\n      // @TODO Do we also need this check or can the one in componentWillUpdate() suffice?\n      if (this._recomputeScrollLeftFlag) {\n        this._recomputeScrollLeftFlag = false;\n        this._updateScrollLeftForScrollToColumn(this.props);\n      } else {\n        updateScrollIndexHelper({\n          cellSizeAndPositionManager: instanceProps.columnSizeAndPositionManager,\n          previousCellsCount: prevProps.columnCount,\n          previousCellSize: prevProps.columnWidth,\n          previousScrollToAlignment: prevProps.scrollToAlignment,\n          previousScrollToIndex: prevProps.scrollToColumn,\n          previousSize: prevProps.width,\n          scrollOffset: scrollLeft,\n          scrollToAlignment: scrollToAlignment,\n          scrollToIndex: scrollToColumn,\n          size: width,\n          sizeJustIncreasedFromZero: sizeJustIncreasedFromZero,\n          updateScrollIndexCallback: function updateScrollIndexCallback() {\n            return _this2._updateScrollLeftForScrollToColumn(_this2.props);\n          }\n        });\n      }\n\n      if (this._recomputeScrollTopFlag) {\n        this._recomputeScrollTopFlag = false;\n        this._updateScrollTopForScrollToRow(this.props);\n      } else {\n        updateScrollIndexHelper({\n          cellSizeAndPositionManager: instanceProps.rowSizeAndPositionManager,\n          previousCellsCount: prevProps.rowCount,\n          previousCellSize: prevProps.rowHeight,\n          previousScrollToAlignment: prevProps.scrollToAlignment,\n          previousScrollToIndex: prevProps.scrollToRow,\n          previousSize: prevProps.height,\n          scrollOffset: scrollTop,\n          scrollToAlignment: scrollToAlignment,\n          scrollToIndex: scrollToRow,\n          size: height,\n          sizeJustIncreasedFromZero: sizeJustIncreasedFromZero,\n          updateScrollIndexCallback: function updateScrollIndexCallback() {\n            return _this2._updateScrollTopForScrollToRow(_this2.props);\n          }\n        });\n      }\n\n      // Update onRowsRendered callback if start/stop indices have changed\n      this._invokeOnGridRenderedHelper();\n\n      // Changes to :scrollLeft or :scrollTop should also notify :onScroll listeners\n      if (scrollLeft !== prevState.scrollLeft || scrollTop !== prevState.scrollTop) {\n        var totalRowsHeight = instanceProps.rowSizeAndPositionManager.getTotalSize();\n        var totalColumnsWidth = instanceProps.columnSizeAndPositionManager.getTotalSize();\n\n        this._invokeOnScrollMemoizer({\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop,\n          totalColumnsWidth: totalColumnsWidth,\n          totalRowsHeight: totalRowsHeight\n        });\n      }\n\n      this._maybeCallOnScrollbarPresenceChange();\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this._disablePointerEventsTimeoutId) {\n        cancelAnimationTimeout(this._disablePointerEventsTimeoutId);\n      }\n    }\n\n    /**\n     * This method updates scrollLeft/scrollTop in state for the following conditions:\n     * 1) Empty content (0 rows or columns)\n     * 2) New scroll props overriding the current state\n     * 3) Cells-count or cells-size has changed, making previous scroll offsets invalid\n     */\n\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props6 = this.props,\n          autoContainerWidth = _props6.autoContainerWidth,\n          autoHeight = _props6.autoHeight,\n          autoWidth = _props6.autoWidth,\n          className = _props6.className,\n          containerProps = _props6.containerProps,\n          containerRole = _props6.containerRole,\n          containerStyle = _props6.containerStyle,\n          height = _props6.height,\n          id = _props6.id,\n          noContentRenderer = _props6.noContentRenderer,\n          role = _props6.role,\n          style = _props6.style,\n          tabIndex = _props6.tabIndex,\n          width = _props6.width;\n      var _state2 = this.state,\n          instanceProps = _state2.instanceProps,\n          needToResetStyleCache = _state2.needToResetStyleCache;\n\n\n      var isScrolling = this._isScrolling();\n\n      var gridStyle = {\n        boxSizing: 'border-box',\n        direction: 'ltr',\n        height: autoHeight ? 'auto' : height,\n        position: 'relative',\n        width: autoWidth ? 'auto' : width,\n        WebkitOverflowScrolling: 'touch',\n        willChange: 'transform'\n      };\n\n      if (needToResetStyleCache) {\n        this._styleCache = {};\n      }\n\n      // calculate _styleCache here\n      // if state.isScrolling (not from _isScrolling) then reset\n      if (!this.state.isScrolling) {\n        this._resetStyleCache();\n      }\n\n      // calculate children to render here\n      this._calculateChildrenToRender(this.props, this.state);\n\n      var totalColumnsWidth = instanceProps.columnSizeAndPositionManager.getTotalSize();\n      var totalRowsHeight = instanceProps.rowSizeAndPositionManager.getTotalSize();\n\n      // Force browser to hide scrollbars when we know they aren't necessary.\n      // Otherwise once scrollbars appear they may not disappear again.\n      // For more info see issue #116\n      var verticalScrollBarSize = totalRowsHeight > height ? instanceProps.scrollbarSize : 0;\n      var horizontalScrollBarSize = totalColumnsWidth > width ? instanceProps.scrollbarSize : 0;\n\n      if (horizontalScrollBarSize !== this._horizontalScrollBarSize || verticalScrollBarSize !== this._verticalScrollBarSize) {\n        this._horizontalScrollBarSize = horizontalScrollBarSize;\n        this._verticalScrollBarSize = verticalScrollBarSize;\n        this._scrollbarPresenceChanged = true;\n      }\n\n      // Also explicitly init styles to 'auto' if scrollbars are required.\n      // This works around an obscure edge case where external CSS styles have not yet been loaded,\n      // But an initial scroll index of offset is set as an external prop.\n      // Without this style, Grid would render the correct range of cells but would NOT update its internal offset.\n      // This was originally reported via clauderic/react-infinite-calendar/issues/23\n      gridStyle.overflowX = totalColumnsWidth + verticalScrollBarSize <= width ? 'hidden' : 'auto';\n      gridStyle.overflowY = totalRowsHeight + horizontalScrollBarSize <= height ? 'hidden' : 'auto';\n\n      var childrenToDisplay = this._childrenToDisplay;\n\n      var showNoContentRenderer = childrenToDisplay.length === 0 && height > 0 && width > 0;\n\n      return createElement(\n        'div',\n        _extends$6({\n          ref: this._setScrollingContainerRef\n        }, containerProps, {\n          'aria-label': this.props['aria-label'],\n          'aria-readonly': this.props['aria-readonly'],\n          className: clsx('ReactVirtualized__Grid', className),\n          id: id,\n          onScroll: this._onScroll,\n          role: role,\n          style: _extends$6({}, gridStyle, style),\n          tabIndex: tabIndex }),\n        childrenToDisplay.length > 0 && createElement(\n          'div',\n          {\n            className: 'ReactVirtualized__Grid__innerScrollContainer',\n            role: containerRole,\n            style: _extends$6({\n              width: autoContainerWidth ? 'auto' : totalColumnsWidth,\n              height: totalRowsHeight,\n              maxWidth: totalColumnsWidth,\n              maxHeight: totalRowsHeight,\n              overflow: 'hidden',\n              pointerEvents: isScrolling ? 'none' : '',\n              position: 'relative'\n            }, containerStyle) },\n          childrenToDisplay\n        ),\n        showNoContentRenderer && noContentRenderer()\n      );\n    }\n\n    /* ---------------------------- Helper methods ---------------------------- */\n\n  }, {\n    key: '_calculateChildrenToRender',\n    value: function _calculateChildrenToRender() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var state = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.state;\n      var cellRenderer = props.cellRenderer,\n          cellRangeRenderer = props.cellRangeRenderer,\n          columnCount = props.columnCount,\n          deferredMeasurementCache = props.deferredMeasurementCache,\n          height = props.height,\n          overscanColumnCount = props.overscanColumnCount,\n          overscanIndicesGetter = props.overscanIndicesGetter,\n          overscanRowCount = props.overscanRowCount,\n          rowCount = props.rowCount,\n          width = props.width,\n          isScrollingOptOut = props.isScrollingOptOut;\n      var scrollDirectionHorizontal = state.scrollDirectionHorizontal,\n          scrollDirectionVertical = state.scrollDirectionVertical,\n          instanceProps = state.instanceProps;\n\n\n      var scrollTop = this._initialScrollTop > 0 ? this._initialScrollTop : state.scrollTop;\n      var scrollLeft = this._initialScrollLeft > 0 ? this._initialScrollLeft : state.scrollLeft;\n\n      var isScrolling = this._isScrolling(props, state);\n\n      this._childrenToDisplay = [];\n\n      // Render only enough columns and rows to cover the visible area of the grid.\n      if (height > 0 && width > 0) {\n        var visibleColumnIndices = instanceProps.columnSizeAndPositionManager.getVisibleCellRange({\n          containerSize: width,\n          offset: scrollLeft\n        });\n        var visibleRowIndices = instanceProps.rowSizeAndPositionManager.getVisibleCellRange({\n          containerSize: height,\n          offset: scrollTop\n        });\n\n        var horizontalOffsetAdjustment = instanceProps.columnSizeAndPositionManager.getOffsetAdjustment({\n          containerSize: width,\n          offset: scrollLeft\n        });\n        var verticalOffsetAdjustment = instanceProps.rowSizeAndPositionManager.getOffsetAdjustment({\n          containerSize: height,\n          offset: scrollTop\n        });\n\n        // Store for _invokeOnGridRenderedHelper()\n        this._renderedColumnStartIndex = visibleColumnIndices.start;\n        this._renderedColumnStopIndex = visibleColumnIndices.stop;\n        this._renderedRowStartIndex = visibleRowIndices.start;\n        this._renderedRowStopIndex = visibleRowIndices.stop;\n\n        var overscanColumnIndices = overscanIndicesGetter({\n          direction: 'horizontal',\n          cellCount: columnCount,\n          overscanCellsCount: overscanColumnCount,\n          scrollDirection: scrollDirectionHorizontal,\n          startIndex: typeof visibleColumnIndices.start === 'number' ? visibleColumnIndices.start : 0,\n          stopIndex: typeof visibleColumnIndices.stop === 'number' ? visibleColumnIndices.stop : -1\n        });\n\n        var overscanRowIndices = overscanIndicesGetter({\n          direction: 'vertical',\n          cellCount: rowCount,\n          overscanCellsCount: overscanRowCount,\n          scrollDirection: scrollDirectionVertical,\n          startIndex: typeof visibleRowIndices.start === 'number' ? visibleRowIndices.start : 0,\n          stopIndex: typeof visibleRowIndices.stop === 'number' ? visibleRowIndices.stop : -1\n        });\n\n        // Store for _invokeOnGridRenderedHelper()\n        var columnStartIndex = overscanColumnIndices.overscanStartIndex;\n        var columnStopIndex = overscanColumnIndices.overscanStopIndex;\n        var rowStartIndex = overscanRowIndices.overscanStartIndex;\n        var rowStopIndex = overscanRowIndices.overscanStopIndex;\n\n        // Advanced use-cases (eg CellMeasurer) require batched measurements to determine accurate sizes.\n        if (deferredMeasurementCache) {\n          // If rows have a dynamic height, scan the rows we are about to render.\n          // If any have not yet been measured, then we need to render all columns initially,\n          // Because the height of the row is equal to the tallest cell within that row,\n          // (And so we can't know the height without measuring all column-cells first).\n          if (!deferredMeasurementCache.hasFixedHeight()) {\n            for (var rowIndex = rowStartIndex; rowIndex <= rowStopIndex; rowIndex++) {\n              if (!deferredMeasurementCache.has(rowIndex, 0)) {\n                columnStartIndex = 0;\n                columnStopIndex = columnCount - 1;\n                break;\n              }\n            }\n          }\n\n          // If columns have a dynamic width, scan the columns we are about to render.\n          // If any have not yet been measured, then we need to render all rows initially,\n          // Because the width of the column is equal to the widest cell within that column,\n          // (And so we can't know the width without measuring all row-cells first).\n          if (!deferredMeasurementCache.hasFixedWidth()) {\n            for (var columnIndex = columnStartIndex; columnIndex <= columnStopIndex; columnIndex++) {\n              if (!deferredMeasurementCache.has(0, columnIndex)) {\n                rowStartIndex = 0;\n                rowStopIndex = rowCount - 1;\n                break;\n              }\n            }\n          }\n        }\n\n        this._childrenToDisplay = cellRangeRenderer({\n          cellCache: this._cellCache,\n          cellRenderer: cellRenderer,\n          columnSizeAndPositionManager: instanceProps.columnSizeAndPositionManager,\n          columnStartIndex: columnStartIndex,\n          columnStopIndex: columnStopIndex,\n          deferredMeasurementCache: deferredMeasurementCache,\n          horizontalOffsetAdjustment: horizontalOffsetAdjustment,\n          isScrolling: isScrolling,\n          isScrollingOptOut: isScrollingOptOut,\n          parent: this,\n          rowSizeAndPositionManager: instanceProps.rowSizeAndPositionManager,\n          rowStartIndex: rowStartIndex,\n          rowStopIndex: rowStopIndex,\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop,\n          styleCache: this._styleCache,\n          verticalOffsetAdjustment: verticalOffsetAdjustment,\n          visibleColumnIndices: visibleColumnIndices,\n          visibleRowIndices: visibleRowIndices\n        });\n\n        // update the indices\n        this._columnStartIndex = columnStartIndex;\n        this._columnStopIndex = columnStopIndex;\n        this._rowStartIndex = rowStartIndex;\n        this._rowStopIndex = rowStopIndex;\n      }\n    }\n\n    /**\n     * Sets an :isScrolling flag for a small window of time.\n     * This flag is used to disable pointer events on the scrollable portion of the Grid.\n     * This prevents jerky/stuttery mouse-wheel scrolling.\n     */\n\n  }, {\n    key: '_debounceScrollEnded',\n    value: function _debounceScrollEnded() {\n      var scrollingResetTimeInterval = this.props.scrollingResetTimeInterval;\n\n\n      if (this._disablePointerEventsTimeoutId) {\n        cancelAnimationTimeout(this._disablePointerEventsTimeoutId);\n      }\n\n      this._disablePointerEventsTimeoutId = requestAnimationTimeout(this._debounceScrollEndedCallback, scrollingResetTimeInterval);\n    }\n  }, {\n    key: '_handleInvalidatedGridSize',\n\n\n    /**\n     * Check for batched CellMeasurer size invalidations.\n     * This will occur the first time one or more previously unmeasured cells are rendered.\n     */\n    value: function _handleInvalidatedGridSize() {\n      if (typeof this._deferredInvalidateColumnIndex === 'number' && typeof this._deferredInvalidateRowIndex === 'number') {\n        var columnIndex = this._deferredInvalidateColumnIndex;\n        var rowIndex = this._deferredInvalidateRowIndex;\n\n        this._deferredInvalidateColumnIndex = null;\n        this._deferredInvalidateRowIndex = null;\n\n        this.recomputeGridSize({ columnIndex: columnIndex, rowIndex: rowIndex });\n      }\n    }\n  }, {\n    key: '_invokeOnScrollMemoizer',\n    value: function _invokeOnScrollMemoizer(_ref6) {\n      var _this3 = this;\n\n      var scrollLeft = _ref6.scrollLeft,\n          scrollTop = _ref6.scrollTop,\n          totalColumnsWidth = _ref6.totalColumnsWidth,\n          totalRowsHeight = _ref6.totalRowsHeight;\n\n      this._onScrollMemoizer({\n        callback: function callback(_ref7) {\n          var scrollLeft = _ref7.scrollLeft,\n              scrollTop = _ref7.scrollTop;\n          var _props7 = _this3.props,\n              height = _props7.height,\n              onScroll = _props7.onScroll,\n              width = _props7.width;\n\n\n          onScroll({\n            clientHeight: height,\n            clientWidth: width,\n            scrollHeight: totalRowsHeight,\n            scrollLeft: scrollLeft,\n            scrollTop: scrollTop,\n            scrollWidth: totalColumnsWidth\n          });\n        },\n        indices: {\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop\n        }\n      });\n    }\n  }, {\n    key: '_isScrolling',\n    value: function _isScrolling() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var state = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.state;\n\n      // If isScrolling is defined in props, use it to override the value in state\n      // This is a performance optimization for WindowScroller + Grid\n      return Object.hasOwnProperty.call(props, 'isScrolling') ? Boolean(props.isScrolling) : Boolean(state.isScrolling);\n    }\n  }, {\n    key: '_maybeCallOnScrollbarPresenceChange',\n    value: function _maybeCallOnScrollbarPresenceChange() {\n      if (this._scrollbarPresenceChanged) {\n        var _onScrollbarPresenceChange = this.props.onScrollbarPresenceChange;\n\n\n        this._scrollbarPresenceChanged = false;\n\n        _onScrollbarPresenceChange({\n          horizontal: this._horizontalScrollBarSize > 0,\n          size: this.state.instanceProps.scrollbarSize,\n          vertical: this._verticalScrollBarSize > 0\n        });\n      }\n    }\n  }, {\n    key: 'scrollToPosition',\n\n\n    /**\n     * Scroll to the specified offset(s).\n     * Useful for animating position changes.\n     */\n    value: function scrollToPosition(_ref8) {\n      var scrollLeft = _ref8.scrollLeft,\n          scrollTop = _ref8.scrollTop;\n\n      var stateUpdate = Grid._getScrollToPositionStateUpdate({\n        prevState: this.state,\n        scrollLeft: scrollLeft,\n        scrollTop: scrollTop\n      });\n\n      if (stateUpdate) {\n        stateUpdate.needToResetStyleCache = false;\n        this.setState(stateUpdate);\n      }\n    }\n  }, {\n    key: '_getCalculatedScrollLeft',\n    value: function _getCalculatedScrollLeft() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var state = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.state;\n\n      return Grid._getCalculatedScrollLeft(props, state);\n    }\n  }, {\n    key: '_updateScrollLeftForScrollToColumn',\n    value: function _updateScrollLeftForScrollToColumn() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var state = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.state;\n\n      var stateUpdate = Grid._getScrollLeftForScrollToColumnStateUpdate(props, state);\n      if (stateUpdate) {\n        stateUpdate.needToResetStyleCache = false;\n        this.setState(stateUpdate);\n      }\n    }\n  }, {\n    key: '_getCalculatedScrollTop',\n    value: function _getCalculatedScrollTop() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var state = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.state;\n\n      return Grid._getCalculatedScrollTop(props, state);\n    }\n  }, {\n    key: '_resetStyleCache',\n    value: function _resetStyleCache() {\n      var styleCache = this._styleCache;\n      var cellCache = this._cellCache;\n      var isScrollingOptOut = this.props.isScrollingOptOut;\n\n      // Reset cell and style caches once scrolling stops.\n      // This makes Grid simpler to use (since cells commonly change).\n      // And it keeps the caches from growing too large.\n      // Performance is most sensitive when a user is scrolling.\n      // Don't clear visible cells from cellCache if isScrollingOptOut is specified.\n      // This keeps the cellCache to a resonable size.\n\n      this._cellCache = {};\n      this._styleCache = {};\n\n      // Copy over the visible cell styles so avoid unnecessary re-render.\n      for (var rowIndex = this._rowStartIndex; rowIndex <= this._rowStopIndex; rowIndex++) {\n        for (var columnIndex = this._columnStartIndex; columnIndex <= this._columnStopIndex; columnIndex++) {\n          var key = rowIndex + '-' + columnIndex;\n          this._styleCache[key] = styleCache[key];\n\n          if (isScrollingOptOut) {\n            this._cellCache[key] = cellCache[key];\n          }\n        }\n      }\n    }\n  }, {\n    key: '_updateScrollTopForScrollToRow',\n    value: function _updateScrollTopForScrollToRow() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var state = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.state;\n\n      var stateUpdate = Grid._getScrollTopForScrollToRowStateUpdate(props, state);\n      if (stateUpdate) {\n        stateUpdate.needToResetStyleCache = false;\n        this.setState(stateUpdate);\n      }\n    }\n  }], [{\n    key: 'getDerivedStateFromProps',\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      var newState = {};\n      var instanceProps = prevState.instanceProps;\n\n\n      if (nextProps.columnCount === 0 && prevState.scrollLeft !== 0 || nextProps.rowCount === 0 && prevState.scrollTop !== 0) {\n        newState.scrollLeft = 0;\n        newState.scrollTop = 0;\n\n        // only use scroll{Left,Top} from props if scrollTo{Column,Row} isn't specified\n        // scrollTo{Column,Row} should override scroll{Left,Top}\n      } else if (nextProps.scrollLeft !== instanceProps.prevScrollLeft && nextProps.scrollToColumn < 0 || nextProps.scrollTop !== instanceProps.prevScrollTop && nextProps.scrollToRow < 0) {\n        _Object$assign(newState, Grid._getScrollToPositionStateUpdate({\n          prevState: prevState,\n          scrollLeft: nextProps.scrollLeft,\n          scrollTop: nextProps.scrollTop\n        }));\n      }\n\n      // Initially we should not clearStyleCache\n      newState.needToResetStyleCache = false;\n      if (nextProps.columnWidth !== instanceProps.prevColumnWidth || nextProps.rowHeight !== instanceProps.prevRowHeight) {\n        // Reset cache. set it to {} in render\n        newState.needToResetStyleCache = true;\n      }\n\n      instanceProps.columnSizeAndPositionManager.configure({\n        cellCount: nextProps.columnCount,\n        estimatedCellSize: Grid._getEstimatedColumnSize(nextProps),\n        cellSizeGetter: Grid._wrapSizeGetter(nextProps.columnWidth)\n      });\n\n      instanceProps.rowSizeAndPositionManager.configure({\n        cellCount: nextProps.rowCount,\n        estimatedCellSize: Grid._getEstimatedRowSize(nextProps),\n        cellSizeGetter: Grid._wrapSizeGetter(nextProps.rowHeight)\n      });\n\n      if (instanceProps.prevColumnCount === 0 || instanceProps.prevRowCount === 0) {\n        instanceProps.prevColumnCount = 0;\n        instanceProps.prevRowCount = 0;\n      }\n\n      // If scrolling is controlled outside this component, clear cache when scrolling stops\n      if (nextProps.autoHeight && nextProps.isScrolling === false && instanceProps.prevIsScrolling === true) {\n        _Object$assign(newState, {\n          isScrolling: false\n        });\n      }\n\n      var maybeStateA = void 0;\n      var maybeStateB = void 0;\n\n      calculateSizeAndPositionDataAndUpdateScrollOffset({\n        cellCount: instanceProps.prevColumnCount,\n        cellSize: typeof instanceProps.prevColumnWidth === 'number' ? instanceProps.prevColumnWidth : null,\n        computeMetadataCallback: function computeMetadataCallback() {\n          return instanceProps.columnSizeAndPositionManager.resetCell(0);\n        },\n        computeMetadataCallbackProps: nextProps,\n        nextCellsCount: nextProps.columnCount,\n        nextCellSize: typeof nextProps.columnWidth === 'number' ? nextProps.columnWidth : null,\n        nextScrollToIndex: nextProps.scrollToColumn,\n        scrollToIndex: instanceProps.prevScrollToColumn,\n        updateScrollOffsetForScrollToIndex: function updateScrollOffsetForScrollToIndex() {\n          maybeStateA = Grid._getScrollLeftForScrollToColumnStateUpdate(nextProps, prevState);\n        }\n      });\n      calculateSizeAndPositionDataAndUpdateScrollOffset({\n        cellCount: instanceProps.prevRowCount,\n        cellSize: typeof instanceProps.prevRowHeight === 'number' ? instanceProps.prevRowHeight : null,\n        computeMetadataCallback: function computeMetadataCallback() {\n          return instanceProps.rowSizeAndPositionManager.resetCell(0);\n        },\n        computeMetadataCallbackProps: nextProps,\n        nextCellsCount: nextProps.rowCount,\n        nextCellSize: typeof nextProps.rowHeight === 'number' ? nextProps.rowHeight : null,\n        nextScrollToIndex: nextProps.scrollToRow,\n        scrollToIndex: instanceProps.prevScrollToRow,\n        updateScrollOffsetForScrollToIndex: function updateScrollOffsetForScrollToIndex() {\n          maybeStateB = Grid._getScrollTopForScrollToRowStateUpdate(nextProps, prevState);\n        }\n      });\n\n      instanceProps.prevColumnCount = nextProps.columnCount;\n      instanceProps.prevColumnWidth = nextProps.columnWidth;\n      instanceProps.prevIsScrolling = nextProps.isScrolling === true;\n      instanceProps.prevRowCount = nextProps.rowCount;\n      instanceProps.prevRowHeight = nextProps.rowHeight;\n      instanceProps.prevScrollToColumn = nextProps.scrollToColumn;\n      instanceProps.prevScrollToRow = nextProps.scrollToRow;\n      instanceProps.prevScrollLeft = nextProps.scrollLeft;\n      instanceProps.prevScrollTop = nextProps.scrollTop;\n\n      // getting scrollBarSize (moved from componentWillMount)\n      instanceProps.scrollbarSize = nextProps.getScrollbarSize();\n      if (instanceProps.scrollbarSize === undefined) {\n        instanceProps.scrollbarSizeMeasured = false;\n        instanceProps.scrollbarSize = 0;\n      } else {\n        instanceProps.scrollbarSizeMeasured = true;\n      }\n\n      newState.instanceProps = instanceProps;\n\n      return _extends$6({}, newState, maybeStateA, maybeStateB);\n    }\n  }, {\n    key: '_getEstimatedColumnSize',\n    value: function _getEstimatedColumnSize(props) {\n      return typeof props.columnWidth === 'number' ? props.columnWidth : props.estimatedColumnSize;\n    }\n  }, {\n    key: '_getEstimatedRowSize',\n    value: function _getEstimatedRowSize(props) {\n      return typeof props.rowHeight === 'number' ? props.rowHeight : props.estimatedRowSize;\n    }\n  }, {\n    key: '_getScrollToPositionStateUpdate',\n\n\n    /**\n     * Get the updated state after scrolling to\n     * scrollLeft and scrollTop\n     */\n    value: function _getScrollToPositionStateUpdate(_ref9) {\n      var prevState = _ref9.prevState,\n          scrollLeft = _ref9.scrollLeft,\n          scrollTop = _ref9.scrollTop;\n\n      var newState = {\n        scrollPositionChangeReason: SCROLL_POSITION_CHANGE_REASONS.REQUESTED\n      };\n\n      if (typeof scrollLeft === 'number' && scrollLeft >= 0) {\n        newState.scrollDirectionHorizontal = scrollLeft > prevState.scrollLeft ? SCROLL_DIRECTION_FORWARD : SCROLL_DIRECTION_BACKWARD;\n        newState.scrollLeft = scrollLeft;\n      }\n\n      if (typeof scrollTop === 'number' && scrollTop >= 0) {\n        newState.scrollDirectionVertical = scrollTop > prevState.scrollTop ? SCROLL_DIRECTION_FORWARD : SCROLL_DIRECTION_BACKWARD;\n        newState.scrollTop = scrollTop;\n      }\n\n      if (typeof scrollLeft === 'number' && scrollLeft >= 0 && scrollLeft !== prevState.scrollLeft || typeof scrollTop === 'number' && scrollTop >= 0 && scrollTop !== prevState.scrollTop) {\n        return newState;\n      }\n      return null;\n    }\n  }, {\n    key: '_wrapSizeGetter',\n    value: function _wrapSizeGetter(value) {\n      return typeof value === 'function' ? value : function () {\n        return value;\n      };\n    }\n  }, {\n    key: '_getCalculatedScrollLeft',\n    value: function _getCalculatedScrollLeft(nextProps, prevState) {\n      var columnCount = nextProps.columnCount,\n          height = nextProps.height,\n          scrollToAlignment = nextProps.scrollToAlignment,\n          scrollToColumn = nextProps.scrollToColumn,\n          width = nextProps.width;\n      var scrollLeft = prevState.scrollLeft,\n          instanceProps = prevState.instanceProps;\n\n\n      if (columnCount > 0) {\n        var finalColumn = columnCount - 1;\n        var targetIndex = scrollToColumn < 0 ? finalColumn : Math.min(finalColumn, scrollToColumn);\n        var totalRowsHeight = instanceProps.rowSizeAndPositionManager.getTotalSize();\n        var scrollBarSize = instanceProps.scrollbarSizeMeasured && totalRowsHeight > height ? instanceProps.scrollbarSize : 0;\n\n        return instanceProps.columnSizeAndPositionManager.getUpdatedOffsetForIndex({\n          align: scrollToAlignment,\n          containerSize: width - scrollBarSize,\n          currentOffset: scrollLeft,\n          targetIndex: targetIndex\n        });\n      }\n      return 0;\n    }\n  }, {\n    key: '_getScrollLeftForScrollToColumnStateUpdate',\n    value: function _getScrollLeftForScrollToColumnStateUpdate(nextProps, prevState) {\n      var scrollLeft = prevState.scrollLeft;\n\n      var calculatedScrollLeft = Grid._getCalculatedScrollLeft(nextProps, prevState);\n\n      if (typeof calculatedScrollLeft === 'number' && calculatedScrollLeft >= 0 && scrollLeft !== calculatedScrollLeft) {\n        return Grid._getScrollToPositionStateUpdate({\n          prevState: prevState,\n          scrollLeft: calculatedScrollLeft,\n          scrollTop: -1\n        });\n      }\n      return null;\n    }\n  }, {\n    key: '_getCalculatedScrollTop',\n    value: function _getCalculatedScrollTop(nextProps, prevState) {\n      var height = nextProps.height,\n          rowCount = nextProps.rowCount,\n          scrollToAlignment = nextProps.scrollToAlignment,\n          scrollToRow = nextProps.scrollToRow,\n          width = nextProps.width;\n      var scrollTop = prevState.scrollTop,\n          instanceProps = prevState.instanceProps;\n\n\n      if (rowCount > 0) {\n        var finalRow = rowCount - 1;\n        var targetIndex = scrollToRow < 0 ? finalRow : Math.min(finalRow, scrollToRow);\n        var totalColumnsWidth = instanceProps.columnSizeAndPositionManager.getTotalSize();\n        var scrollBarSize = instanceProps.scrollbarSizeMeasured && totalColumnsWidth > width ? instanceProps.scrollbarSize : 0;\n\n        return instanceProps.rowSizeAndPositionManager.getUpdatedOffsetForIndex({\n          align: scrollToAlignment,\n          containerSize: height - scrollBarSize,\n          currentOffset: scrollTop,\n          targetIndex: targetIndex\n        });\n      }\n      return 0;\n    }\n  }, {\n    key: '_getScrollTopForScrollToRowStateUpdate',\n    value: function _getScrollTopForScrollToRowStateUpdate(nextProps, prevState) {\n      var scrollTop = prevState.scrollTop;\n\n      var calculatedScrollTop = Grid._getCalculatedScrollTop(nextProps, prevState);\n\n      if (typeof calculatedScrollTop === 'number' && calculatedScrollTop >= 0 && scrollTop !== calculatedScrollTop) {\n        return Grid._getScrollToPositionStateUpdate({\n          prevState: prevState,\n          scrollLeft: -1,\n          scrollTop: calculatedScrollTop\n        });\n      }\n      return null;\n    }\n  }]);\n\n  return Grid;\n}(PureComponent);\n\nGrid.defaultProps = {\n  'aria-label': 'grid',\n  'aria-readonly': true,\n  autoContainerWidth: false,\n  autoHeight: false,\n  autoWidth: false,\n  cellRangeRenderer: defaultCellRangeRenderer,\n  containerRole: 'rowgroup',\n  containerStyle: {},\n  estimatedColumnSize: 100,\n  estimatedRowSize: 30,\n  getScrollbarSize: scrollbarSize,\n  noContentRenderer: renderNull,\n  onScroll: function onScroll() {},\n  onScrollbarPresenceChange: function onScrollbarPresenceChange() {},\n  onSectionRendered: function onSectionRendered() {},\n  overscanColumnCount: 0,\n  overscanIndicesGetter: defaultOverscanIndicesGetter,\n  overscanRowCount: 10,\n  role: 'grid',\n  scrollingResetTimeInterval: DEFAULT_SCROLLING_RESET_TIME_INTERVAL,\n  scrollToAlignment: 'auto',\n  scrollToColumn: -1,\n  scrollToRow: -1,\n  style: {},\n  tabIndex: 0,\n  isScrollingOptOut: false\n};\nGrid.propTypes = process.env.NODE_ENV === 'production' ? null : {\n  \"aria-label\": propTypes.string.isRequired,\n  \"aria-readonly\": propTypes.bool,\n\n\n  /**\n   * Set the width of the inner scrollable container to 'auto'.\n   * This is useful for single-column Grids to ensure that the column doesn't extend below a vertical scrollbar.\n   */\n  autoContainerWidth: propTypes.bool.isRequired,\n\n\n  /**\n   * Removes fixed height from the scrollingContainer so that the total height of rows can stretch the window.\n   * Intended for use with WindowScroller\n   */\n  autoHeight: propTypes.bool.isRequired,\n\n\n  /**\n   * Removes fixed width from the scrollingContainer so that the total width of rows can stretch the window.\n   * Intended for use with WindowScroller\n   */\n  autoWidth: propTypes.bool.isRequired,\n\n\n  /** Responsible for rendering a cell given an row and column index.  */\n  cellRenderer: function cellRenderer() {\n    return (typeof bpfrpt_proptype_CellRenderer === 'function' ? bpfrpt_proptype_CellRenderer.isRequired ? bpfrpt_proptype_CellRenderer.isRequired : bpfrpt_proptype_CellRenderer : propTypes.shape(bpfrpt_proptype_CellRenderer).isRequired).apply(this, arguments);\n  },\n\n\n  /** Responsible for rendering a group of cells given their index ranges.  */\n  cellRangeRenderer: function cellRangeRenderer() {\n    return (typeof bpfrpt_proptype_CellRangeRenderer === 'function' ? bpfrpt_proptype_CellRangeRenderer.isRequired ? bpfrpt_proptype_CellRangeRenderer.isRequired : bpfrpt_proptype_CellRangeRenderer : propTypes.shape(bpfrpt_proptype_CellRangeRenderer).isRequired).apply(this, arguments);\n  },\n\n\n  /** Optional custom CSS class name to attach to root Grid element.  */\n  className: propTypes.string,\n\n\n  /** Number of columns in grid.  */\n  columnCount: propTypes.number.isRequired,\n\n\n  /** Either a fixed column width (number) or a function that returns the width of a column given its index.  */\n  columnWidth: function columnWidth() {\n    return (typeof bpfrpt_proptype_CellSize === 'function' ? bpfrpt_proptype_CellSize.isRequired ? bpfrpt_proptype_CellSize.isRequired : bpfrpt_proptype_CellSize : propTypes.shape(bpfrpt_proptype_CellSize).isRequired).apply(this, arguments);\n  },\n\n\n  /** Unfiltered props for the Grid container. */\n  containerProps: propTypes.object,\n\n\n  /** ARIA role for the cell-container.  */\n  containerRole: propTypes.string.isRequired,\n\n\n  /** Optional inline style applied to inner cell-container */\n  containerStyle: propTypes.object.isRequired,\n\n\n  /**\n   * If CellMeasurer is used to measure this Grid's children, this should be a pointer to its CellMeasurerCache.\n   * A shared CellMeasurerCache reference enables Grid and CellMeasurer to share measurement data.\n   */\n  deferredMeasurementCache: propTypes.object,\n\n\n  /**\n   * Used to estimate the total width of a Grid before all of its columns have actually been measured.\n   * The estimated total width is adjusted as columns are rendered.\n   */\n  estimatedColumnSize: propTypes.number.isRequired,\n\n\n  /**\n   * Used to estimate the total height of a Grid before all of its rows have actually been measured.\n   * The estimated total height is adjusted as rows are rendered.\n   */\n  estimatedRowSize: propTypes.number.isRequired,\n\n\n  /** Exposed for testing purposes only.  */\n  getScrollbarSize: propTypes.func.isRequired,\n\n\n  /** Height of Grid; this property determines the number of visible (vs virtualized) rows.  */\n  height: propTypes.number.isRequired,\n\n\n  /** Optional custom id to attach to root Grid element.  */\n  id: propTypes.string,\n\n\n  /**\n   * Override internal is-scrolling state tracking.\n   * This property is primarily intended for use with the WindowScroller component.\n   */\n  isScrolling: propTypes.bool,\n\n\n  /**\n   * Opt-out of isScrolling param passed to cellRangeRenderer.\n   * To avoid the extra render when scroll stops.\n   */\n  isScrollingOptOut: propTypes.bool.isRequired,\n\n\n  /** Optional renderer to be used in place of rows when either :rowCount or :columnCount is 0.  */\n  noContentRenderer: function noContentRenderer() {\n    return (typeof bpfrpt_proptype_NoContentRenderer === 'function' ? bpfrpt_proptype_NoContentRenderer.isRequired ? bpfrpt_proptype_NoContentRenderer.isRequired : bpfrpt_proptype_NoContentRenderer : propTypes.shape(bpfrpt_proptype_NoContentRenderer).isRequired).apply(this, arguments);\n  },\n\n\n  /**\n   * Callback invoked whenever the scroll offset changes within the inner scrollable region.\n   * This callback can be used to sync scrolling between lists, tables, or grids.\n   */\n  onScroll: propTypes.func.isRequired,\n\n\n  /**\n   * Called whenever a horizontal or vertical scrollbar is added or removed.\n   * This prop is not intended for end-user use;\n   * It is used by MultiGrid to support fixed-row/fixed-column scroll syncing.\n   */\n  onScrollbarPresenceChange: propTypes.func.isRequired,\n\n\n  /** Callback invoked with information about the section of the Grid that was just rendered.  */\n  onSectionRendered: propTypes.func.isRequired,\n\n\n  /**\n   * Number of columns to render before/after the visible section of the grid.\n   * These columns can help for smoother scrolling on touch devices or browsers that send scroll events infrequently.\n   */\n  overscanColumnCount: propTypes.number.isRequired,\n\n\n  /**\n   * Calculates the number of cells to overscan before and after a specified range.\n   * This function ensures that overscanning doesn't exceed the available cells.\n   */\n  overscanIndicesGetter: function overscanIndicesGetter() {\n    return (typeof bpfrpt_proptype_OverscanIndicesGetter === 'function' ? bpfrpt_proptype_OverscanIndicesGetter.isRequired ? bpfrpt_proptype_OverscanIndicesGetter.isRequired : bpfrpt_proptype_OverscanIndicesGetter : propTypes.shape(bpfrpt_proptype_OverscanIndicesGetter).isRequired).apply(this, arguments);\n  },\n\n\n  /**\n   * Number of rows to render above/below the visible section of the grid.\n   * These rows can help for smoother scrolling on touch devices or browsers that send scroll events infrequently.\n   */\n  overscanRowCount: propTypes.number.isRequired,\n\n\n  /** ARIA role for the grid element.  */\n  role: propTypes.string.isRequired,\n\n\n  /**\n   * Either a fixed row height (number) or a function that returns the height of a row given its index.\n   * Should implement the following interface: ({ index: number }): number\n   */\n  rowHeight: function rowHeight() {\n    return (typeof bpfrpt_proptype_CellSize === 'function' ? bpfrpt_proptype_CellSize.isRequired ? bpfrpt_proptype_CellSize.isRequired : bpfrpt_proptype_CellSize : propTypes.shape(bpfrpt_proptype_CellSize).isRequired).apply(this, arguments);\n  },\n\n\n  /** Number of rows in grid.  */\n  rowCount: propTypes.number.isRequired,\n\n\n  /** Wait this amount of time after the last scroll event before resetting Grid `pointer-events`. */\n  scrollingResetTimeInterval: propTypes.number.isRequired,\n\n\n  /** Horizontal offset. */\n  scrollLeft: propTypes.number,\n\n\n  /**\n   * Controls scroll-to-cell behavior of the Grid.\n   * The default (\"auto\") scrolls the least amount possible to ensure that the specified cell is fully visible.\n   * Use \"start\" to align cells to the top/left of the Grid and \"end\" to align bottom/right.\n   */\n  scrollToAlignment: function scrollToAlignment() {\n    return (typeof bpfrpt_proptype_Alignment === 'function' ? bpfrpt_proptype_Alignment.isRequired ? bpfrpt_proptype_Alignment.isRequired : bpfrpt_proptype_Alignment : propTypes.shape(bpfrpt_proptype_Alignment).isRequired).apply(this, arguments);\n  },\n\n\n  /** Column index to ensure visible (by forcefully scrolling if necessary) */\n  scrollToColumn: propTypes.number.isRequired,\n\n\n  /** Vertical offset. */\n  scrollTop: propTypes.number,\n\n\n  /** Row index to ensure visible (by forcefully scrolling if necessary) */\n  scrollToRow: propTypes.number.isRequired,\n\n\n  /** Optional inline style */\n  style: propTypes.object.isRequired,\n\n\n  /** Tab index for focus */\n  tabIndex: propTypes.number,\n\n\n  /** Width of Grid; this property determines the number of visible (vs virtualized) columns.  */\n  width: propTypes.number.isRequired\n};\n\n\npolyfill(Grid);\n\nvar SCROLL_DIRECTION_FORWARD$1 = 1;\n\n/**\n * Calculates the number of cells to overscan before and after a specified range.\n * This function ensures that overscanning doesn't exceed the available cells.\n */\n\nfunction defaultOverscanIndicesGetter$1(_ref) {\n  var cellCount = _ref.cellCount,\n      overscanCellsCount = _ref.overscanCellsCount,\n      scrollDirection = _ref.scrollDirection,\n      startIndex = _ref.startIndex,\n      stopIndex = _ref.stopIndex;\n\n  // Make sure we render at least 1 cell extra before and after (except near boundaries)\n  // This is necessary in order to support keyboard navigation (TAB/SHIFT+TAB) in some cases\n  // For more info see issues #625\n  overscanCellsCount = Math.max(1, overscanCellsCount);\n\n  if (scrollDirection === SCROLL_DIRECTION_FORWARD$1) {\n    return {\n      overscanStartIndex: Math.max(0, startIndex - 1),\n      overscanStopIndex: Math.min(cellCount - 1, stopIndex + overscanCellsCount)\n    };\n  } else {\n    return {\n      overscanStartIndex: Math.max(0, startIndex - overscanCellsCount),\n      overscanStopIndex: Math.min(cellCount - 1, stopIndex + 1)\n    };\n  }\n}\n\nvar bpfrpt_proptype_RowRendererParams = process.env.NODE_ENV === 'production' ? null : {\n  index: propTypes.number.isRequired,\n  isScrolling: propTypes.bool.isRequired,\n  isVisible: propTypes.bool.isRequired,\n  key: propTypes.string.isRequired,\n  parent: propTypes.object.isRequired,\n  style: propTypes.object.isRequired\n};\nvar bpfrpt_proptype_RowRenderer = process.env.NODE_ENV === 'production' ? null : propTypes.func;\nvar bpfrpt_proptype_RenderedRows = process.env.NODE_ENV === 'production' ? null : {\n  overscanStartIndex: propTypes.number.isRequired,\n  overscanStopIndex: propTypes.number.isRequired,\n  startIndex: propTypes.number.isRequired,\n  stopIndex: propTypes.number.isRequired\n};\nvar bpfrpt_proptype_Scroll$1 = process.env.NODE_ENV === 'production' ? null : {\n  clientHeight: propTypes.number.isRequired,\n  scrollHeight: propTypes.number.isRequired,\n  scrollTop: propTypes.number.isRequired\n};\n\n/**\n * It is inefficient to create and manage a large list of DOM elements within a scrolling container\n * if only a few of those elements are visible. The primary purpose of this component is to improve\n * performance by only rendering the DOM nodes that a user is able to see based on their current\n * scroll position.\n *\n * This component renders a virtualized list of elements with either fixed or dynamic heights.\n */\n\nvar List = function (_React$PureComponent) {\n  _inherits(List, _React$PureComponent);\n\n  function List() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, List);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = List.__proto__ || _Object$getPrototypeOf(List)).call.apply(_ref, [this].concat(args))), _this), _this._cellRenderer = function (_ref2) {\n      var parent = _ref2.parent,\n          rowIndex = _ref2.rowIndex,\n          style = _ref2.style,\n          isScrolling = _ref2.isScrolling,\n          isVisible = _ref2.isVisible,\n          key = _ref2.key;\n      var rowRenderer = _this.props.rowRenderer;\n\n      // TRICKY The style object is sometimes cached by Grid.\n      // This prevents new style objects from bypassing shallowCompare().\n      // However as of React 16, style props are auto-frozen (at least in dev mode)\n      // Check to make sure we can still modify the style before proceeding.\n      // https://github.com/facebook/react/commit/977357765b44af8ff0cfea327866861073095c12#commitcomment-20648713\n\n      var _Object$getOwnPropert = _Object$getOwnPropertyDescriptor(style, 'width'),\n          writable = _Object$getOwnPropert.writable;\n\n      if (writable) {\n        // By default, List cells should be 100% width.\n        // This prevents them from flowing under a scrollbar (if present).\n        style.width = '100%';\n      }\n\n      return rowRenderer({\n        index: rowIndex,\n        style: style,\n        isScrolling: isScrolling,\n        isVisible: isVisible,\n        key: key,\n        parent: parent\n      });\n    }, _this._setRef = function (ref) {\n      _this.Grid = ref;\n    }, _this._onScroll = function (_ref3) {\n      var clientHeight = _ref3.clientHeight,\n          scrollHeight = _ref3.scrollHeight,\n          scrollTop = _ref3.scrollTop;\n      var onScroll = _this.props.onScroll;\n\n\n      onScroll({ clientHeight: clientHeight, scrollHeight: scrollHeight, scrollTop: scrollTop });\n    }, _this._onSectionRendered = function (_ref4) {\n      var rowOverscanStartIndex = _ref4.rowOverscanStartIndex,\n          rowOverscanStopIndex = _ref4.rowOverscanStopIndex,\n          rowStartIndex = _ref4.rowStartIndex,\n          rowStopIndex = _ref4.rowStopIndex;\n      var onRowsRendered = _this.props.onRowsRendered;\n\n\n      onRowsRendered({\n        overscanStartIndex: rowOverscanStartIndex,\n        overscanStopIndex: rowOverscanStopIndex,\n        startIndex: rowStartIndex,\n        stopIndex: rowStopIndex\n      });\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(List, [{\n    key: 'forceUpdateGrid',\n    value: function forceUpdateGrid() {\n      if (this.Grid) {\n        this.Grid.forceUpdate();\n      }\n    }\n\n    /** See Grid#getOffsetForCell */\n\n  }, {\n    key: 'getOffsetForRow',\n    value: function getOffsetForRow(_ref5) {\n      var alignment = _ref5.alignment,\n          index = _ref5.index;\n\n      if (this.Grid) {\n        var _Grid$getOffsetForCel = this.Grid.getOffsetForCell({\n          alignment: alignment,\n          rowIndex: index,\n          columnIndex: 0\n        }),\n            _scrollTop = _Grid$getOffsetForCel.scrollTop;\n\n        return _scrollTop;\n      }\n      return 0;\n    }\n\n    /** CellMeasurer compatibility */\n\n  }, {\n    key: 'invalidateCellSizeAfterRender',\n    value: function invalidateCellSizeAfterRender(_ref6) {\n      var columnIndex = _ref6.columnIndex,\n          rowIndex = _ref6.rowIndex;\n\n      if (this.Grid) {\n        this.Grid.invalidateCellSizeAfterRender({\n          rowIndex: rowIndex,\n          columnIndex: columnIndex\n        });\n      }\n    }\n\n    /** See Grid#measureAllCells */\n\n  }, {\n    key: 'measureAllRows',\n    value: function measureAllRows() {\n      if (this.Grid) {\n        this.Grid.measureAllCells();\n      }\n    }\n\n    /** CellMeasurer compatibility */\n\n  }, {\n    key: 'recomputeGridSize',\n    value: function recomputeGridSize() {\n      var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref7$columnIndex = _ref7.columnIndex,\n          columnIndex = _ref7$columnIndex === undefined ? 0 : _ref7$columnIndex,\n          _ref7$rowIndex = _ref7.rowIndex,\n          rowIndex = _ref7$rowIndex === undefined ? 0 : _ref7$rowIndex;\n\n      if (this.Grid) {\n        this.Grid.recomputeGridSize({\n          rowIndex: rowIndex,\n          columnIndex: columnIndex\n        });\n      }\n    }\n\n    /** See Grid#recomputeGridSize */\n\n  }, {\n    key: 'recomputeRowHeights',\n    value: function recomputeRowHeights() {\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n      if (this.Grid) {\n        this.Grid.recomputeGridSize({\n          rowIndex: index,\n          columnIndex: 0\n        });\n      }\n    }\n\n    /** See Grid#scrollToPosition */\n\n  }, {\n    key: 'scrollToPosition',\n    value: function scrollToPosition() {\n      var scrollTop = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n      if (this.Grid) {\n        this.Grid.scrollToPosition({ scrollTop: scrollTop });\n      }\n    }\n\n    /** See Grid#scrollToCell */\n\n  }, {\n    key: 'scrollToRow',\n    value: function scrollToRow() {\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n      if (this.Grid) {\n        this.Grid.scrollToCell({\n          columnIndex: 0,\n          rowIndex: index\n        });\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          className = _props.className,\n          noRowsRenderer = _props.noRowsRenderer,\n          scrollToIndex = _props.scrollToIndex,\n          width = _props.width;\n\n\n      var classNames = clsx('ReactVirtualized__List', className);\n\n      return createElement(Grid, _extends$6({}, this.props, {\n        autoContainerWidth: true,\n        cellRenderer: this._cellRenderer,\n        className: classNames,\n        columnWidth: width,\n        columnCount: 1,\n        noContentRenderer: noRowsRenderer,\n        onScroll: this._onScroll,\n        onSectionRendered: this._onSectionRendered,\n        ref: this._setRef,\n        scrollToRow: scrollToIndex\n      }));\n    }\n  }]);\n\n  return List;\n}(PureComponent);\n\nList.defaultProps = {\n  autoHeight: false,\n  estimatedRowSize: 30,\n  onScroll: function onScroll() {},\n  noRowsRenderer: function noRowsRenderer() {\n    return null;\n  },\n  onRowsRendered: function onRowsRendered() {},\n  overscanIndicesGetter: defaultOverscanIndicesGetter$1,\n  overscanRowCount: 10,\n  scrollToAlignment: 'auto',\n  scrollToIndex: -1,\n  style: {}\n};\nList.propTypes = process.env.NODE_ENV === 'production' ? null : {\n  \"aria-label\": propTypes.string,\n\n\n  /**\n   * Removes fixed height from the scrollingContainer so that the total height\n   * of rows can stretch the window. Intended for use with WindowScroller\n   */\n  autoHeight: propTypes.bool.isRequired,\n\n\n  /** Optional CSS class name */\n  className: propTypes.string,\n\n\n  /**\n   * Used to estimate the total height of a List before all of its rows have actually been measured.\n   * The estimated total height is adjusted as rows are rendered.\n   */\n  estimatedRowSize: propTypes.number.isRequired,\n\n\n  /** Height constraint for list (determines how many actual rows are rendered) */\n  height: propTypes.number.isRequired,\n\n\n  /** Optional renderer to be used in place of rows when rowCount is 0 */\n  noRowsRenderer: function noRowsRenderer() {\n    return (typeof bpfrpt_proptype_NoContentRenderer === 'function' ? bpfrpt_proptype_NoContentRenderer.isRequired ? bpfrpt_proptype_NoContentRenderer.isRequired : bpfrpt_proptype_NoContentRenderer : propTypes.shape(bpfrpt_proptype_NoContentRenderer).isRequired).apply(this, arguments);\n  },\n\n\n  /** Callback invoked with information about the slice of rows that were just rendered.  */\n\n  onRowsRendered: propTypes.func.isRequired,\n\n\n  /**\n   * Callback invoked whenever the scroll offset changes within the inner scrollable region.\n   * This callback can be used to sync scrolling between lists, tables, or grids.\n   */\n  onScroll: propTypes.func.isRequired,\n\n\n  /** See Grid#overscanIndicesGetter */\n  overscanIndicesGetter: function overscanIndicesGetter() {\n    return (typeof bpfrpt_proptype_OverscanIndicesGetter === 'function' ? bpfrpt_proptype_OverscanIndicesGetter.isRequired ? bpfrpt_proptype_OverscanIndicesGetter.isRequired : bpfrpt_proptype_OverscanIndicesGetter : propTypes.shape(bpfrpt_proptype_OverscanIndicesGetter).isRequired).apply(this, arguments);\n  },\n\n\n  /**\n   * Number of rows to render above/below the visible bounds of the list.\n   * These rows can help for smoother scrolling on touch devices.\n   */\n  overscanRowCount: propTypes.number.isRequired,\n\n\n  /** Either a fixed row height (number) or a function that returns the height of a row given its index.  */\n  rowHeight: function rowHeight() {\n    return (typeof bpfrpt_proptype_CellSize === 'function' ? bpfrpt_proptype_CellSize.isRequired ? bpfrpt_proptype_CellSize.isRequired : bpfrpt_proptype_CellSize : propTypes.shape(bpfrpt_proptype_CellSize).isRequired).apply(this, arguments);\n  },\n\n\n  /** Responsible for rendering a row given an index; ({ index: number }): node */\n  rowRenderer: function rowRenderer() {\n    return (typeof bpfrpt_proptype_RowRenderer === 'function' ? bpfrpt_proptype_RowRenderer.isRequired ? bpfrpt_proptype_RowRenderer.isRequired : bpfrpt_proptype_RowRenderer : propTypes.shape(bpfrpt_proptype_RowRenderer).isRequired).apply(this, arguments);\n  },\n\n\n  /** Number of rows in list. */\n  rowCount: propTypes.number.isRequired,\n\n\n  /** See Grid#scrollToAlignment */\n  scrollToAlignment: function scrollToAlignment() {\n    return (typeof bpfrpt_proptype_Alignment === 'function' ? bpfrpt_proptype_Alignment.isRequired ? bpfrpt_proptype_Alignment.isRequired : bpfrpt_proptype_Alignment : propTypes.shape(bpfrpt_proptype_Alignment).isRequired).apply(this, arguments);\n  },\n\n\n  /** Row index to ensure visible (by forcefully scrolling if necessary) */\n  scrollToIndex: propTypes.number.isRequired,\n\n\n  /** Vertical offset. */\n  scrollTop: propTypes.number,\n\n\n  /** Optional inline style */\n  style: propTypes.object.isRequired,\n\n\n  /** Tab index for focus */\n  tabIndex: propTypes.number,\n\n\n  /** Width of list */\n  width: propTypes.number.isRequired\n};\n\n/** Used to generate unique IDs. */\nvar idCounter = 0;\n\n/**\n * Generates a unique ID. If `prefix` is given, the ID is appended to it.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {string} [prefix=''] The value to prefix the ID with.\n * @returns {string} Returns the unique ID.\n * @example\n *\n * _.uniqueId('contact_');\n * // => 'contact_104'\n *\n * _.uniqueId();\n * // => '105'\n */\nfunction uniqueId(prefix) {\n  var id = ++idCounter;\n  return toString_1(prefix) + id;\n}\n\nvar uniqueId_1 = uniqueId;\n\nvar baseClassName$2 = settings.prefix + \"--ci-doc-virtual-scroll\";\r\nvar VirtualScroll = function (_a, ref) {\r\n    var rowRenderer = _a.children, rowCount = _a.rowCount, width = _a.width, height = _a.height;\r\n    var listRef = useRef();\r\n    var instanceRef = useRef();\r\n    useState(initInstance.bind(null, listRef, instanceRef));\r\n    var _b = instanceRef.current, cache = _b.cache, onResize = _b.onResize, getElementById = _b.getElementById, getPrefixedId = _b.getPrefixedId, scrollToRow = _b.scrollToRow, scrollIntoView = _b.scrollIntoView, scrollToRowCallback = _b.scrollToRowCallback;\r\n    useImperativeHandle(ref, function () { return ({ scrollIntoView: scrollIntoView, scrollToRow: scrollToRow, getElementById: getElementById, listRef: listRef }); });\r\n    var Sizer = AutoSizer;\r\n    if (width && height) {\r\n        Sizer = function (_a) {\r\n            var children = _a.children;\r\n            return children({ width: width, height: height });\r\n        };\r\n    }\r\n    return (React$g__default.createElement(Sizer, { className: baseClassName$2, onResize: onResize }, function (_a) {\r\n        var width = _a.width, height = _a.height;\r\n        return (React$g__default.createElement(List, { ref: listRef, width: width, height: height, overscan: 3, rowCount: rowCount, deferredMeasurementCache: cache, rowHeight: cache.rowHeight, onRowsRendered: scrollToRowCallback, rowRenderer: function (_a) {\r\n                var index = _a.index, key = _a.key, parent = _a.parent, style = _a.style;\r\n                return (React$g__default.createElement(CellMeasurer, { cache: cache, columnIndex: 0, key: key, parent: parent, rowIndex: index },\r\n                    React$g__default.createElement(\"div\", { id: getPrefixedId(index), style: style }, rowRenderer({ index: index }))));\r\n            } }));\r\n    }));\r\n};\r\nfunction initInstance(listRef, instanceRef) {\r\n    var _this = this;\r\n    instanceRef.current = {\r\n        cache: new CellMeasurerCache({ defaultHeight: 10, fixedWidth: true }),\r\n        onResize: function () {\r\n            instanceRef.current.cache.clearAll();\r\n            listRef.current && listRef.current.forceUpdateGrid();\r\n        },\r\n        getElementById: function (id) {\r\n            // eslint-disable-next-line react/no-find-dom-node\r\n            var listNode = findDOMNode(listRef.current);\r\n            return listNode ? listNode.querySelector(\"#\" + id) : null;\r\n        },\r\n        idPrefix: uniqueId_1('VirtualScroll-') + '-',\r\n        getPrefixedId: function (id) { return \"\" + instanceRef.current.idPrefix + id; },\r\n        scrollToRow: function (index, ttl) {\r\n            if (ttl === void 0) { ttl = 500; }\r\n            return new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {\r\n                var _a, promisedRow, cache, getElementById, getPrefixedId;\r\n                return __generator(this, function (_b) {\r\n                    _a = instanceRef.current, promisedRow = _a.promisedRow, cache = _a.cache, getElementById = _a.getElementById, getPrefixedId = _a.getPrefixedId;\r\n                    if (getElementById(getPrefixedId(index)))\r\n                        resolve();\r\n                    // If we've seen the row before, scroll once. If we haven't, scroll twice. See this issue for\r\n                    // explanation: https://github.com/bvaughn/react-virtualized/issues/995\r\n                    instanceRef.current.promisedRow = {\r\n                        index: index,\r\n                        resolve: resolve,\r\n                        remainingTries: cache._rowHeightCache[index + \"-0\"] ? 0 : 1\r\n                    };\r\n                    listRef.current.scrollToRow(index);\r\n                    setTimeout(function () { return promisedRow && promisedRow.index === index && reject(); }, ttl);\r\n                    return [2 /*return*/];\r\n                });\r\n            }); });\r\n        },\r\n        // This function is called in onRowsRendered as (sort of) a callback after the scroll event occurs\r\n        scrollToRowCallback: function () {\r\n            var promisedRow = instanceRef.current.promisedRow;\r\n            if (!promisedRow)\r\n                return;\r\n            var index = promisedRow.index, resolve = promisedRow.resolve, remainingTries = promisedRow.remainingTries;\r\n            if (remainingTries) {\r\n                promisedRow.remainingTries--;\r\n                listRef.current.scrollToRow(index);\r\n            }\r\n            else {\r\n                instanceRef.current.promisedRow = null;\r\n                resolve();\r\n            }\r\n        },\r\n        scrollIntoView: function (row, elemSelector) { return __awaiter(_this, void 0, void 0, function () {\r\n            var listDom_1, elem, err_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 4, , 5]);\r\n                        listDom_1 = findDOMNode(listRef.current);\r\n                        elem = listDom_1.querySelector(elemSelector);\r\n                        if (isVisible(elem, listRef)) {\r\n                            // If element is already visible, don't scroll at all\r\n                            return [2 /*return*/];\r\n                        }\r\n                        if (!!elem) return [3 /*break*/, 2];\r\n                        // If element is not in DOM, scroll to its row\r\n                        return [4 /*yield*/, instanceRef.current.scrollToRow(row)];\r\n                    case 1:\r\n                        // If element is not in DOM, scroll to its row\r\n                        _a.sent();\r\n                        _a.label = 2;\r\n                    case 2: return [4 /*yield*/, new Promise(function (resolve) {\r\n                            var count = 0;\r\n                            var retry = 50;\r\n                            var timeout = 1000;\r\n                            var checkForElement = function () {\r\n                                var item = listDom_1.querySelector(elemSelector);\r\n                                if (!item && count * retry < timeout) {\r\n                                    count++;\r\n                                    setTimeout(function () {\r\n                                        checkForElement();\r\n                                    }, retry);\r\n                                }\r\n                                else {\r\n                                    resolve(item);\r\n                                }\r\n                            };\r\n                            checkForElement();\r\n                        })];\r\n                    case 3:\r\n                        // Check for the element until it exists using the given selector\r\n                        // (Max of 1 second before giving up)\r\n                        elem = _a.sent();\r\n                        if (elem) {\r\n                            elem.childNodes[0].scrollIntoView({ block: 'center' });\r\n                        }\r\n                        return [3 /*break*/, 5];\r\n                    case 4:\r\n                        err_1 = _a.sent();\r\n                        return [3 /*break*/, 5];\r\n                    case 5: return [2 /*return*/];\r\n                }\r\n            });\r\n        }); }\r\n    };\r\n}\r\nfunction isVisible(item, listRef) {\r\n    if (!item || !listRef) {\r\n        return false;\r\n    }\r\n    // eslint-disable-next-line react/no-find-dom-node\r\n    var listNode = findDOMNode(listRef.current);\r\n    if (!listNode) {\r\n        return false;\r\n    }\r\n    var _a = listNode.getBoundingClientRect(), docTop = _a.top, docBottom = _a.bottom;\r\n    var _b = itemBounds(item), itemTop = _b.itemTop, itemBottom = _b.itemBottom;\r\n    return itemTop >= docTop && itemBottom <= docBottom;\r\n}\r\nfunction itemBounds(item) {\r\n    var _a = item.getBoundingClientRect(), itemTop = _a.top, itemBottom = _a.bottom;\r\n    if (itemTop !== itemBottom) {\r\n        return { itemTop: itemTop, itemBottom: itemBottom };\r\n    }\r\n    else {\r\n        var childrenBounds = Array.from(item.children).map(function (child) {\r\n            // Is there a way to combine these two lines?\r\n            // Returning { top, bottom } = child.getBoundingClientRect() doesn't seem to work...\r\n            var _a = child.getBoundingClientRect(), top = _a.top, bottom = _a.bottom;\r\n            return { top: top, bottom: bottom };\r\n        });\r\n        return {\r\n            itemTop: Math.min.apply(Math, childrenBounds.map(function (bound) { return bound.top; })),\r\n            itemBottom: Math.max.apply(Math, childrenBounds.map(function (bound) { return bound.bottom; }))\r\n        };\r\n    }\r\n}\r\nvar VirtualScroll$1 = forwardRef(VirtualScroll);\n\n// @see https://www.carbondesignsystem.com/guidelines/color/usage/\r\n// @see https://www.ibm.com/design/language/elements/color\r\nvar colors = {\r\n    blue20: '#c9deff',\r\n    blue30: '#97c1ff',\r\n    gray20: '#dcdcdc',\r\n    purple30: '#d0b0ff'\r\n};\r\nvar whiteTheme = {\r\n    highlight: colors.blue20,\r\n    hover_selected_ui: colors.gray20\r\n};\r\nvar defaultTheme = {\r\n    highlightBackground: whiteTheme.highlight,\r\n    activeHighlightBackground: colors.blue30,\r\n    highlightWithinActiveHighlightBackground: colors.purple30,\r\n    textHoverBackground: whiteTheme.hover_selected_ui\r\n};\n\n/**\r\n * Renders a \"CI\" (HTML) document using a virtual \"infinite\" list, for\r\n * performance reasons.\r\n */\r\nvar baseClassName$3 = settings.prefix + \"--ci-doc-content\";\r\nvar CIDocumentContent = function (_a) {\r\n    var className = _a.className, _b = _a.sections, sections = _b === void 0 ? [] : _b, _c = _a.styles, docStyles = _c === void 0 ? '' : _c, _d = _a.highlightedIds, highlightedIds = _d === void 0 ? [] : _d, _e = _a.activeIds, activeIds = _e === void 0 ? [] : _e, _f = _a.activePartIds, activePartIds = _f === void 0 ? [] : _f, _g = _a.selectableIds, selectableIds = _g === void 0 ? [] : _g, _h = _a.activeMetadataIds, activeMetadataIds = _h === void 0 ? [] : _h, itemMap = _a.itemMap, width = _a.width, height = _a.height, _j = _a.theme, theme = _j === void 0 ? defaultTheme : _j, _k = _a.onItemClick, onItemClick = _k === void 0 ? function () { } : _k;\r\n    var virtualScrollRef = useRef();\r\n    useEffect(function () {\r\n        var ids = (activePartIds.length > 0 && activePartIds) ||\r\n            (activeIds.length > 0 && activeIds) ||\r\n            (activeMetadataIds.length > 0 && activeMetadataIds);\r\n        if (ids && ids.length > 0 && virtualScrollRef.current) {\r\n            scrollToActiveItem(virtualScrollRef, itemMap, ids[0]);\r\n        }\r\n    }, [activeIds, activeMetadataIds, activePartIds, itemMap]);\r\n    var loading = !sections || sections.length === 0;\r\n    return (React$g__default.createElement(\"div\", { className: classnames(baseClassName$3, className, { skeleton: loading }) }, loading ? (React$g__default.createElement(SkeletonText, { paragraph: true, lineCount: 80 })) : (React$g__default.createElement(React$g__default.Fragment, null,\r\n        React$g__default.createElement(\"style\", { \"data-testid\": \"style\" }, docStyles),\r\n        highlightedIds.length > 0 && (React$g__default.createElement(\"style\", null, createStyleRules(highlightedIds, [\r\n            backgroundColorRule(theme.highlightBackground),\r\n            // Set z-index to -1 in order to push non-active fields back\r\n            zIndexRule(-1)\r\n        ]))),\r\n        activeIds && activeIds.length > 0 && (React$g__default.createElement(React$g__default.Fragment, null,\r\n            React$g__default.createElement(\"style\", null, createStyleRules(activeIds, [\r\n                backgroundColorRule(theme.activeHighlightBackground),\r\n                zIndexRule(0)\r\n            ])))),\r\n        activePartIds.length > 0 && (React$g__default.createElement(\"style\", null, createStyleRules(activePartIds, [\r\n            backgroundColorRule(theme.highlightWithinActiveHighlightBackground)\r\n        ]))),\r\n        selectableIds && selectableIds.length > 0 && (React$g__default.createElement(\"style\", null, createStyleRules(selectableIds, [underlineRule(theme.textHoverBackground)]))),\r\n        activeMetadataIds.length > 0 && (React$g__default.createElement(\"style\", null, createStyleRules(activeMetadataIds, [\r\n            backgroundColorRule(theme.highlightWithinActiveHighlightBackground)\r\n        ]))),\r\n        sections.length > 0 && (React$g__default.createElement(VirtualScroll$1, { key: sections.length + \"-\" + sections[0].html.length, rowCount: sections.length, width: width, height: height, ref: virtualScrollRef }, function (_a) {\r\n            var index = _a.index;\r\n            return (React$g__default.createElement(Section, { section: sections[index], onFieldClick: onItemClick }));\r\n        }))))));\r\n};\r\nfunction createStyleRules(idList, rules) {\r\n    return idList\r\n        .map(function (id) { return \".\" + baseClassName$3 + \" .field[data-field-id=\\\"\" + id + \"\\\"] > *\"; })\r\n        .join(',')\r\n        .concat(\"{\" + rules.join(';') + \"}\");\r\n}\r\nfunction backgroundColorRule(color) {\r\n    return \"background-color: \" + color;\r\n}\r\nfunction zIndexRule(value) {\r\n    return \"z-index: \" + value;\r\n}\r\nfunction underlineRule(color) {\r\n    return \"border-bottom: \" + color + \" dashed 1px\";\r\n}\r\nfunction scrollToActiveItem(virtualScrollRef, itemMap, activeId) {\r\n    virtualScrollRef.current.scrollIntoView(itemMap.byItem[activeId], \".field[data-field-id=\\\"\" + activeId + \"\\\"]\");\r\n}\n\n/** Used for built-in method references. */\nvar objectProto$f = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$e = objectProto$f.hasOwnProperty;\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The corresponding value of\n * each key is the number of times the key was returned by `iteratee`. The\n * iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.5.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * _.countBy([6.1, 4.2, 6.3], Math.floor);\n * // => { '4': 1, '6': 2 }\n *\n * // The `_.property` iteratee shorthand.\n * _.countBy(['one', 'two', 'three'], 'length');\n * // => { '3': 2, '5': 1 }\n */\nvar countBy = _createAggregator(function(result, value, key) {\n  if (hasOwnProperty$e.call(result, key)) {\n    ++result[key];\n  } else {\n    _baseAssignValue(result, key, 1);\n  }\n});\n\nvar countBy_1 = countBy;\n\nvar contractDetailsFromItem = function (item) { return [\r\n    {\r\n        heading: 'categories',\r\n        items: item.categories\r\n    },\r\n    {\r\n        heading: 'types',\r\n        items: getTypeDetails(item.types)\r\n    },\r\n    { heading: 'attributes', items: getContractAttributes(item.attributes) }\r\n]; };\r\nvar nonContractDetailsFromItem = function (item) {\r\n    var details = [\r\n        {\r\n            heading: 'type',\r\n            items: [item.type]\r\n        }\r\n    ];\r\n    if (item.attributes) {\r\n        details.push({\r\n            heading: 'attributes',\r\n            items: getAttributesWithinRelation(item.attributes)\r\n        });\r\n    }\r\n    return details;\r\n};\r\nvar modelMapping$1 = {\r\n    contract: contractDetailsFromItem,\r\n    invoice: nonContractDetailsFromItem,\r\n    purchase_order: nonContractDetailsFromItem\r\n};\r\n/**\r\n *\r\n * @param enrichmentName\r\n * @return\r\n */\r\nfunction getDetailsFromItem(enrichmentName) {\r\n    return modelMapping$1[enrichmentName];\r\n}\r\nfunction getContractAttributes(attributes) {\r\n    var typesWithCounts = getTypesWithCounts(attributes);\r\n    return typesWithCounts.map(function (_a) {\r\n        var type = _a[0], count = _a[1];\r\n        return { type: type, label: type + \" (\" + count + \")\", link: true };\r\n    });\r\n}\r\nfunction getAttributesWithinRelation(attributes) {\r\n    return attributes.map(function (_a) {\r\n        var type = _a.type, text = _a.text;\r\n        return {\r\n            type: type,\r\n            value: { label: text },\r\n            link: true\r\n        };\r\n    });\r\n}\r\nfunction getTypesWithCounts(types) {\r\n    return Object.entries(countBy_1(types, function (_a) {\r\n        var type = _a.type;\r\n        return type;\r\n    }));\r\n}\r\nfunction getTypeDetails(types) {\r\n    return types.map(function (_a) {\r\n        var label = _a.label;\r\n        return Object.entries(label)\r\n            .map(function (_a) {\r\n            var key = _a[0], value = _a[1];\r\n            return capitalize_1(key) + \": \" + value;\r\n        })\r\n            .join(', ');\r\n    });\r\n}\r\nfunction getDetailsFromMetadata(data) {\r\n    if (data.metadataType) {\r\n        return [{ heading: 'type', items: [data.metadataType] }];\r\n    }\r\n    return [{ heading: 'party', items: [data.text.toUpperCase()] }];\r\n}\n\n/**\n * Creates a duplicate-free version of an array, using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons, in which only the first occurrence of each element\n * is kept. The order of result values is determined by the order they occur\n * in the array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * _.uniq([2, 1, 2]);\n * // => [2, 1]\n */\nfunction uniq(array) {\n  return (array && array.length) ? _baseUniq(array) : [];\n}\n\nvar uniq_1 = uniq;\n\nvar contractFilterGroups = [\r\n    {\r\n        id: 'CATEGORY',\r\n        type: 'checkbox',\r\n        labelsFromItem: function (item) { return item.categories.map(function (category) { return category.label; }); },\r\n        applyFilter: function (list, label) {\r\n            return list.filter(function (item) { return item.categories.some(function (category) { return category.label === label; }); });\r\n        }\r\n    },\r\n    {\r\n        id: 'NATURE',\r\n        type: 'radio',\r\n        labelsFromItem: function (item) { return item.types.map(function (type) { return type.label.nature; }); },\r\n        applyFilter: function (list, label) {\r\n            return list.filter(function (item) { return item.types.some(function (type) { return type.label.nature === label; }); });\r\n        }\r\n    },\r\n    {\r\n        id: 'PARTY',\r\n        type: 'radio',\r\n        labelsFromItem: function (item) { return item.types.map(function (type) { return type.label.party; }); },\r\n        applyFilter: function (list, label) {\r\n            return list.filter(function (item) { return item.types.some(function (type) { return type.label.party === label; }); });\r\n        }\r\n    },\r\n    {\r\n        id: 'ATTRIBUTES',\r\n        type: 'checkbox',\r\n        labelsFromItem: function (item) { return item.attributes.map(function (attribute) { return attribute.type; }); },\r\n        applyFilter: function (list, label) {\r\n            return list.filter(function (item) { return item.attributes.some(function (attribute) { return attribute.type === label; }); });\r\n        }\r\n    }\r\n];\r\nvar nonContractFilterGroups = [\r\n    {\r\n        id: 'attributes',\r\n        type: 'radio',\r\n        labelsFromItem: function (item) { return [item.type]; },\r\n        applyFilter: function (list, label) { return list.filter(function (item) { return item.type === label; }); }\r\n    },\r\n    {\r\n        id: 'relations',\r\n        type: 'radio',\r\n        labelsFromItem: function (item) { return [item.type]; },\r\n        applyFilter: function (list, label) { return list.filter(function (item) { return item.type === label; }); }\r\n    }\r\n];\r\nvar modelMapping$2 = {\r\n    contract: contractFilterGroups,\r\n    invoice: nonContractFilterGroups,\r\n    purchase_order: nonContractFilterGroups\r\n};\r\nvar messagesMap = {\r\n    CATEGORY: 'contractCategoryLabel',\r\n    NATURE: 'contractNatureLabel',\r\n    PARTY: 'contractPartyLabel',\r\n    ATTRIBUTES: 'contractAttributeLabel',\r\n    attributes: 'invoiceAttributeLabel',\r\n    relations: 'invoiceRelationsLabel'\r\n};\r\n/**\r\n * Get the filter groups for the given model type\r\n *\r\n * @param {string} enrichmentName id of current model\r\n * @param {function} formatMessage intl formatMessage function\r\n * @param {string} selectedType selected type. (used for sharedDomains)\r\n * @returns a list of filter groups\r\n */\r\nfunction getBaseFilterGroups(enrichmentName, messages) {\r\n    var groups = modelMapping$2[enrichmentName] || [];\r\n    return groups.map(function (group) { return (__assign(__assign({}, group), { title: messages[messagesMap[group.id]] })); });\r\n}\n\nfunction getFilterHelper(_a) {\r\n    var knownFilterGroups = _a.knownFilterGroups, itemList = _a.itemList, enrichmentName = _a.enrichmentName, messages = _a.messages;\r\n    var filterGroups = knownFilterGroups\r\n        ? _processFilter(itemList, knownFilterGroups)(itemList).filterGroups\r\n        : _processFilter(itemList, getBaseFilterGroups(enrichmentName, messages))(itemList)\r\n            .filterGroups;\r\n    return {\r\n        processFilter: _processFilter(itemList, filterGroups)\r\n    };\r\n}\r\nfunction _processFilter(list, filterGroups) {\r\n    /**\r\n     * Fully applies a filter, generating a filtered list\r\n     * and a list of filter groups with up-to-date counts\r\n     *\r\n     * @param {Object} filter Filter to apply to list\r\n     * @returns a filtered item list and a list of filter groups\r\n     */\r\n    var filterFn = function (filter) {\r\n        // If the filter is empty, return the unfiltered item list and base filter groups list\r\n        // This isn't absolutely necessary in terms of logic, just a short-circuit for performance\r\n        if (isFilterEmpty(filter)) {\r\n            return {\r\n                filteredList: list,\r\n                filterGroups: filterGroups\r\n            };\r\n        }\r\n        var filteredList = list;\r\n        var updatedFilterGroups = [];\r\n        // Split filters into radio and checkbox type filters\r\n        var radioFilters = {};\r\n        var checkboxFilters = {};\r\n        filterGroups.forEach(function (group) {\r\n            var filterPart = filter[group.id];\r\n            if (filterPart) {\r\n                if (group.type === 'radio') {\r\n                    radioFilters[group.id] = filterPart;\r\n                }\r\n                else if (group.type === 'checkbox') {\r\n                    checkboxFilters[group.id] = filterPart;\r\n                }\r\n            }\r\n        });\r\n        // Filter items based on checkbox type filters\r\n        filteredList = _applyFilter(filteredList, checkboxFilters, filterGroups);\r\n        // Generate counts for radio type filter groups\r\n        filterGroups\r\n            .filter(function (group) { return group.type === 'radio'; })\r\n            .forEach(function (group) {\r\n            var _a;\r\n            updatedFilterGroups.push(_addOptionsToFilterGroup(group, _applyFilter(filteredList, __assign(__assign({}, radioFilters), (_a = {}, _a[group.id] = [], _a)), filterGroups)));\r\n        });\r\n        // Filter items based on radio type filters\r\n        filteredList = _applyFilter(filteredList, radioFilters, filterGroups);\r\n        // Generate counts for checkbox type filter groups\r\n        updatedFilterGroups.push.apply(updatedFilterGroups, _addOptionsToFilterGroups(filterGroups.filter(function (group) { return group.type === 'checkbox'; }), filteredList));\r\n        // Sort new filter groups to the same order as they were before\r\n        updatedFilterGroups.sort(function (a, b) {\r\n            return (filterGroups.findIndex(function (group) { return group.id === a.id; }) -\r\n                filterGroups.findIndex(function (group) { return group.id === b.id; }));\r\n        });\r\n        return { filteredList: filteredList, filterGroups: updatedFilterGroups };\r\n    };\r\n    return filterFn;\r\n}\r\n/**\r\n * Parses out filter group options from a document, including element counts per label\r\n *\r\n * @param {Array<Object>} filterGroups List of filter groups\r\n * @param {Object} itemList List of elements within a document\r\n * @returns a list of filter groups with their options\r\n */\r\nfunction _addOptionsToFilterGroups(filterGroups, itemList) {\r\n    return filterGroups.map(function (group) { return _addOptionsToFilterGroup(group, itemList); });\r\n}\r\n/**\r\n * Parses out filter group options from a document, including element counts per label\r\n *\r\n * @param {Object} group A filter group\r\n * @param {Object} itemList List of elements within a document\r\n * @returns a filter group with its options\r\n */\r\nfunction _addOptionsToFilterGroup(group, itemList) {\r\n    if (!itemList) {\r\n        return group;\r\n    }\r\n    var labels = [];\r\n    if (group.optionsList) {\r\n        group.optionsList.forEach(function (option) { return labels.push(__assign(__assign({}, option), { count: 0 })); });\r\n    }\r\n    itemList.forEach(function (item) {\r\n        uniq_1(group.labelsFromItem(item)).forEach(function (label) {\r\n            var foundLabel = labels.find(function (labelObj) { return labelObj.id === label; });\r\n            if (foundLabel) {\r\n                foundLabel.count++;\r\n            }\r\n            else {\r\n                labels.push({ id: label, displayName: label, count: 1 });\r\n            }\r\n        });\r\n    });\r\n    return __assign(__assign({}, group), { optionsList: labels.sort(function (a, b) {\r\n            if (a.id > b.id) {\r\n                return 1;\r\n            }\r\n            else {\r\n                return -1;\r\n            }\r\n        }) });\r\n}\r\n/**\r\n * Filters a list based on filter criteria\r\n *\r\n * @param {Object} list List of elements within a document\r\n * @param {Array<Object>} filterGroups List of filter groups\r\n * @param {Object} filter Filter to apply to list\r\n * @returns a filtered list\r\n */\r\nfunction _applyFilter(list, filter, filterGroups) {\r\n    var filteredList = list;\r\n    Object.entries(filter).forEach(function (_a) {\r\n        var groupId = _a[0], activeLabels = _a[1];\r\n        var foundGroup = filterGroups.find(function (group) { return group.id === groupId; });\r\n        if (foundGroup) {\r\n            activeLabels.forEach(function (activeLabel) {\r\n                filteredList = foundGroup.applyFilter(filteredList, activeLabel);\r\n            });\r\n        }\r\n    });\r\n    return filteredList;\r\n}\n\nvar defaultMessages$9 = {\r\n    defaultDocumentName: 'Document',\r\n    attributesTabLabel: 'Attributes',\r\n    relationsTabLabel: 'Relations',\r\n    filtersTabLabel: 'Filters',\r\n    metadataTabLabel: 'Metadata',\r\n    parseErrorMessage: 'There was an error parsing the document',\r\n    contractCategoryLabel: 'Category',\r\n    contractNatureLabel: 'Nature',\r\n    contractPartyLabel: 'Party',\r\n    contractAttributeLabel: 'Attribute',\r\n    invoiceAttributeLabel: 'Attribute',\r\n    invoiceRelationsLabel: 'Relation',\r\n    navigationToolbarLabel: 'Navigation toolbar'\r\n};\n\nvar defaultMessages$a = __assign(__assign(__assign(__assign(__assign({}, defaultMessages$5), defaultMessages$6), defaultMessages$7), defaultMessages$8), defaultMessages$9);\r\nvar ActionType;\r\n(function (ActionType) {\r\n    ActionType[\"RESET\"] = \"RESET\";\r\n    ActionType[\"SET\"] = \"SET\";\r\n    ActionType[\"ERROR\"] = \"ERROR\";\r\n})(ActionType || (ActionType = {}));\r\nvar INITIAL_STATE = {\r\n    isError: false,\r\n    styles: [],\r\n    sections: [],\r\n    itemMap: { byItem: {}, bySection: {} },\r\n    metadata: [],\r\n    attributes: [],\r\n    relations: []\r\n};\r\nvar RELATIONS = 'relations';\r\nvar ATTRIBUTES = 'attributes';\r\nvar FILTERS = 'filters';\r\nvar METADATA = 'metadata';\r\nvar contractTabs = [FILTERS, METADATA];\r\nvar nonContractTabs = [ATTRIBUTES, RELATIONS];\r\nfunction canRenderCIDocument(document) {\r\n    return (!!get_1(document, 'html') &&\r\n        (!!get_1(document, 'enriched_html[0].contract') ||\r\n            !!get_1(document, 'enriched_html[0].invoice') ||\r\n            !!get_1(document, 'enriched_html[0].purchase_order')));\r\n}\r\nvar base$3 = settings.prefix + \"--ci-doc\";\r\nvar CIDocument = function (_a) {\r\n    var document = _a.document, _b = _a.messages, messages = _b === void 0 ? defaultMessages$a : _b, _c = _a.theme, theme = _c === void 0 ? defaultTheme : _c, overrideDocWidth = _a.overrideDocWidth, overrideDocHeight = _a.overrideDocHeight, didCatch = _a.didCatch;\r\n    var _d = useReducer(docStateReducer, INITIAL_STATE), state = _d[0], dispatch = _d[1];\r\n    var filename = get_1(document, 'extracted_metadata.filename', messages.defaultDocumentName);\r\n    var enrichedHtml = get_1(document, ['enriched_html', '0'], {});\r\n    var enrichmentName = getEnrichmentName(enrichedHtml);\r\n    var _e = useState(ATTRIBUTES), selectedType = _e[0], setSelectedType = _e[1];\r\n    var _f = useState(FILTERS), selectedContractFilter = _f[0], setSelectedContractFilter = _f[1];\r\n    var enrichment = get_1(enrichedHtml, enrichmentName, {});\r\n    var _g = enrichment.elements, elements = _g === void 0 ? [] : _g, _h = enrichment.parties, parties = _h === void 0 ? [] : _h;\r\n    var itemList = elements;\r\n    if (isInvoiceOrPurchaseOrder(enrichmentName)) {\r\n        itemList = state[selectedType] || [];\r\n    }\r\n    var resetTabs = function () {\r\n        setSelectedType(nonContractTabs[0]);\r\n        setSelectedContractFilter(contractTabs[0]);\r\n    };\r\n    var resetStates = function () {\r\n        setActivePartIds([]);\r\n        setActiveIds([]);\r\n        setHighlightedList([]);\r\n        setCurrentFilter({});\r\n        setActiveMetadataIds([]);\r\n    };\r\n    useEffect(function () {\r\n        var didCancel = false;\r\n        function process() {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var doc, err_1;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (!!didCancel) return [3 /*break*/, 4];\r\n                            _a.label = 1;\r\n                        case 1:\r\n                            _a.trys.push([1, 3, , 4]);\r\n                            return [4 /*yield*/, processDoc(document, { sections: true, itemMap: true })];\r\n                        case 2:\r\n                            doc = _a.sent();\r\n                            dispatch({\r\n                                type: ActionType.SET,\r\n                                data: {\r\n                                    styles: doc.styles,\r\n                                    sections: doc.sections,\r\n                                    itemMap: doc.itemMap,\r\n                                    metadata: doc.metadata,\r\n                                    attributes: doc.attributes,\r\n                                    relations: doc.relations\r\n                                }\r\n                            });\r\n                            return [3 /*break*/, 4];\r\n                        case 3:\r\n                            err_1 = _a.sent();\r\n                            dispatch({ type: ActionType.ERROR, data: err_1 });\r\n                            return [3 /*break*/, 4];\r\n                        case 4: return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        }\r\n        resetStates();\r\n        resetTabs();\r\n        process();\r\n        return function () {\r\n            didCancel = true;\r\n        };\r\n    }, [didCatch, document]);\r\n    var _j = useState(null), filterHelper = _j[0], setFilterHelper = _j[1];\r\n    var _k = useState({}), currentFilter = _k[0], setCurrentFilter = _k[1];\r\n    var _l = useState([]), filterGroups = _l[0], setFilterGroups = _l[1];\r\n    useEffect(function () {\r\n        if (canRenderCIDocument(document) && !didCatch) {\r\n            var helper = getFilterHelper({\r\n                enrichmentName: enrichmentName,\r\n                itemList: itemList,\r\n                messages: messages\r\n            });\r\n            setFilterHelper(helper);\r\n            setCurrentFilter({});\r\n            setFilterGroups(helper.processFilter({}).filterGroups);\r\n        }\r\n    }, [enrichmentName, document, itemList, messages, didCatch]);\r\n    var _m = useState([]), highlightedList = _m[0], setHighlightedList = _m[1];\r\n    useEffect(function () {\r\n        if (filterHelper && !didCatch) {\r\n            if (isFilterEmpty(currentFilter)) {\r\n                setHighlightedList([]);\r\n                setFilterGroups(filterHelper.processFilter(currentFilter).filterGroups);\r\n            }\r\n            else {\r\n                var _a = filterHelper.processFilter(currentFilter), filteredList = _a.filteredList, groups = _a.filterGroups;\r\n                setHighlightedList(filteredList);\r\n                setFilterGroups(groups);\r\n            }\r\n        }\r\n    }, [filterHelper, currentFilter, itemList, didCatch]);\r\n    var _o = useState([]), activeIds = _o[0], setActiveIds = _o[1];\r\n    useEffect(function () {\r\n        if (highlightedList.length === 0) {\r\n            setActiveIds([]);\r\n            setActivePartIds([]);\r\n        }\r\n        else if (!findElement(highlightedList, activeIds)) {\r\n            if (hasRelation(highlightedList)) {\r\n                setActiveIds(highlightedList[0].allAttributeIds);\r\n            }\r\n            else {\r\n                setActiveIds([getId(highlightedList[0])]);\r\n            }\r\n        }\r\n        // This should only run when the list updates,\r\n        // to set the active id to the first item in the list, as necessary\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [highlightedList]);\r\n    var _p = useState([]), activePartIds = _p[0], setActivePartIds = _p[1];\r\n    useEffect(function () {\r\n        setActivePartIds([]);\r\n    }, [activeIds]);\r\n    var _q = useState([]), activeMetadataIds = _q[0], setActiveMetadataIds = _q[1];\r\n    useEffect(function () {\r\n        setActiveIds([]);\r\n        setActivePartIds([]);\r\n    }, [activeMetadataIds]);\r\n    // generate render variables from state\r\n    var activeElement = getActiveElement(activeIds, itemList);\r\n    var activeIndex = getActiveIndex(activeIds, highlightedList);\r\n    var activeDetails = getActiveDetails(activeElement, getDetailsFromItem(enrichmentName));\r\n    if (selectedContractFilter === METADATA) {\r\n        activeIndex = getActiveIndex(activeMetadataIds, highlightedList);\r\n        if (activeMetadataIds.length > 0 && !(activeIds && activeIds.length > 0)) {\r\n            activeDetails = getDetailsFromMetadata(highlightedList[activeIndex]);\r\n        }\r\n    }\r\n    var highlightedIds = [];\r\n    if (hasRelation(highlightedList)) {\r\n        highlightedIds = flattenDeep_1(highlightedList.map(function (item) { return item.allAttributeIds; }));\r\n    }\r\n    else {\r\n        highlightedIds = highlightedList.map(getId) ? highlightedList.map(getId) : [];\r\n    }\r\n    var hasError = state.isError || didCatch;\r\n    var renderSidebar = function () {\r\n        var nonContractFilterGroups = filterGroups.filter(function (group) { return group.id === selectedType; });\r\n        var tabLabels = {\r\n            attributes: messages.attributesTabLabel,\r\n            relations: messages.relationsTabLabel,\r\n            filters: messages.filtersTabLabel,\r\n            metadata: messages.metadataTabLabel\r\n        };\r\n        return (React$g__default.createElement(React$g__default.Fragment, null, isInvoiceOrPurchaseOrder(enrichmentName) ? (React$g__default.createElement(Tabs, { className: base$3 + \"__tabs\", selected: nonContractTabs.indexOf(selectedType), onSelectionChange: function (index) { return setSelectedType(nonContractTabs[index]); }, \"aria-label\": messages.filtersTabLabel, \"data-testid\": \"document-info-tabs\" }, nonContractTabs.map(function (tab) { return (React$g__default.createElement(Tab, { tabIndex: 0, label: tabLabels[tab], key: tab, \"data-testid\": tab + '-tab' }, !hasError &&\r\n            tab === selectedType &&\r\n            renderFilterPanel(currentFilter, nonContractFilterGroups, setCurrentFilter, resetStates, messages))); }))) : (React$g__default.createElement(Tabs, { className: base$3 + \"__tabs\", selected: contractTabs.indexOf(selectedContractFilter), onSelectionChange: function (index) {\r\n                return onSelectionChangeContractTabs(index, setSelectedContractFilter, resetStates);\r\n            }, \"aria-label\": messages.filtersTabLabel, \"data-testid\": \"document-info-tabs\" },\r\n            React$g__default.createElement(Tab, { tabIndex: 0, label: messages.filtersTabLabel, \"data-testid\": \"filters-tab\" }, !hasError &&\r\n                renderFilterPanel(currentFilter, filterGroups, setCurrentFilter, resetStates, messages)),\r\n            React$g__default.createElement(Tab, { tabIndex: 0, label: messages.metadataTabLabel, \"data-testid\": \"metadata-tab\" }, !hasError && (React$g__default.createElement(MetadataPane, { metadata: state.metadata, activeMetadataId: activeMetadataIds[0], parties: parties, messages: messages, onActiveMetadataChange: function (_a) {\r\n                    var metadataId = _a.metadataId, data = _a.data;\r\n                    return onActiveMetadataChange({\r\n                        metadataId: metadataId,\r\n                        data: data,\r\n                        setHighlightedList: setHighlightedList,\r\n                        setActiveMetadataIds: setActiveMetadataIds\r\n                    });\r\n                }, onActivePartyChange: function (party) {\r\n                    return onActivePartyChange({\r\n                        party: party,\r\n                        setHighlightedList: setHighlightedList,\r\n                        setActiveMetadataIds: setActiveMetadataIds\r\n                    });\r\n                } })))))));\r\n    };\r\n    var allClickableIds = getAllClickableIds(itemList);\r\n    var nonContractProps = {};\r\n    if (isInvoiceOrPurchaseOrder(enrichmentName)) {\r\n        nonContractProps = {\r\n            activeIds: difference_1(activeIds, allClickableIds).length === 0 ? activeIds : [],\r\n            selectableIds: allClickableIds\r\n        };\r\n    }\r\n    return (React$g__default.createElement(\"div\", { className: base$3 },\r\n        React$g__default.createElement(\"nav\", { className: base$3 + \"__toolbar\", \"aria-label\": messages.navigationToolbarLabel },\r\n            React$g__default.createElement(\"div\", { className: base$3 + \"__title\", \"data-testid\": \"CIDocument_title\" }, filename),\r\n            highlightedList.length > 0 && (React$g__default.createElement(React$g__default.Fragment, null,\r\n                React$g__default.createElement(NavigationToolbar, { className: base$3 + \"__nav\", index: activeIndex + 1, max: highlightedList.length, messages: messages, onChange: onNavigationChange({\r\n                        setActiveIds: selectedContractFilter === METADATA ? setActiveMetadataIds : setActiveIds,\r\n                        highlightedList: highlightedList\r\n                    }) }),\r\n                React$g__default.createElement(\"div\", { className: base$3 + \"__rightGutter\" })))),\r\n        React$g__default.createElement(\"div\", { className: base$3 + \"__main\" },\r\n            React$g__default.createElement(\"aside\", { className: base$3 + \"__sidebar\", \"aria-label\": messages.filtersTabLabel }, renderSidebar()),\r\n            React$g__default.createElement(\"article\", { className: base$3 + \"__doc\", \"aria-label\": messages.defaultDocumentName }, state.isError || didCatch ? (React$g__default.createElement(\"p\", { className: base$3 + \"__docError\" }, messages.parseErrorMessage)) : (React$g__default.createElement(CIDocumentContent, __assign({ styles: state.styles, sections: state.sections, itemMap: state.itemMap, highlightedIds: highlightedIds, activeIds: activeIds, activePartIds: activePartIds, onItemClick: onItemClick({\r\n                    setActiveIds: setActiveIds,\r\n                    elementList: itemList\r\n                }), activeMetadataIds: activeMetadataIds, theme: theme, width: overrideDocWidth, height: overrideDocHeight }, nonContractProps)))),\r\n            React$g__default.createElement(\"aside\", { className: base$3 + \"__details\", \"aria-labelledby\": \"documentDetailsId\" },\r\n                React$g__default.createElement(DetailsPane, { items: activeDetails, selectedLink: getSelectedLink({ activeElement: activeElement, activePartIds: activePartIds }), messages: messages, onActiveLinkChange: onDetailsLink({ activeElement: activeElement, setActivePartIds: setActivePartIds }) })))));\r\n};\r\nfunction docStateReducer(state, action) {\r\n    switch (action.type) {\r\n        case ActionType.RESET: {\r\n            return __assign(__assign({}, state), INITIAL_STATE);\r\n        }\r\n        case ActionType.SET: {\r\n            return __assign(__assign(__assign({}, state), { isError: false }), action.data);\r\n        }\r\n        case ActionType.ERROR: {\r\n            return __assign(__assign({}, state), { isError: true });\r\n        }\r\n        default: {\r\n            throw new Error(\"Doc state reducer called with invalid action type: \" + action.type);\r\n        }\r\n    }\r\n}\r\nfunction renderFilterPanel(currentFilter, filterGroups, setCurrentFilter, resetStates, messages) {\r\n    return (React$g__default.createElement(FilterPanel, { filter: currentFilter, filterGroups: filterGroups, messages: messages, onFilterChange: onFilterChange({ currentFilter: currentFilter, setCurrentFilter: setCurrentFilter }), onFilterClear: resetStates }));\r\n}\r\nfunction onSelectionChangeContractTabs(index, setSelectedContractFilter, resetStates) {\r\n    setSelectedContractFilter(contractTabs[index]);\r\n    resetStates();\r\n}\r\nfunction onActiveMetadataChange(_a) {\r\n    var metadataId = _a.metadataId, data = _a.data, setHighlightedList = _a.setHighlightedList, setActiveMetadataIds = _a.setActiveMetadataIds;\r\n    setHighlightedList(data);\r\n    setActiveMetadataIds([metadataId]);\r\n}\r\nfunction onActivePartyChange(_a) {\r\n    var party = _a.party, setHighlightedList = _a.setHighlightedList, setActiveMetadataIds = _a.setActiveMetadataIds;\r\n    setHighlightedList(party);\r\n    setActiveMetadataIds([getId(party[0])]);\r\n}\r\nfunction onFilterChange(_a) {\r\n    var currentFilter = _a.currentFilter, setCurrentFilter = _a.setCurrentFilter;\r\n    return function (filterPart) {\r\n        setCurrentFilter(updateFilter(currentFilter, filterPart));\r\n    };\r\n}\r\nfunction onNavigationChange(_a) {\r\n    var setActiveIds = _a.setActiveIds, highlightedList = _a.highlightedList;\r\n    return function (index) {\r\n        var activeItem = highlightedList[index - 1]; // turn 1-based index to 0-based index\r\n        if (isRelationObject(activeItem)) {\r\n            setActiveIds(activeItem.allAttributeIds);\r\n        }\r\n        else {\r\n            setActiveIds([getId(activeItem)]);\r\n        }\r\n    };\r\n}\r\nfunction onItemClick(_a) {\r\n    var setActiveIds = _a.setActiveIds, elementList = _a.elementList;\r\n    return function (clickedItem) {\r\n        if (clickedItem) {\r\n            if (hasRelation(elementList)) {\r\n                var relation = elementList.find(function (rel) { return rel.allAttributeIds.includes(clickedItem.id); });\r\n                if (relation) {\r\n                    setActiveIds(relation.allAttributeIds);\r\n                }\r\n            }\r\n            else if (clickedItem.id) {\r\n                setActiveIds([clickedItem.id]);\r\n            }\r\n        }\r\n    };\r\n}\r\nfunction onDetailsLink(_a) {\r\n    var activeElement = _a.activeElement, setActivePartIds = _a.setActivePartIds;\r\n    return function (linkItem) {\r\n        var sectionTitle = linkItem.sectionTitle, type = linkItem.type;\r\n        // Set the active item sub-parts to the parts of the active element that match the clicked item\r\n        // e.g. attributes of the active element that are of type \"DateTime\"\r\n        setActivePartIds(activeElement[sectionTitle]\r\n            .filter(function (part) { return part.type === type; })\r\n            .map(function (part) { return getId(part); }));\r\n    };\r\n}\r\nfunction getActiveIndex(activeIds, highlightedList) {\r\n    return activeIds ? findElementIndex(highlightedList, activeIds) : -1;\r\n}\r\nfunction getActiveElement(activeIds, itemList) {\r\n    return itemList.find(function (item) {\r\n        if (item.allAttributeIds) {\r\n            return isEqual_1(item.allAttributeIds.sort(), activeIds.sort());\r\n        }\r\n        return isEqual_1([getId(item)].sort(), activeIds.sort());\r\n    });\r\n}\r\nfunction getActiveDetails(activeElement, getDetailsFn) {\r\n    return activeElement ? getDetailsFn(activeElement) : [];\r\n}\r\nfunction getAllClickableIds(itemList) {\r\n    return flattenDeep_1(itemList.map(function (item) { return item.allAttributeIds || getId(item); }));\r\n}\r\nfunction getSelectedLink(_a) {\r\n    var activeElement = _a.activeElement, activePartIds = _a.activePartIds;\r\n    if (activeElement && activeElement.attributes) {\r\n        var activeItem = activeElement.attributes.find(function (attribute) {\r\n            return activePartIds.includes(getId(attribute));\r\n        });\r\n        if (activeItem) {\r\n            return activeItem.type;\r\n        }\r\n    }\r\n    return undefined;\r\n}\r\nvar CIDocument$1 = withErrorBoundary(CIDocument);\n\n// export components\r\nvar CIDoc = CIDocument$1;\r\nCIDoc.CIDocumentContent = CIDocumentContent;\r\nCIDoc.CINavigationToolbar = NavigationToolbar;\n\nvar structuredQueryClass = settings.prefix + \"--structured-query\";\r\nvar structuredQueryRuleGroupClass = structuredQueryClass + \"__rule-group\";\r\nvar structuredQueryNestedRuleGroupClass = structuredQueryRuleGroupClass + \"--nested\";\r\nvar structuredQueryRuleGroupDropdownClass = structuredQueryRuleGroupClass + \"-dropdown\";\r\nvar structuredQueryRulesClass = structuredQueryClass + \"__rules\";\r\nvar structuredQueryRulesButtonsClass = structuredQueryRulesClass + \"__buttons\";\r\nvar structuredQueryCopyableQueryClass = structuredQueryClass + \"__copyable-query\";\n\nvar RuleGroupDropdown = function (_a) {\r\n    var messages = _a.messages, structuredQuerySelection = _a.structuredQuerySelection, setStructuredQuerySelection = _a.setStructuredQuerySelection, groupId = _a.groupId;\r\n    var ruleGroupDropdownItems = [\r\n        { label: messages.ruleGroupDropdownAllOptionText, value: ',' },\r\n        { label: messages.ruleGroupDropdownAnyOptionText, value: '|' }\r\n    ];\r\n    var handleOnChangeRuleGroupDropdown = function (ruleGroupDropdownSelection) {\r\n        var _a;\r\n        setStructuredQuerySelection(__assign(__assign({}, structuredQuerySelection), { groups: __assign(__assign({}, structuredQuerySelection.groups), (_a = {}, _a[\"\" + groupId] = __assign(__assign({}, structuredQuerySelection.groups[groupId]), { operator: ruleGroupDropdownSelection.selectedItem.value }), _a)) }));\r\n    };\r\n    var ruleGroupDropdownElement = (React$g__default.createElement(Dropdown, { id: \"structured-query-dropdown\", items: ruleGroupDropdownItems, type: \"inline\", initialSelectedItem: messages.ruleGroupDropdownAllOptionText, label: messages.ruleGroupDropdownLabelText, key: \"structured-query-dropdown\", onChange: handleOnChangeRuleGroupDropdown }));\r\n    return (React$g__default.createElement(\"div\", { className: structuredQueryRuleGroupDropdownClass }, formatMessage(messages.ruleGroupDropdownText, { dropdown: ruleGroupDropdownElement })));\r\n};\n\n/**\n * Gets the parent value at `path` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} path The path to get the parent value of.\n * @returns {*} Returns the parent value.\n */\nfunction parent(object, path) {\n  return path.length < 2 ? object : _baseGet(object, _baseSlice(path, 0, -1));\n}\n\nvar _parent = parent;\n\n/**\n * The base implementation of `_.unset`.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {Array|string} path The property path to unset.\n * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n */\nfunction baseUnset(object, path) {\n  path = _castPath(path, object);\n  object = _parent(object, path);\n  return object == null || delete object[_toKey(last_1(path))];\n}\n\nvar _baseUnset = baseUnset;\n\n/** `Object#toString` result references. */\nvar objectTag$4 = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto$2 = Function.prototype,\n    objectProto$g = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString$2 = funcProto$2.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$f = objectProto$g.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString$2.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike_1(value) || _baseGetTag(value) != objectTag$4) {\n    return false;\n  }\n  var proto = _getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty$f.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString$2.call(Ctor) == objectCtorString;\n}\n\nvar isPlainObject_1 = isPlainObject;\n\n/**\n * Used by `_.omit` to customize its `_.cloneDeep` use to only clone plain\n * objects.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {string} key The key of the property to inspect.\n * @returns {*} Returns the uncloned value or `undefined` to defer cloning to `_.cloneDeep`.\n */\nfunction customOmitClone(value) {\n  return isPlainObject_1(value) ? undefined : value;\n}\n\nvar _customOmitClone = customOmitClone;\n\n/**\n * Flattens `array` a single level deep.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flatten([1, [2, [3, [4]], 5]]);\n * // => [1, 2, [3, [4]], 5]\n */\nfunction flatten(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? _baseFlatten(array, 1) : [];\n}\n\nvar flatten_1 = flatten;\n\n/**\n * A specialized version of `baseRest` which flattens the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @returns {Function} Returns the new function.\n */\nfunction flatRest(func) {\n  return _setToString(_overRest(func, undefined, flatten_1), func + '');\n}\n\nvar _flatRest = flatRest;\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG$2 = 1,\n    CLONE_FLAT_FLAG$1 = 2,\n    CLONE_SYMBOLS_FLAG$2 = 4;\n\n/**\n * The opposite of `_.pick`; this method creates an object composed of the\n * own and inherited enumerable property paths of `object` that are not omitted.\n *\n * **Note:** This method is considerably slower than `_.pick`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The source object.\n * @param {...(string|string[])} [paths] The property paths to omit.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.omit(object, ['a', 'c']);\n * // => { 'b': '2' }\n */\nvar omit = _flatRest(function(object, paths) {\n  var result = {};\n  if (object == null) {\n    return result;\n  }\n  var isDeep = false;\n  paths = _arrayMap(paths, function(path) {\n    path = _castPath(path, object);\n    isDeep || (isDeep = path.length > 1);\n    return path;\n  });\n  _copyObject(object, _getAllKeysIn(object), result);\n  if (isDeep) {\n    result = _baseClone(result, CLONE_DEEP_FLAG$2 | CLONE_FLAT_FLAG$1 | CLONE_SYMBOLS_FLAG$2, _customOmitClone);\n  }\n  var length = paths.length;\n  while (length--) {\n    _baseUnset(result, paths[length]);\n  }\n  return result;\n});\n\nvar omit_1 = omit;\n\nfunction _interopDefault$e (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\n\n\n\nvar React$e = _interopDefault$e(React$g__default);\n\nvar _ref2$h =\n/*#__PURE__*/\n\n/*#__PURE__*/\nReact$e.createElement(\"path\", {\n  d: \"M16,4c6.6,0,12,5.4,12,12s-5.4,12-12,12S4,22.6,4,16S9.4,4,16,4 M16,2C8.3,2,2,8.3,2,16s6.3,14,14,14s14-6.3,14-14\\tS23.7,2,16,2z\"\n});\n\nvar _ref3$4 =\n/*#__PURE__*/\n\n/*#__PURE__*/\nReact$e.createElement(\"path\", {\n  d: \"M8 15H24V17H8z\"\n});\n\nvar SubtractAlt16 = /*#__PURE__*/React$e.forwardRef(function SubtractAlt16(_ref, ref) {\n  var children = _ref.children,\n      rest = IconE8f71a9c._objectWithoutProperties(_ref, [\"children\"]);\n\n  return /*#__PURE__*/React$e.createElement(IconE8f71a9c.Icon, IconE8f71a9c._extends({\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 32 32\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"currentColor\",\n    ref: ref\n  }, rest), _ref2$h, _ref3$4, children);\n});\n\nvar _16$8 = SubtractAlt16;\n\nvar RemoveRuleRowButton = function (_a) {\r\n    var removeRuleRowButtonIconDescription = _a.removeRuleRowButtonIconDescription, groupId = _a.groupId, rowId = _a.rowId, structuredQuerySelection = _a.structuredQuerySelection, setStructuredQuerySelection = _a.setStructuredQuerySelection;\r\n    var handleOnClick = function () {\r\n        var _a;\r\n        var filteredGroupRows = structuredQuerySelection.groups[groupId].rows.filter(function (row) { return row !== rowId; });\r\n        var filteredRows = omit_1(structuredQuerySelection.rows, rowId);\r\n        var isLastRuleInRuleGroup = filteredGroupRows.length === 0;\r\n        if (isLastRuleInRuleGroup) {\r\n            setStructuredQuerySelection(__assign(__assign({}, structuredQuerySelection), { groups: __assign({}, omit_1(structuredQuerySelection.groups, groupId)), rows: __assign({}, filteredRows), group_order: structuredQuerySelection.group_order.filter(function (id) { return id !== groupId; }) }));\r\n        }\r\n        else {\r\n            setStructuredQuerySelection(__assign(__assign({}, structuredQuerySelection), { groups: __assign(__assign({}, structuredQuerySelection.groups), (_a = {}, _a[\"\" + groupId] = __assign(__assign({}, structuredQuerySelection.groups[groupId]), { rows: filteredGroupRows }), _a)), rows: __assign({}, filteredRows) }));\r\n        }\r\n    };\r\n    return (React$g__default.createElement(Button, { hasIconOnly: true, kind: \"ghost\", renderIcon: _16$8, iconDescription: removeRuleRowButtonIconDescription, onClick: handleOnClick, \"data-testid\": \"remove-rule-row-button-\" + groupId }));\r\n};\n\nvar getFieldNames = function (response) {\r\n    if (response && response.fields) {\r\n        var fieldObjects = response.fields;\r\n        var fieldNames = fieldObjects.reduce(function (namesArray, fieldObject) {\r\n            if (fieldObject.type === 'nested') {\r\n                return namesArray;\r\n            }\r\n            else if (fieldObject.field && !namesArray.includes(fieldObject.field)) {\r\n                namesArray.push(fieldObject.field);\r\n            }\r\n            return namesArray;\r\n        }, []);\r\n        return fieldNames;\r\n    }\r\n    return [];\r\n};\n\nvar getNewId = function (currentGroupsOrRows) {\r\n    var maxId = Object.keys(currentGroupsOrRows).reduce(function (previousId, currentId) {\r\n        return Math.max(parseInt(previousId), parseInt(currentId)).toString();\r\n    });\r\n    return parseInt(maxId) + 1;\r\n};\n\nvar stringifyStructuredQuerySelection = function (structuredQuerySelection) {\r\n    var stringifiedStructuredQuerySelection = '';\r\n    stringifiedStructuredQuerySelection += structuredQuerySelection.group_order\r\n        .map(function (groupId) {\r\n        return groupId === 0\r\n            ? stringifyRows(structuredQuerySelection, groupId)\r\n            : '(' + stringifyRows(structuredQuerySelection, groupId) + ')';\r\n    })\r\n        .join(structuredQuerySelection.groups[0].operator);\r\n    return stringifiedStructuredQuerySelection;\r\n};\r\nvar stringifyRows = function (structuredQuerySelection, groupId) {\r\n    return structuredQuerySelection.groups[groupId].rows\r\n        .map(function (rowId) {\r\n        var row = structuredQuerySelection.rows[rowId];\r\n        var rowField = escapeReservedCharacters(row.field);\r\n        var rowValue = row.value === '' ? row.value : '\"' + escapeDoubleQuotes(row.value) + '\"';\r\n        return \"\" + rowField + row.operator + rowValue;\r\n    })\r\n        .join(structuredQuerySelection.groups[groupId].operator);\r\n};\r\nvar escapeDoubleQuotes = function (value) {\r\n    return value.replace(/([\"])/g, '\\\\\"');\r\n};\r\nvar escapeReservedCharacters = function (field) {\r\n    var escapeCharacters = function (match) {\r\n        return match.replace(match, \"\\\\\" + match);\r\n    };\r\n    var regexForReservedCharacters = /([,|:!\"\\\\()\\[\\]^~<>*])/g;\r\n    return field.replace(regexForReservedCharacters, escapeCharacters);\r\n};\n\nvar RuleRow = function (_a) {\r\n    var messages = _a.messages, groupId = _a.groupId, rowId = _a.rowId, structuredQuerySelection = _a.structuredQuerySelection, setStructuredQuerySelection = _a.setStructuredQuerySelection;\r\n    var _b = useContext(SearchContext).fieldsStore, fieldsResponse = _b.data, fieldStoreLoading = _b.isLoading, fieldStoreError = _b.isError;\r\n    var projectFields = getFieldNames(fieldsResponse);\r\n    var operatorDropdownItems = [\r\n        { label: messages.operatorDropdownIsOptionText, value: '::' },\r\n        { label: messages.operatorDropdownIsNotOptionText, value: '::!' },\r\n        { label: messages.operatorDropdownContainsOptionText, value: ':' },\r\n        { label: messages.operatorDropdownDoesNotContainOptionText, value: ':!' }\r\n    ];\r\n    var isTopLevelGroup = groupId === 0;\r\n    var showRemoveRuleRowButton = structuredQuerySelection.groups[groupId].rows.length > 1 || !isTopLevelGroup;\r\n    var handleFieldDropdownChange = function (fieldSelection) {\r\n        var _a;\r\n        // The value resets to null on deselection, but we don't want to show null in the copyable query\r\n        // so in this case we set the new field value to an empty string\r\n        var newFieldValue = fieldSelection.selectedItem === null ? '' : fieldSelection.selectedItem;\r\n        setStructuredQuerySelection(__assign(__assign({}, structuredQuerySelection), { rows: __assign(__assign({}, structuredQuerySelection.rows), (_a = {}, _a[\"\" + rowId] = __assign(__assign({}, structuredQuerySelection.rows[rowId]), { field: newFieldValue }), _a)) }));\r\n    };\r\n    var handleOperatorDropdownChange = function (operatorSelection) {\r\n        var _a;\r\n        // The value resets to null on deselection, but we don't want to show null in the copyable query\r\n        // so in this case we set the new operator value to an empty string\r\n        var newOperatorValue = operatorSelection.selectedItem === null ? '' : operatorSelection.selectedItem.value;\r\n        setStructuredQuerySelection(__assign(__assign({}, structuredQuerySelection), { rows: __assign(__assign({}, structuredQuerySelection.rows), (_a = {}, _a[\"\" + rowId] = __assign(__assign({}, structuredQuerySelection.rows[rowId]), { operator: newOperatorValue }), _a)) }));\r\n    };\r\n    var handleValueInputChange = function (event) {\r\n        var _a;\r\n        var valueText = event.currentTarget.value;\r\n        setStructuredQuerySelection(__assign(__assign({}, structuredQuerySelection), { rows: __assign(__assign({}, structuredQuerySelection.rows), (_a = {}, _a[\"\" + rowId] = __assign(__assign({}, structuredQuerySelection.rows[rowId]), { value: valueText }), _a)) }));\r\n    };\r\n    var placeholderText;\r\n    if (fieldStoreLoading) {\r\n        placeholderText = messages.fieldDropdownLoadingText;\r\n    }\r\n    else if (fieldStoreError) {\r\n        placeholderText = messages.fieldDropdownErrorText;\r\n    }\r\n    else {\r\n        placeholderText = messages.fieldDropdownPlaceholderText;\r\n    }\r\n    return (React$g__default.createElement(\"div\", { className: structuredQueryRulesClass, \"data-testid\": \"rule-row-\" + groupId },\r\n        React$g__default.createElement(ComboBox, { id: \"structured-query-rules-field-\" + groupId, items: projectFields, placeholder: placeholderText, titleText: messages.fieldDropdownTitleText, disabled: fieldStoreLoading || fieldStoreError, onChange: handleFieldDropdownChange }),\r\n        React$g__default.createElement(ComboBox, { id: \"structured-query-rules-operator-\" + groupId, items: operatorDropdownItems, placeholder: messages.operatorDropdownPlaceholderText, titleText: messages.operatorDropdownTitleText, onChange: handleOperatorDropdownChange }),\r\n        React$g__default.createElement(TextInput, { id: \"structured-query-rules-value-\" + groupId, labelText: messages.valueInputLabelText, placeholder: messages.valueInputPlaceholderText, onChange: handleValueInputChange }),\r\n        showRemoveRuleRowButton && (React$g__default.createElement(RemoveRuleRowButton, { removeRuleRowButtonIconDescription: messages.removeRuleRowButtonIconDescription, groupId: groupId, rowId: rowId, structuredQuerySelection: structuredQuerySelection, setStructuredQuerySelection: setStructuredQuerySelection }))));\r\n};\n\nfunction _interopDefault$f (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\n\n\n\nvar React$f = _interopDefault$f(React$g__default);\n\nvar _ref2$i =\n/*#__PURE__*/\n\n/*#__PURE__*/\nReact$f.createElement(\"path\", {\n  d: \"M17 15L17 8 15 8 15 15 8 15 8 17 15 17 15 24 17 24 17 17 24 17 24 15z\"\n});\n\nvar Add16 = /*#__PURE__*/React$f.forwardRef(function Add16(_ref, ref) {\n  var children = _ref.children,\n      rest = IconE8f71a9c._objectWithoutProperties(_ref, [\"children\"]);\n\n  return /*#__PURE__*/React$f.createElement(IconE8f71a9c.Icon, IconE8f71a9c._extends({\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 32 32\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"currentColor\",\n    ref: ref\n  }, rest), _ref2$i, children);\n});\n\nvar _16$9 = Add16;\n\nvar AddRuleRowButton = function (_a) {\r\n    var addRuleRowText = _a.addRuleRowText, groupId = _a.groupId, structuredQuerySelection = _a.structuredQuerySelection, setStructuredQuerySelection = _a.setStructuredQuerySelection;\r\n    var handleOnClick = function () {\r\n        var _a, _b;\r\n        var newRuleRowId = getNewId(structuredQuerySelection.rows);\r\n        setStructuredQuerySelection(__assign(__assign({}, structuredQuerySelection), { groups: __assign(__assign({}, structuredQuerySelection.groups), (_a = {}, _a[\"\" + groupId] = __assign(__assign({}, structuredQuerySelection.groups[groupId]), { rows: structuredQuerySelection.groups[groupId].rows.concat(newRuleRowId) }), _a)), rows: __assign(__assign({}, structuredQuerySelection.rows), (_b = {}, _b[\"\" + newRuleRowId] = {\r\n                field: '',\r\n                operator: '',\r\n                value: ''\r\n            }, _b)) }));\r\n    };\r\n    return (React$g__default.createElement(Button, { kind: \"ghost\", renderIcon: _16$9, onClick: handleOnClick }, addRuleRowText));\r\n};\n\nvar MAX_NUM_SIBLING_RULE_ROWS = 3;\r\nvar MAX_NUM_NESTED_RULE_GROUPS = 5;\n\nvar RuleGroup = function (_a) {\r\n    var messages = _a.messages, groupId = _a.groupId, structuredQuerySelection = _a.structuredQuerySelection, setStructuredQuerySelection = _a.setStructuredQuerySelection;\r\n    var rows = structuredQuerySelection.groups[groupId].rows;\r\n    var isTopLevelGroup = groupId === 0;\r\n    var showAddRuleRowButton = rows.length < MAX_NUM_SIBLING_RULE_ROWS && !isTopLevelGroup;\r\n    var ruleGroupClassNames = [structuredQueryRuleGroupClass];\r\n    if (!isTopLevelGroup) {\r\n        ruleGroupClassNames.push(structuredQueryNestedRuleGroupClass);\r\n    }\r\n    return (React$g__default.createElement(\"div\", { className: ruleGroupClassNames.join(' '), \"data-testid\": \"rule-group\" },\r\n        React$g__default.createElement(RuleGroupDropdown, { messages: messages, setStructuredQuerySelection: setStructuredQuerySelection, structuredQuerySelection: structuredQuerySelection, groupId: groupId }),\r\n        rows.map(function (row) {\r\n            var uniqueKey = groupId.toString() + row.toString();\r\n            return (React$g__default.createElement(RuleRow, { messages: messages, groupId: groupId, rowId: row, key: uniqueKey, setStructuredQuerySelection: setStructuredQuerySelection, structuredQuerySelection: structuredQuerySelection }));\r\n        }),\r\n        React$g__default.createElement(\"div\", { className: structuredQueryRulesButtonsClass }, showAddRuleRowButton && (React$g__default.createElement(AddRuleRowButton, { addRuleRowText: messages.addRuleRowText, key: groupId, groupId: groupId, setStructuredQuerySelection: setStructuredQuerySelection, structuredQuerySelection: structuredQuerySelection })))));\r\n};\n\nvar AddRuleGroupButton = function (_a) {\r\n    var addRuleGroupText = _a.addRuleGroupText, structuredQuerySelection = _a.structuredQuerySelection, setStructuredQuerySelection = _a.setStructuredQuerySelection;\r\n    var handleOnClick = function () {\r\n        var _a, _b;\r\n        var newRuleGroupId = getNewId(structuredQuerySelection.groups);\r\n        var newRuleRowId = getNewId(structuredQuerySelection.rows);\r\n        setStructuredQuerySelection(__assign(__assign({}, structuredQuerySelection), { groups: __assign(__assign({}, structuredQuerySelection.groups), (_a = {}, _a[\"\" + newRuleGroupId] = {\r\n                rows: [newRuleRowId]\r\n            }, _a)), rows: __assign(__assign({}, structuredQuerySelection.rows), (_b = {}, _b[\"\" + newRuleRowId] = {\r\n                field: '',\r\n                operator: '',\r\n                value: ''\r\n            }, _b)), group_order: structuredQuerySelection.group_order.concat(newRuleGroupId) }));\r\n    };\r\n    return (React$g__default.createElement(Button, { kind: \"ghost\", renderIcon: _16$9, onClick: handleOnClick }, addRuleGroupText));\r\n};\n\nvar defaultMessages$b = {\r\n    ruleGroupDropdownText: 'Satisfy {dropdown} of the following rules',\r\n    ruleGroupDropdownAllOptionText: 'all',\r\n    ruleGroupDropdownAnyOptionText: 'any',\r\n    ruleGroupDropdownLabelText: 'Choose whether to satisfy all or any of the following rules',\r\n    fieldDropdownPlaceholderText: 'Select field',\r\n    fieldDropdownTitleText: 'Field',\r\n    fieldDropdownLoadingText: 'Loading project fields',\r\n    fieldDropdownErrorText: 'Error loading project fields',\r\n    operatorDropdownIsOptionText: 'is',\r\n    operatorDropdownIsNotOptionText: 'is not',\r\n    operatorDropdownContainsOptionText: 'contains',\r\n    operatorDropdownDoesNotContainOptionText: 'does not contain',\r\n    operatorDropdownPlaceholderText: 'Select operator',\r\n    operatorDropdownTitleText: 'Operator',\r\n    valueInputLabelText: 'Value',\r\n    valueInputPlaceholderText: 'Enter value',\r\n    addRuleRowText: 'Add rule',\r\n    removeRuleRowButtonIconDescription: 'Remove rule',\r\n    addRuleGroupText: 'Add group of rules'\r\n};\n\nvar StructuredQuery = function (_a) {\r\n    var _b = _a.messages, messages = _b === void 0 ? defaultMessages$b : _b;\r\n    var mergedMessages = __assign(__assign({}, defaultMessages$b), messages);\r\n    var _c = useState({\r\n        groups: {\r\n            0: { rows: [0], operator: ',' }\r\n        },\r\n        rows: {\r\n            0: {\r\n                field: '',\r\n                operator: '',\r\n                value: ''\r\n            }\r\n        },\r\n        group_order: [0]\r\n    }), structuredQuerySelection = _c[0], setStructuredQuerySelection = _c[1];\r\n    var stringifiedSelection = stringifyStructuredQuerySelection(structuredQuerySelection);\r\n    var showAddRuleRowButton = structuredQuerySelection.groups[0].rows.length < MAX_NUM_SIBLING_RULE_ROWS;\r\n    var showAddRuleGroupButton = Object.keys(structuredQuerySelection.groups).length - 1 < MAX_NUM_NESTED_RULE_GROUPS;\r\n    var fetchFields = useContext(SearchApi).fetchFields;\r\n    useEffect(function () {\r\n        fetchFields();\r\n    }, [fetchFields]);\r\n    return (React$g__default.createElement(\"div\", { className: structuredQueryClass },\r\n        structuredQuerySelection.group_order.map(function (id) {\r\n            return (React$g__default.createElement(RuleGroup, { messages: mergedMessages, groupId: id, key: id, structuredQuerySelection: structuredQuerySelection, setStructuredQuerySelection: setStructuredQuerySelection }));\r\n        }),\r\n        React$g__default.createElement(\"div\", { className: structuredQueryRulesButtonsClass },\r\n            showAddRuleRowButton && (React$g__default.createElement(AddRuleRowButton, { addRuleRowText: mergedMessages.addRuleRowText, setStructuredQuerySelection: setStructuredQuerySelection, structuredQuerySelection: structuredQuerySelection, groupId: 0 })),\r\n            showAddRuleGroupButton && (React$g__default.createElement(AddRuleGroupButton, { addRuleGroupText: mergedMessages.addRuleGroupText, setStructuredQuerySelection: setStructuredQuerySelection, structuredQuerySelection: structuredQuerySelection }))),\r\n        stringifiedSelection && (React$g__default.createElement(CodeSnippet, { className: \"\" + structuredQueryCopyableQueryClass }, stringifiedSelection))));\r\n};\r\nvar StructuredQuery$1 = commonjs_2(StructuredQuery, FallbackComponent('StructuredQuery'), onErrorCallback);\n\nexport { CIDoc as CIDocument, DiscoverySearch$1 as DiscoverySearch, ErrorBoundDocumentPreview as DocumentPreview, HtmlView, ResultsPagination$1 as ResultsPagination, SearchApi, SearchContext, SearchFacets$1 as SearchFacets, SearchInput$1 as SearchInput, SearchResults$1 as SearchResults, StructuredQuery$1 as StructuredQuery, canRenderCIDocument, canRenderHtmlView, getDocumentTitle };\n//# sourceMappingURL=index.es.js.map\n"]},"metadata":{},"sourceType":"module"}